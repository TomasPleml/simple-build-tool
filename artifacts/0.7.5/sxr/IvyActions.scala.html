<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>IvyActions.scala</title>
        <script type="text/javascript" src="jquery-all.js"></script>
        <script type="text/javascript" src="linked.js"></script>
        <link rel="stylesheet" type="text/css" href="style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* sbt -- Simple Build Tool
 * Copyright 2008, 2009, 2010 Mark Harrah
 */</span>
<span class="keyword">package</span> sbt

<span class="keyword">import</span> java.io.File
<span class="keyword">import</span> scala.xml.{Node,NodeSeq}

<span class="keyword">import</span> org.apache.ivy.{core, plugins, util, Ivy}
<span class="keyword">import</span> core.cache.DefaultRepositoryCacheManager
<span class="keyword">import</span> core.LogOptions
<span class="keyword">import</span> core.deliver.DeliverOptions
<span class="keyword">import</span> core.install.InstallOptions
<span class="keyword">import</span> core.module.descriptor.{DefaultArtifact, DefaultDependencyArtifactDescriptor, MDArtifact}
<span class="keyword">import</span> core.module.descriptor.{DefaultDependencyDescriptor, DefaultModuleDescriptor, DependencyDescriptor, ModuleDescriptor}
<span class="keyword">import</span> core.module.id.{ArtifactId,ModuleId, ModuleRevisionId}
<span class="keyword">import</span> core.publish.PublishOptions
<span class="keyword">import</span> core.resolve.ResolveOptions
<span class="keyword">import</span> core.retrieve.RetrieveOptions
<span class="keyword">import</span> plugins.parser.m2.{PomModuleDescriptorParser,PomModuleDescriptorWriter}

<span class="keyword">final</span> <span class="keyword">class</span> <a title="class UpdateConfiguration extends java.lang.Object with NotNull with ScalaObject" id="9630">UpdateConfiguration</a>(<span class="keyword">val</span> <a title="java.io.File" id="45796">retrieveDirectory</a>: <span title="java.io.File">File</span>, <span class="keyword">val</span> <a title="String" id="45797">outputPattern</a>: <span title="String">String</span>, <span class="keyword">val</span> <a title="Boolean" id="45798">synchronize</a>: <a title="Boolean" id="2110">Boolean</a>, <span class="keyword">val</span> <a title="sbt.UpdateLogging.Value" id="45799">logging</a>: UpdateLogging.<span title="sbt.UpdateLogging.Value">Value</span>) <span class="keyword">extends</span> <span title="NotNull">NotNull</span>
<span class="keyword">final</span> <span class="keyword">class</span> <a title="class MakePomConfiguration extends java.lang.Object with NotNull with ScalaObject" id="13467">MakePomConfiguration</a>(<span class="keyword">val</span> <a title="Iterable[sbt.ModuleID]" id="45822">extraDependencies</a>: <span title="Iterable[sbt.ModuleID]">Iterable</span>[ModuleID], <span class="keyword">val</span> <a title="Option[Iterable[sbt.Configuration]]" id="45823">configurations</a>: <span title="Option[Iterable[sbt.Configuration]]">Option</span>[Iterable[Configuration]],
	<span class="keyword">val</span> <a title="scala.xml.NodeSeq" id="45824">extra</a>: <span title="scala.xml.NodeSeq">NodeSeq</span>, <span class="keyword">val</span> <a title="(scala.xml.Node) =&gt; scala.xml.Node" id="45825">process</a>: Node =&gt; Node, <span class="keyword">val</span> <a title="(sbt.MavenRepository) =&gt; Boolean" id="45826">filterRepositories</a>: MavenRepository =&gt; Boolean) <span class="keyword">extends</span> <span title="NotNull">NotNull</span>
<span class="keyword">object</span> <a title="object sbt.MakePomConfiguration" id="13468">MakePomConfiguration</a>
{
	<span class="keyword">def</span> <a title="(Iterable[sbt.ModuleID],Option[Iterable[sbt.Configuration]],scala.xml.NodeSeq)sbt.MakePomConfiguration" id="45828">apply</a>(<a title="Iterable[sbt.ModuleID]" id="45830">extraDependencies</a>: <span title="Iterable[sbt.ModuleID]">Iterable</span>[ModuleID], <a title="Option[Iterable[sbt.Configuration]]" id="45831">configurations</a>: <span title="Option[Iterable[sbt.Configuration]]">Option</span>[Iterable[Configuration]], <a title="scala.xml.NodeSeq" id="45832">extra</a>: <span title="scala.xml.NodeSeq">NodeSeq</span>) =
		<span title="sbt.MakePomConfiguration" class="keyword">new</span> <a href="#13467" title="sbt.MakePomConfiguration">MakePomConfiguration</a>(<a href="#45830" title="Iterable[sbt.ModuleID]">extraDependencies</a>, <a href="#45831" title="Option[Iterable[sbt.Configuration]]">configurations</a>, <a href="#45832" title="scala.xml.NodeSeq">extra</a>, <a href="#45836" title="(scala.xml.Node)scala.xml.Node" id="6605">identity</a>, <a title="sbt.MavenRepository" id="45838">_</a> =&gt; <span title="Boolean(true)" class="keyword">true</span>)
}
<span class="comment">/** Configures logging during an 'update'.  `level` determines the amount of other information logged.
* `Full` is the default and logs the most.
* `DownloadOnly` only logs what is downloaded.
* `Quiet` only displays errors.*/</span>
<span class="keyword">object</span> <a title="object sbt.UpdateLogging" id="11218">UpdateLogging</a> <span class="keyword">extends</span> <a title="Enumeration" id="33830">Enumeration</a>
{
	<span class="keyword">val</span> <a title="sbt.UpdateLogging.Value" id="45790">Full</a>, <a title="sbt.UpdateLogging.Value" id="45792">DownloadOnly</a>, <a title="sbt.UpdateLogging.Value" id="45794">Quiet</a> = <span title="=&gt; sbt.UpdateLogging.Value">Value</span>
}

<span class="keyword">object</span> <a title="object sbt.IvyActions" id="12097">IvyActions</a>
{
	<span class="comment">/** Installs the dependencies of the given 'module' from the resolver named 'from' to the resolver named 'to'.*/</span>
	<span class="keyword">def</span> <a title="(sbt.IvySbt#Module,String,String)Unit" id="45850">install</a>(<a title="sbt.IvySbt#Module" id="45863">module</a>: IvySbt#<a href="Ivy.scala.html#43378" title="sbt.IvySbt#Module">Module</a>, <a title="String" id="45864">from</a>: <span title="String">String</span>, <a title="String" id="45865">to</a>: <span title="String">String</span>)
	{
		<a href="#45863" title="sbt.IvySbt#Module">module</a>.<a href="Ivy.scala.html#43721" title="((org.apache.ivy.Ivy, org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String) =&gt; Unit)Unit">withModule</a> { (<a title="org.apache.ivy.Ivy" id="45872">ivy</a>, <a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="45873">md</a>, <a title="String" id="45874">default</a>) =&gt;
			<span class="keyword">for</span>(<a title="((org.apache.ivy.core.module.descriptor.DependencyDescriptor) =&gt; Unit)Unit" id="45876">dependency</a> &lt;- <a href="#45873" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">md</a>.<a title="()Array[org.apache.ivy.core.module.descriptor.DependencyDescriptor]" id="43051">getDependencies</a>)
			{
				<a href="#45863" title="sbt.IvySbt#Module">module</a>.<a href="Ivy.scala.html#43720" title="=&gt; sbt.IvyLogger">logger</a>.<a href="IvyLogger.scala.html#20869" title="(=&gt; String)Unit">info</a>(<span title="java.lang.String(&quot;Installing &quot;)" class="string">&quot;Installing &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#45876" title="org.apache.ivy.core.module.descriptor.DependencyDescriptor">dependency</a>)
				<span class="keyword">val</span> <a title="org.apache.ivy.core.install.InstallOptions" id="45877">options</a> = <span title="org.apache.ivy.core.install.InstallOptions" class="keyword">new</span> <a title="org.apache.ivy.core.install.InstallOptions" id="42514">InstallOptions</a>
				<a href="#45877" title="org.apache.ivy.core.install.InstallOptions">options</a>.<a title="(Boolean)org.apache.ivy.core.install.InstallOptions" id="45882">setValidate</a>(<a href="#45863" title="sbt.IvySbt#Module">module</a>.<a href="Ivy.scala.html#43717" title="=&gt; sbt.ModuleSettings">moduleSettings</a>.<a href="IvyConfigurations.scala.html#43738" title="=&gt; Boolean">validate</a>)
				<a href="#45877" title="org.apache.ivy.core.install.InstallOptions">options</a>.<a title="(Boolean)org.apache.ivy.core.install.InstallOptions" id="45880">setTransitive</a>(<a href="#45876" title="org.apache.ivy.core.module.descriptor.DependencyDescriptor">dependency</a>.<a title="()Boolean" id="43163">isTransitive</a>)
				<a href="#45872" title="org.apache.ivy.Ivy">ivy</a>.<a title="(org.apache.ivy.core.module.id.ModuleRevisionId,java.lang.String,java.lang.String,org.apache.ivy.core.install.InstallOptions)org.apache.ivy.core.report.ResolveReport" id="43614">install</a>(<a href="#45876" title="org.apache.ivy.core.module.descriptor.DependencyDescriptor">dependency</a>.<a title="()org.apache.ivy.core.module.id.ModuleRevisionId" id="43165">getDependencyRevisionId</a>, <a href="#45864" title="String">from</a>, <a href="#45865" title="String">to</a>, <a href="#45877" title="org.apache.ivy.core.install.InstallOptions">options</a>)
			}
		}
	}

	<span class="comment">/** Clears the Ivy cache, as configured by 'config'. */</span>
	<span class="keyword">def</span> <a title="(sbt.IvySbt)Unit" id="45851">cleanCache</a>(<a title="sbt.IvySbt" id="45947">ivy</a>: <a href="Ivy.scala.html#9390" title="sbt.IvySbt">IvySbt</a>) = <a href="#45947" title="sbt.IvySbt">ivy</a>.<a href="Ivy.scala.html#43375" title="((org.apache.ivy.Ivy) =&gt; Unit)Unit">withIvy</a> { <a title="org.apache.ivy.Ivy" id="45951">iv</a> =&gt;
		<a href="#45951" title="org.apache.ivy.Ivy">iv</a>.<span title="()org.apache.ivy.core.settings.IvySettings">getSettings</span>.<a title="()org.apache.ivy.core.cache.ResolutionCacheManager" id="42839">getResolutionCacheManager</a>.<a title="()Unit" id="45958">clean</a>()
		<a href="#45951" title="org.apache.ivy.Ivy">iv</a>.<span title="()org.apache.ivy.core.settings.IvySettings">getSettings</span>.<a title="()Array[org.apache.ivy.core.cache.RepositoryCacheManager]" id="42713">getRepositoryCacheManagers</a>.<span title="((org.apache.ivy.core.cache.RepositoryCacheManager) =&gt; Unit)Unit">foreach</span>(<a href="#45961" title="org.apache.ivy.core.cache.RepositoryCacheManager">_</a>.<a title="()Unit" id="45474">clean</a>())
	}

	<span class="comment">/** Creates a Maven pom from the given Ivy configuration*/</span>
	@<a title="deprecated" id="205">deprecated</a> <span class="keyword">def</span> <a title="(sbt.IvySbt#Module,Iterable[sbt.ModuleID],Option[Iterable[sbt.Configuration]],scala.xml.NodeSeq,java.io.File)Unit" id="45852">makePom</a>(<a title="sbt.IvySbt#Module" id="45963">module</a>: IvySbt#<a href="Ivy.scala.html#43378" title="sbt.IvySbt#Module">Module</a>, <a title="Iterable[sbt.ModuleID]" id="45964">extraDependencies</a>: <span title="Iterable[sbt.ModuleID]">Iterable</span>[ModuleID], <a title="Option[Iterable[sbt.Configuration]]" id="45965">configurations</a>: <span title="Option[Iterable[sbt.Configuration]]">Option</span>[Iterable[Configuration]], <a title="scala.xml.NodeSeq" id="45966">extra</a>: <span title="scala.xml.NodeSeq">NodeSeq</span>, <a title="java.io.File" id="45967">output</a>: <span title="java.io.File">File</span>): <a title="Unit" id="2109">Unit</a> =
		 <a href="#45853" title="(sbt.IvySbt#Module,sbt.MakePomConfiguration,java.io.File)Unit">makePom</a>(<a href="#45963" title="sbt.IvySbt#Module">module</a>, <a href="#45828" title="(Iterable[sbt.ModuleID],Option[Iterable[sbt.Configuration]],scala.xml.NodeSeq)sbt.MakePomConfiguration">MakePomConfiguration</a>(<a href="#45964" title="Iterable[sbt.ModuleID]">extraDependencies</a>, <a href="#45965" title="Option[Iterable[sbt.Configuration]]">configurations</a>, <a href="#45966" title="scala.xml.NodeSeq">extra</a>), <a href="#45967" title="java.io.File">output</a>)
	<span class="keyword">def</span> <a title="(sbt.IvySbt#Module,sbt.MakePomConfiguration,java.io.File)Unit" id="45853">makePom</a>(<a title="sbt.IvySbt#Module" id="45973">module</a>: IvySbt#<a href="Ivy.scala.html#43378" title="sbt.IvySbt#Module">Module</a>, <a title="sbt.MakePomConfiguration" id="45974">configuration</a>: <a href="#13467" title="sbt.MakePomConfiguration">MakePomConfiguration</a>,  <a title="java.io.File" id="45975">output</a>: <span title="java.io.File">File</span>)
	{
		<span class="keyword">import</span> configuration.{configurations, extra, extraDependencies, filterRepositories, process}
		<a href="#45973" title="sbt.IvySbt#Module">module</a>.<a href="Ivy.scala.html#43721" title="((org.apache.ivy.Ivy, org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String) =&gt; Unit)Unit">withModule</a> { (<a title="org.apache.ivy.Ivy" id="45983">ivy</a>, <a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="45984">md</a>, <a title="String" id="45985">default</a>) =&gt;
			<a href="#45854" title="(org.apache.ivy.Ivy,org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,String,Iterable[sbt.ModuleID])Unit">addLateDependencies</a>(<a href="#45983" title="org.apache.ivy.Ivy">ivy</a>, <a href="#45984" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">md</a>, <a href="#45985" title="String">default</a>, <a href="#45822" title="=&gt; Iterable[sbt.ModuleID]">extraDependencies</a>)
			(<span title="sbt.MakePom" class="keyword">new</span> <a href="MakePom.scala.html#8526" title="sbt.MakePom">MakePom</a>).<a href="MakePom.scala.html#45992" title="(org.apache.ivy.Ivy,org.apache.ivy.core.module.descriptor.ModuleDescriptor,Option[Iterable[sbt.Configuration]],scala.xml.NodeSeq,(scala.xml.Node) =&gt; scala.xml.Node,(sbt.MavenRepository) =&gt; Boolean,java.io.File)Unit">write</a>(<a href="#45983" title="org.apache.ivy.Ivy">ivy</a>, <a href="#45984" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">md</a>, <a href="#45823" title="=&gt; Option[Iterable[sbt.Configuration]]">configurations</a>, <a href="#45824" title="=&gt; scala.xml.NodeSeq">extra</a>, <a href="#45825" title="=&gt; (scala.xml.Node) =&gt; scala.xml.Node">process</a>, <a href="#45826" title="=&gt; (sbt.MavenRepository) =&gt; Boolean">filterRepositories</a>, <a href="#45975" title="java.io.File">output</a>)
			<a href="#45973" title="sbt.IvySbt#Module">module</a>.<a href="Ivy.scala.html#43720" title="=&gt; sbt.IvyLogger">logger</a>.<a href="IvyLogger.scala.html#20869" title="(=&gt; String)Unit">info</a>(<span title="java.lang.String(&quot;Wrote &quot;)" class="string">&quot;Wrote &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#45975" title="java.io.File">output</a>.<span title="()java.lang.String">getAbsolutePath</span>)
		}
	}
	<span class="comment">// todo: correct default configuration for extra dependencies</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(org.apache.ivy.Ivy,org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,String,Iterable[sbt.ModuleID])Unit" id="45854">addLateDependencies</a>(<a title="org.apache.ivy.Ivy" id="45986">ivy</a>: <span title="org.apache.ivy.Ivy">Ivy</span>, <a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="45987">module</a>: <span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">DefaultModuleDescriptor</span>, <a title="String" id="45988">defaultConfiguration</a>: <span title="String">String</span>, <a title="Iterable[sbt.ModuleID]" id="45989">extraDependencies</a>: <span title="Iterable[sbt.ModuleID]">Iterable</span>[ModuleID])
	{
		<span class="keyword">val</span> <a title="sbt.CustomXmlParser.CustomParser" id="46034">parser</a> = <span title="sbt.CustomXmlParser.CustomParser" class="keyword">new</span> <a href="CustomXmlParser.scala.html#13432" title="object sbt.CustomXmlParser">CustomXmlParser</a>.<a href="CustomXmlParser.scala.html#42147" title="sbt.CustomXmlParser.CustomParser">CustomParser</a>(<a href="#45986" title="org.apache.ivy.Ivy">ivy</a>.<span title="()org.apache.ivy.core.settings.IvySettings">getSettings</span>, <a title="(String)Some[String]" id="290">Some</a>(<a href="#45988" title="String">defaultConfiguration</a>))
		<a href="#46034" title="sbt.CustomXmlParser.CustomParser">parser</a>.<a href="CustomXmlParser.scala.html#42342" title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor)Unit">setMd</a>(<a href="#45987" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">module</a>)
		<a href="Ivy.scala.html#9391" title="object sbt.IvySbt">IvySbt</a>.<a href="Ivy.scala.html#43462" title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,Iterable[sbt.ModuleID],sbt.CustomXmlParser.CustomParser)Unit">addDependencies</a>(<a href="#45987" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">module</a>, <a href="#45989" title="Iterable[sbt.ModuleID]">extraDependencies</a>, <a href="#46034" title="sbt.CustomXmlParser.CustomParser">parser</a>)
	}

	<span class="keyword">def</span> <a title="(sbt.IvySbt#Module,String,String,Iterable[sbt.ModuleID],Option[Iterable[sbt.Configuration]],sbt.UpdateLogging.Value)Unit" id="45855">deliver</a>(<a title="sbt.IvySbt#Module" id="46036">module</a>: IvySbt#<a href="Ivy.scala.html#43378" title="sbt.IvySbt#Module">Module</a>, <a title="String" id="46037">status</a>: <span title="String">String</span>, <a title="String" id="46038">deliverIvyPattern</a>: <span title="String">String</span>, <a title="Iterable[sbt.ModuleID]" id="46039">extraDependencies</a>: <span title="Iterable[sbt.ModuleID]">Iterable</span>[ModuleID], <a title="Option[Iterable[sbt.Configuration]]" id="46040">configurations</a>: <span title="Option[Iterable[sbt.Configuration]]">Option</span>[Iterable[Configuration]], <a title="sbt.UpdateLogging.Value" id="46041">logging</a>: UpdateLogging.<span title="sbt.UpdateLogging.Value">Value</span>)
	{
		<a href="#46036" title="sbt.IvySbt#Module">module</a>.<a href="Ivy.scala.html#43721" title="((org.apache.ivy.Ivy, org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String) =&gt; Unit)Unit">withModule</a> <a href="#46048" title="Unit">{</a> <span title="Unit" class="keyword">case</span> (<a title="org.apache.ivy.Ivy" id="46054">ivy</a>, <a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="46055">md</a>, <a title="String" id="46056">default</a>) =&gt;
			<a href="#45854" title="(org.apache.ivy.Ivy,org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,String,Iterable[sbt.ModuleID])Unit">addLateDependencies</a>(<a href="#46054" title="org.apache.ivy.Ivy">ivy</a>, <a href="#46055" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">md</a>, <a href="#46056" title="String">default</a>, <a href="#46039" title="Iterable[sbt.ModuleID]">extraDependencies</a>)
			<a href="#45858" title="(sbt.UpdateLogging.Value)(org.apache.ivy.Ivy,org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,String)Unit">resolve</a>(<a href="#46041" title="sbt.UpdateLogging.Value">logging</a>)(<a href="#46054" title="org.apache.ivy.Ivy">ivy</a>, <a href="#46055" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">md</a>, <a href="#46056" title="String">default</a>) <span class="comment">// todo: set download = false for resolve</span>
			<span class="keyword">val</span> <a title="org.apache.ivy.core.module.id.ModuleRevisionId" id="46057">revID</a> = <a href="#46055" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">md</a>.<span title="()org.apache.ivy.core.module.id.ModuleRevisionId">getModuleRevisionId</span>
			<span class="keyword">val</span> <a title="org.apache.ivy.core.deliver.DeliverOptions" id="46058">options</a> = <a title="object org.apache.ivy.core.deliver.DeliverOptions" id="42503">DeliverOptions</a>.<a title="(org.apache.ivy.core.settings.IvySettings)org.apache.ivy.core.deliver.DeliverOptions" id="46142">newInstance</a>(<a href="#46054" title="org.apache.ivy.Ivy">ivy</a>.<span title="()org.apache.ivy.core.settings.IvySettings">getSettings</span>).<a title="(java.lang.String)org.apache.ivy.core.deliver.DeliverOptions" id="46156">setStatus</a>(<a href="#46037" title="String">status</a>)
			<a href="#46058" title="org.apache.ivy.core.deliver.DeliverOptions">options</a>.<a title="(Array[java.lang.String])org.apache.ivy.core.deliver.DeliverOptions" id="46160">setConfs</a>(<a href="Ivy.scala.html#9391" title="object sbt.IvySbt">IvySbt</a>.<a href="Ivy.scala.html#43465" title="(org.apache.ivy.core.module.descriptor.ModuleDescriptor,Option[Iterable[sbt.Configuration]])Array[String]">getConfigurations</a>(<a href="#46055" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">md</a>, <a href="#46040" title="Option[Iterable[sbt.Configuration]]">configurations</a>))
			<a href="#46054" title="org.apache.ivy.Ivy">ivy</a>.<a title="(org.apache.ivy.core.module.id.ModuleRevisionId,java.lang.String,java.lang.String,org.apache.ivy.core.deliver.DeliverOptions)Unit" id="43618">deliver</a>(<a href="#46057" title="org.apache.ivy.core.module.id.ModuleRevisionId">revID</a>, <a href="#46057" title="org.apache.ivy.core.module.id.ModuleRevisionId">revID</a>.<a title="()java.lang.String" id="41785">getRevision</a>, <a href="#46038" title="String">deliverIvyPattern</a>, <a href="#46058" title="org.apache.ivy.core.deliver.DeliverOptions">options</a>)
		}
	}
	<span class="comment">// todo: map configurations, extra dependencies</span>
	<span class="keyword">def</span> <a title="(sbt.IvySbt#Module,String,Iterable[String],Option[String],Option[Iterable[sbt.Configuration]])Unit" id="45856">publish</a>(<a title="sbt.IvySbt#Module" id="46169">module</a>: IvySbt#<a href="Ivy.scala.html#43378" title="sbt.IvySbt#Module">Module</a>, <a title="String" id="46170">resolverName</a>: <span title="String">String</span>, <a title="Iterable[String]" id="46171">srcArtifactPatterns</a>: <span title="Iterable[String]">Iterable</span>[String], <a title="Option[String]" id="46172">deliveredIvyPattern</a>: <span title="Option[String]">Option</span>[String], <a title="Option[Iterable[sbt.Configuration]]" id="46173">configurations</a>: <span title="Option[Iterable[sbt.Configuration]]">Option</span>[Iterable[Configuration]])
	{
		<a href="#46169" title="sbt.IvySbt#Module">module</a>.<a href="Ivy.scala.html#43721" title="((org.apache.ivy.Ivy, org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String) =&gt; java.util.Collection[_])java.util.Collection[_]">withModule</a> <a href="#46180" title="java.util.Collection[?0]">{</a> <span title="java.util.Collection[?0]" class="keyword">case</span> (<a title="org.apache.ivy.Ivy" id="46186">ivy</a>, <a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="46187">md</a>, <a title="String" id="46188">default</a>) =&gt;
			<span class="keyword">val</span> <a title="org.apache.ivy.core.module.id.ModuleRevisionId" id="46189">revID</a> = <a href="#46187" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">md</a>.<span title="()org.apache.ivy.core.module.id.ModuleRevisionId">getModuleRevisionId</span>
			<span class="keyword">val</span> <a title="java.util.ArrayList[String]" id="46190">patterns</a> = <a title="()java.util.ArrayList[String]" id="40864" class="keyword">new</a> java.util.<a title="java.util.ArrayList[String]" id="5502">ArrayList</a>[String]
			<a href="#46171" title="Iterable[String]">srcArtifactPatterns</a>.<span title="((String) =&gt; Unit)Unit">foreach</span>(<a title="String" id="46197">pattern</a> =&gt; <a href="#46190" title="java.util.ArrayList[String]">patterns</a>.<a title="(String)Boolean" id="40882">add</a>(<a href="#46197" title="String">pattern</a>))
			<span class="keyword">val</span> <a title="org.apache.ivy.core.publish.PublishOptions" id="46191">options</a> = (<span title="org.apache.ivy.core.publish.PublishOptions" class="keyword">new</span> <a title="org.apache.ivy.core.publish.PublishOptions" id="42484">PublishOptions</a>).<a title="(Boolean)org.apache.ivy.core.publish.PublishOptions" id="46205">setOverwrite</a>(<span title="Boolean(true)" class="keyword">true</span>)
			<a href="#46172" title="Option[String]">deliveredIvyPattern</a>.<a title="((String) =&gt; Unit)Unit" id="30336">foreach</a>(<a href="#46191" title="org.apache.ivy.core.publish.PublishOptions">options</a>.<a href="#46227" title="(java.lang.String)org.apache.ivy.core.publish.PublishOptions" id="46211">setSrcIvyPattern</a>)
			<a href="#46191" title="org.apache.ivy.core.publish.PublishOptions">options</a>.<a title="(Array[java.lang.String])org.apache.ivy.core.publish.PublishOptions" id="46201">setConfs</a>(<a href="Ivy.scala.html#9391" title="object sbt.IvySbt">IvySbt</a>.<a href="Ivy.scala.html#43465" title="(org.apache.ivy.core.module.descriptor.ModuleDescriptor,Option[Iterable[sbt.Configuration]])Array[String]">getConfigurations</a>(<a href="#46187" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">md</a>, <a href="#46173" title="Option[Iterable[sbt.Configuration]]">configurations</a>))
			<a href="#46186" title="org.apache.ivy.Ivy">ivy</a>.<a title="(org.apache.ivy.core.module.id.ModuleRevisionId,java.util.Collection[_],java.lang.String,org.apache.ivy.core.publish.PublishOptions)java.util.Collection[_]" id="43621">publish</a>(<a href="#46189" title="org.apache.ivy.core.module.id.ModuleRevisionId">revID</a>, <a href="#46190" title="java.util.ArrayList[String]">patterns</a>, <a href="#46170" title="String">resolverName</a>, <a href="#46191" title="org.apache.ivy.core.publish.PublishOptions">options</a>)
		}
	}
	<span class="comment">/** Resolves and retrieves dependencies.  'ivyConfig' is used to produce an Ivy file and configuration.
	* 'updateConfig' configures the actual resolution and retrieval process. */</span>
	<span class="keyword">def</span> <a title="(sbt.IvySbt#Module,sbt.UpdateConfiguration)Unit" id="45857">update</a>(<a title="sbt.IvySbt#Module" id="46232">module</a>: IvySbt#<a href="Ivy.scala.html#43378" title="sbt.IvySbt#Module">Module</a>, <a title="sbt.UpdateConfiguration" id="46233">configuration</a>: <a href="#9630" title="sbt.UpdateConfiguration">UpdateConfiguration</a>)
	{
		<a href="#46232" title="sbt.IvySbt#Module">module</a>.<a href="Ivy.scala.html#43721" title="((org.apache.ivy.Ivy, org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String) =&gt; Int)Int">withModule</a> <a href="#46240" title="Int">{</a> <span title="Int" class="keyword">case</span> (<a title="org.apache.ivy.Ivy" id="46246">ivy</a>, <a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="46247">md</a>, <a title="String" id="46248">default</a>) =&gt;
			<span class="keyword">import</span> configuration._
			<a href="#45858" title="(sbt.UpdateLogging.Value)(org.apache.ivy.Ivy,org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,String)Unit">resolve</a>(<a href="#45799" title="=&gt; sbt.UpdateLogging.Value">logging</a>)(<a href="#46246" title="org.apache.ivy.Ivy">ivy</a>, <a href="#46247" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">md</a>, <a href="#46248" title="String">default</a>)
			<span class="keyword">val</span> <a title="org.apache.ivy.core.retrieve.RetrieveOptions" id="46250">retrieveOptions</a> = <span title="org.apache.ivy.core.retrieve.RetrieveOptions" class="keyword">new</span> <a title="org.apache.ivy.core.retrieve.RetrieveOptions" id="42526">RetrieveOptions</a>
			<a href="#46250" title="org.apache.ivy.core.retrieve.RetrieveOptions">retrieveOptions</a>.<a title="(Boolean)org.apache.ivy.core.retrieve.RetrieveOptions" id="46269">setSync</a>(<a href="#45798" title="=&gt; Boolean">synchronize</a>)
			<span class="keyword">val</span> <a title="java.lang.String" id="46251">patternBase</a> = <a href="#45796" title="=&gt; java.io.File">retrieveDirectory</a>.<span title="()java.lang.String">getAbsolutePath</span>
			<span class="keyword">val</span> <a title="java.lang.String" id="46252">pattern</a> =
				<span title="java.lang.String" class="keyword">if</span>(<a href="#46251" title="java.lang.String">patternBase</a>.<a title="(java.lang.String)Boolean" id="6375">endsWith</a>(<span title="object java.io.File">File</span>.<a title="java.lang.String" id="16750">separator</a>))
					<a href="#46251" title="java.lang.String">patternBase</a> <span title="(Any)java.lang.String">+</span> <a href="#45797" title="=&gt; String">outputPattern</a>
				<span class="keyword">else</span>
					<a href="#46251" title="java.lang.String">patternBase</a> <span title="(Any)java.lang.String">+</span> <span title="object java.io.File">File</span>.<a title="Char" id="16749">separatorChar</a> <span title="(Any)java.lang.String">+</span> <a href="#45797" title="=&gt; String">outputPattern</a>
			<a href="#46246" title="org.apache.ivy.Ivy">ivy</a>.<a title="(org.apache.ivy.core.module.id.ModuleRevisionId,java.lang.String,org.apache.ivy.core.retrieve.RetrieveOptions)Int" id="43615">retrieve</a>(<a href="#46247" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">md</a>.<span title="()org.apache.ivy.core.module.id.ModuleRevisionId">getModuleRevisionId</span>, <a href="#46252" title="java.lang.String">pattern</a>, <a href="#46250" title="org.apache.ivy.core.retrieve.RetrieveOptions">retrieveOptions</a>)
		}
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.UpdateLogging.Value)(org.apache.ivy.Ivy,org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,String)Unit" id="45858">resolve</a>(<a title="sbt.UpdateLogging.Value" id="46059">logging</a>: UpdateLogging.<span title="sbt.UpdateLogging.Value">Value</span>)(<a title="org.apache.ivy.Ivy" id="46060">ivy</a>: <span title="org.apache.ivy.Ivy">Ivy</span>, <a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="46061">module</a>: <span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">DefaultModuleDescriptor</span>, <a title="String" id="46062">defaultConf</a>: <span title="String">String</span>) =
	{
		<span class="keyword">val</span> <a title="org.apache.ivy.core.resolve.ResolveOptions" id="46064">resolveOptions</a> = <span title="org.apache.ivy.core.resolve.ResolveOptions" class="keyword">new</span> <a title="org.apache.ivy.core.resolve.ResolveOptions" id="41039">ResolveOptions</a>
		<a href="#46064" title="org.apache.ivy.core.resolve.ResolveOptions">resolveOptions</a>.<a title="(java.lang.String)org.apache.ivy.core.LogOptions" id="46108">setLog</a>(<a href="#45861" title="(sbt.UpdateLogging.Value)java.lang.String">ivyLogLevel</a>(<a href="#46059" title="sbt.UpdateLogging.Value">logging</a>))
		<span class="keyword">val</span> <a title="org.apache.ivy.core.report.ResolveReport" id="46065">resolveReport</a> = <a href="#46060" title="org.apache.ivy.Ivy">ivy</a>.<a title="(org.apache.ivy.core.module.descriptor.ModuleDescriptor,org.apache.ivy.core.resolve.ResolveOptions)org.apache.ivy.core.report.ResolveReport" id="43613">resolve</a>(<a href="#46061" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">module</a>, <a href="#46064" title="org.apache.ivy.core.resolve.ResolveOptions">resolveOptions</a>)
		<span title="Unit" class="keyword">if</span>(<a href="#46065" title="org.apache.ivy.core.report.ResolveReport">resolveReport</a>.<a title="()Boolean" id="45915">hasError</a>)
			<span title="Nothing" class="keyword">throw</span> <span title="sbt.ResolveException" class="keyword">new</span> <a href="#12015" title="sbt.ResolveException">ResolveException</a>(<a href="#46065" title="org.apache.ivy.core.report.ResolveReport">resolveReport</a>.<a title="()java.util.List[_]" id="45931">getAllProblemMessages</a>.<a title="()Array[java.lang.Object]" id="40501">toArray</a>.<a title="((java.lang.Object) =&gt; java.lang.String)Array[java.lang.String]" id="15685">map</a>(<a href="#46141" title="java.lang.Object">_</a>.<a title="()java.lang.String" id="6008">toString</a>).<a title="=&gt; List[java.lang.String]" id="15975">toList</a>.<a title="=&gt; List[java.lang.String]" id="15574">removeDuplicates</a>)
	}

	<span class="keyword">import</span> UpdateLogging.{Quiet, Full, DownloadOnly}
	<span class="keyword">import</span> LogOptions.{LOG_QUIET, LOG_DEFAULT, LOG_DOWNLOAD_ONLY}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.UpdateLogging.Value)java.lang.String" id="45861">ivyLogLevel</a>(<a title="sbt.UpdateLogging.Value" id="46115">level</a>: UpdateLogging.<span title="sbt.UpdateLogging.Value">Value</span>) =
		<a href="#46115" title="sbt.UpdateLogging.Value">level</a> <span title="java.lang.String" class="keyword">match</span>
		{
			<span title="java.lang.String(&quot;quiet&quot;)" class="keyword">case</span> <a href="#45794" title="=&gt; sbt.UpdateLogging.Value">Quiet</a> =&gt; <span title="java.lang.String(&quot;quiet&quot;)">LOG_QUIET</span>
			<span title="java.lang.String(&quot;download-only&quot;)" class="keyword">case</span> <a href="#45792" title="=&gt; sbt.UpdateLogging.Value">DownloadOnly</a> =&gt; <span title="java.lang.String(&quot;download-only&quot;)">LOG_DOWNLOAD_ONLY</span>
			<span title="java.lang.String(&quot;default&quot;)" class="keyword">case</span> <a href="#45790" title="=&gt; sbt.UpdateLogging.Value">Full</a> =&gt; <span title="java.lang.String(&quot;default&quot;)">LOG_DEFAULT</span>
		}
}
<span class="keyword">final</span> <span class="keyword">class</span> <a title="class ResolveException extends java.lang.RuntimeException with ScalaObject" id="12015">ResolveException</a>(<a title="List[String]" id="46134">messages</a>: <a title="List[String]" id="499">List</a>[String]) <span class="keyword">extends</span> <a title="java.lang.RuntimeException" id="19528">RuntimeException</a>(<a href="#46134" title="List[String]">messages</a>.<a title="(String)String" id="15979">mkString</a>(<span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span>))
        </pre>
    </body>
</html>