<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>sbt/Conditional.scala</title>
        <script type="text/javascript" src="../jquery-all.js"></script>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* sbt -- Simple Build Tool
 * Copyright 2008, 2009 Mark Harrah
 */</span>
<span class="keyword">package</span> sbt

<span class="keyword">import</span> xsbt.AnalyzingCompiler

<span class="keyword">trait</span> <a title="trait Conditional[Source, Product, External] extends java.lang.Object with NotNull with ScalaObject" id="11664">Conditional</a>[<a title="&gt;: Nothing &lt;: Any" id="13752">Source</a>, <a title="&gt;: Nothing &lt;: Any" id="13753">Product</a>, <a title="&gt;: Nothing &lt;: Any" id="13754">External</a>] <span class="keyword">extends</span> <span title="NotNull">NotNull</span>
{
	<span class="keyword">type</span> <a title="&gt;: Nothing &lt;: sbt.TaskAnalysis[Source,Product,External]" id="53725">AnalysisType</a> &lt;: TaskAnalysis[Source, Product, External]
	<span class="keyword">val</span> <a title="Conditional.this.AnalysisType" id="53726">analysis</a>: <a href="#53725" title="Conditional.this.AnalysisType">AnalysisType</a> = <a href="#53728" title="=&gt; Conditional.this.AnalysisType">loadAnalysis</a>

	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; Conditional.this.AnalysisType" id="53728">loadAnalysis</a>: <a href="#53725" title="Conditional.this.AnalysisType">AnalysisType</a>
	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; sbt.Logger" id="53729">log</a>: <a href="Logger.scala.html#13533" title="sbt.Logger">Logger</a>

	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; String" id="53730">productType</a>: <span title="String">String</span>
	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; String" id="53731">productTypePlural</a>: <span title="String">String</span>

	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; Iterable[Source]" id="53732">sourcesToProcess</a>: <span title="Iterable[Source]">Iterable</span>[Source]

	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="(Source)Boolean" id="53733">sourceExists</a>(<a title="Source" id="56575">source</a>: <a href="#13752" title="Source">Source</a>): <span title="Boolean">Boolean</span>
	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="(Source)Long" id="53734">sourceLastModified</a>(<a title="Source" id="54082">source</a>: <a href="#13752" title="Source">Source</a>): <span title="Long">Long</span>

	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="(Product)Boolean" id="53735">productExists</a>(<a title="Product" id="54084">product</a>: <a href="#13753" title="Product">Product</a>): <span title="Boolean">Boolean</span>
	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="(Product)Long" id="53736">productLastModified</a>(<a title="Product" id="54087">product</a>: <a href="#13753" title="Product">Product</a>): <span title="Long">Long</span>

	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="(Iterable[External])Iterable[(External, Conditional.this.ExternalInfo)]" id="53737">externalInfo</a>(<a title="Iterable[External]" id="54105">externals</a>: <span title="Iterable[External]">Iterable</span>[External]): <span title="Iterable[(External, Conditional.this.ExternalInfo)]">Iterable</span>[(External, ExternalInfo)]

	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="(Conditional.this.ConditionalAnalysis)Option[String]" id="53738">execute</a>(<a title="Conditional.this.ConditionalAnalysis" id="53826">cAnalysis</a>: <a href="#53742" title="Conditional.this.ConditionalAnalysis">ConditionalAnalysis</a>): <a title="Option[String]" id="901">Option</a>[String]

	<span class="keyword">final</span> <span class="keyword">case</span> <span class="keyword">class</span> <a title="class ExternalInfo extends java.lang.Object with NotNull with ScalaObject with Product" id="56587">ExternalInfo</a>(<a title="Boolean" id="56607">available</a>: <span title="Boolean">Boolean</span>, <a title="Long" id="56608">lastModified</a>: <span title="Long">Long</span>) <span class="keyword">extends</span> <span title="NotNull">NotNull</span>
	<span class="keyword">trait</span> <a title="trait ConditionalAnalysis extends java.lang.Object with NotNull" id="53742">ConditionalAnalysis</a> <span class="keyword">extends</span> <span title="NotNull">NotNull</span>
	{
		<span class="keyword">def</span> <a title="=&gt; Iterable[Source]" id="53817">dirtySources</a>: <span title="Iterable[Source]">Iterable</span>[Source]
		<span class="keyword">def</span> <a title="=&gt; Iterable[Source]" id="53818">cleanSources</a>: <span title="Iterable[Source]">Iterable</span>[Source]
		<span class="keyword">def</span> <a title="=&gt; Int" id="53819">directlyModifiedSourcesCount</a>: <span title="Int">Int</span>
		<span class="keyword">def</span> <a title="=&gt; Int" id="53820">invalidatedSourcesCount</a>: <span title="Int">Int</span>
		<span class="keyword">def</span> <a title="=&gt; Int" id="53821">removedSourcesCount</a>: <span title="Int">Int</span>
	}

	<span class="keyword">final</span> <span class="keyword">def</span> <a title="=&gt; Option[String]" id="53743">run</a> =
	{
		<span class="keyword">val</span> <a title="Option[String]" id="54051">result</a> = <a href="#53738" title="(Conditional.this.ConditionalAnalysis)Option[String]">execute</a>(<a href="#53744" title="=&gt; &lt;refinement&gt; extends java.lang.Object with Conditional.this.ConditionalAnalysis">analyze</a>)
		<a href="#53748" title="(Boolean)Unit">processingComplete</a>(<a href="#54051" title="Option[String]">result</a>.<a title="=&gt; Boolean" id="30324">isEmpty</a>)
		<a href="#54051" title="Option[String]">result</a>
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; &lt;refinement&gt; extends java.lang.Object with Conditional.this.ConditionalAnalysis" id="53744">analyze</a> =
	{
		<span class="keyword">import</span> scala.collection.mutable.HashSet

		<span class="keyword">val</span> <a title="Iterable[Source]" id="54055">sourcesSnapshot</a> = <a href="#53732" title="=&gt; Iterable[Source]">sourcesToProcess</a>
		<span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[Source]" id="54056">removedSources</a> = <span title="scala.collection.mutable.HashSet[Source]" class="keyword">new</span> <span title="scala.collection.mutable.HashSet[Source]">HashSet</span>[Source]
		<a href="#54056" title="scala.collection.mutable.HashSet[Source]">removedSources</a> <span title="(Iterable[Source])Unit">++=</span> <a href="#53726" title="=&gt; Conditional.this.AnalysisType">analysis</a>.<a href="Analysis.scala.html#48992" title="=&gt; scala.collection.Set[Source]">allSources</a>
		<a href="#54056" title="scala.collection.mutable.HashSet[Source]">removedSources</a> <span title="(Iterable[Source])Unit">--=</span> <a href="#54055" title="Iterable[Source]">sourcesSnapshot</a>
		<span class="keyword">val</span> <a title="Int" id="54057">removedCount</a> = <a href="#54056" title="scala.collection.mutable.HashSet[Source]">removedSources</a>.<span title="=&gt; Int">size</span>
		<span class="keyword">for</span>(<a title="((Source) =&gt; Unit)Unit" id="54070">removed</a> &lt;- <a href="#54056" title="scala.collection.mutable.HashSet[Source]">removedSources</a>)
		{
			<a href="#53729" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49384" title="(=&gt; String)Unit">debug</a>(<span title="java.lang.String(&quot;Source &quot;)" class="string">&quot;Source &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#54070" title="Source">removed</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; removed.&quot;)" class="string">&quot; removed.&quot;</span>)
			<a href="#53726" title="=&gt; Conditional.this.AnalysisType">analysis</a>.<a href="Analysis.scala.html#49003" title="(Source)Unit">removeDependent</a>(<a href="#54070" title="Source">removed</a>)
		}

		<span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[Source]" id="54058">unmodified</a> = <span title="scala.collection.mutable.HashSet[Source]" class="keyword">new</span> <span title="scala.collection.mutable.HashSet[Source]">HashSet</span>[Source]
		<span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[Source]" id="54059">modified</a> = <span title="scala.collection.mutable.HashSet[Source]" class="keyword">new</span> <span title="scala.collection.mutable.HashSet[Source]">HashSet</span>[Source]

		<span class="keyword">for</span>(<a title="((Source) =&gt; Unit)Unit" id="54074">source</a> &lt;- <a href="#54055" title="Iterable[Source]">sourcesSnapshot</a>)
		{
			<span title="Unit" class="keyword">if</span>(<a href="#53747" title="(Source)Boolean">isSourceModified</a>(<a href="#54074" title="Source">source</a>))
			{
				<a href="#53729" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49384" title="(=&gt; String)Unit">debug</a>(<span title="java.lang.String(&quot;Source &quot;)" class="string">&quot;Source &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#54074" title="Source">source</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; directly modified.&quot;)" class="string">&quot; directly modified.&quot;</span>)
				<a href="#54059" title="scala.collection.mutable.HashSet[Source]">modified</a> <span title="(Source)Unit">+=</span> <a href="#54074" title="Source">source</a>
			}
			<span class="keyword">else</span>
			{
				<a href="#53729" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49384" title="(=&gt; String)Unit">debug</a>(<span title="java.lang.String(&quot;Source &quot;)" class="string">&quot;Source &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#54074" title="Source">source</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; unmodified.&quot;)" class="string">&quot; unmodified.&quot;</span>)
				<a href="#54058" title="scala.collection.mutable.HashSet[Source]">unmodified</a> <span title="(Source)Unit">+=</span> <a href="#54074" title="Source">source</a>
			}
		}
		<span class="keyword">val</span> <a title="Int" id="54060">directlyModifiedCount</a> = <a href="#54059" title="scala.collection.mutable.HashSet[Source]">modified</a>.<span title="=&gt; Int">size</span>
		<span class="keyword">for</span>(<a href="#54107" title="(((External, Conditional.this.ExternalInfo)) =&gt; Unit)Unit">(</a><a title="External" id="54112">external</a>, <a title="Conditional.this.ExternalInfo" id="54113">info</a>) &lt;- <a href="#53737" title="(Iterable[External])Iterable[(External, Conditional.this.ExternalInfo)]">externalInfo</a>(<a href="#53726" title="=&gt; Conditional.this.AnalysisType">analysis</a>.<a href="Analysis.scala.html#48994" title="=&gt; scala.collection.Set[External]">allExternals</a>))
		{
			<span class="keyword">val</span> <a title="scala.collection.Set[Source]" id="54114">dependentSources</a> = <a href="#53726" title="=&gt; Conditional.this.AnalysisType">analysis</a>.<a href="Analysis.scala.html#48997" title="(External)Option[scala.collection.Set[Source]]">externalDependencies</a>(<a href="#54112" title="External">external</a>).<a title="(=&gt; scala.collection.Set[Source])scala.collection.Set[Source]" id="30329">getOrElse</a>(<a title="=&gt; collection.immutable.Set.type" id="6474">Set</a>.<a title="scala.collection.immutable.Set[Source]" id="16719">empty</a>)
			<span title="Unit" class="keyword">if</span>(<a href="#54113" title="Conditional.this.ExternalInfo">info</a>.<a href="#56607" title="=&gt; Boolean">available</a>)
			{
				<span class="keyword">val</span> <a title="Long" id="54125">dependencyLastModified</a> = <a href="#54113" title="Conditional.this.ExternalInfo">info</a>.<a href="#56608" title="=&gt; Long">lastModified</a>
				<span class="keyword">for</span>(<a title="((Source) =&gt; Unit)Unit" id="54127">dependentSource</a> &lt;- <a href="#54114" title="scala.collection.Set[Source]">dependentSources</a>; <a title="((scala.collection.Set[Product]) =&gt; Unit)Unit" id="54129">dependentProducts</a> &lt;- <a href="#53726" title="=&gt; Conditional.this.AnalysisType">analysis</a>.<a href="Analysis.scala.html#48996" title="(Source)Option[scala.collection.Set[Product]]">products</a>(<a href="#54127" title="Source">dependentSource</a>))
				{
					<a href="#54129" title="scala.collection.Set[Product]">dependentProducts</a>.<span title="((Product) =&gt; Boolean)Option[Product]">find</span>(<a title="Product" id="54131">p</a> =&gt; <a href="#53736" title="(Product)Long">productLastModified</a>(<a href="#54131" title="Product">p</a>) <span title="(Long)Boolean">&lt;</span> <a href="#54125" title="Long">dependencyLastModified</a>) <span title="Unit" class="keyword">match</span>
					{
						<span title="Unit" class="keyword">case</span> Some(<a title="Product" id="54133">modifiedProduct</a>) =&gt;
						{
							<a href="#53729" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49384" title="(=&gt; String)Unit">debug</a>(<a href="#53730" title="=&gt; String">productType</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#54133" title="Product">modifiedProduct</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; older than external dependency &quot;)" class="string">&quot; older than external dependency &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#54112" title="External">external</a>)
							<a href="#54058" title="scala.collection.mutable.HashSet[Source]">unmodified</a> <span title="(Source)Unit">-=</span> <a href="#54127" title="Source">dependentSource</a>
							<a href="#54059" title="scala.collection.mutable.HashSet[Source]">modified</a> <span title="(Source)Unit">+=</span> <a href="#54127" title="Source">dependentSource</a>
						}
						<span title="Unit" class="keyword">case</span> <span title="object None">None</span> =&gt; <span title="Unit">(</span>)
					}
				}
			}
			<span class="keyword">else</span>
			{
				<a href="#53729" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49384" title="(=&gt; String)Unit">debug</a>(<span title="java.lang.String(&quot;External dependency &quot;)" class="string">&quot;External dependency &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#54112" title="External">external</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; not found.&quot;)" class="string">&quot; not found.&quot;</span>)
				<a href="#54058" title="scala.collection.mutable.HashSet[Source]">unmodified</a> <span title="(Iterable[Source])Unit">--=</span> <a href="#54114" title="scala.collection.Set[Source]">dependentSources</a>
				<a href="#54059" title="scala.collection.mutable.HashSet[Source]">modified</a> <span title="(Iterable[Source])Unit">++=</span> <a href="#54114" title="scala.collection.Set[Source]">dependentSources</a>
				<a href="#53726" title="=&gt; Conditional.this.AnalysisType">analysis</a>.<a href="Analysis.scala.html#49005" title="(External)Unit">removeExternalDependency</a>(<a href="#54112" title="External">external</a>)
			}
		}

		<span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[Source]" id="54061">handled</a> = <span title="scala.collection.mutable.HashSet[Source]" class="keyword">new</span> scala.collection.mutable.<span title="scala.collection.mutable.HashSet[Source]">HashSet</span>[Source]
		<span class="keyword">val</span> <a title="Boolean" id="54062">transitive</a> = <span title="=&gt; Boolean">!</span>java.lang.<a title="object java.lang.Boolean" id="1967">Boolean</a>.<a title="(java.lang.String)Boolean" id="16034">getBoolean</a>(<span title="java.lang.String(&quot;sbt.intransitive&quot;)" class="string">&quot;sbt.intransitive&quot;</span>)
		<span class="keyword">def</span> <a title="(Iterable[Source])Unit" id="54063">markModified</a>(<a title="Iterable[Source]" id="54142">changed</a>: <span title="Iterable[Source]">Iterable</span>[Source]) { <span class="keyword">for</span>(<a title="((Source) =&gt; Unit)Unit" id="54146">c</a> &lt;- <a href="#54142" title="Iterable[Source]">changed</a> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#54061" title="scala.collection.mutable.HashSet[Source]">handled</a>.<a title="(Source)Boolean" id="30679">contains</a>(<a href="#54146" title="Source">c</a>)) <a href="#54064" title="(Source)Unit">markSourceModified</a>(<a href="#54146" title="Source">c</a>) }
		<span class="keyword">def</span> <a title="(Source)Unit" id="54064">markSourceModified</a>(<a title="Source" id="54147">src</a>: <a href="#13752" title="Source">Source</a>)
		{
			<a href="#54058" title="scala.collection.mutable.HashSet[Source]">unmodified</a> <span title="(Source)Unit">-=</span> <a href="#54147" title="Source">src</a>
			<a href="#54059" title="scala.collection.mutable.HashSet[Source]">modified</a> <span title="(Source)Unit">+=</span> <a href="#54147" title="Source">src</a>
			<a href="#54061" title="scala.collection.mutable.HashSet[Source]">handled</a> <span title="(Source)Unit">+=</span> <a href="#54147" title="Source">src</a>
			<span title="Unit" class="keyword">if</span>(<a href="#54062" title="Boolean">transitive</a>)
				<a href="#54065" title="(Source)Unit">markDependenciesModified</a>(<a href="#54147" title="Source">src</a>)
		}
		<span class="keyword">def</span> <a title="(Source)Unit" id="54065">markDependenciesModified</a>(<a title="Source" id="54151">src</a>: <a href="#13752" title="Source">Source</a>) { <a href="#53726" title="=&gt; Conditional.this.AnalysisType">analysis</a>.<a href="Analysis.scala.html#49004" title="(Source)Option[scala.collection.Set[Source]]">removeDependencies</a>(<a href="#54151" title="Source">src</a>).<a title="((scala.collection.Set[Source]) =&gt; Unit)Option[Unit]" id="30331">map</a>(<a href="#54063" title="(Iterable[Source])Unit">markModified</a>) }

		<a href="#54063" title="(Iterable[Source])Unit">markModified</a>(<a href="#54059" title="scala.collection.mutable.HashSet[Source]">modified</a>.<span title="=&gt; List[Source]">toList</span>)
		<span title="Unit" class="keyword">if</span>(<a href="#54062" title="Boolean">transitive</a>)
			<a href="#54056" title="scala.collection.mutable.HashSet[Source]">removedSources</a>.<span title="((Source) =&gt; Unit)Unit">foreach</span>(<a href="#54065" title="(Source)Unit">markDependenciesModified</a>)

		<span class="keyword">for</span>(<a title="((Source) =&gt; Unit)Unit" id="54168">changed</a> &lt;- <a href="#54056" title="scala.collection.mutable.HashSet[Source]">removedSources</a> <a title="(Iterable[Source])scala.collection.mutable.Set[Source]" id="30698">++</a> <a href="#54059" title="scala.collection.mutable.HashSet[Source]">modified</a>)
			<a href="#53726" title="=&gt; Conditional.this.AnalysisType">analysis</a>.<a href="Analysis.scala.html#49002" title="(Source)Unit">removeSource</a>(<a href="#54168" title="Source">changed</a>)

		<a title="template $anon extends java.lang.Object with Conditional.this.ConditionalAnalysis" id="54169" class="keyword">new</a> <a href="#53742" title="Conditional.this.ConditionalAnalysis">ConditionalAnalysis</a>
		{
			<span class="keyword">def</span> <a title="=&gt; scala.collection.Set[Source]" id="54171">dirtySources</a> = wrap.<a href="wrap/Wrappers.scala.html#14839" title="object sbt.wrap.Wrappers">Wrappers</a>.<a href="wrap/Wrappers.scala.html#49482" title="(scala.collection.mutable.Set[Source])scala.collection.Set[Source]">readOnly</a>(<a href="#54059" title="scala.collection.mutable.HashSet[Source]">modified</a>)
			<span class="keyword">def</span> <a title="=&gt; scala.collection.Set[Source]" id="54172">cleanSources</a> = wrap.<a href="wrap/Wrappers.scala.html#14839" title="object sbt.wrap.Wrappers">Wrappers</a>.<a href="wrap/Wrappers.scala.html#49482" title="(scala.collection.mutable.Set[Source])scala.collection.Set[Source]">readOnly</a>(<a href="#54058" title="scala.collection.mutable.HashSet[Source]">unmodified</a>)
			<span class="keyword">def</span> <a title="=&gt; Int" id="54173">directlyModifiedSourcesCount</a> = <a href="#54060" title="Int">directlyModifiedCount</a>
			<span class="keyword">def</span> <a title="=&gt; Int" id="54174">invalidatedSourcesCount</a> = <a href="#54171" title="=&gt; scala.collection.Set[Source]">dirtySources</a>.<span title="=&gt; Int">size</span> <a title="(Int)Int" id="3091">-</a> <a href="#54060" title="Int">directlyModifiedCount</a>
			<span class="keyword">def</span> <a title="=&gt; Int" id="54175">removedSourcesCount</a> = <a href="#54057" title="Int">removedCount</a>
			<span class="keyword">override</span> <span class="keyword">def</span> <a title="()java.lang.String" id="54176">toString</a> =
			{
				<span title="java.lang.String(&quot;  Source analysis: &quot;)" class="string">&quot;  Source analysis: &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#54173" title="=&gt; Int">directlyModifiedSourcesCount</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; new/modified, &quot;)" class="string">&quot; new/modified, &quot;</span> <span title="(Any)java.lang.String">+</span>
					<a href="#54174" title="=&gt; Int">invalidatedSourcesCount</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; indirectly invalidated, &quot;)" class="string">&quot; indirectly invalidated, &quot;</span> <span title="(Any)java.lang.String">+</span>
					<a href="#54175" title="=&gt; Int">removedSourcesCount</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; removed.&quot;)" class="string">&quot; removed.&quot;</span>
			}
		}
	}

	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="53745">checkLastModified</a> = <span title="Boolean(true)" class="keyword">true</span>
	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="53746">noProductsImpliesModified</a> = <span title="Boolean(true)" class="keyword">true</span>
	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="(Source)Boolean" id="53747">isSourceModified</a>(<a title="Source" id="54075">source</a>: <a href="#13752" title="Source">Source</a>) =
	{
		<a href="#53726" title="=&gt; Conditional.this.AnalysisType">analysis</a>.<a href="Analysis.scala.html#48996" title="(Source)Option[scala.collection.Set[Product]]">products</a>(<a href="#54075" title="Source">source</a>) <span title="Boolean" class="keyword">match</span>
		{
			<span title="Boolean" class="keyword">case</span> <span title="object None">None</span> =&gt;
			{
				<a href="#53729" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49384" title="(=&gt; String)Unit">debug</a>(<span title="java.lang.String(&quot;New file &quot;)" class="string">&quot;New file &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#54075" title="Source">source</a>)
				<span title="Boolean(true)" class="keyword">true</span>
			}
			<span title="Boolean" class="keyword">case</span> Some(<a title="scala.collection.Set[Product]" id="54079">sourceProducts</a>) =&gt;
			{
				<span class="keyword">val</span> <a title="Long" id="54080">sourceModificationTime</a> = <a href="#53734" title="(Source)Long">sourceLastModified</a>(<a href="#54075" title="Source">source</a>)
				<span class="keyword">def</span> <a title="(Product)Boolean" id="54081">isOutofdate</a>(<a title="Product" id="54083">p</a>: <a href="#13753" title="Product">Product</a>) =
					<span title="=&gt; Boolean">!</span><a href="#53735" title="(Product)Boolean">productExists</a>(<a href="#54083" title="Product">p</a>) <span title="(Boolean)Boolean">||</span> (<a href="#53745" title="=&gt; Boolean">checkLastModified</a> <span title="(Boolean)Boolean">&amp;&amp;</span> <a href="#53736" title="(Product)Long">productLastModified</a>(<a href="#54083" title="Product">p</a>) <span title="(Long)Boolean">&lt;</span> <a href="#54080" title="Long">sourceModificationTime</a>)

				<a href="#54079" title="scala.collection.Set[Product]">sourceProducts</a>.<span title="((Product) =&gt; Boolean)Option[Product]">find</span>(<a href="#54081" title="(Product)Boolean">isOutofdate</a>) <span title="Boolean" class="keyword">match</span>
				{
					<span title="Boolean" class="keyword">case</span> Some(<a title="Product" id="54091">modifiedProduct</a>) =&gt;
						<a href="#53729" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49384" title="(=&gt; String)Unit">debug</a>(<span title="java.lang.String(&quot;Outdated &quot;)" class="string">&quot;Outdated &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#53730" title="=&gt; String">productType</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#54091" title="Product">modifiedProduct</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; for source &quot;)" class="string">&quot; for source &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#54075" title="Source">source</a>)
						<span title="Boolean(true)" class="keyword">true</span>
					<span title="Boolean" class="keyword">case</span> <span title="object None">None</span> =&gt;
						<span title="Boolean" class="keyword">if</span>(<a href="#53746" title="=&gt; Boolean">noProductsImpliesModified</a> <span title="(Boolean)Boolean">&amp;&amp;</span> <a href="#54079" title="scala.collection.Set[Product]">sourceProducts</a>.<a title="=&gt; Boolean" id="17967">isEmpty</a>)
						{
							<span class="comment">// necessary for change detection that depends on last modified</span>
							<a href="#53729" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49384" title="(=&gt; String)Unit">debug</a>(<span title="java.lang.String(&quot;Source &quot;)" class="string">&quot;Source &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#54075" title="Source">source</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; has no products, marking it modified.&quot;)" class="string">&quot; has no products, marking it modified.&quot;</span>)
							<span title="Boolean(true)" class="keyword">true</span>
						}
						<span class="keyword">else</span>
							<span title="Boolean(false)" class="keyword">false</span>
				}
			}
		}
	}
	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="(Boolean)Unit" id="53748">processingComplete</a>(<a title="Boolean" id="54271">success</a>: <span title="Boolean">Boolean</span>)
	{
		<span title="Unit" class="keyword">if</span>(<a href="#54271" title="Boolean">success</a>)
		{
			<a href="#53726" title="=&gt; Conditional.this.AnalysisType">analysis</a>.<a href="Analysis.scala.html#48989" title="()Option[String]">save</a>()
			<a href="#53729" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49385" title="(=&gt; String)Unit">info</a>(<span title="java.lang.String(&quot;  Post-analysis: &quot;)" class="string">&quot;  Post-analysis: &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#53726" title="=&gt; Conditional.this.AnalysisType">analysis</a>.<a href="Analysis.scala.html#48993" title="=&gt; scala.collection.Set[Product]">allProducts</a>.<span title="=&gt; Seq[Product]">toSeq</span>.<a title="=&gt; Int" id="15801">length</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#53731" title="=&gt; String">productTypePlural</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span>)
		}
		<span class="keyword">else</span>
			<a href="#53726" title="=&gt; Conditional.this.AnalysisType">analysis</a>.<a href="Analysis.scala.html#48990" title="()Option[String]">revert</a>()
	}
}

<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class AbstractCompileConfiguration extends java.lang.Object with NotNull with ScalaObject" id="12123">AbstractCompileConfiguration</a> <span class="keyword">extends</span> <span title="NotNull">NotNull</span>
{
	<span class="keyword">def</span> <a title="=&gt; String" id="53631">label</a>: <span title="String">String</span>
	<span class="keyword">def</span> <a title="=&gt; sbt.PathFinder" id="53632">sourceRoots</a>: <a href="Path.scala.html#10419" title="sbt.PathFinder">PathFinder</a>
	<span class="keyword">def</span> <a title="=&gt; sbt.PathFinder" id="53633">sources</a>: <a href="Path.scala.html#10419" title="sbt.PathFinder">PathFinder</a>
	<span class="keyword">def</span> <a title="=&gt; sbt.Path" id="53634">outputDirectory</a>: <a href="Path.scala.html#11862" title="sbt.Path">Path</a>
	<span class="keyword">def</span> <a title="=&gt; sbt.PathFinder" id="53635">classpath</a>: <a href="Path.scala.html#10419" title="sbt.PathFinder">PathFinder</a>
	<span class="keyword">def</span> <a title="=&gt; sbt.Path" id="53636">analysisPath</a>: <a href="Path.scala.html#11862" title="sbt.Path">Path</a>
	<span class="keyword">def</span> <a title="=&gt; sbt.Path" id="53637">projectPath</a>: <a href="Path.scala.html#11862" title="sbt.Path">Path</a>
	<span class="keyword">def</span> <a title="=&gt; sbt.Logger" id="53638">log</a>: <a href="Logger.scala.html#13533" title="sbt.Logger">Logger</a>
	<span class="keyword">def</span> <a title="=&gt; Seq[String]" id="53639">options</a>: <span title="Seq[String]">Seq</span>[String]
	<span class="keyword">def</span> <a title="=&gt; Seq[String]" id="53640">javaOptions</a>: <span title="Seq[String]">Seq</span>[String]
	<span class="keyword">def</span> <a title="=&gt; Int" id="53641">maxErrors</a>: <span title="Int">Int</span>
	<span class="keyword">def</span> <a title="=&gt; sbt.CompileOrder.Value" id="53642">compileOrder</a>: CompileOrder.<span title="sbt.CompileOrder.Value">Value</span>
}
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class CompileConfiguration extends sbt.AbstractCompileConfiguration with ScalaObject" id="12711">CompileConfiguration</a> <span class="keyword">extends</span> <a href="#12123" title="sbt.AbstractCompileConfiguration">AbstractCompileConfiguration</a>
{
	<span class="keyword">def</span> <a title="=&gt; sbt.Fingerprints" id="54899">fingerprints</a>: <a href="#56630" title="sbt.Fingerprints">Fingerprints</a>
}
<span class="keyword">final</span> <span class="keyword">case</span> <span class="keyword">class</span> <a title="class Fingerprints extends java.lang.Object with NotNull with ScalaObject with Product" id="56630">Fingerprints</a>(<a title="Iterable[String]" id="56891">superclassNames</a>: <span title="Iterable[String]">Iterable</span>[String], <a title="Iterable[String]" id="56892">annotationNames</a>: <span title="Iterable[String]">Iterable</span>[String]) <span class="keyword">extends</span> <span title="NotNull">NotNull</span>

<span class="keyword">import</span> java.io.File
<span class="keyword">class</span> <a title="class CompileConditional extends sbt.AbstractCompileConditional with ScalaObject" id="9678">CompileConditional</a>(<span class="keyword">override</span> <span class="keyword">val</span> <a title="sbt.CompileConfiguration" id="54868">config</a>: <a href="#12711" title="sbt.CompileConfiguration">CompileConfiguration</a>, <a title="xsbt.AnalyzingCompiler" id="54869">compiler</a>: <a href="../AnalyzingCompiler.scala.html#7099" title="xsbt.AnalyzingCompiler">AnalyzingCompiler</a>) <span class="keyword">extends</span> <a href="#10602" title="sbt.AbstractCompileConditional">AbstractCompileConditional</a>(<a href="#54868" title="sbt.CompileConfiguration">config</a>, <a href="#54869" title="xsbt.AnalyzingCompiler">compiler</a>)
{
	<span class="keyword">import</span> config._
	<span class="keyword">type</span> <a title="sbt.CompileAnalysis" id="54864">AnalysisType</a> = <a href="Analysis.scala.html#8628" title="sbt.CompileAnalysis">CompileAnalysis</a>
	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="(sbt.Path,sbt.Path,sbt.Logger)sbt.CompileAnalysis" id="54865">constructAnalysis</a>(<a title="sbt.Path" id="56649">analysisPath</a>: <a href="Path.scala.html#11862" title="sbt.Path">Path</a>, <a title="sbt.Path" id="56650">projectPath</a>: <a href="Path.scala.html#11862" title="sbt.Path">Path</a>, <a title="sbt.Logger" id="56651">log</a>: <a href="Logger.scala.html#13533" title="sbt.Logger">Logger</a>) =
		<span title="sbt.CompileAnalysis" class="keyword">new</span> <a href="Analysis.scala.html#8628" title="sbt.CompileAnalysis">CompileAnalysis</a>(<a href="#56649" title="sbt.Path">analysisPath</a>, <a href="#56650" title="sbt.Path">projectPath</a>, <a href="#56651" title="sbt.Logger">log</a>)
	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; CompileConditional.this.CompileAnalysisCallback" id="54866">analysisCallback</a> = <span title="CompileConditional.this.CompileAnalysisCallback" class="keyword">new</span> <a href="#54867" title="CompileConditional.this.CompileAnalysisCallback">CompileAnalysisCallback</a>
	<span class="keyword">protected</span> <span class="keyword">class</span> <a title="class CompileAnalysisCallback extends sbt.BasicCompileAnalysisCallback with ScalaObject" id="54867">CompileAnalysisCallback</a> <span class="keyword">extends</span> <a href="AnalysisCallback.scala.html#9036" title="sbt.BasicCompileAnalysisCallback">BasicCompileAnalysisCallback</a>(<a href="#53637" title="=&gt; sbt.Path">projectPath</a>, <a href="#53726" title="=&gt; CompileConditional.this.AnalysisType">analysis</a>)
	{
		<span class="keyword">private</span>[<span class="keyword">this</span>] <span class="keyword">val</span> <a title="sbt.Fingerprints" id="56656">fingerprints0</a> = <a href="#54899" title="=&gt; sbt.Fingerprints">fingerprints</a>
		<span class="keyword">def</span> <a title="=&gt; Iterable[String]" id="56657">superclassNames</a> = <a href="#56656" title="sbt.Fingerprints">fingerprints0</a>.<a href="#56891" title="=&gt; Iterable[String]">superclassNames</a>
		<span class="keyword">def</span> <a title="=&gt; Iterable[String]" id="56658">annotationNames</a> = <a href="#56656" title="sbt.Fingerprints">fingerprints0</a>.<a href="#56892" title="=&gt; Iterable[String]">annotationNames</a>
		<span class="keyword">def</span> <a title="(sbt.Path,String,String,Boolean)Unit" id="56659">foundSubclass</a>(<a title="sbt.Path" id="56666">sourcePath</a>: <a href="Path.scala.html#11862" title="sbt.Path">Path</a>, <a title="String" id="56667">subclassName</a>: <span title="String">String</span>, <a title="String" id="56668">superclassName</a>: <span title="String">String</span>, <a title="Boolean" id="56669">isModule</a>: <span title="Boolean">Boolean</span>): <span title="Unit">Unit</span> =
			<a href="AnalysisCallback.scala.html#50781" title="=&gt; sbt.CompileAnalysis">analysis</a>.<a href="Analysis.scala.html#50440" title="(sbt.Path,sbt.Discovered)Unit">addTest</a>(<a href="#56666" title="sbt.Path">sourcePath</a>, <a href="impl/TestParser.scala.html#56671" title="(Boolean,String,String)sbt.DiscoveredSubclass">DiscoveredSubclass</a>(<a href="#56669" title="Boolean">isModule</a>, <a href="#56667" title="String">subclassName</a>, <a href="#56668" title="String">superclassName</a>))
		<span class="keyword">def</span> <a title="(sbt.Path,String,String,Boolean)Unit" id="56660">foundAnnotated</a>(<a title="sbt.Path" id="56689">sourcePath</a>: <a href="Path.scala.html#11862" title="sbt.Path">Path</a>, <a title="String" id="56690">className</a>: <span title="String">String</span>, <a title="String" id="56691">annotationName</a>: <span title="String">String</span>, <a title="Boolean" id="56692">isModule</a>: <span title="Boolean">Boolean</span>): <span title="Unit">Unit</span> =
			<a href="AnalysisCallback.scala.html#50781" title="=&gt; sbt.CompileAnalysis">analysis</a>.<a href="Analysis.scala.html#50440" title="(sbt.Path,sbt.Discovered)Unit">addTest</a>(<a href="#56689" title="sbt.Path">sourcePath</a>, <a href="impl/TestParser.scala.html#56694" title="(Boolean,String,String)sbt.DiscoveredAnnotated">DiscoveredAnnotated</a>(<a href="#56692" title="Boolean">isModule</a>, <a href="#56690" title="String">className</a>, <a href="#56691" title="String">annotationName</a>))
	}
}
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class AbstractCompileConditional extends java.lang.Object with sbt.Conditional[sbt.Path,sbt.Path,java.io.File] with ScalaObject" id="10602">AbstractCompileConditional</a>(<span class="keyword">val</span> <a title="sbt.AbstractCompileConfiguration" id="53807">config</a>: <a href="#12123" title="sbt.AbstractCompileConfiguration">AbstractCompileConfiguration</a>, <span class="keyword">val</span> <a title="xsbt.AnalyzingCompiler" id="53808">compiler</a>: <a href="../AnalyzingCompiler.scala.html#7099" title="xsbt.AnalyzingCompiler">AnalyzingCompiler</a>) <span class="keyword">extends</span> <a href="#11664" title="sbt.Conditional[sbt.Path,sbt.Path,java.io.File]">Conditional</a>[Path, Path, File]
{
	<span class="keyword">import</span> config._
	<span class="keyword">type</span> <a title="&gt;: Nothing &lt;: sbt.BasicCompileAnalysis" id="53757">AnalysisType</a> &lt;: BasicCompileAnalysis
	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; AbstractCompileConditional.this.AnalysisType" id="53758">loadAnalysis</a> =
	{
		<span class="keyword">val</span> <a title="AbstractCompileConditional.this.AnalysisType" id="56717">a</a> = <a href="#53759" title="(sbt.Path,sbt.Path,sbt.Logger)AbstractCompileConditional.this.AnalysisType">constructAnalysis</a>(<a href="#53636" title="=&gt; sbt.Path">analysisPath</a>, <a href="#53637" title="=&gt; sbt.Path">projectPath</a>, <a href="#53760" title="=&gt; sbt.Logger">log</a>)
		<span class="keyword">for</span>(<a title="((String) =&gt; Unit)Unit" id="56719">errorMessage</a> &lt;- <a href="#56717" title="AbstractCompileConditional.this.AnalysisType">a</a>.<a href="Analysis.scala.html#49129" title="()Option[String]">load</a>())
			<a title="(String)Nothing" id="6476">error</a>(<a href="#56719" title="String">errorMessage</a>)
		<a href="#56717" title="AbstractCompileConditional.this.AnalysisType">a</a>
	}
	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="(sbt.Path,sbt.Path,sbt.Logger)AbstractCompileConditional.this.AnalysisType" id="53759">constructAnalysis</a>(<a title="sbt.Path" id="53813">analysisPath</a>: <a href="Path.scala.html#11862" title="sbt.Path">Path</a>, <a title="sbt.Path" id="53814">projectPath</a>: <a href="Path.scala.html#11862" title="sbt.Path">Path</a>, <a title="sbt.Logger" id="53815">log</a>: <a href="Logger.scala.html#13533" title="sbt.Logger">Logger</a>): <a href="#53757" title="AbstractCompileConditional.this.AnalysisType">AnalysisType</a>

	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; sbt.Logger" id="53760">log</a> = <a href="#53807" title="=&gt; sbt.AbstractCompileConfiguration">config</a>.<a href="#53638" title="=&gt; sbt.Logger">log</a>

	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="53761">productType</a> = <span title="java.lang.String(&quot;class&quot;)" class="string">&quot;class&quot;</span>
	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="53762">productTypePlural</a> = <span title="java.lang.String(&quot;classes&quot;)" class="string">&quot;classes&quot;</span>
	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; scala.collection.Set[sbt.Path]" id="53763">sourcesToProcess</a> = <a href="#53633" title="=&gt; sbt.PathFinder">sources</a>.<a href="Path.scala.html#49335" title="=&gt; scala.collection.Set[sbt.Path]">get</a>

	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="(sbt.Path)Boolean" id="53764">sourceExists</a>(<a title="sbt.Path" id="56726">source</a>: <a href="Path.scala.html#11862" title="sbt.Path">Path</a>) = <a href="#56726" title="sbt.Path">source</a>.<a href="Path.scala.html#49359" title="=&gt; java.io.File">asFile</a>.<span title="()Boolean">exists</span>
	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="(sbt.Path)Long" id="53765">sourceLastModified</a>(<a title="sbt.Path" id="56728">source</a>: <a href="Path.scala.html#11862" title="sbt.Path">Path</a>) = <a href="#56728" title="sbt.Path">source</a>.<a href="Path.scala.html#49359" title="=&gt; java.io.File">asFile</a>.<span title="()Long">lastModified</span>

	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="(sbt.Path)Boolean" id="53766">productExists</a>(<a title="sbt.Path" id="56730">product</a>: <a href="Path.scala.html#11862" title="sbt.Path">Path</a>) = <a href="#56730" title="sbt.Path">product</a>.<a href="Path.scala.html#49359" title="=&gt; java.io.File">asFile</a>.<span title="()Boolean">exists</span>
	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="(sbt.Path)Long" id="53767">productLastModified</a>(<a title="sbt.Path" id="56732">product</a>: <a href="Path.scala.html#11862" title="sbt.Path">Path</a>) = <a href="#56732" title="sbt.Path">product</a>.<a href="Path.scala.html#49359" title="=&gt; java.io.File">asFile</a>.<span title="()Long">lastModified</span>

	<span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; java.io.File" id="53768">libraryJar</a> = <a href="#53808" title="=&gt; xsbt.AnalyzingCompiler">compiler</a>.<a href="../AnalyzingCompiler.scala.html#14979" title="=&gt; xsbt.ScalaInstance">scalaInstance</a>.<a href="../ScalaInstance.scala.html#15014" title="=&gt; java.io.File">libraryJar</a>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; java.io.File" id="53769">compilerJar</a> = <a href="#53808" title="=&gt; xsbt.AnalyzingCompiler">compiler</a>.<a href="../AnalyzingCompiler.scala.html#14979" title="=&gt; xsbt.ScalaInstance">scalaInstance</a>.<a href="../ScalaInstance.scala.html#15016" title="=&gt; java.io.File">compilerJar</a>
	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="(Iterable[java.io.File])Iterable[(java.io.File, AbstractCompileConditional.this.ExternalInfo)]" id="53770">externalInfo</a>(<a title="Iterable[java.io.File]" id="56738">externals</a>: <span title="Iterable[java.io.File]">Iterable</span>[File]) =
	{
		<span class="keyword">val</span> <a href="#17796" title="(sbt.wrap.Set[java.io.File], sbt.wrap.Set[java.io.File])">(</a><a href="#56740" title="sbt.wrap.Set[java.io.File]" id="17796">classpathJars</a>, <a href="#56740" title="sbt.wrap.Set[java.io.File]" id="17798">classpathDirs</a>) = <a href="ClasspathUtilities.scala.html#13105" title="object sbt.ClasspathUtilities">ClasspathUtilities</a>.<a href="ClasspathUtilities.scala.html#51759" title="(Iterable[sbt.Path])(sbt.wrap.Set[java.io.File], sbt.wrap.Set[java.io.File])">buildSearchPaths</a>(<a href="#53635" title="=&gt; sbt.PathFinder">classpath</a>.<a href="Path.scala.html#49335" title="=&gt; scala.collection.Set[sbt.Path]">get</a> <span title="(Iterable[sbt.Path])Collection[sbt.Path]">++</span> <span title="(sbt.Path*)Seq[sbt.Path]">Seq</span>(<a href="Path.scala.html#11863" title="object sbt.Path">Path</a>.<a href="Path.scala.html#49318" title="(java.io.File)sbt.Path">fromFile</a>(<a href="#53768" title="=&gt; java.io.File">libraryJar</a>),  <a href="Path.scala.html#11863" title="object sbt.Path">Path</a>.<a href="Path.scala.html#49318" title="(java.io.File)sbt.Path">fromFile</a>(<a href="#53769" title="=&gt; java.io.File">compilerJar</a>)))
		<span class="keyword">for</span>(<a title="((java.io.File) =&gt; (java.io.File, AbstractCompileConditional.this.ExternalInfo))Iterable[(java.io.File, AbstractCompileConditional.this.ExternalInfo)]" id="56754">external</a> &lt;- <a href="#56738" title="Iterable[java.io.File]">externals</a>) <span class="keyword">yield</span>
		{
			<span class="keyword">val</span> <a title="Boolean" id="56755">available</a> = <a href="#56754" title="java.io.File">external</a>.<span title="()Boolean">exists</span> <span title="(Boolean)Boolean">&amp;&amp;</span> (<a href="#56754" title="java.io.File">external</a> <span title="(AnyRef)Boolean">==</span> <a href="#53768" title="=&gt; java.io.File">libraryJar</a> <span title="(Boolean)Boolean">||</span> <a href="ClasspathUtilities.scala.html#13105" title="object sbt.ClasspathUtilities">ClasspathUtilities</a>.<a href="ClasspathUtilities.scala.html#51760" title="(sbt.wrap.Set[java.io.File],sbt.wrap.Set[java.io.File],java.io.File)Boolean">onClasspath</a>(<a href="#17796" title="sbt.wrap.Set[java.io.File]">classpathJars</a>, <a href="#17798" title="sbt.wrap.Set[java.io.File]">classpathDirs</a>, <a href="#56754" title="java.io.File">external</a>) )
			<span title="Unit" class="keyword">if</span>(<span title="=&gt; Boolean">!</span><a href="#56755" title="Boolean">available</a>)
				<a href="#53760" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49384" title="(=&gt; String)Unit">debug</a>(<span title="java.lang.String(&quot;External &quot;)" class="string">&quot;External &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#56754" title="java.io.File">external</a> <span title="(Any)java.lang.String">+</span> (<span title="Any" class="keyword">if</span>(<a href="#56754" title="java.io.File">external</a>.<span title="()Boolean">exists</span>) <span title="java.lang.String(&quot; not on classpath.&quot;)" class="string">&quot; not on classpath.&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot; does not exist.&quot;)" class="string">&quot; does not exist.&quot;</span>))
			<span title="(java.io.File,AbstractCompileConditional.this.ExternalInfo)(java.io.File, AbstractCompileConditional.this.ExternalInfo)">(</span><a href="#56754" title="java.io.File">external</a>, <a href="#56587" title="(Boolean,Long)AbstractCompileConditional.this.ExternalInfo">ExternalInfo</a>(<a href="#56755" title="Boolean">available</a>, <a href="#56754" title="java.io.File">external</a>.<span title="()Long">lastModified</span>))
		}
	}

	<span class="keyword">import</span> ChangeDetection.{LastModifiedOnly, HashOnly, HashAndLastModified, HashAndProductsExist}
	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; sbt.ChangeDetection.Value" id="53772">changeDetectionMethod</a>: ChangeDetection.<span title="sbt.ChangeDetection.Value">Value</span> = <a href="#53845" title="=&gt; sbt.ChangeDetection.Value">HashAndProductsExist</a>
	<span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="53773">checkLastModified</a> = <a href="#53772" title="=&gt; sbt.ChangeDetection.Value">changeDetectionMethod</a> <a title="(AnyRef)Boolean" id="6016">!=</a> <a href="#53845" title="=&gt; sbt.ChangeDetection.Value">HashAndProductsExist</a>
	<span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="53774">noProductsImpliesModified</a> = <a href="#53772" title="=&gt; sbt.ChangeDetection.Value">changeDetectionMethod</a> <span title="(AnyRef)Boolean">==</span> <a href="#53839" title="=&gt; sbt.ChangeDetection.Value">LastModifiedOnly</a>
	<span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(sbt.Path)Boolean" id="53775">isSourceModified</a>(<a title="sbt.Path" id="56772">source</a>: <a href="Path.scala.html#11862" title="sbt.Path">Path</a>) =
		<a href="#53772" title="=&gt; sbt.ChangeDetection.Value">changeDetectionMethod</a> <span title="Boolean" class="keyword">match</span>
		{
			<span title="Boolean" class="keyword">case</span> <a href="#53843" title="=&gt; sbt.ChangeDetection.Value">HashAndLastModified</a> | <a href="#53845" title="=&gt; sbt.ChangeDetection.Value">HashAndProductsExist</a> =&gt;
				<span class="comment">// behavior will differ because of checkLastModified</span>
				<span class="comment">// hash modified must come first so that the latest hash is calculated for every source</span>
				<a href="#53780" title="(sbt.Path)Boolean">hashModified</a>(<a href="#56772" title="sbt.Path">source</a>) <span title="(Boolean)Boolean">||</span> <span class="keyword">super</span>.<a href="#53747" title="(sbt.Path)Boolean">isSourceModified</a>(<a href="#56772" title="sbt.Path">source</a>)
			<span title="Boolean" class="keyword">case</span> <a href="#53841" title="=&gt; sbt.ChangeDetection.Value">HashOnly</a> =&gt; <a href="#53780" title="(sbt.Path)Boolean">hashModified</a>(<a href="#56772" title="sbt.Path">source</a>)
			<span title="Boolean" class="keyword">case</span> <a href="#53839" title="=&gt; sbt.ChangeDetection.Value">LastModifiedOnly</a> =&gt; <span class="keyword">super</span>.<a href="#53747" title="(sbt.Path)Boolean">isSourceModified</a>(<a href="#56772" title="sbt.Path">source</a>)
		}

	<span class="keyword">import</span> scala.collection.mutable.{Buffer, ListBuffer}
	<span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.Buffer[(sbt.Path, Option[Array[Byte]])]" id="53777">newHashes</a>: <a title="scala.collection.mutable.Buffer[(sbt.Path, Option[Array[Byte]])]" id="20103">Buffer</a>[(Path, Option[Array[Byte]])] = <span title="scala.collection.mutable.ListBuffer[(sbt.Path, Option[Array[Byte]])]" class="keyword">new</span> <a title="scala.collection.mutable.ListBuffer[(sbt.Path, Option[Array[Byte]])]" id="20067">ListBuffer</a>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Path,String)Unit" id="53779">warnHashError</a>(<a title="sbt.Path" id="56807">source</a>: <a href="Path.scala.html#11862" title="sbt.Path">Path</a>, <a title="String" id="56808">message</a>: <span title="String">String</span>)
	{
		<a href="#53760" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49386" title="(=&gt; String)Unit">warn</a>(<span title="java.lang.String(&quot;Error computing hash for source &quot;)" class="string">&quot;Error computing hash for source &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#56807" title="sbt.Path">source</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#56808" title="String">message</a>)
		<a href="#53777" title="=&gt; scala.collection.mutable.Buffer[(sbt.Path, Option[Array[Byte]])]">newHashes</a> <span title="((sbt.Path, Option[Array[Byte]]))Unit">+=</span> (<span title="(sbt.Path,object None)(sbt.Path, object None)">(</span><a href="#56807" title="sbt.Path">source</a>, <span title="object None">None</span>))
	}
	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="(sbt.Path)Boolean" id="53780">hashModified</a>(<a title="sbt.Path" id="56775">source</a>: <a href="Path.scala.html#11862" title="sbt.Path">Path</a>) =
	{
		<a href="#56775" title="sbt.Path">source</a>.<a href="Path.scala.html#49355" title="=&gt; Boolean">isDirectory</a> <span title="(Boolean)Boolean">||</span>
		(<a href="#53726" title="=&gt; AbstractCompileConditional.this.AnalysisType">analysis</a>.<a href="Analysis.scala.html#50420" title="(sbt.Path)Option[Array[Byte]]">hash</a>(<a href="#56775" title="sbt.Path">source</a>) <span title="Boolean" class="keyword">match</span>
		{
			<span title="Boolean" class="keyword">case</span> <span title="object None">None</span> =&gt;
				<a href="#53760" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49384" title="(=&gt; String)Unit">debug</a>(<span title="java.lang.String(&quot;Source &quot;)" class="string">&quot;Source &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#56775" title="sbt.Path">source</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; had no hash, marking modified.&quot;)" class="string">&quot; had no hash, marking modified.&quot;</span>)
				<a href="Hash.scala.html#56787" title="(sbt.Path,sbt.Logger)Either[String,Array[Byte]]">Hash</a>(<a href="#56775" title="sbt.Path">source</a>, <a href="#53760" title="=&gt; sbt.Logger">log</a>).<a title="((String) =&gt; Unit,(Array[Byte]) =&gt; Unit)Unit" id="50353">fold</a>(<a title="String" id="56806">err</a> =&gt; <a href="#53779" title="(sbt.Path,String)Unit">warnHashError</a>(<a href="#56775" title="sbt.Path">source</a>, <a href="#56806" title="String">err</a>), <a title="Array[Byte]" id="56810">newHash</a> =&gt; <a href="#53777" title="=&gt; scala.collection.mutable.Buffer[(sbt.Path, Option[Array[Byte]])]">newHashes</a> <span title="((sbt.Path, Option[Array[Byte]]))Unit">+=</span> (<span title="(sbt.Path,Some[Array[Byte]])(sbt.Path, Some[Array[Byte]])">(</span><a href="#56775" title="sbt.Path">source</a>, <span title="(Array[Byte])Some[Array[Byte]]">Some</span>(<a href="#56810" title="Array[Byte]">newHash</a>))))
				<span title="Boolean(true)" class="keyword">true</span>
			<span title="Boolean" class="keyword">case</span> Some(<a title="Array[Byte]" id="56814">oldHash</a>) =&gt;
			{
				<a href="Hash.scala.html#56787" title="(sbt.Path,sbt.Logger)Either[String,Array[Byte]]">Hash</a>(<a href="#56775" title="sbt.Path">source</a>, <a href="#53760" title="=&gt; sbt.Logger">log</a>) <span title="Boolean" class="keyword">match</span>
				{
					<span title="Boolean" class="keyword">case</span> Left(<a title="String" id="56819">err</a>) =&gt;
						<a href="#53779" title="(sbt.Path,String)Unit">warnHashError</a>(<a href="#56775" title="sbt.Path">source</a>, <a href="#56819" title="String">err</a>)
						<a href="#53760" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49384" title="(=&gt; String)Unit">debug</a>(<span title="java.lang.String(&quot;Assuming source is modified because of error.&quot;)" class="string">&quot;Assuming source is modified because of error.&quot;</span>)
						<span title="Boolean(true)" class="keyword">true</span>
					<span title="Boolean" class="keyword">case</span> Right(<a title="Array[Byte]" id="56822">newHash</a>) =&gt;
						<a href="#53777" title="=&gt; scala.collection.mutable.Buffer[(sbt.Path, Option[Array[Byte]])]">newHashes</a> <span title="((sbt.Path, Option[Array[Byte]]))Unit">+=</span> (<span title="(sbt.Path,Some[Array[Byte]])(sbt.Path, Some[Array[Byte]])">(</span><a href="#56775" title="sbt.Path">source</a>, <span title="(Array[Byte])Some[Array[Byte]]">Some</span>(<a href="#56822" title="Array[Byte]">newHash</a>)))
						<span class="keyword">val</span> <a title="Boolean" id="56823">different</a> = <span title="=&gt; Boolean">!</span>(<a href="#56814" title="Array[Byte]">oldHash</a> <a title="(Any)Boolean" id="15696">deepEquals</a> <a href="#56822" title="Array[Byte]">newHash</a>)
						<span title="Unit" class="keyword">if</span>(<a href="#56823" title="Boolean">different</a>)
							<a href="#53760" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49384" title="(=&gt; String)Unit">debug</a>(<span title="java.lang.String(&quot;Hash for source &quot;)" class="string">&quot;Hash for source &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#56775" title="sbt.Path">source</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; changed (was &quot;)" class="string">&quot; changed (was &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="Hash.scala.html#11686" title="object sbt.Hash">Hash</a>.<a href="Hash.scala.html#56784" title="(Array[Byte])String">toHex</a>(<a href="#56814" title="Array[Byte]">oldHash</a>) <span title="(Any)java.lang.String">+</span>
							<span title="java.lang.String(&quot;, is now &quot;)" class="string">&quot;, is now &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="Hash.scala.html#11686" title="object sbt.Hash">Hash</a>.<a href="Hash.scala.html#56784" title="(Array[Byte])String">toHex</a>(<a href="#56822" title="Array[Byte]">newHash</a>) <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;), marking modified.&quot;)" class="string">&quot;), marking modified.&quot;</span>)
						<a href="#56823" title="Boolean">different</a>
				}
			}
		})
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Iterable[sbt.Path]" id="53781">scalaJars</a>: <span title="Iterable[sbt.Path]">Iterable</span>[Path] =
	{
		<span class="keyword">val</span> <a title="xsbt.ScalaInstance" id="56840">instance</a> = <a href="#53808" title="=&gt; xsbt.AnalyzingCompiler">compiler</a>.<a href="../AnalyzingCompiler.scala.html#14979" title="=&gt; xsbt.ScalaInstance">scalaInstance</a>
		<span title="(java.io.File*)Seq[java.io.File]">Seq</span>(<a href="#56840" title="xsbt.ScalaInstance">instance</a>.<a href="../ScalaInstance.scala.html#15014" title="=&gt; java.io.File">libraryJar</a>, <a href="#56840" title="xsbt.ScalaInstance">instance</a>.<a href="../ScalaInstance.scala.html#15016" title="=&gt; java.io.File">compilerJar</a>).<a title="((java.io.File) =&gt; sbt.Path)Seq[sbt.Path]" id="15820">map</a>(<a href="Path.scala.html#11863" title="object sbt.Path">Path</a>.<a href="Path.scala.html#49318" title="(java.io.File)sbt.Path">fromFile</a>)
	}
	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="(AbstractCompileConditional.this.ConditionalAnalysis)Option[String]" id="53782">execute</a>(<a title="AbstractCompileConditional.this.ConditionalAnalysis" id="53824">executeAnalysis</a>: <a href="#53742" title="AbstractCompileConditional.this.ConditionalAnalysis">ConditionalAnalysis</a>) =
	{
		<a href="#53760" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49385" title="(=&gt; String)Unit">info</a>(<a href="#53824" title="AbstractCompileConditional.this.ConditionalAnalysis">executeAnalysis</a>.<a title="()java.lang.String" id="6008">toString</a>)
		<a href="#53783" title="()Unit">finishHashes</a>()
		<span class="keyword">import</span> executeAnalysis.dirtySources

		<span class="comment">// the output directory won't show up in the classpath unless it exists, so do this before classpath.get</span>
		<span class="keyword">val</span> <a title="java.io.File" id="53828">outputDir</a> = <a href="#53634" title="=&gt; sbt.Path">outputDirectory</a>.<a href="Path.scala.html#49359" title="=&gt; java.io.File">asFile</a>
		<a href="FileUtilities.scala.html#10717" title="object sbt.FileUtilities">FileUtilities</a>.<a href="FileUtilities.scala.html#49191" title="(java.io.File,sbt.Logger)Option[String]">createDirectory</a>(<a href="#53828" title="java.io.File">outputDir</a>, <a href="#53760" title="=&gt; sbt.Logger">log</a>)

		<span class="keyword">val</span> <a title="scala.collection.Set[sbt.Path]" id="53829">cp</a> = <a href="#53635" title="=&gt; sbt.PathFinder">classpath</a>.<a href="Path.scala.html#49335" title="=&gt; scala.collection.Set[sbt.Path]">get</a>
		<span title="Unit" class="keyword">if</span>(<span title="=&gt; Boolean">!</span><a href="#53817" title="=&gt; Iterable[sbt.Path]">dirtySources</a>.<a title="=&gt; Boolean" id="15986">isEmpty</a>)
			<a href="#53784" title="(Iterable[sbt.Path])Unit">checkClasspath</a>(<a href="#53829" title="scala.collection.Set[sbt.Path]">cp</a>)
		<span class="keyword">def</span> <a title="=&gt; Option[String]" id="53830">run</a> =
		{
			<span class="keyword">val</span> <a title="sbt.Compile" id="53853">compile</a> = <span title="sbt.Compile" class="keyword">new</span> <a href="Compile.scala.html#12270" title="sbt.Compile">Compile</a>(<a href="#53807" title="=&gt; sbt.AbstractCompileConfiguration">config</a>.<a href="#53641" title="=&gt; Int">maxErrors</a>, <a href="#53808" title="=&gt; xsbt.AnalyzingCompiler">compiler</a>, <a href="#53785" title="=&gt; sbt.AnalysisCallback">analysisCallback</a>, <a href="#53637" title="=&gt; sbt.Path">projectPath</a>)
			<a href="Compile.scala.html#53856" title="(String,Iterable[sbt.Path],Iterable[sbt.Path],sbt.Path,Seq[String],Seq[String],sbt.CompileOrder.Value,sbt.Logger)Option[String]">compile</a>(<a href="#53631" title="=&gt; String">label</a>, <a href="#53817" title="=&gt; Iterable[sbt.Path]">dirtySources</a>, <a href="#53829" title="scala.collection.Set[sbt.Path]">cp</a>, <a href="#53634" title="=&gt; sbt.Path">outputDirectory</a>, <a href="#53639" title="=&gt; Seq[String]">options</a>, <a href="#53640" title="=&gt; Seq[String]">javaOptions</a>, <a href="#53642" title="=&gt; sbt.CompileOrder.Value">compileOrder</a>, <a href="#53760" title="=&gt; sbt.Logger">log</a>)
		}
		<span class="keyword">val</span> <a title="java.lang.ClassLoader" id="53831">loader</a> = <a href="ClasspathUtilities.scala.html#13105" title="object sbt.ClasspathUtilities">ClasspathUtilities</a>.<a href="ClasspathUtilities.scala.html#51737" title="(Iterable[sbt.Path])java.lang.ClassLoader">toLoader</a>(<a href="#53829" title="scala.collection.Set[sbt.Path]">cp</a> <span title="(Iterable[sbt.Path])Collection[sbt.Path]">++</span> <a href="#53781" title="=&gt; Iterable[sbt.Path]">scalaJars</a>)
		<span class="keyword">val</span> <a title="Option[String]" id="53832">r</a> = classfile.<a href="classfile/Analyze.scala.html#53923" title="(sbt.Path,sbt.Path,Iterable[sbt.Path],Iterable[sbt.Path],sbt.Logger)(=&gt; scala.collection.Set[sbt.Path],sbt.AnalysisCallback,java.lang.ClassLoader)(=&gt; Option[String])Option[String]">Analyze</a>(<a href="#53637" title="=&gt; sbt.Path">projectPath</a>, <a href="#53634" title="=&gt; sbt.Path">outputDirectory</a>, <a href="#53817" title="=&gt; Iterable[sbt.Path]">dirtySources</a>, <a href="#53632" title="=&gt; sbt.PathFinder">sourceRoots</a>.<a href="Path.scala.html#49335" title="=&gt; scala.collection.Set[sbt.Path]">get</a>, <a href="#53760" title="=&gt; sbt.Logger">log</a>)(<a href="#53726" title="=&gt; AbstractCompileConditional.this.AnalysisType">analysis</a>.<a href="Analysis.scala.html#49103" title="=&gt; scala.collection.mutable.Set[sbt.Path]">allProducts</a>, <a href="#53785" title="=&gt; sbt.AnalysisCallback">analysisCallback</a>, <a href="#53831" title="java.lang.ClassLoader">loader</a>)(<a href="#53830" title="=&gt; Option[String]">run</a>)
		<span title="Unit" class="keyword">if</span>(<a href="#53760" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49381" title="(sbt.Level.Value)Boolean">atLevel</a>(<a href="Logger.scala.html#9889" title="object sbt.Level">Level</a>.<a href="Logger.scala.html#53513" title="=&gt; sbt.Level.Value">Debug</a>))
		{
			<span class="comment">/** This checks that the plugin accounted for all classes in the output directory.*/</span>
			<span class="keyword">val</span> <a title="scala.collection.mutable.Set[sbt.Path]" id="54001">classes</a> = scala.collection.mutable.<a title="(sbt.Path*)scala.collection.mutable.Set[sbt.Path]" id="20038">HashSet</a>(<a href="#53726" title="=&gt; AbstractCompileConditional.this.AnalysisType">analysis</a>.<a href="Analysis.scala.html#49103" title="=&gt; scala.collection.mutable.Set[sbt.Path]">allProducts</a>.<span title="=&gt; Seq[sbt.Path]">toSeq</span>: _*)
			<span class="keyword">val</span> <a title="scala.collection.Set[sbt.Path]" id="54002">actualClasses</a> = (<a href="#53634" title="=&gt; sbt.Path">outputDirectory</a> <a href="Path.scala.html#49328" title="(sbt.FileFilter)sbt.PathFinder">**</a> <a href="NameFilter.scala.html#54007" title="(String)sbt.NameFilter">GlobFilter</a>(<span title="java.lang.String(&quot;*.class&quot;)" class="string">&quot;*.class&quot;</span>)).<a href="Path.scala.html#49335" title="=&gt; scala.collection.Set[sbt.Path]">get</a>
			<span class="keyword">val</span> <a title="List[sbt.Path]" id="54003">missedClasses</a> = <a href="#54002" title="scala.collection.Set[sbt.Path]">actualClasses</a>.<span title="=&gt; List[sbt.Path]">toList</span>.<a title="((sbt.Path) =&gt; Boolean)List[sbt.Path]" id="15537">remove</a>(<a href="#54001" title="scala.collection.mutable.Set[sbt.Path]">classes</a>.<a href="#54011" title="(sbt.Path)Boolean" id="17965">contains</a>)
			<a href="#54003" title="List[sbt.Path]">missedClasses</a>.<a title="((sbt.Path) =&gt; Unit)Unit" id="15535">foreach</a>(<a title="sbt.Path" id="54013">c</a> =&gt; <a href="#53760" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49384" title="(=&gt; String)Unit">debug</a>(<span title="java.lang.String(&quot;Missed class: &quot;)" class="string">&quot;Missed class: &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#54013" title="sbt.Path">c</a>))
			<a href="#53760" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49384" title="(=&gt; String)Unit">debug</a>(<span title="java.lang.String(&quot;Total missed classes: &quot;)" class="string">&quot;Total missed classes: &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#54003" title="List[sbt.Path]">missedClasses</a>.<a title="=&gt; Int" id="15514">length</a>)
		}
		<a href="#53832" title="Option[String]">r</a>
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="()Unit" id="53783">finishHashes</a>()
	{
		<span title="Unit" class="keyword">if</span>(<a href="#53772" title="=&gt; sbt.ChangeDetection.Value">changeDetectionMethod</a> <span title="(AnyRef)Boolean">==</span> <a href="#53839" title="=&gt; sbt.ChangeDetection.Value">LastModifiedOnly</a>)
			<a href="#53726" title="=&gt; AbstractCompileConditional.this.AnalysisType">analysis</a>.<a href="Analysis.scala.html#50421" title="()Unit">clearHashes</a>()
		<span class="keyword">else</span>
		{
			<span class="keyword">for</span>(<a href="#56851" title="(((sbt.Path, Option[Array[Byte]])) =&gt; Unit)Unit" id="15824">(</a><a title="sbt.Path" id="56856">path</a>, <a title="Option[Array[Byte]]" id="56857">hash</a>) &lt;- <a href="#53777" title="=&gt; scala.collection.mutable.Buffer[(sbt.Path, Option[Array[Byte]])]">newHashes</a>)
			{
				<a href="#56857" title="Option[Array[Byte]]">hash</a> <span title="Unit" class="keyword">match</span>
				{
					<span title="Unit" class="keyword">case</span> <span title="object None">None</span> =&gt; <a href="#53726" title="=&gt; AbstractCompileConditional.this.AnalysisType">analysis</a>.<a href="Analysis.scala.html#50419" title="(sbt.Path)Unit">clearHash</a>(<a href="#56856" title="sbt.Path">path</a>)
					<span title="Unit" class="keyword">case</span> Some(<a title="Array[Byte]" id="56858">hash</a>) =&gt; <a href="#53726" title="=&gt; AbstractCompileConditional.this.AnalysisType">analysis</a>.<a href="Analysis.scala.html#50418" title="(sbt.Path,Array[Byte])Unit">setHash</a>(<a href="#56856" title="sbt.Path">path</a>, <a href="#56858" title="Array[Byte]">hash</a>)
				}
			}
		}
		<a href="#53777" title="=&gt; scala.collection.mutable.Buffer[(sbt.Path, Option[Array[Byte]])]">newHashes</a>.<a title="()Unit" id="45028">clear</a>()
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(Iterable[sbt.Path])Unit" id="53784">checkClasspath</a>(<a title="Iterable[sbt.Path]" id="53852">cp</a>: <span title="Iterable[sbt.Path]">Iterable</span>[Path])
	{
		<span class="keyword">import</span> scala.collection.mutable.{HashMap, HashSet, Set}
		<span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[String,scala.collection.mutable.Set[sbt.Path]]" id="56860">collisions</a> = <span title="scala.collection.mutable.HashMap[String,scala.collection.mutable.Set[sbt.Path]]" class="keyword">new</span> <a title="scala.collection.mutable.HashMap[String,scala.collection.mutable.Set[sbt.Path]]" id="20220">HashMap</a>[String, Set[Path]]
		<span class="keyword">for</span>(<a title="((sbt.Path) =&gt; Unit)Unit" id="56865">jar</a> &lt;- <a href="#53852" title="Iterable[sbt.Path]">cp</a> <span class="keyword">if</span> <a href="ClasspathUtilities.scala.html#13105" title="object sbt.ClasspathUtilities">ClasspathUtilities</a>.<a href="ClasspathUtilities.scala.html#51754" title="(sbt.Path)Boolean">isArchive</a>(<a href="#56865" title="sbt.Path">jar</a>))
			<a href="#56860" title="scala.collection.mutable.HashMap[String,scala.collection.mutable.Set[sbt.Path]]">collisions</a>.<a title="(String,=&gt; scala.collection.mutable.Set[sbt.Path])scala.collection.mutable.Set[sbt.Path]" id="37804">getOrElseUpdate</a>(<a href="#56865" title="sbt.Path">jar</a>.<a href="Path.scala.html#49359" title="=&gt; java.io.File">asFile</a>.<a title="()java.lang.String" id="16759">getName</a>, <span title="scala.collection.mutable.HashSet[sbt.Path]" class="keyword">new</span> <span title="scala.collection.mutable.HashSet[sbt.Path]">HashSet</span>[Path]) <a title="(sbt.Path)Unit" id="30692">+=</a> <a href="#56865" title="sbt.Path">jar</a>
		<span class="keyword">for</span>(<a href="#56868" title="(((String, scala.collection.mutable.Set[sbt.Path])) =&gt; Unit)Unit">(</a><a title="String" id="56873">name</a>, <a title="scala.collection.mutable.Set[sbt.Path]" id="56874">jars</a>) &lt;- <a href="#56860" title="scala.collection.mutable.HashMap[String,scala.collection.mutable.Set[sbt.Path]]">collisions</a>)
		{
			<span title="Unit" class="keyword">if</span>(<a href="#56874" title="scala.collection.mutable.Set[sbt.Path]">jars</a>.<span title="=&gt; Int">size</span> <a title="(Int)Boolean" id="3088">&gt;</a> <span title="Int(1)" class="int">1</span>)
			{
				<a href="#53760" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49384" title="(=&gt; String)Unit">debug</a>(<span title="java.lang.String(&quot;Possible duplicate classpath locations for jar &quot;)" class="string">&quot;Possible duplicate classpath locations for jar &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#56873" title="String">name</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span>)
				<span class="keyword">for</span>(<a title="((sbt.Path) =&gt; Unit)Unit" id="56879">jar</a> &lt;- <a href="#56874" title="scala.collection.mutable.Set[sbt.Path]">jars</a>) <a href="#53760" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49384" title="(=&gt; String)Unit">debug</a>(<span title="java.lang.String(&quot;\011&quot;)" class="string">&quot;\t&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#56879" title="sbt.Path">jar</a>.<a href="Path.scala.html#49366" title="=&gt; String">absolutePath</a>)
			}
		}
	}

	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; sbt.AnalysisCallback" id="53785">analysisCallback</a>: <a href="AnalysisCallback.scala.html#10845" title="sbt.AnalysisCallback">AnalysisCallback</a>
}
<span class="keyword">object</span> <a title="object sbt.ChangeDetection" id="8227">ChangeDetection</a> <span class="keyword">extends</span> <a title="Enumeration" id="33830">Enumeration</a>
{
	<span class="keyword">val</span> <a title="sbt.ChangeDetection.Value" id="53839">LastModifiedOnly</a>, <a title="sbt.ChangeDetection.Value" id="53841">HashOnly</a>, <a title="sbt.ChangeDetection.Value" id="53843">HashAndLastModified</a>, <a title="sbt.ChangeDetection.Value" id="53845">HashAndProductsExist</a> = <span title="=&gt; sbt.ChangeDetection.Value">Value</span>
}
        </pre>
    </body>
</html>