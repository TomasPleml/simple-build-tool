<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>sbt/TestReportListener.scala</title>
        <script type="text/javascript" src="../jquery-all.js"></script>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* sbt -- Simple Build Tool
 * Copyright 2008, 2009  Steven Blundy, Mark Harrah
 */</span>

<span class="keyword">package</span> sbt

	<span class="keyword">import</span> org.scalatools.testing.{Logger =&gt; TLogger, Event =&gt; TEvent, Result =&gt; TResult}

<span class="keyword">trait</span> <a title="trait TestReportListener extends java.lang.Object with ScalaObject" id="8364">TestReportListener</a>
{
	<span class="comment">/** called for each class or equivalent grouping */</span>
  <span class="keyword">def</span> <a title="(String)Unit" id="57871">startGroup</a>(<a title="String" id="75602">name</a>: <span title="String">String</span>)
	<span class="comment">/** called for each test method or equivalent */</span>
  <span class="keyword">def</span> <a title="(sbt.TestEvent)Unit" id="57872">testEvent</a>(<a title="sbt.TestEvent" id="75598">event</a>: <a href="#11022" title="sbt.TestEvent">TestEvent</a>)
	<span class="comment">/** called if there was an error during test */</span>
  <span class="keyword">def</span> <a title="(String,Throwable)Unit" id="57873">endGroup</a>(<a title="String" id="75611">name</a>: <span title="String">String</span>, <a title="Throwable" id="75612">t</a>: <span title="Throwable">Throwable</span>)
	<span class="comment">/** called if test completed */</span>
  <span class="keyword">def</span> <a title="(String,sbt.Result.Value)Unit" id="57874">endGroup</a>(<a title="String" id="75609">name</a>: <span title="String">String</span>, <a title="sbt.Result.Value" id="75610">result</a>: Result.<span title="sbt.Result.Value">Value</span>)
  <span class="comment">/** Used by the test framework for logging test results*/</span>
  <span class="keyword">def</span> <a title="=&gt; Option[org.scalatools.testing.Logger]" id="57875">contentLogger</a>: <span title="Option[org.scalatools.testing.Logger]">Option</span>[TLogger] = <a title="object None" id="509">None</a>
}

<span class="keyword">trait</span> <a title="trait TestsListener extends java.lang.Object with sbt.TestReportListener" id="10821">TestsListener</a> <span class="keyword">extends</span> <a href="#8364" title="sbt.TestReportListener">TestReportListener</a>
{
	<span class="comment">/** called once, at beginning. */</span>
  <span class="keyword">def</span> <a title="=&gt; Unit" id="57876">doInit</a>
	<span class="comment">/** called once, at end. */</span>
  <span class="keyword">def</span> <a title="(sbt.Result.Value)Unit" id="57877">doComplete</a>(<a title="sbt.Result.Value" id="75813">finalResult</a>: Result.<span title="sbt.Result.Value">Value</span>)
}

<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class TestEvent extends java.lang.Object with NotNull with ScalaObject" id="11022">TestEvent</a> <span class="keyword">extends</span> <a title="NotNull" id="193">NotNull</a>
{
	<span class="keyword">def</span> <a title="=&gt; Option[sbt.Result.Value]" id="75593">result</a>: <span title="Option[sbt.Result.Value]">Option</span>[Result.Value]
	<span class="keyword">def</span> <a title="=&gt; Seq[org.scalatools.testing.Event]" id="75594">detail</a>: <span title="Seq[org.scalatools.testing.Event]">Seq</span>[TEvent] = <a title="object Nil" id="314">Nil</a>
}
<span class="keyword">object</span> <a title="object sbt.TestEvent" id="11023">TestEvent</a>
{
	<span class="keyword">def</span> <a title="(Seq[org.scalatools.testing.Event])sbt.TestEvent" id="75590">apply</a>(<a title="Seq[org.scalatools.testing.Event]" id="75591">events</a>: <span title="Seq[org.scalatools.testing.Event]">Seq</span>[TEvent]): <a href="#11022" title="sbt.TestEvent">TestEvent</a> =
	{
		<span class="keyword">val</span> <a title="sbt.Result.Value" id="75952">overallResult</a> = (<a href="TestFramework.scala.html#13339" title="object sbt.Result">Result</a>.<a href="TestFramework.scala.html#75448" title="=&gt; sbt.Result.Value">Passed</a> <a href="#75953" title="(sbt.Result.Value)((sbt.Result.Value, org.scalatools.testing.Event) =&gt; sbt.Result.Value)sbt.Result.Value" id="15963">/:</a> <a href="#75591" title="Seq[org.scalatools.testing.Event]">events</a>) { (<a title="sbt.Result.Value" id="75956">sum</a>, <a title="org.scalatools.testing.Event" id="75957">event</a>) =&gt;
			<span class="keyword">val</span> <a title="org.scalatools.testing.Result" id="75958">result</a> = <a href="#75957" title="org.scalatools.testing.Event">event</a>.<span title="()org.scalatools.testing.Result">result</span>
			<span title="sbt.Result.Value" class="keyword">if</span>(<a href="#75956" title="sbt.Result.Value">sum</a> <span title="(AnyRef)Boolean">==</span> <a href="TestFramework.scala.html#13339" title="object sbt.Result">Result</a>.<a href="TestFramework.scala.html#75446" title="=&gt; sbt.Result.Value">Error</a> <span title="(Boolean)Boolean">||</span> <a href="#75958" title="org.scalatools.testing.Result">result</a> <span title="(AnyRef)Boolean">==</span> TResult.<span title="org.scalatools.testing.Result(value Error)">Error</span>) <a href="TestFramework.scala.html#13339" title="object sbt.Result">Result</a>.<a href="TestFramework.scala.html#75446" title="=&gt; sbt.Result.Value">Error</a>
			<span class="keyword">else</span> <span title="sbt.Result.Value" class="keyword">if</span>(<a href="#75956" title="sbt.Result.Value">sum</a> <span title="(AnyRef)Boolean">==</span> <a href="TestFramework.scala.html#13339" title="object sbt.Result">Result</a>.<a href="TestFramework.scala.html#75450" title="=&gt; sbt.Result.Value">Failed</a> <span title="(Boolean)Boolean">||</span> <a href="#75958" title="org.scalatools.testing.Result">result</a> <span title="(AnyRef)Boolean">==</span> TResult.<span title="org.scalatools.testing.Result(value Failure)">Failure</span>) <a href="TestFramework.scala.html#13339" title="object sbt.Result">Result</a>.<a href="TestFramework.scala.html#75450" title="=&gt; sbt.Result.Value">Failed</a>
			<span class="keyword">else</span> <a href="TestFramework.scala.html#13339" title="object sbt.Result">Result</a>.<a href="TestFramework.scala.html#75448" title="=&gt; sbt.Result.Value">Passed</a>
		}
		<a title="template $anon extends sbt.TestEvent" id="75988" class="keyword">new</a> <a href="#11022" title="sbt.TestEvent">TestEvent</a> {
			<span class="keyword">val</span> <a title="Some[sbt.Result.Value]" id="75990">result</a> = <span title="(sbt.Result.Value)Some[sbt.Result.Value]">Some</span>(<a href="#75952" title="sbt.Result.Value">overallResult</a>)
			<span class="keyword">override</span> <span class="keyword">val</span> <a title="Seq[org.scalatools.testing.Event]" id="75992">detail</a> = <a href="#75591" title="Seq[org.scalatools.testing.Event]">events</a>
		}
	}
}

<span class="keyword">object</span> <a title="object sbt.TestLogger" id="12514">TestLogger</a>
{
	<span class="keyword">def</span> <a title="(sbt.Logger)sbt.TestLogger" id="58044">apply</a>(<a title="sbt.Logger" id="58046">logger</a>: sbt.<a href="Logger.scala.html#13533" title="sbt.Logger">Logger</a>): <a href="#12513" title="sbt.TestLogger">TestLogger</a> = <span title="sbt.TestLogger" class="keyword">new</span> <a href="#12513" title="sbt.TestLogger">TestLogger</a>(<a href="#58045" title="(sbt.Logger)org.scalatools.testing.Logger">wrap</a>(<a href="#58046" title="sbt.Logger">logger</a>))
	<span class="keyword">def</span> <a title="(sbt.Logger)org.scalatools.testing.Logger" id="58045">wrap</a>(<a title="sbt.Logger" id="75998">logger</a>: sbt.<a href="Logger.scala.html#13533" title="sbt.Logger">Logger</a>): <span title="org.scalatools.testing.Logger">TLogger</span> =
		<a title="template $anon extends java.lang.Object with org.scalatools.testing.Logger" id="75999" class="keyword">new</a> <span title="org.scalatools.testing.Logger">TLogger</span>
		{
			<span class="keyword">def</span> <a title="(String)Unit" id="76001">error</a>(<a title="String" id="76010">s</a>: <span title="String">String</span>) = <a href="#76006" title="(sbt.Level.Value,String)Unit">log</a>(<a href="Logger.scala.html#9889" title="object sbt.Level">Level</a>.<a href="Logger.scala.html#53519" title="=&gt; sbt.Level.Value">Error</a>, <a href="#76010" title="String">s</a>)
			<span class="keyword">def</span> <a title="(String)Unit" id="76002">warn</a>(<a title="String" id="76022">s</a>: <span title="String">String</span>) = <a href="#76006" title="(sbt.Level.Value,String)Unit">log</a>(<a href="Logger.scala.html#9889" title="object sbt.Level">Level</a>.<a href="Logger.scala.html#53517" title="=&gt; sbt.Level.Value">Warn</a>, <a href="#76022" title="String">s</a>)
			<span class="keyword">def</span> <a title="(String)Unit" id="76003">info</a>(<a title="String" id="76024">s</a>: <span title="String">String</span>) = <a href="#76006" title="(sbt.Level.Value,String)Unit">log</a>(<a href="Logger.scala.html#9889" title="object sbt.Level">Level</a>.<a href="Logger.scala.html#53515" title="=&gt; sbt.Level.Value">Info</a>, <a href="#76024" title="String">s</a>)
			<span class="keyword">def</span> <a title="(String)Unit" id="76004">debug</a>(<a title="String" id="76026">s</a>: <span title="String">String</span>) = <a href="#76006" title="(sbt.Level.Value,String)Unit">log</a>(<a href="Logger.scala.html#9889" title="object sbt.Level">Level</a>.<a href="Logger.scala.html#53513" title="=&gt; sbt.Level.Value">Debug</a>, <a href="#76026" title="String">s</a>)
			<span class="keyword">def</span> <a title="(Throwable)Unit" id="76005">trace</a>(<a title="Throwable" id="76028">t</a>: <span title="Throwable">Throwable</span>) = <a href="#75998" title="sbt.Logger">logger</a>.<a href="Logger.scala.html#49382" title="(=&gt; Throwable)Unit">trace</a>(<a href="#76028" title="Throwable">t</a>)
			<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Level.Value,String)Unit" id="76006">log</a>(<a title="sbt.Level.Value" id="76012">level</a>: Level.<span title="sbt.Level.Value">Value</span>, <a title="String" id="76013">s</a>: <span title="String">String</span>) = <a href="#75998" title="sbt.Logger">logger</a>.<a href="Logger.scala.html#49389" title="(sbt.Level.Value,=&gt; String)Unit">log</a>(<a href="#76012" title="sbt.Level.Value">level</a>, <a href="#76013" title="String">s</a>)
			<span class="keyword">def</span> <a title="()Boolean" id="76007">ansiCodesSupported</a>() = <a href="#75998" title="sbt.Logger">logger</a>.<a href="Logger.scala.html#49380" title="=&gt; Boolean">ansiCodesSupported</a>
		}
}
<span class="keyword">class</span> <a title="class TestLogger extends java.lang.Object with sbt.TestsListener with ScalaObject" id="12513">TestLogger</a>(<span class="keyword">val</span> <a title="org.scalatools.testing.Logger" id="75997">log</a>: <span title="org.scalatools.testing.Logger">TLogger</span>) <span class="keyword">extends</span> <a href="#10821" title="sbt.TestsListener">TestsListener</a>
{
	<span class="keyword">protected</span> <span class="keyword">var</span> <a title="Int" id="76034">skipped</a>, <a title="Int" id="76035">errors</a>, <a title="Int" id="76036">passed</a>, <a title="Int" id="76037">failures</a> = <span title="Int(0)" class="int">0</span>
	
	<span class="keyword">def</span> <a title="(String)Unit" id="58063">startGroup</a>(<a title="String" id="76038">name</a>: <span title="String">String</span>) <span title="Unit">{</span>}
	<span class="keyword">def</span> <a title="(sbt.TestEvent)Unit" id="58064">testEvent</a>(<a title="sbt.TestEvent" id="76039">event</a>: <a href="#11022" title="sbt.TestEvent">TestEvent</a>): <span title="Unit">Unit</span> = <a href="#76039" title="sbt.TestEvent">event</a>.<a href="#75594" title="=&gt; Seq[org.scalatools.testing.Event]">detail</a>.<a title="((org.scalatools.testing.Event) =&gt; Unit)Unit" id="15952">foreach</a>(<a href="#58067" title="(org.scalatools.testing.Event)Unit">count</a>)
	<span class="keyword">def</span> <a title="(String,Throwable)Unit" id="58065">endGroup</a>(<a title="String" id="76043">name</a>: <span title="String">String</span>, <a title="Throwable" id="76044">t</a>: <span title="Throwable">Throwable</span>)
	{
		<a href="#75997" title="=&gt; org.scalatools.testing.Logger">log</a>.<a title="(java.lang.Throwable)Unit" id="75531">trace</a>(<a href="#76044" title="Throwable">t</a>)
		<a href="#75997" title="=&gt; org.scalatools.testing.Logger">log</a>.<span title="(java.lang.String)Unit">error</span>(<span title="java.lang.String(&quot;Could not run test &quot;)" class="string">&quot;Could not run test &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#76043" title="String">name</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#76044" title="Throwable">t</a>.<a title="()java.lang.String" id="17833">toString</a>)
	}
	<span class="keyword">def</span> <a title="(String,sbt.Result.Value)Unit" id="58066">endGroup</a>(<a title="String" id="76045">name</a>: <span title="String">String</span>, <a title="sbt.Result.Value" id="76046">result</a>: Result.<span title="sbt.Result.Value">Value</span>) <span title="Unit">{</span>}
	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="(org.scalatools.testing.Event)Unit" id="58067">count</a>(<a title="org.scalatools.testing.Event" id="76040">event</a>: <a title="org.scalatools.testing.Event" id="50074">TEvent</a>): <span title="Unit">Unit</span> =
	{
		<a href="#76040" title="org.scalatools.testing.Event">event</a>.<span title="()org.scalatools.testing.Result">result</span> <span title="Unit" class="keyword">match</span>
		{
			<span title="Unit" class="keyword">case</span> TResult.<span title="org.scalatools.testing.Result(value Error)">Error</span> =&gt; <a href="#76035" title="(Int)Unit">errors</a> <span title="(Int)Int">+=</span><span title="Int(1)" class="int">1</span>
			<span title="Unit" class="keyword">case</span> TResult.<span title="org.scalatools.testing.Result(value Success)">Success</span> =&gt; <a href="#76036" title="(Int)Unit">passed</a> <span title="(Int)Int">+=</span><span title="Int(1)" class="int">1</span> 
			<span title="Unit" class="keyword">case</span> TResult.<span title="org.scalatools.testing.Result(value Failure)">Failure</span> =&gt; <a href="#76037" title="(Int)Unit">failures</a> <span title="(Int)Int">+=</span><span title="Int(1)" class="int">1</span> 
			<span title="Unit" class="keyword">case</span> TResult.<span title="org.scalatools.testing.Result(value Skipped)">Skipped</span> =&gt; <a href="#76034" title="(Int)Unit">skipped</a> <span title="(Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
		}
	}
	<span class="keyword">def</span> <a title="=&gt; Unit" id="58068">doInit</a>
	{
		<a href="#76037" title="(Int)Unit">failures</a> = <span title="Int(0)" class="int">0</span>
		<a href="#76035" title="(Int)Unit">errors</a> = <span title="Int(0)" class="int">0</span>
		<a href="#76036" title="(Int)Unit">passed</a> = <span title="Int(0)" class="int">0</span>
		<a href="#76034" title="(Int)Unit">skipped</a> = <span title="Int(0)" class="int">0</span>
	}
		<span class="comment">/** called once, at end. */</span>
	<span class="keyword">def</span> <a title="(sbt.Result.Value)Unit" id="58069">doComplete</a>(<a title="sbt.Result.Value" id="76136">finalResult</a>: Result.<span title="sbt.Result.Value">Value</span>): <span title="Unit">Unit</span> =
	{
		<span class="keyword">val</span> <a title="Int" id="76137">totalCount</a> = <a href="#76037" title="=&gt; Int">failures</a> <span title="(Int)Int">+</span> <a href="#76035" title="=&gt; Int">errors</a> <span title="(Int)Int">+</span> <a href="#76034" title="=&gt; Int">skipped</a> <span title="(Int)Int">+</span> <a href="#76036" title="=&gt; Int">passed</a>
		<span class="keyword">val</span> <a title="java.lang.String" id="76138">postfix</a> = <span title="java.lang.String(&quot;: Total &quot;)" class="string">&quot;: Total &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#76137" title="Int">totalCount</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;, Failed &quot;)" class="string">&quot;, Failed &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#76037" title="=&gt; Int">failures</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;, Errors &quot;)" class="string">&quot;, Errors &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#76035" title="=&gt; Int">errors</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;, Passed &quot;)" class="string">&quot;, Passed &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#76036" title="=&gt; Int">passed</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;, Skipped &quot;)" class="string">&quot;, Skipped &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#76034" title="=&gt; Int">skipped</a>
		<a href="#76136" title="sbt.Result.Value">finalResult</a> <span title="Unit" class="keyword">match</span>
		{
			<span title="Unit" class="keyword">case</span> <a href="TestFramework.scala.html#13339" title="object sbt.Result">Result</a>.<a href="TestFramework.scala.html#75446" title="=&gt; sbt.Result.Value">Error</a> =&gt; <a href="#75997" title="=&gt; org.scalatools.testing.Logger">log</a>.<span title="(java.lang.String)Unit">error</span>(<span title="java.lang.String(&quot;Error&quot;)" class="string">&quot;Error&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#76138" title="java.lang.String">postfix</a>)
			<span title="Unit" class="keyword">case</span> <a href="TestFramework.scala.html#13339" title="object sbt.Result">Result</a>.<a href="TestFramework.scala.html#75448" title="=&gt; sbt.Result.Value">Passed</a> =&gt; <a href="#75997" title="=&gt; org.scalatools.testing.Logger">log</a>.<a title="(java.lang.String)Unit" id="75529">info</a>(<span title="java.lang.String(&quot;Passed: &quot;)" class="string">&quot;Passed: &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#76138" title="java.lang.String">postfix</a>)
			<span title="Unit" class="keyword">case</span> <a href="TestFramework.scala.html#13339" title="object sbt.Result">Result</a>.<a href="TestFramework.scala.html#75450" title="=&gt; sbt.Result.Value">Failed</a> =&gt; <a href="#75997" title="=&gt; org.scalatools.testing.Logger">log</a>.<span title="(java.lang.String)Unit">error</span>(<span title="java.lang.String(&quot;Failed: &quot;)" class="string">&quot;Failed: &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#76138" title="java.lang.String">postfix</a>)
		}
	}
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Option[org.scalatools.testing.Logger]" id="58070">contentLogger</a>: <span title="Option[org.scalatools.testing.Logger]">Option</span>[TLogger] = <span title="(org.scalatools.testing.Logger)Some[org.scalatools.testing.Logger]">Some</span>(<a href="#75997" title="=&gt; org.scalatools.testing.Logger">log</a>)
}

        </pre>
    </body>
</html>