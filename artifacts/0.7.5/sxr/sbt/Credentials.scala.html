<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>sbt/Credentials.scala</title>
        <script type="text/javascript" src="../jquery-all.js"></script>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* sbt -- Simple Build Tool
 * Copyright 2009 Mark Harrah
 */</span>
<span class="keyword">package</span> sbt

<span class="keyword">import</span> java.io.File
<span class="keyword">import</span> org.apache.ivy.util.url.CredentialsStore

<span class="keyword">object</span> <a title="object sbt.Credentials" id="10726">Credentials</a>
{
	<span class="comment">/** Add the provided credentials to Ivy's credentials cache.*/</span>
	<span class="keyword">def</span> <a title="(String,String,String,String)Unit" id="56999">add</a>(<a title="String" id="57008">realm</a>: <span title="String">String</span>, <a title="String" id="57009">host</a>: <span title="String">String</span>, <a title="String" id="57010">userName</a>: <span title="String">String</span>, <a title="String" id="57011">passwd</a>: <span title="String">String</span>): <span title="Unit">Unit</span> =
		<a title="object org.apache.ivy.util.url.CredentialsStore" id="39993">CredentialsStore</a>.<a title="org.apache.ivy.util.url.CredentialsStore" id="57012">INSTANCE</a>.<a title="(java.lang.String,java.lang.String,java.lang.String,java.lang.String)Unit" id="57013">addCredentials</a>(<a href="#57008" title="String">realm</a>, <a href="#57009" title="String">host</a>, <a href="#57010" title="String">userName</a>, <a href="#57011" title="String">passwd</a>)
	<span class="comment">/** Load credentials from the given file into Ivy's credentials cache.*/</span>
	<span class="keyword">def</span> <a title="(String,sbt.Logger)Unit" id="57000">apply</a>(<a title="String" id="57017">file</a>: <span title="String">String</span>, <a title="sbt.Logger" id="57018">log</a>: <a href="Logger.scala.html#13533" title="sbt.Logger">Logger</a>): <span title="Unit">Unit</span> = <a href="#57002" title="(sbt.Path,sbt.Logger)Unit">apply</a>(<a href="Path.scala.html#11863" title="object sbt.Path">Path</a>.<a href="Path.scala.html#49317" title="(String)sbt.Path">fromFile</a>(<a href="#57017" title="String">file</a>), <a href="#57018" title="sbt.Logger">log</a>)
	<span class="comment">/** Load credentials from the given file into Ivy's credentials cache.*/</span>
	<span class="keyword">def</span> <a title="(java.io.File,sbt.Logger)Unit" id="57001">apply</a>(<a title="java.io.File" id="57022">file</a>: <a title="java.io.File" id="3633">File</a>, <a title="sbt.Logger" id="57023">log</a>: <a href="Logger.scala.html#13533" title="sbt.Logger">Logger</a>): <span title="Unit">Unit</span> = <a href="#57002" title="(sbt.Path,sbt.Logger)Unit">apply</a>(<a href="Path.scala.html#11863" title="object sbt.Path">Path</a>.<a href="Path.scala.html#49318" title="(java.io.File)sbt.Path">fromFile</a>(<a href="#57022" title="java.io.File">file</a>), <a href="#57023" title="sbt.Logger">log</a>)
	<span class="comment">/** Load credentials from the given file into Ivy's credentials cache.*/</span>
	<span class="keyword">def</span> <a title="(sbt.Path,sbt.Logger)Unit" id="57002">apply</a>(<a title="sbt.Path" id="57020">path</a>: <a href="Path.scala.html#11862" title="sbt.Path">Path</a>, <a title="sbt.Logger" id="57021">log</a>: <a href="Logger.scala.html#13533" title="sbt.Logger">Logger</a>)
	{
		<span class="keyword">val</span> <a title="Option[String]" id="57027">msg</a> =
			<span title="Option[String]" class="keyword">if</span>(<a href="#57020" title="sbt.Path">path</a>.<a href="Path.scala.html#49354" title="=&gt; Boolean">exists</a>)
			{
				<span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[String,String]" id="57028">properties</a> = <span title="scala.collection.mutable.HashMap[String,String]" class="keyword">new</span> scala.collection.mutable.<a title="scala.collection.mutable.HashMap[String,String]" id="20220">HashMap</a>[String, String]
				<span class="keyword">def</span> <a title="(List[String])Either[java.lang.String,String] with Product" id="57029">get</a>(<a title="List[String]" id="57030">keys</a>: <a title="List[String]" id="499">List</a>[String]) = <a href="#57030" title="List[String]">keys</a>.<a title="((String) =&gt; Iterable[String])List[String]" id="15552">flatMap</a>(<a href="#57028" title="scala.collection.mutable.HashMap[String,String]">properties</a>.<a href="#57033" title="(Option[String])Iterable[String]" id="37886">get</a>).<a title="=&gt; Option[String]" id="15810">firstOption</a>.<a title="(=&gt; java.lang.String)Either[java.lang.String,String] with Product" id="30341">toRight</a>(<a href="#57030" title="List[String]">keys</a>.<a title="=&gt; String" id="15501">head</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; not specified in credentials file: &quot;)" class="string">&quot; not specified in credentials file: &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#57020" title="sbt.Path">path</a>)

					impl.<a href="impl/MapUtilities.scala.html#14510" title="object sbt.impl.MapUtilities">MapUtilities</a>.<a href="impl/MapUtilities.scala.html#49045" title="(scala.collection.mutable.Map[String,String],sbt.Path,sbt.Logger)(implicit sbt.Format[String],sbt.Format[String])Option[String]">read</a>(<a href="#57028" title="scala.collection.mutable.HashMap[String,String]">properties</a>, <a href="#57020" title="sbt.Path">path</a>, <a href="#57021" title="sbt.Logger">log</a>) <a title="(=&gt; Option[String])Option[String]" id="30337">orElse</a>
					{
						<span title="object List">List</span>.<a title="(Iterable[Either[java.lang.String,String]])(List[java.lang.String], List[String])" id="15604">separate</a>( <span title="(List[java.lang.String]*)List[List[java.lang.String]]">List</span>(<a href="#57003" title="List[java.lang.String]">RealmKeys</a>, <a href="#57004" title="List[java.lang.String]">HostKeys</a>, <a href="#57005" title="List[java.lang.String]">UserKeys</a>, <a href="#57006" title="List[java.lang.String]">PasswordKeys</a>).<a title="((List[java.lang.String]) =&gt; Either[java.lang.String,String] with Product)List[Either[java.lang.String,String] with Product]" id="15531">map</a>(<a href="#57029" title="(List[String])Either[java.lang.String,String] with Product">get</a>) ) <span title="Option[String]" class="keyword">match</span>
						{
							<span title="None.type" class="keyword">case</span> (<a title="object Nil" id="314">Nil</a>, <a href="#57063" title="(List[String])Some[List[String]]" id="15579">List</a>(<a title="String" id="57066">realm</a>, <a title="String" id="57067">host</a>, <a title="String" id="57068">user</a>, <a title="String" id="57069">pass</a>)) =&gt; <a href="#56999" title="(String,String,String,String)Unit">add</a>(<a href="#57066" title="String">realm</a>, <a href="#57067" title="String">host</a>, <a href="#57068" title="String">user</a>, <a href="#57069" title="String">pass</a>); <a title="object None" id="509">None</a>
							<span title="Some[String]" class="keyword">case</span> (<a title="List[java.lang.String]" id="57070">errors</a>, _) =&gt; <span title="(String)Some[String]">Some</span>(<a href="#57070" title="List[java.lang.String]">errors</a>.<a title="(String)String" id="15979">mkString</a>(<span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span>))
						}
					}
			}
			<span class="keyword">else</span>
				<span title="(java.lang.String)Some[java.lang.String]">Some</span>(<span title="java.lang.String(&quot;Credentials file &quot;)" class="string">&quot;Credentials file &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#57020" title="sbt.Path">path</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; does not exist&quot;)" class="string">&quot; does not exist&quot;</span>)
		<a href="#57027" title="Option[String]">msg</a>.<a title="((String) =&gt; Unit)Unit" id="30336">foreach</a>(<a title="String" id="57097">x</a> =&gt; <a href="#57021" title="sbt.Logger">log</a>.<a href="Logger.scala.html#49386" title="(=&gt; String)Unit">warn</a>(<a href="#57097" title="String">x</a>))
	}
	<span class="keyword">private</span>[<span class="keyword">this</span>] <span class="keyword">val</span> <a title="List[java.lang.String]" id="57003">RealmKeys</a> = <span title="(java.lang.String*)List[java.lang.String]">List</span>(<span title="java.lang.String(&quot;realm&quot;)" class="string">&quot;realm&quot;</span>)
	<span class="keyword">private</span>[<span class="keyword">this</span>] <span class="keyword">val</span> <a title="List[java.lang.String]" id="57004">HostKeys</a> = <span title="(java.lang.String*)List[java.lang.String]">List</span>(<span title="java.lang.String(&quot;host&quot;)" class="string">&quot;host&quot;</span>, <span title="java.lang.String(&quot;hostname&quot;)" class="string">&quot;hostname&quot;</span>)
	<span class="keyword">private</span>[<span class="keyword">this</span>] <span class="keyword">val</span> <a title="List[java.lang.String]" id="57005">UserKeys</a> = <span title="(java.lang.String*)List[java.lang.String]">List</span>(<span title="java.lang.String(&quot;user&quot;)" class="string">&quot;user&quot;</span>, <span title="java.lang.String(&quot;user.name&quot;)" class="string">&quot;user.name&quot;</span>, <span title="java.lang.String(&quot;username&quot;)" class="string">&quot;username&quot;</span>)
	<span class="keyword">private</span>[<span class="keyword">this</span>] <span class="keyword">val</span> <a title="List[java.lang.String]" id="57006">PasswordKeys</a> = <span title="(java.lang.String*)List[java.lang.String]">List</span>(<span title="java.lang.String(&quot;password&quot;)" class="string">&quot;password&quot;</span>, <span title="java.lang.String(&quot;pwd&quot;)" class="string">&quot;pwd&quot;</span>, <span title="java.lang.String(&quot;pass&quot;)" class="string">&quot;pass&quot;</span>, <span title="java.lang.String(&quot;passwd&quot;)" class="string">&quot;passwd&quot;</span>)
}
        </pre>
    </body>
</html>