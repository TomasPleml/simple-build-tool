<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>sbt/Main.scala</title>
        <script type="text/javascript" src="../jquery-all.js"></script>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* sbt -- Simple Build Tool
 * Copyright 2008, 2009, 2010  Steven Blundy, Mark Harrah, David MacIver, Mikko Peltonen
 */</span>
<span class="keyword">package</span> sbt

<span class="keyword">import</span> java.io.File
<span class="keyword">import</span> scala.collection.immutable.TreeSet
<span class="keyword">import</span> complete.HistoryCommands
<span class="keyword">import</span> HistoryCommands.{Start =&gt; HistoryPrefix}

<span class="comment">/** This class is the entry point for sbt.  If it is given any arguments, it interprets them
* as actions, executes the corresponding actions, and exits.  If there were no arguments provided,
* sbt enters interactive mode.*/</span>
<span class="keyword">object</span> <a title="object sbt.Main" id="10648">Main</a>
{
	<span class="keyword">val</span> <a title="Int" id="65668">NormalExitCode</a> = <span title="Int(0)" class="int">0</span>
	<span class="keyword">val</span> <a title="Int" id="65670">SetupErrorExitCode</a> = <span title="Int(1)" class="int">1</span>
	<span class="keyword">val</span> <a title="Int" id="65672">SetupDeclinedExitCode</a> = <span title="Int(2)" class="int">2</span>
	<span class="keyword">val</span> <a title="Int" id="65674">LoadErrorExitCode</a> = <span title="Int(3)" class="int">3</span>
	<span class="keyword">val</span> <a title="Int" id="65676">UsageErrorExitCode</a> = <span title="Int(4)" class="int">4</span>
	<span class="keyword">val</span> <a title="Int" id="65678">BuildErrorExitCode</a> = <span title="Int(5)" class="int">5</span>
	<span class="keyword">val</span> <a title="Int" id="65680">ProgramErrorExitCode</a> = <span title="Int(6)" class="int">6</span>
	<span class="keyword">val</span> <a title="Int" id="65682">MaxInt</a> = java.lang.Integer.<span title="Int(2147483647)">MAX_VALUE</span>
}

<span class="keyword">import</span> Main._

<span class="keyword">class</span> <a title="class xMain extends java.lang.Object with xsbti.AppMain with ScalaObject" id="9972">xMain</a> <span class="keyword">extends</span> xsbti.<a href="../xsbti/AppMain.java.html#7631" title="xsbti.AppMain">AppMain</a>
{
	<span class="keyword">final</span> <span class="keyword">def</span> <a title="(xsbti.AppConfiguration)xsbti.MainResult" id="65688">run</a>(<a title="xsbti.AppConfiguration" id="65793">configuration</a>: xsbti.<a href="../xsbti/AppConfiguration.java.html#7607" title="xsbti.AppConfiguration">AppConfiguration</a>): xsbti.<a href="../xsbti/MainResult.java.html#7634" title="xsbti.MainResult">MainResult</a> =
	{
		<span class="keyword">def</span> <a title="(List[String],Option[String])xsbti.MainResult" id="65799">run0</a>(<a title="List[String]" id="65800">remainingArguments</a>: <span title="List[String]">List</span>[String], <a title="Option[String]" id="65801">buildScalaVersion</a>: <span title="Option[String]">Option</span>[String]): xsbti.<a href="../xsbti/MainResult.java.html#7634" title="xsbti.MainResult">MainResult</a> =
		{
			<span class="comment">// done this way because in Scala 2.7.7, tail recursion in catch blocks is not optimized</span>
			<span class="keyword">val</span> <a title="&lt;refinement&gt; extends Either[sbt.ReloadException,xsbti.MainResult] with Product" id="65802">result</a> = <span class="keyword">try</span> { <span title="(xsbti.MainResult)Right[Nothing,xsbti.MainResult]">Right</span>(<a href="#65689" title="(xsbti.AppConfiguration,List[String],Option[String])xsbti.MainResult">run</a>(<a href="#65793" title="xsbti.AppConfiguration">configuration</a>, <a href="#65800" title="List[String]">remainingArguments</a>, <a href="#65801" title="Option[String]">buildScalaVersion</a>)) } <span class="keyword">catch</span> { <span title="Left[sbt.ReloadException,Nothing]" class="keyword">case</span> <a title="sbt.ReloadException" id="65815">re</a>: <a href="MainControl.scala.html#11955" title="sbt.ReloadException">ReloadException</a> =&gt; <span title="(sbt.ReloadException)Left[sbt.ReloadException,Nothing]">Left</span>(<a href="#65815" title="sbt.ReloadException">re</a>) }
			<a href="#65802" title="&lt;refinement&gt; extends Either[sbt.ReloadException,xsbti.MainResult] with Product">result</a> <span title="xsbti.MainResult" class="keyword">match</span>
			{
				<span title="xsbti.MainResult" class="keyword">case</span> Left(<a title="sbt.ReloadException" id="65838">re</a>) =&gt; <a href="#65799" title="(List[String],Option[String])xsbti.MainResult">run0</a>(<a href="#65838" title="sbt.ReloadException">re</a>.<a href="MainControl.scala.html#65818" title="=&gt; List[String]">remainingArguments</a>, <a href="#65838" title="sbt.ReloadException">re</a>.<a href="MainControl.scala.html#65820" title="=&gt; Option[String]">buildScalaVersion</a>)
				<span title="xsbti.MainResult" class="keyword">case</span> Right(<a title="xsbti.MainResult" id="65839">r</a>) =&gt; <a href="#65839" title="xsbti.MainResult">r</a>
			}
		}
		<a href="#65799" title="(List[String],Option[String])xsbti.MainResult">run0</a>(<a href="#65793" title="xsbti.AppConfiguration">configuration</a>.<a href="../xsbti/AppConfiguration.java.html#65795" title="()Array[java.lang.String]">arguments</a>.<a title="((java.lang.String) =&gt; java.lang.String)Array[java.lang.String]" id="15685">map</a>(<a href="#65843" title="java.lang.String">_</a>.<span title="()java.lang.String">trim</span>).<span title="=&gt; List[java.lang.String]">toList</span>, <span title="object None">None</span>)
	}
	<span class="keyword">final</span> <span class="keyword">def</span> <a title="(xsbti.AppConfiguration,List[String],Option[String])xsbti.MainResult" id="65689">run</a>(<a title="xsbti.AppConfiguration" id="65807">configuration</a>: xsbti.<a href="../xsbti/AppConfiguration.java.html#7607" title="xsbti.AppConfiguration">AppConfiguration</a>, <a title="List[String]" id="65808">remainingArguments</a>: <span title="List[String]">List</span>[String], <a title="Option[String]" id="65809">buildScalaVersion</a>: <span title="Option[String]">Option</span>[String]): xsbti.<a href="../xsbti/MainResult.java.html#7634" title="xsbti.MainResult">MainResult</a> =
	{
		<span class="keyword">val</span> <a title="Long" id="65844">startTime</a> = <span title="object java.lang.System">System</span>.<span title="()Long">currentTimeMillis</span>
		<a href="Project.scala.html#9292" title="object sbt.Project">Project</a>.<a href="Project.scala.html#51622" title="(xsbti.AppProvider,Option[String])sbt.LoadResult">loadProject</a>(<a href="#65807" title="xsbti.AppConfiguration">configuration</a>.<a href="../xsbti/AppConfiguration.java.html#65797" title="()xsbti.AppProvider">provider</a>, <a href="#65809" title="Option[String]">buildScalaVersion</a>) <span title="xsbti.MainResult" class="keyword">match</span>
		{
			<span title="sbt.Exit" class="keyword">case</span> <a title="sbt.LoadSetupError" id="65869">err</a>: <a href="Project.scala.html#8919" title="sbt.LoadSetupError">LoadSetupError</a> =&gt;
				<span title="(Any)Unit">println</span>(<span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#65869" title="sbt.LoadSetupError">err</a>.<a href="Project.scala.html#65871" title="=&gt; String">message</a>)
				<a href="ExitHook.scala.html#9991" title="object sbt.ExitHooks">ExitHooks</a>.<a href="ExitHook.scala.html#60408" title="(sbt.Logger)Unit">runExitHooks</a>(<a href="Project.scala.html#9292" title="object sbt.Project">Project</a>.<a href="Project.scala.html#51619" title="=&gt; sbt.ConsoleLogger">bootLogger</a>)
				<a href="MainControl.scala.html#65879" title="(Int)sbt.Exit">Exit</a>(<a href="#65670" title="=&gt; Int">SetupErrorExitCode</a>)
			<span title="sbt.Exit" class="keyword">case</span> <a href="Project.scala.html#11869" title="object sbt.LoadSetupDeclined">LoadSetupDeclined</a> =&gt;
				<a href="ExitHook.scala.html#9991" title="object sbt.ExitHooks">ExitHooks</a>.<a href="ExitHook.scala.html#60408" title="(sbt.Logger)Unit">runExitHooks</a>(<a href="Project.scala.html#9292" title="object sbt.Project">Project</a>.<a href="Project.scala.html#51619" title="=&gt; sbt.ConsoleLogger">bootLogger</a>)
				<a href="MainControl.scala.html#65879" title="(Int)sbt.Exit">Exit</a>(<a href="#65672" title="=&gt; Int">SetupDeclinedExitCode</a>)
			<span title="xsbti.MainResult" class="keyword">case</span> <a title="sbt.LoadError" id="65889">err</a>: <a href="Project.scala.html#9738" title="sbt.LoadError">LoadError</a> =&gt;
			{
				<span class="keyword">val</span> <a title="sbt.ConsoleLogger" id="65894">log</a> = <a href="Project.scala.html#9292" title="object sbt.Project">Project</a>.<a href="Project.scala.html#51619" title="=&gt; sbt.ConsoleLogger">bootLogger</a>
				<span title="(Any)Unit">println</span>(<a href="#65889" title="sbt.LoadError">err</a>.<a href="Project.scala.html#65891" title="=&gt; String">message</a>)
				<a href="ExitHook.scala.html#9991" title="object sbt.ExitHooks">ExitHooks</a>.<a href="ExitHook.scala.html#60408" title="(sbt.Logger)Unit">runExitHooks</a>(<a href="#65894" title="sbt.ConsoleLogger">log</a>)
				<span class="comment">// Because this is an error that can probably be corrected, prompt user to try again.</span>
				<span class="keyword">val</span> <a title="Option[java.lang.String]" id="65895">line</a> =
					<span class="keyword">try</span> { <a href="LineReader.scala.html#9583" title="object sbt.SimpleReader">SimpleReader</a>.<a href="LineReader.scala.html#57225" title="(String)Option[java.lang.String]">readLine</a>(<span title="java.lang.String(&quot;\012 Hit enter to retry or 'exit' to quit: &quot;)" class="string">&quot;\n Hit enter to retry or 'exit' to quit: &quot;</span>) }
					<span class="keyword">catch</span>
					{
						<span title="None.type" class="keyword">case</span> <a title="java.lang.Throwable" id="65897">e</a> =&gt;
							<a href="#65894" title="sbt.ConsoleLogger">log</a>.<a href="Logger.scala.html#65238" title="(=&gt; Throwable)Unit">trace</a>(<a href="#65897" title="java.lang.Throwable">e</a>)
							<a href="#65894" title="sbt.ConsoleLogger">log</a>.<a href="Logger.scala.html#49387" title="(=&gt; String)Unit">error</a>(<a href="#65897" title="java.lang.Throwable">e</a>.<span title="()java.lang.String">toString</span>)
							<span title="object None">None</span>
					}
				<a href="#65895" title="Option[java.lang.String]">line</a> <span title="xsbti.MainResult" class="keyword">match</span>
				{
					<span title="xsbti.MainResult" class="keyword">case</span> Some(<a title="java.lang.String" id="65900">l</a>) =&gt; <span title="xsbti.MainResult" class="keyword">if</span>(<span title="=&gt; Boolean">!</span><a href="#65785" title="(String)Boolean">isTerminateAction</a>(<a href="#65900" title="java.lang.String">l</a>)) <a href="#65689" title="(xsbti.AppConfiguration,List[String],Option[String])xsbti.MainResult">run</a>(<a href="#65807" title="xsbti.AppConfiguration">configuration</a>, <a href="#65808" title="List[String]">remainingArguments</a>, <a href="#65809" title="Option[String]">buildScalaVersion</a>) <span class="keyword">else</span> <a href="MainControl.scala.html#65879" title="(Int)sbt.Exit">Exit</a>(<a href="#65668" title="=&gt; Int">NormalExitCode</a>)
					<span title="sbt.Exit" class="keyword">case</span> <span title="object None">None</span> =&gt; <a href="MainControl.scala.html#65879" title="(Int)sbt.Exit">Exit</a>(<a href="#65674" title="=&gt; Int">LoadErrorExitCode</a>)
				}
			}
			<span title="xsbti.MainResult" class="keyword">case</span> <a title="sbt.LoadSuccess" id="65909">success</a>: <a href="Project.scala.html#7959" title="sbt.LoadSuccess">LoadSuccess</a> =&gt;
			{
				<span class="keyword">import</span> success.project
				<span class="keyword">try</span>
				{
					<span class="comment">// in interactive mode, fill all undefined properties</span>
					<span title="xsbti.MainResult" class="keyword">if</span>(<a href="#65807" title="xsbti.AppConfiguration">configuration</a>.<a href="../xsbti/AppConfiguration.java.html#65795" title="()Array[java.lang.String]">arguments</a>.<a title="=&gt; Int" id="15677">length</a> <span title="(Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span> <span title="(Boolean)Boolean">||</span> <a href="#65778" title="(List[sbt.Project])Boolean">fillUndefinedProjectProperties</a>(<a href="Project.scala.html#65911" title="=&gt; sbt.Project">project</a>.<a href="Project.scala.html#50880" title="=&gt; List[sbt.Project]">projectClosure</a>.<a title="=&gt; List[sbt.Project]" id="15517">toList</a>.<a title="=&gt; List[sbt.Project]" id="15554">reverse</a>))
						<a href="#65691" title="(sbt.Project,xsbti.AppConfiguration,List[String],Long)xsbti.MainResult">startProject</a>(<a href="Project.scala.html#65911" title="=&gt; sbt.Project">project</a>, <a href="#65807" title="xsbti.AppConfiguration">configuration</a>, <a href="#65808" title="List[String]">remainingArguments</a>, <a href="#65844" title="Long">startTime</a>)
					<span class="keyword">else</span>
						<a href="MainControl.scala.html#65879" title="(Int)sbt.Exit">Exit</a>(<a href="#65668" title="=&gt; Int">NormalExitCode</a>)
				}
				<span class="keyword">finally</span> { <a href="ExitHook.scala.html#9991" title="object sbt.ExitHooks">ExitHooks</a>.<a href="ExitHook.scala.html#60408" title="(sbt.Logger)Unit">runExitHooks</a>(<a href="Project.scala.html#65911" title="=&gt; sbt.Project">project</a>.<a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>) }
			}
		}
	}
	<span class="comment">/** If no arguments are provided, drop to interactive prompt.
	* If the user wants to run commands before dropping to the interactive prompt,
	*   make dropping to the interactive prompt the action to perform on failure */</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(List[String])List[String]" id="65690">initialize</a>(<a title="List[String]" id="65925">args</a>: <span title="List[String]">List</span>[String]): <span title="List[String]">List</span>[String] =
		<a href="#65925" title="List[String]">args</a>.<a title="=&gt; Option[String]" id="15808">lastOption</a> <span title="List[String]" class="keyword">match</span>
		{
			<span title="List[java.lang.String]" class="keyword">case</span> <span title="object None">None</span> =&gt; <a href="#65724" title="=&gt; java.lang.String">InteractiveCommand</a> <a href="#65926" title="(java.lang.String)List[java.lang.String]">::</a> <span title="object Nil">Nil</span>
			<span title="List[String]" class="keyword">case</span> Some(<a href="#65724" title="=&gt; java.lang.String">InteractiveCommand</a>) =&gt; (<a href="#65748" title="=&gt; java.lang.String">FailureHandlerPrefix</a> <span title="(Any)java.lang.String">+</span> <a href="#65724" title="=&gt; java.lang.String">InteractiveCommand</a>) <a href="#65929" title="(String)List[String]">::</a> <a href="#65925" title="List[String]">args</a>
			<span title="List[String]" class="keyword">case</span> Some(<a href="#65716" title="=&gt; java.lang.String">ExitCommand</a> | <a href="#65718" title="=&gt; java.lang.String">QuitCommand</a>) =&gt; <a href="#65925" title="List[String]">args</a>
			<span title="List[java.lang.String]" class="keyword">case</span> _ =&gt; <a href="#65925" title="List[String]">args</a> <a href="#65932" title="(List[java.lang.String])List[java.lang.String]">:::</a> <a href="#65716" title="=&gt; java.lang.String">ExitCommand</a> <a href="#65933" title="(java.lang.String)List[java.lang.String]">::</a> <span title="object Nil">Nil</span>
		}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project,xsbti.AppConfiguration,List[String],Long)xsbti.MainResult" id="65691">startProject</a>(<a title="sbt.Project" id="65921">project</a>: <a href="Project.scala.html#9291" title="sbt.Project">Project</a>, <a title="xsbti.AppConfiguration" id="65922">configuration</a>: xsbti.<a href="../xsbti/AppConfiguration.java.html#7607" title="xsbti.AppConfiguration">AppConfiguration</a>, <a title="List[String]" id="65923">remainingArguments</a>: <span title="List[String]">List</span>[String], <a title="Long" id="65924">startTime</a>: <span title="Long">Long</span>): xsbti.<a href="../xsbti/MainResult.java.html#7634" title="xsbti.MainResult">MainResult</a> =
	{
		<a href="#65921" title="sbt.Project">project</a>.<a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49385" title="(=&gt; String)Unit">info</a>(<span title="java.lang.String(&quot;Building project &quot;)" class="string">&quot;Building project &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#65921" title="sbt.Project">project</a>.<a href="Project.scala.html#50858" title="=&gt; String">name</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#65921" title="sbt.Project">project</a>.<a href="Project.scala.html#50859" title="=&gt; sbt.Version">version</a>.<span title="()java.lang.String">toString</span> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; against Scala &quot;)" class="string">&quot; against Scala &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#65921" title="sbt.Project">project</a>.<a href="Project.scala.html#50924" title="=&gt; String">buildScalaVersion</a>)
		<a href="#65921" title="sbt.Project">project</a>.<a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49385" title="(=&gt; String)Unit">info</a>(<span title="java.lang.String(&quot;   using &quot;)" class="string">&quot;   using &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#65921" title="sbt.Project">project</a>.<a title="()java.lang.Class[_]" id="3454">getClass</a>.<a title="()java.lang.String" id="3927">getName</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; with sbt &quot;)" class="string">&quot; with sbt &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="../ComponentManager.scala.html#10411" title="object sbt.ComponentManager">ComponentManager</a>.<a href="../ComponentManager.scala.html#40156" title="=&gt; java.lang.String">version</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; and Scala &quot;)" class="string">&quot; and Scala &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#65921" title="sbt.Project">project</a>.<a href="Project.scala.html#50912" title="=&gt; project.Property[String]">defScalaVersion</a>.<a href="Environment.scala.html#52128" title="=&gt; String">value</a>)
		<a href="#65692" title="(sbt.Project,List[String],xsbti.AppConfiguration,Long)xsbti.MainResult">processArguments</a>(<a href="#65921" title="sbt.Project">project</a>, <a href="#65690" title="(List[String])List[String]">initialize</a>(<a href="#65923" title="List[String]">remainingArguments</a>), <a href="#65922" title="xsbti.AppConfiguration">configuration</a>, <a href="#65924" title="Long">startTime</a>) <span title="xsbti.MainResult" class="keyword">match</span>
		{
			<span title="xsbti.Exit" class="keyword">case</span> <a title="xsbti.Exit" id="65946">e</a>: xsbti.<a href="../xsbti/Exit.java.html#7598" title="xsbti.Exit">Exit</a> =&gt;
				<a href="#65774" title="(sbt.Project,Long,String)Unit">printTime</a>(<a href="#65921" title="sbt.Project">project</a>, <a href="#65924" title="Long">startTime</a>, <span title="java.lang.String(&quot;session&quot;)" class="string">&quot;session&quot;</span>)
				<span title="Unit" class="keyword">if</span>(<a href="#65946" title="xsbti.Exit">e</a>.<a href="../xsbti/Exit.java.html#65881" title="()Int">code</a> <span title="(Int)Boolean">==</span> <a href="#65668" title="=&gt; Int">NormalExitCode</a>)
					<a href="#65921" title="sbt.Project">project</a>.<a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49388" title="(=&gt; String)Unit">success</a>(<span title="java.lang.String(&quot;Build completed successfully.&quot;)" class="string">&quot;Build completed successfully.&quot;</span>)
				<span class="keyword">else</span>
					<a href="#65921" title="sbt.Project">project</a>.<a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49387" title="(=&gt; String)Unit">error</a>(<span title="java.lang.String(&quot;Error during build.&quot;)" class="string">&quot;Error during build.&quot;</span>)
				<a href="#65946" title="xsbti.Exit">e</a>
			<span title="xsbti.MainResult" class="keyword">case</span> <a title="xsbti.MainResult" id="65953">r</a> =&gt; <a href="#65953" title="xsbti.MainResult">r</a>
		}
	}
	<span class="comment">/** This is the top-level command processing method. */</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project,List[String],xsbti.AppConfiguration,Long)xsbti.MainResult" id="65692">processArguments</a>(<a title="sbt.Project" id="65942">baseProject</a>: <a href="Project.scala.html#9291" title="sbt.Project">Project</a>, <a title="List[String]" id="65943">arguments</a>: <span title="List[String]">List</span>[String], <a title="xsbti.AppConfiguration" id="65944">configuration</a>: xsbti.<a href="../xsbti/AppConfiguration.java.html#7607" title="xsbti.AppConfiguration">AppConfiguration</a>, <a title="Long" id="65945">startTime</a>: <span title="Long">Long</span>): xsbti.<a href="../xsbti/MainResult.java.html#7634" title="xsbti.MainResult">MainResult</a> =
	{
		<span class="keyword">type</span> <a title="Option[String]" id="65954">OnFailure</a> = <span title="Option[String]">Option</span>[String]
		<span class="keyword">def</span> <a title="=&gt; object None" id="65955">ExitOnFailure</a> = <span title="object None">None</span>
		<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Some[java.lang.String]" id="65957">interactiveContinue</a> = <span title="(java.lang.String)Some[java.lang.String]">Some</span>( <a href="#65724" title="=&gt; java.lang.String">InteractiveCommand</a> )
		<span class="keyword">def</span> <a title="(Int)Some[java.lang.String]" id="65958">remoteContinue</a>(<a title="Int" id="65969">port</a>: <span title="Int">Int</span>) = <span title="(java.lang.String)Some[java.lang.String]">Some</span>( <a href="#65746" title="=&gt; java.lang.String">FileCommandsPrefix</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;-&quot;)" class="string">&quot;-&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#65969" title="Int">port</a> )
		<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="sbt.processor.Handler" id="65960">PHandler</a> = <span title="sbt.processor.Handler" class="keyword">new</span> processor.<a href="processor/Handler.scala.html#14731" title="sbt.processor.Handler">Handler</a>(<a href="#65942" title="sbt.Project">baseProject</a>)
		
		<span class="comment">// replace in 2.8</span>
		<span class="keyword">trait</span> <a title="trait Trampoline extends java.lang.Object" id="2105">Trampoline</a>
		<span class="keyword">class</span> <a title="class Done extends java.lang.Object with Trampoline with ScalaObject" id="65962">Done</a>(<span class="keyword">val</span> <a title="xsbti.MainResult" id="66001">r</a>: xsbti.<a href="../xsbti/MainResult.java.html#7634" title="xsbti.MainResult">MainResult</a>) <span class="keyword">extends</span> <a href="#2105" title="Trampoline">Trampoline</a>
		<span class="keyword">class</span> <a title="class Continue extends java.lang.Object with Trampoline with ScalaObject" id="65963">Continue</a>(<a title="sbt.Project" id="66014">project</a>: <a href="Project.scala.html#9291" title="sbt.Project">Project</a>, <a title="List[String]" id="66015">arguments</a>: <span title="List[String]">List</span>[String], <a title="OnFailure" id="66016">failAction</a>: <span title="OnFailure">OnFailure</span>) <span class="keyword">extends</span> <a href="#2105" title="Trampoline">Trampoline</a> {
			<span class="keyword">def</span> <a title="()Trampoline" id="66009">apply</a>() = <a href="#65967" title="(sbt.Project,List[String],OnFailure)Trampoline">process</a>(<a href="#66014" title="sbt.Project">project</a>, <a href="#66015" title="List[String]">arguments</a>, <a href="#66016" title="OnFailure">failAction</a>)
		}
		<span class="keyword">def</span> <a title="(sbt.Project,List[String],OnFailure)Continue" id="65964">continue</a>(<a title="sbt.Project" id="66021">project</a>: <a href="Project.scala.html#9291" title="sbt.Project">Project</a>, <a title="List[String]" id="66022">arguments</a>: <span title="List[String]">List</span>[String], <a title="OnFailure" id="66023">failAction</a>: <span title="OnFailure">OnFailure</span>) = <span title="Continue" class="keyword">new</span> <a href="#65963" title="Continue">Continue</a>(<a href="#66021" title="sbt.Project">project</a>, <a href="#66022" title="List[String]">arguments</a>, <a href="#66023" title="OnFailure">failAction</a>)
		<span class="keyword">def</span> <a title="(xsbti.MainResult)Done" id="65965">result</a>(<a title="xsbti.MainResult" id="66024">r</a>: xsbti.<a href="../xsbti/MainResult.java.html#7634" title="xsbti.MainResult">MainResult</a>) = <span title="Done" class="keyword">new</span> <a href="#65962" title="Done">Done</a>(<a href="#66024" title="xsbti.MainResult">r</a>)
		<span class="keyword">def</span> <a title="(Trampoline)xsbti.MainResult" id="65966">run</a>(<a title="Trampoline" id="66025">t</a>: <a href="#2105" title="Trampoline">Trampoline</a>): xsbti.<a href="../xsbti/MainResult.java.html#7634" title="xsbti.MainResult">MainResult</a> = <a href="#66025" title="Trampoline">t</a> <span title="xsbti.MainResult" class="keyword">match</span> { <span title="xsbti.MainResult" class="keyword">case</span> <a title="Done" id="66026">d</a>: <a href="#65962" title="Done">Done</a> =&gt; <a href="#66026" title="Done">d</a>.<a href="#66001" title="=&gt; xsbti.MainResult">r</a>; <span title="xsbti.MainResult" class="keyword">case</span> <a title="Continue" id="66027">c</a>: <a href="#65963" title="Continue">Continue</a> =&gt; <a href="#65966" title="(Trampoline)xsbti.MainResult">run</a>(<a href="#66009" title="()Trampoline">c</a>()) }

		<span class="keyword">def</span> <a title="(sbt.Project,List[String],OnFailure)Trampoline" id="65967">process</a>(<a title="sbt.Project" id="66018">project</a>: <a href="Project.scala.html#9291" title="sbt.Project">Project</a>, <a title="List[String]" id="66019">arguments</a>: <span title="List[String]">List</span>[String], <a title="OnFailure" id="66020">failAction</a>: <span title="OnFailure">OnFailure</span>): <a href="#2105" title="Trampoline">Trampoline</a> =
		{
			<a href="#66018" title="sbt.Project">project</a>.<a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49384" title="(=&gt; String)Unit">debug</a>(<span title="java.lang.String(&quot;commands &quot;)" class="string">&quot;commands &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#66020" title="OnFailure">failAction</a>.<a title="(Option[java.lang.String])Iterable[java.lang.String]" id="902">map</a>(<span title="java.lang.String(&quot;(on failure: &quot;)" class="string">&quot;(on failure: &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#66037" title="String">_</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;): &quot;)" class="string">&quot;): &quot;</span>).<a title="=&gt; String" id="15980">mkString</a> <span title="(Any)java.lang.String">+</span> <a href="#66019" title="List[String]">arguments</a>.<span title="(String)String">mkString</span>(<span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>))
			<span class="keyword">def</span> <a title="(List[String])List[String]" id="66028">rememberCurrent</a>(<a title="List[String]" id="66058">newArgs</a>: <span title="List[String]">List</span>[String]) = <a href="#66029" title="(List[String])List[String]">rememberProject</a>(<a href="#66030" title="(List[String])List[String]">rememberFail</a>(<a href="#66058" title="List[String]">newArgs</a>))
			<span class="keyword">def</span> <a title="(List[String])List[String]" id="66029">rememberProject</a>(<a title="List[String]" id="66059">newArgs</a>: <span title="List[String]">List</span>[String]) =
				<span title="List[String]" class="keyword">if</span>(<a href="#65942" title="sbt.Project">baseProject</a>.<a href="Project.scala.html#50858" title="=&gt; String">name</a> <span title="(AnyRef)Boolean">!=</span> <a href="#66018" title="sbt.Project">project</a>.<a href="Project.scala.html#50858" title="=&gt; String">name</a> <span title="(Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#65693" title="(sbt.Project)Boolean">internal</a>(<a href="#66018" title="sbt.Project">project</a>)) (<a href="#65712" title="=&gt; java.lang.String">ProjectAction</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#66018" title="sbt.Project">project</a>.<a href="Project.scala.html#50858" title="=&gt; String">name</a>) <a href="#66064" title="(String)List[String]">::</a> <a href="#66059" title="List[String]">newArgs</a> <span class="keyword">else</span> <a href="#66059" title="List[String]">newArgs</a>
			<span class="keyword">def</span> <a title="(List[String])List[String]" id="66030">rememberFail</a>(<a title="List[String]" id="66067">newArgs</a>: <span title="List[String]">List</span>[String]) = <a href="#66020" title="OnFailure">failAction</a>.<span title="((String) =&gt; java.lang.String)Option[java.lang.String]">map</span>(<a title="String" id="66071">f</a> =&gt; (<a href="#65748" title="=&gt; java.lang.String">FailureHandlerPrefix</a> <span title="(Any)java.lang.String">+</span> <a href="#66071" title="String">f</a>)).<a title="=&gt; List[java.lang.String]" id="30340">toList</a> <a href="#66068" title="(List[String])List[String]">:::</a>  <a href="#66067" title="List[String]">newArgs</a>

			<span class="keyword">def</span> <a title="(=&gt; Trampoline)Trampoline" id="66031">tryOrFail</a>(<a title="=&gt; Trampoline" id="66074">action</a>: =&gt; Trampoline)  =  <span class="keyword">try</span> { <a href="#66074" title="=&gt; Trampoline">action</a> } <span class="keyword">catch</span> { <span title="&lt;refinement&gt; extends ScalaObject with Trampoline" class="keyword">case</span> <a title="Exception" id="66075">e</a>: <span title="Exception">Exception</span> =&gt; <a href="#65791" title="(sbt.Logger,Throwable)Unit">logCommandError</a>(<a href="#66018" title="sbt.Project">project</a>.<a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>, <a href="#66075" title="Exception">e</a>); <a href="#66033" title="(Int)ScalaObject with Trampoline">failed</a>(<a href="#65678" title="=&gt; Int">BuildErrorExitCode</a>) }
			<span class="keyword">def</span> <a title="(List[String])Done" id="66032">reload</a>(<a title="List[String]" id="66109">args</a>: <span title="List[String]">List</span>[String]) =
			{
				<span class="keyword">val</span> <a title="sbt.ApplicationID" id="66110">newID</a> = <span title="sbt.ApplicationID" class="keyword">new</span> <a href="MainControl.scala.html#9819" title="sbt.ApplicationID">ApplicationID</a>(<a href="#65944" title="xsbti.AppConfiguration">configuration</a>.<a href="../xsbti/AppConfiguration.java.html#65797" title="()xsbti.AppProvider">provider</a>.<a href="../xsbti/AppProvider.java.html#52560" title="()xsbti.ApplicationID">id</a>, <a href="#65942" title="sbt.Project">baseProject</a>.<a href="Project.scala.html#50914" title="=&gt; baseProject.Property[String]">sbtVersion</a>.<a href="Environment.scala.html#52128" title="=&gt; String">value</a>)
				<a href="#65965" title="(xsbti.MainResult)Done">result</a>( <span title="sbt.Reboot" class="keyword">new</span> <a href="MainControl.scala.html#8955" title="sbt.Reboot">Reboot</a>(<a href="#66018" title="sbt.Project">project</a>.<a href="Project.scala.html#50912" title="=&gt; project.Property[String]">defScalaVersion</a>.<a href="Environment.scala.html#52128" title="=&gt; String">value</a>, <a href="#66028" title="(List[String])List[String]">rememberCurrent</a>(<a href="#66109" title="List[String]">args</a>), <a href="#66110" title="sbt.ApplicationID">newID</a>, <a href="#65944" title="xsbti.AppConfiguration">configuration</a>.<a href="../xsbti/AppConfiguration.java.html#65796" title="()java.io.File">baseDirectory</a>) )
			}
			<span class="keyword">def</span> <a title="(Int)ScalaObject with Trampoline" id="66033">failed</a>(<a title="Int" id="66092">code</a>: <span title="Int">Int</span>) =
				<a href="#66020" title="OnFailure">failAction</a> <span title="&lt;refinement&gt; extends ScalaObject with Trampoline" class="keyword">match</span>
				{
					<span title="Continue" class="keyword">case</span> Some(<a title="String" id="66093">c</a>) =&gt; <a href="#65964" title="(sbt.Project,List[String],OnFailure)Continue">continue</a>(<a href="#66018" title="sbt.Project">project</a>, <a href="#66093" title="String">c</a> <a href="#66094" title="(String)List[String]">::</a> <span title="object Nil">Nil</span>, <a href="#65955" title="=&gt; object None">ExitOnFailure</a>)
					<span title="Done" class="keyword">case</span> <span title="object None">None</span> =&gt; <a href="#65965" title="(xsbti.MainResult)Done">result</a>( <a href="MainControl.scala.html#65879" title="(Int)sbt.Exit">Exit</a>(<a href="#66092" title="Int">code</a>) )
				}
				
			<a href="#66019" title="List[String]">arguments</a> <span title="Trampoline" class="keyword">match</span>
			{
				<span title="Continue" class="keyword">case</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> :: <a title="List[String]" id="66157">tail</a> =&gt; <a href="#65964" title="(sbt.Project,List[String],OnFailure)Continue">continue</a>(<a href="#66018" title="sbt.Project">project</a>, <a href="#66157" title="List[String]">tail</a>, <a href="#66020" title="OnFailure">failAction</a>)
				<span title="Continue" class="keyword">case</span> <a href="#65720" title="=&gt; java.lang.String">ResetCommand</a> :: <a title="List[String]" id="66158">tail</a> =&gt; <a href="LineReader.scala.html#8506" title="object sbt.JLine">JLine</a>.<a href="LineReader.scala.html#56455" title="()Unit">resetTerminal</a>(); <a href="#65964" title="(sbt.Project,List[String],OnFailure)Continue">continue</a>(<a href="#66018" title="sbt.Project">project</a>, <a href="#66158" title="List[String]">tail</a>, <a href="#66020" title="OnFailure">failAction</a>)
				<span title="Continue" class="keyword">case</span> <a title="String" id="66159">x</a> :: <a title="List[String]" id="66160">tail</a> <span class="keyword">if</span> <a href="#66159" title="String">x</a>.<span title="(java.lang.String)Boolean">startsWith</span>(<span title="java.lang.String(&quot;;&quot;)" class="string">&quot;;&quot;</span>) =&gt; <a href="#65964" title="(sbt.Project,List[String],OnFailure)Continue">continue</a>(<a href="#66018" title="sbt.Project">project</a>, <a href="#66159" title="String">x</a>.<a title="(java.lang.String)Array[java.lang.String]" id="6398">split</a>(<span title="java.lang.String(&quot;\s*;\s*&quot;)" class="string">&quot;&quot;&quot;\s*;\s*&quot;&quot;&quot;</span>).<span title="=&gt; List[java.lang.String]">toList</span> <a href="#66162" title="(List[String])List[String]">:::</a> <a href="#66160" title="List[String]">tail</a>, <a href="#66020" title="OnFailure">failAction</a>)
				<span title="Done" class="keyword">case</span> (<a href="#65716" title="=&gt; java.lang.String">ExitCommand</a> | <a href="#65718" title="=&gt; java.lang.String">QuitCommand</a>) :: _ =&gt; <a href="#65965" title="(xsbti.MainResult)Done">result</a>( <a href="MainControl.scala.html#65879" title="(Int)sbt.Exit">Exit</a>(<a href="#65668" title="=&gt; Int">NormalExitCode</a>) )
				<span title="Done" class="keyword">case</span> <a href="#65734" title="=&gt; java.lang.String">RebootCommand</a> :: <a title="List[String]" id="66166">tail</a> =&gt; <a href="#66032" title="(List[String])Done">reload</a>( <a href="#66166" title="List[String]">tail</a> )
				<span title="Continue" class="keyword">case</span> <a href="#65724" title="=&gt; java.lang.String">InteractiveCommand</a> :: _ =&gt; <a href="#65964" title="(sbt.Project,List[String],OnFailure)Continue">continue</a>(<a href="#66018" title="sbt.Project">project</a>, <a href="#65705" title="(sbt.Project,sbt.Project)String">prompt</a>(<a href="#65942" title="sbt.Project">baseProject</a>, <a href="#66018" title="sbt.Project">project</a>) <a href="#66167" title="(String)List[String]">::</a> <a href="#66019" title="List[String]">arguments</a>, <a href="#65956" title="=&gt; Some[java.lang.String]">interactiveContinue</a>)
				<span title="Trampoline" class="keyword">case</span> <a href="#65722" title="=&gt; java.lang.String">BuilderCommand</a> :: <a title="List[String]" id="66172">tail</a> =&gt;
					<a href="Project.scala.html#9292" title="object sbt.Project">Project</a>.<a href="Project.scala.html#51637" title="(sbt.ProjectInfo,sbt.Logger)Option[sbt.BuilderProject]">getProjectBuilder</a>(<a href="#66018" title="sbt.Project">project</a>.<a href="Project.scala.html#50857" title="=&gt; sbt.ProjectInfo">info</a>, <a href="#66018" title="sbt.Project">project</a>.<a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>) <span title="Trampoline" class="keyword">match</span>
					{
						<span title="Continue" class="keyword">case</span> Some(<a title="sbt.BuilderProject" id="66175">b</a>) =&gt; <a href="#66018" title="sbt.Project">project</a>.<a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49385" title="(=&gt; String)Unit">info</a>(<span title="java.lang.String(&quot;Set current project to builder of &quot;)" class="string">&quot;Set current project to builder of &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#66018" title="sbt.Project">project</a>.<a href="Project.scala.html#50858" title="=&gt; String">name</a>); <a href="#65964" title="(sbt.Project,List[String],OnFailure)Continue">continue</a>(<a href="#66175" title="sbt.BuilderProject">b</a>, <a href="#66172" title="List[String]">tail</a>, <a href="#66020" title="OnFailure">failAction</a>)
						<span title="&lt;refinement&gt; extends ScalaObject with Trampoline" class="keyword">case</span> <span title="object None">None</span> =&gt; <a href="#66018" title="sbt.Project">project</a>.<a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49387" title="(=&gt; String)Unit">error</a>(<span title="java.lang.String(&quot;No project/build directory for &quot;)" class="string">&quot;No project/build directory for &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#66018" title="sbt.Project">project</a>.<a href="Project.scala.html#50858" title="=&gt; String">name</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;.\012  Not switching to builder project.&quot;)" class="string">&quot;.\n  Not switching to builder project.&quot;</span>); <a href="#66033" title="(Int)ScalaObject with Trampoline">failed</a>(<a href="#65678" title="=&gt; Int">BuildErrorExitCode</a>)
					}
				<span title="Trampoline" class="keyword">case</span> <a href="#66182" title="(String)Option[(java.lang.String, java.lang.String)]">SpecificBuild</a>(<a title="java.lang.String" id="66276">version</a>, <a title="java.lang.String" id="66277">action</a>) :: <a title="List[String]" id="66278">tail</a> =&gt;
					<span title="Trampoline" class="keyword">if</span>(<span title="(java.lang.String)Some[java.lang.String]">Some</span>(<a href="#66276" title="java.lang.String">version</a>) <span title="(AnyRef)Boolean">!=</span> <a href="#65942" title="sbt.Project">baseProject</a>.<a href="Project.scala.html#50857" title="=&gt; sbt.ProjectInfo">info</a>.<a href="ProjectInfo.scala.html#52149" title="=&gt; Option[String]">buildScalaVersion</a>)
					{
						<span title="Trampoline" class="keyword">if</span>(<a href="#65701" title="(sbt.Project,String)Boolean">checkVersion</a>(<a href="#65942" title="sbt.Project">baseProject</a>, <a href="#66276" title="java.lang.String">version</a>))
							<span title="Nothing" class="keyword">throw</span> <span title="sbt.ReloadException" class="keyword">new</span> <a href="MainControl.scala.html#11955" title="sbt.ReloadException">ReloadException</a>(<a href="#66028" title="(List[String])List[String]">rememberCurrent</a>(<a href="#66277" title="java.lang.String">action</a> <a href="#66304" title="(String)List[String]">::</a> <a href="#66278" title="List[String]">tail</a>), <span title="(java.lang.String)Some[java.lang.String]">Some</span>(<a href="#66276" title="java.lang.String">version</a>))
						<span class="keyword">else</span>
							<a href="#66033" title="(Int)ScalaObject with Trampoline">failed</a>(<a href="#65676" title="=&gt; Int">UsageErrorExitCode</a>)
					}
					<span class="keyword">else</span>
						<a href="#65964" title="(sbt.Project,List[String],OnFailure)Continue">continue</a>(<a href="#66018" title="sbt.Project">project</a>, <a href="#66277" title="java.lang.String">action</a> <a href="#66308" title="(String)List[String]">::</a> <a href="#66278" title="List[String]">tail</a>, <a href="#66020" title="OnFailure">failAction</a>)

				<span title="Trampoline" class="keyword">case</span> <a href="#66312" title="(String)Option[java.lang.String]">CrossBuild</a>(<a title="java.lang.String" id="66339">action</a>) :: <a title="List[String]" id="66340">tail</a> =&gt;
					<span title="Trampoline" class="keyword">if</span>(<a href="#65769" title="(sbt.Project,String)Boolean">checkAction</a>(<a href="#66018" title="sbt.Project">project</a>, <a href="#66339" title="java.lang.String">action</a>))
					{
						<a href="#66313" title="(sbt.Project,String)Option[List[String]]">CrossBuild</a>(<a href="#66018" title="sbt.Project">project</a>, <a href="#66339" title="java.lang.String">action</a>) <span title="Trampoline" class="keyword">match</span>
						{
							<span title="Continue" class="keyword">case</span> Some(<a title="List[String]" id="66345">actions</a>) =&gt; <a href="#65964" title="(sbt.Project,List[String],OnFailure)Continue">continue</a>(<a href="#66018" title="sbt.Project">project</a>, <a href="#66345" title="List[String]">actions</a> <a href="#66346" title="(List[String])List[String]">:::</a> <a href="#66340" title="List[String]">tail</a>, <a href="#66020" title="OnFailure">failAction</a>)
							<span title="&lt;refinement&gt; extends ScalaObject with Trampoline" class="keyword">case</span> <span title="object None">None</span> =&gt; <a href="#66033" title="(Int)ScalaObject with Trampoline">failed</a>(<a href="#65676" title="=&gt; Int">UsageErrorExitCode</a>)
						}
					}
					<span class="keyword">else</span>
						<a href="#66033" title="(Int)ScalaObject with Trampoline">failed</a>(<a href="#65676" title="=&gt; Int">UsageErrorExitCode</a>)

				<span title="Trampoline" class="keyword">case</span> <a href="#66350" title="(String)Option[java.lang.String]">SetProject</a>(<a title="java.lang.String" id="66398">name</a>) :: <a title="List[String]" id="66399">tail</a> =&gt;
					<a href="#66352" title="(sbt.Project,String,sbt.Project)Option[sbt.Project]">SetProject</a>(<a href="#65942" title="sbt.Project">baseProject</a>, <a href="#66398" title="java.lang.String">name</a>, <a href="#66018" title="sbt.Project">project</a>) <span title="Trampoline" class="keyword">match</span>
					{
						<span title="Continue" class="keyword">case</span> Some(<a title="sbt.Project" id="66403">newProject</a>) =&gt; <a href="#65964" title="(sbt.Project,List[String],OnFailure)Continue">continue</a>(<a href="#66403" title="sbt.Project">newProject</a>, <a href="#66399" title="List[String]">tail</a>, <a href="#66020" title="OnFailure">failAction</a>)
						<span title="&lt;refinement&gt; extends ScalaObject with Trampoline" class="keyword">case</span> <span title="object None">None</span> =&gt; <a href="#66033" title="(Int)ScalaObject with Trampoline">failed</a>(<a href="#65678" title="=&gt; Int">BuildErrorExitCode</a>)
					}

				<span title="Trampoline" class="keyword">case</span> <a title="String" id="66404">action</a> :: <a title="List[String]" id="66405">tail</a> <span class="keyword">if</span> <a href="#66404" title="String">action</a>.<span title="(java.lang.String)Boolean">startsWith</span>(<a href="complete/HistoryCommands.scala.html#65644" title="=&gt; java.lang.String">HistoryPrefix</a>) =&gt;
					<a href="complete/HistoryCommands.scala.html#65664" title="(String,Option[sbt.Path],Int,sbt.Logger)Option[List[String]]">HistoryCommands</a>(<a href="#66404" title="String">action</a>.<span title="(Int)java.lang.String">substring</span>(<a href="complete/HistoryCommands.scala.html#65644" title="=&gt; java.lang.String">HistoryPrefix</a>.<span title="()Int">length</span>).<span title="()java.lang.String">trim</span>, <a href="#65942" title="sbt.Project">baseProject</a>.<a href="Project.scala.html#50901" title="=&gt; Option[sbt.Path]">historyPath</a>, <a href="LineReader.scala.html#8506" title="object sbt.JLine">JLine</a>.<a href="LineReader.scala.html#56465" title="=&gt; Int">MaxHistorySize</a>, <a href="#66018" title="sbt.Project">project</a>.<a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>) <span title="Trampoline" class="keyword">match</span>
					{
						<span title="Continue" class="keyword">case</span> Some(<a title="List[String]" id="66412">commands</a>) =&gt;
							<a href="#66412" title="List[String]">commands</a>.<span title="((String) =&gt; Unit)Unit">foreach</span>(<a href="#66415" title="(Any)Unit">println</a>)  <span class="comment">//better to print it than to log it</span>
							<a href="#65964" title="(sbt.Project,List[String],OnFailure)Continue">continue</a>(<a href="#66018" title="sbt.Project">project</a>, <a href="#66412" title="List[String]">commands</a> <a href="#66417" title="(List[String])List[String]">:::</a> <a href="#66405" title="List[String]">tail</a>, <a href="#66020" title="OnFailure">failAction</a>)
						<span title="&lt;refinement&gt; extends ScalaObject with Trampoline" class="keyword">case</span> <span title="object None">None</span> =&gt; <a href="#66033" title="(Int)ScalaObject with Trampoline">failed</a>(<a href="#65676" title="=&gt; Int">UsageErrorExitCode</a>)
					}
					
				<span title="Trampoline" class="keyword">case</span> <a title="String" id="66420">action</a> :: <a title="List[String]" id="66421">tail</a> <span class="keyword">if</span> <a href="#66420" title="String">action</a>.<span title="(java.lang.String)Boolean">startsWith</span>(<a href="#65746" title="=&gt; java.lang.String">FileCommandsPrefix</a>) =&gt;
					<a href="#65695" title="(String,java.io.File)Either[Int,java.io.File] with Product">getSource</a>(<a href="#66420" title="String">action</a>.<span title="(Int)java.lang.String">substring</span>(<a href="#65746" title="=&gt; java.lang.String">FileCommandsPrefix</a>.<span title="()Int">length</span>).<span title="()java.lang.String">trim</span>, <a href="#65942" title="sbt.Project">baseProject</a>.<a href="Project.scala.html#50857" title="=&gt; sbt.ProjectInfo">info</a>.<a href="ProjectInfo.scala.html#52140" title="=&gt; java.io.File">projectDirectory</a>) <span title="Trampoline" class="keyword">match</span>
					{
						<span title="Trampoline" class="keyword">case</span> Left(<a title="Int" id="66461">portAndSuccess</a>) =&gt;
							<span class="keyword">val</span> <a title="Int" id="66462">port</a> = <a title="object Math" id="578">Math</a>.<a title="(Int)Int" id="66534">abs</a>(<a href="#66461" title="Int">portAndSuccess</a>)
							<span class="keyword">val</span> <a title="Boolean" id="66463">previousSuccess</a> = <a href="#66461" title="Int">portAndSuccess</a> <a title="(Int)Boolean" id="3089">&gt;=</a> <span title="Int(0)" class="int">0</span>
							<a href="#65696" title="(Int,Boolean)Option[String]">readMessage</a>(<a href="#66462" title="Int">port</a>, <a href="#66463" title="Boolean">previousSuccess</a>) <span title="Trampoline" class="keyword">match</span>
							{
								<span title="Continue" class="keyword">case</span> Some(<a title="String" id="66611">message</a>) =&gt; <a href="#65964" title="(sbt.Project,List[String],OnFailure)Continue">continue</a>(<a href="#66018" title="sbt.Project">project</a>, <a href="#66611" title="String">message</a> <a href="#66612" title="(java.lang.String)List[java.lang.String]">::</a> (<a href="#65746" title="=&gt; java.lang.String">FileCommandsPrefix</a> <span title="(Any)java.lang.String">+</span> <a href="#66462" title="Int">port</a>) <a href="#66613" title="(java.lang.String)List[java.lang.String]">::</a> <span title="object Nil">Nil</span>, <a href="#65958" title="(Int)Some[java.lang.String]">remoteContinue</a>(<a href="#66462" title="Int">port</a>))
								<span title="&lt;refinement&gt; extends ScalaObject with Trampoline" class="keyword">case</span> <span title="object None">None</span> =&gt;
									<a href="#66018" title="sbt.Project">project</a>.<a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49387" title="(=&gt; String)Unit">error</a>(<span title="java.lang.String(&quot;Connection closed.&quot;)" class="string">&quot;Connection closed.&quot;</span>)
									<a href="#66033" title="(Int)ScalaObject with Trampoline">failed</a>(<a href="#65678" title="=&gt; Int">BuildErrorExitCode</a>)
							}
							
						<span title="Trampoline" class="keyword">case</span> Right(<a title="java.io.File" id="66619">file</a>) =&gt;
							<a href="#65704" title="(sbt.Project,java.io.File)Option[List[String]]">readLines</a>(<a href="#66018" title="sbt.Project">project</a>, <a href="#66619" title="java.io.File">file</a>) <span title="Trampoline" class="keyword">match</span>
							{
								<span title="Continue" class="keyword">case</span> Some(<a title="List[String]" id="66622">lines</a>) =&gt; <a href="#65964" title="(sbt.Project,List[String],OnFailure)Continue">continue</a>(<a href="#66018" title="sbt.Project">project</a>, <a href="#66622" title="List[String]">lines</a> <a href="#66623" title="(List[String])List[String]">:::</a> <a href="#66421" title="List[String]">tail</a> , <a href="#66020" title="OnFailure">failAction</a>)
								<span title="&lt;refinement&gt; extends ScalaObject with Trampoline" class="keyword">case</span> <span title="object None">None</span> =&gt; <a href="#66033" title="(Int)ScalaObject with Trampoline">failed</a>(<a href="#65676" title="=&gt; Int">UsageErrorExitCode</a>)
							}
					}
					
				<span title="Continue" class="keyword">case</span> <a title="String" id="66626">action</a> :: <a title="List[String]" id="66627">tail</a> <span class="keyword">if</span> <a href="#66626" title="String">action</a>.<span title="(java.lang.String)Boolean">startsWith</span>(<a href="#65748" title="=&gt; java.lang.String">FailureHandlerPrefix</a>) =&gt;
					<span class="keyword">val</span> <a title="java.lang.String" id="66629">errorAction</a> = <a href="#66626" title="String">action</a>.<span title="(Int)java.lang.String">substring</span>(<a href="#65748" title="=&gt; java.lang.String">FailureHandlerPrefix</a>.<span title="()Int">length</span>).<span title="()java.lang.String">trim</span>
					<a href="#65964" title="(sbt.Project,List[String],OnFailure)Continue">continue</a>(<a href="#66018" title="sbt.Project">project</a>, <a href="#66627" title="List[String]">tail</a>, <span title="OnFailure" class="keyword">if</span>(<a href="#66629" title="java.lang.String">errorAction</a>.<span title="()Boolean">isEmpty</span>) <span title="object None">None</span> <span class="keyword">else</span> <span title="(java.lang.String)Some[java.lang.String]">Some</span>(<a href="#66629" title="java.lang.String">errorAction</a>) )

				<span title="Trampoline" class="keyword">case</span> <a title="String" id="66632">action</a> :: <a title="List[String]" id="66633">tail</a> <span class="keyword">if</span> <a href="#66632" title="String">action</a>.<span title="(java.lang.String)Boolean">startsWith</span>(<a href="#65750" title="=&gt; java.lang.String">ProcessorPrefix</a>) =&gt;
					<span class="keyword">val</span> <a title="java.lang.String" id="66635">processorCommand</a> = <a href="#66632" title="String">action</a>.<span title="(Int)java.lang.String">substring</span>(<a href="#65750" title="=&gt; java.lang.String">ProcessorPrefix</a>.<span title="()Int">length</span>).<span title="()java.lang.String">trim</span>
					<span class="keyword">val</span> <a title="sbt.processor.CommandRunner" id="66636">runner</a> = processor.<a href="processor/CommandRunner.scala.html#66639" title="(sbt.processor.Manager,sbt.processor.DefinitionParser,String,sbt.Logger)sbt.processor.CommandRunner">CommandRunner</a>(<a href="#65959" title="=&gt; sbt.processor.Handler">PHandler</a>.<a href="processor/Handler.scala.html#65991" title="=&gt; sbt.processor.ManagerImpl">manager</a>, <a href="#65959" title="=&gt; sbt.processor.Handler">PHandler</a>.<a href="processor/Handler.scala.html#65989" title="=&gt; sbt.processor.DefinitionParser">defParser</a>, <a href="#65750" title="=&gt; java.lang.String">ProcessorPrefix</a>, <a href="#66018" title="sbt.Project">project</a>.<a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>)
					<a href="#66031" title="(=&gt; Trampoline)Trampoline">tryOrFail</a> {
						<a href="processor/CommandRunner.scala.html#66770" title="(String)Unit">runner</a>(<a href="#66635" title="java.lang.String">processorCommand</a>)
						<a href="#65964" title="(sbt.Project,List[String],OnFailure)Continue">continue</a>(<a href="#66018" title="sbt.Project">project</a>, <a href="#66633" title="List[String]">tail</a>, <a href="#66020" title="OnFailure">failAction</a>)
					}

				<span title="Trampoline" class="keyword">case</span> <a href="processor/Handler.scala.html#65974" title="(String)Option[sbt.processor.ParsedProcessor]">PHandler</a>(<a title="sbt.processor.ParsedProcessor" id="66784">parsed</a>) :: <a title="List[String]" id="66785">tail</a> =&gt;
					 <a href="#66031" title="(=&gt; Trampoline)Trampoline">tryOrFail</a> {
						<a href="#66784" title="sbt.processor.ParsedProcessor">parsed</a>.<a href="processor/Processor.scala.html#66786" title="(String,sbt.Project,Option[String],String)sbt.processor.ProcessorResult">processor</a>(<a href="#66784" title="sbt.processor.ParsedProcessor">parsed</a>.<a href="processor/Handler.scala.html#66777" title="=&gt; String">label</a>, <a href="#66018" title="sbt.Project">project</a>, <a href="#66020" title="OnFailure">failAction</a>, <a href="#66784" title="sbt.processor.ParsedProcessor">parsed</a>.<a href="processor/Handler.scala.html#66781" title="=&gt; String">arguments</a>) <span title="Trampoline" class="keyword">match</span>
						{
							<span title="Continue" class="keyword">case</span> <a title="sbt.processor.Success" id="66791">s</a>: processor.<a href="processor/Processor.scala.html#14653" title="sbt.processor.Success">Success</a> =&gt; <a href="#65964" title="(sbt.Project,List[String],OnFailure)Continue">continue</a>(<a href="#66791" title="sbt.processor.Success">s</a>.<a href="processor/Processor.scala.html#66795" title="=&gt; sbt.Project">project</a>, <a href="#66791" title="sbt.processor.Success">s</a>.<a href="processor/Processor.scala.html#66801" title="=&gt; List[String]">insertArguments</a> <a href="#66803" title="(List[String])List[String]">:::</a> <a href="#66785" title="List[String]">tail</a>, <a href="#66791" title="sbt.processor.Success">s</a>.<a href="processor/Processor.scala.html#66797" title="=&gt; Option[String]">onFailure</a>)
							<span title="Done" class="keyword">case</span> <a title="sbt.processor.Exit" id="66806">e</a>: processor.<a href="processor/Processor.scala.html#14698" title="sbt.processor.Exit">Exit</a> =&gt; <a href="#65965" title="(xsbti.MainResult)Done">result</a>( <a href="MainControl.scala.html#65879" title="(Int)sbt.Exit">Exit</a>(<a href="#66806" title="sbt.processor.Exit">e</a>.<a href="processor/Processor.scala.html#66808" title="=&gt; Int">code</a>) )
							<span title="Done" class="keyword">case</span> <a title="sbt.processor.Reload" id="66811">r</a>: processor.<a href="processor/Processor.scala.html#14614" title="sbt.processor.Reload">Reload</a> =&gt; <a href="#66032" title="(List[String])Done">reload</a>( <a href="#66811" title="sbt.processor.Reload">r</a>.<a href="processor/Processor.scala.html#66815" title="=&gt; List[String]">insertArguments</a> <a href="#66817" title="(List[String])List[String]">:::</a> <a href="#66785" title="List[String]">tail</a> )
						}
					 }
		
				<span title="Trampoline" class="keyword">case</span> <a title="String" id="66820">action</a> :: <a title="List[String]" id="66821">tail</a> =&gt;
					<span class="keyword">val</span> <a title="Boolean" id="66822">success</a> = <a href="#65756" title="(sbt.Project,sbt.Project,String,Boolean)Boolean">processAction</a>(<a href="#65942" title="sbt.Project">baseProject</a>, <a href="#66018" title="sbt.Project">project</a>, <a href="#66820" title="String">action</a>, <a href="#66020" title="OnFailure">failAction</a> <span title="(AnyRef)Boolean">==</span> <a href="#65956" title="=&gt; Some[java.lang.String]">interactiveContinue</a>)
					<span title="Trampoline" class="keyword">if</span>(<a href="#66822" title="Boolean">success</a>) <a href="#65964" title="(sbt.Project,List[String],OnFailure)Continue">continue</a>(<a href="#66018" title="sbt.Project">project</a>, <a href="#66821" title="List[String]">tail</a>, <a href="#66020" title="OnFailure">failAction</a>)
					<span class="keyword">else</span> <a href="#66033" title="(Int)ScalaObject with Trampoline">failed</a>(<a href="#65678" title="=&gt; Int">BuildErrorExitCode</a>)
						
				<span title="Done" class="keyword">case</span> <span title="object Nil">Nil</span> =&gt;
					<a href="#66018" title="sbt.Project">project</a>.<a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49387" title="(=&gt; String)Unit">error</a>(<span title="java.lang.String(&quot;Invalid internal sbt state: no arguments&quot;)" class="string">&quot;Invalid internal sbt state: no arguments&quot;</span>)
					<a href="#65965" title="(xsbti.MainResult)Done">result</a>( <a href="MainControl.scala.html#65879" title="(Int)sbt.Exit">Exit</a>(<a href="#65680" title="=&gt; Int">ProgramErrorExitCode</a>) )
			}
		}
		<a href="#65966" title="(Trampoline)xsbti.MainResult">run</a>(<a href="#65967" title="(sbt.Project,List[String],OnFailure)Trampoline">process</a>(<a href="#65942" title="sbt.Project">baseProject</a>, <a href="#65943" title="List[String]">arguments</a>, <a href="#65955" title="=&gt; object None">ExitOnFailure</a>))
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project)Boolean" id="65693">internal</a>(<a title="sbt.Project" id="66062">p</a>: <a href="Project.scala.html#9291" title="sbt.Project">Project</a>) = <a href="#66062" title="sbt.Project">p</a>.<a title="Boolean" id="3444">isInstanceOf</a>[<a href="BuilderProject.scala.html#11262" title="sbt.InternalProject">InternalProject</a>]
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(Option[List[String]])Boolean" id="65694">isInteractive</a>(<a title="Option[List[String]]" id="66829">failureActions</a>: <span title="Option[List[String]]">Option</span>[List[String]]) = <a href="#66829" title="Option[List[String]]">failureActions</a> <span title="(AnyRef)Boolean">==</span> <span title="(List[java.lang.String])Some[List[java.lang.String]]">Some</span>(<a href="#65724" title="=&gt; java.lang.String">InteractiveCommand</a> <a href="#66833" title="(java.lang.String)List[java.lang.String]">::</a> <span title="object Nil">Nil</span>)
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(String,java.io.File)Either[Int,java.io.File] with Product" id="65695">getSource</a>(<a title="String" id="66423">action</a>: <span title="String">String</span>, <a title="java.io.File" id="66424">baseDirectory</a>: <span title="java.io.File">File</span>) =
	{
		<span class="keyword">try</span> { <span title="(Int)Left[Int,Nothing]">Left</span>(<a href="#66423" title="implicit scala.Predef.stringWrapper : (String)scala.runtime.RichString">action</a>.<span title="=&gt; Int">toInt</span>) }
		<span class="keyword">catch</span> { <span title="Right[Nothing,java.io.File]" class="keyword">case</span> _: <span title="NumberFormatException">NumberFormatException</span> =&gt; <span title="(java.io.File)Right[Nothing,java.io.File]">Right</span>(<a title="(java.io.File,java.lang.String)java.io.File" id="16757" class="keyword">new</a> <span title="java.io.File">File</span>(<a href="#66424" title="java.io.File">baseDirectory</a>, <a href="#66423" title="String">action</a>)) }
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(Int,Boolean)Option[String]" id="65696">readMessage</a>(<a title="Int" id="66609">port</a>: <span title="Int">Int</span>, <a title="Boolean" id="66610">previousSuccess</a>: <span title="Boolean">Boolean</span>): <span title="Option[String]">Option</span>[String] =
	{
		<span class="comment">// split into two connections because this first connection ends the previous communication</span>
		xsbt.<a href="../IPC.scala.html#7187" title="object xsbt.IPC">IPC</a>.<a href="../IPC.scala.html#66843" title="(Int)((xsbt.IPC) =&gt; Unit)Unit">client</a>(<a href="#66609" title="Int">port</a>) { <a href="#66867" title="xsbt.IPC">_</a>.<a href="../IPC.scala.html#66876" title="(String)Unit">send</a>(<a href="#66610" title="Boolean">previousSuccess</a>.<span title="()java.lang.String">toString</span>) }
		<span class="comment">//   and this second connection starts the next communication</span>
		xsbt.<a href="../IPC.scala.html#7187" title="object xsbt.IPC">IPC</a>.<a href="../IPC.scala.html#66843" title="(Int)((xsbt.IPC) =&gt; Option[String])Option[String]">client</a>(<a href="#66609" title="Int">port</a>) { <a title="xsbt.IPC" id="66946">ipc</a> =&gt;
			<span class="keyword">val</span> <a title="String" id="66947">message</a> = <a href="#66946" title="xsbt.IPC">ipc</a>.<a href="../IPC.scala.html#66877" title="=&gt; String">receive</a>
			<span title="Option[String]" class="keyword">if</span>(<a href="#66947" title="String">message</a> <span title="(AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span>) <span title="object None">None</span> <span class="keyword">else</span> <span title="(String)Some[String]">Some</span>(<a href="#66947" title="String">message</a>)
		}
	}
	<span class="keyword">object</span> <a title="object xMain.this.SetProject" id="65697">SetProject</a>
	{
		<span class="keyword">def</span> <a title="(String)Option[java.lang.String]" id="66350">unapply</a>(<a title="String" id="66355">s</a>: <span title="String">String</span>) =
			<span title="Option[java.lang.String]" class="keyword">if</span>(<a href="#66355" title="String">s</a>.<span title="(java.lang.String)Boolean">startsWith</span>(<a href="#65712" title="=&gt; java.lang.String">ProjectAction</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span>))
				<span title="(java.lang.String)Some[java.lang.String]">Some</span>(<a href="#66355" title="String">s</a>.<span title="(Int)java.lang.String">substring</span>(<a href="#65712" title="=&gt; java.lang.String">ProjectAction</a>.<span title="()Int">length</span> <span title="(Int)Int">+</span> <span title="Int(1)" class="int">1</span>).<span title="()java.lang.String">trim</span>)
			<span class="keyword">else</span>
				<span title="object None">None</span>
		<span class="keyword">def</span> <a title="(sbt.Project,sbt.Project)Option[sbt.Project]" id="66351">change</a>(<a title="sbt.Project" id="66951">newProject</a>: <a href="Project.scala.html#9291" title="sbt.Project">Project</a>, <a title="sbt.Project" id="66952">current</a>: <a href="Project.scala.html#9291" title="sbt.Project">Project</a>): <span title="Option[sbt.Project]">Option</span>[Project] =
		{
			<span class="keyword">val</span> <a title="java.lang.String" id="66953">msg</a> = <span title="java.lang.String" class="keyword">if</span>(<a href="#66951" title="sbt.Project">newProject</a> <span title="(AnyRef)Boolean">eq</span> <a href="#66952" title="sbt.Project">current</a>) <span title="java.lang.String(&quot;Current project is &quot;)" class="string">&quot;Current project is &quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;Set current project to &quot;)" class="string">&quot;Set current project to &quot;</span>
			<a href="#65764" title="(String,sbt.Project)Unit">printProject</a>(<a href="#66953" title="java.lang.String">msg</a>, <a href="#66951" title="sbt.Project">newProject</a>)
			<span title="(sbt.Project)Some[sbt.Project]">Some</span>(<a href="#66951" title="sbt.Project">newProject</a>)
		}
		<span class="keyword">def</span> <a title="(sbt.Project,String,sbt.Project)Option[sbt.Project]" id="66352">apply</a>(<a title="sbt.Project" id="66400">baseProject</a>: <a href="Project.scala.html#9291" title="sbt.Project">Project</a>, <a title="String" id="66401">projectName</a>: <span title="String">String</span>, <a title="sbt.Project" id="66402">currentProject</a>: <a href="Project.scala.html#9291" title="sbt.Project">Project</a>): <span title="Option[sbt.Project]">Option</span>[Project] =
		{
			<span title="Option[sbt.Project]" class="keyword">if</span>(<a href="#66401" title="String">projectName</a>.<span title="()Boolean">isEmpty</span>)
				<a href="#66351" title="(sbt.Project,sbt.Project)Option[sbt.Project]">change</a>(<a href="#66402" title="sbt.Project">currentProject</a>, <a href="#66402" title="sbt.Project">currentProject</a>)
			<span class="keyword">else</span> <span title="Option[sbt.Project]" class="keyword">if</span>(<a href="#66401" title="String">projectName</a> <span title="(AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span>)
				<a href="#66351" title="(sbt.Project,sbt.Project)Option[sbt.Project]">change</a>(<a href="#66400" title="sbt.Project">baseProject</a>, <a href="#66402" title="sbt.Project">currentProject</a>)
			<span class="keyword">else</span> <span title="Option[sbt.Project]" class="keyword">if</span>(<a href="#66401" title="implicit scala.Predef.stringWrapper : (String)scala.runtime.RichString">projectName</a>.<span title="((Char) =&gt; Boolean)Boolean">forall</span>(<a href="#66963" title="Char">_</a> <a title="(Char)Boolean" id="2961">==</a> <span title="Char('.')" class="char">'.'</span>))
				<a href="#66351" title="(sbt.Project,sbt.Project)Option[sbt.Project]">change</a>(<a href="#66354" title="(sbt.Project)Stream[sbt.Project]">ancestors</a>(<a href="#66402" title="sbt.Project">currentProject</a>).<a title="(Int)Stream[sbt.Project]" id="16935">take</a>(<a href="#66401" title="implicit scala.Predef.stringWrapper : (String)scala.runtime.RichString">projectName</a>.<a title="=&gt; Int" id="15803">size</a>).<a title="=&gt; sbt.Project" id="16933">last</a>, <a href="#66402" title="sbt.Project">currentProject</a>)
			<span class="keyword">else</span>
			{
				<span class="keyword">val</span> <a title="Option[sbt.Project]" id="66977">found</a> = <a href="#66400" title="sbt.Project">baseProject</a>.<a href="Project.scala.html#50880" title="=&gt; List[sbt.Project]">projectClosure</a>.<a title="((sbt.Project) =&gt; Boolean)Option[sbt.Project]" id="15543">find</a>(<a href="#66980" title="sbt.Project">_</a>.<a href="Project.scala.html#50858" title="=&gt; String">name</a> <span title="(AnyRef)Boolean">==</span> <a href="#66401" title="String">projectName</a>)
				<a href="#66977" title="Option[sbt.Project]">found</a> <span title="Any" class="keyword">match</span>
				{
					<span title="Option[sbt.Project]" class="keyword">case</span> Some(<a title="sbt.Project" id="66983">newProject</a>) =&gt; <a href="#66351" title="(sbt.Project,sbt.Project)Option[sbt.Project]">change</a>(<a href="#66983" title="sbt.Project">newProject</a>, <a href="#66402" title="sbt.Project">currentProject</a>)
					<span title="Unit" class="keyword">case</span> <span title="object None">None</span> =&gt; <a href="#66402" title="sbt.Project">currentProject</a>.<a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49387" title="(=&gt; String)Unit">error</a>(<span title="java.lang.String(&quot;Invalid project name '&quot;)" class="string">&quot;Invalid project name '&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#66401" title="String">projectName</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;' (type 'projects' to list available projects).&quot;)" class="string">&quot;' (type 'projects' to list available projects).&quot;</span>)
				}
				<a href="#66977" title="Option[sbt.Project]">found</a>
			}
		}
		<span class="keyword">def</span> <a title="(Option[sbt.Project])Stream[sbt.Project]" id="66353">ancestors</a>(<a title="Option[sbt.Project]" id="66967">op</a>: <span title="Option[sbt.Project]">Option</span>[Project]): <span title="Stream[sbt.Project]">Stream</span>[Project] = <a href="#66967" title="Option[sbt.Project]">op</a> <span title="Stream[sbt.Project]" class="keyword">match</span> { <span title="Stream[Nothing]" class="keyword">case</span> <span title="object None">None</span> =&gt; <span title="object Stream">Stream</span>.<a title="=&gt; Stream[Nothing]" id="16976">empty</a>; <span title="Stream[sbt.Project]" class="keyword">case</span> Some(<a title="sbt.Project" id="66991">p</a>) =&gt; <a href="#66354" title="(sbt.Project)Stream[sbt.Project]">ancestors</a>(<a href="#66991" title="sbt.Project">p</a>) }
		<span class="comment">// includes the project itself</span>
		<span class="keyword">def</span> <a title="(sbt.Project)Stream[sbt.Project]" id="66354">ancestors</a>(<a title="sbt.Project" id="66966">p</a>: <a href="Project.scala.html#9291" title="sbt.Project">Project</a>): <span title="Stream[sbt.Project]">Stream</span>[Project] = <span title="object Stream">Stream</span>.<a title="(sbt.Project,=&gt; Stream[sbt.Project])Stream[sbt.Project]" id="16979">cons</a>(<a href="#66966" title="sbt.Project">p</a>, <a href="#66353" title="(Option[sbt.Project])Stream[sbt.Project]">ancestors</a>(<a href="#66966" title="sbt.Project">p</a>.<a href="Project.scala.html#50857" title="=&gt; sbt.ProjectInfo">info</a>.<a href="ProjectInfo.scala.html#52144" title="=&gt; Option[sbt.Project]">parent</a>))
	}
	<span class="keyword">object</span> <a title="object xMain.this.SpecificBuild" id="65699">SpecificBuild</a>
	{
		<span class="keyword">import</span> java.util.regex.Pattern.{compile,quote}
		<span class="keyword">val</span> <a title="java.util.regex.Pattern" id="66180">pattern</a> = <a title="(java.lang.String)java.util.regex.Pattern" id="55333">compile</a>(<a title="(java.lang.String)java.lang.String" id="55342">quote</a>(<a href="#65744" title="=&gt; java.lang.String">SpecificBuildPrefix</a>) <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\s*(\S+)\s*(.*)&quot;)" class="string">&quot;&quot;&quot;\s*(\S+)\s*(.*)&quot;&quot;&quot;</span>)
		<span class="keyword">def</span> <a title="(String)Option[(java.lang.String, java.lang.String)]" id="66182">unapply</a>(<a title="String" id="66183">s</a>: <span title="String">String</span>) =
		{
			<span class="keyword">val</span> <a title="java.util.regex.Matcher" id="66185">m</a> = <a href="#66180" title="=&gt; java.util.regex.Pattern">pattern</a>.<span title="(java.lang.CharSequence)java.util.regex.Matcher">matcher</span>(<a href="#66183" title="String">s</a>)
			<span title="Option[(java.lang.String, java.lang.String)]" class="keyword">if</span>(<a href="#66185" title="java.util.regex.Matcher">m</a>.<span title="()Boolean">matches</span>)
				<a title="((java.lang.String, java.lang.String))Some[(java.lang.String, java.lang.String)]" id="1331">Some</a>(<a href="#66185" title="java.util.regex.Matcher">m</a>.<span title="(Int)java.lang.String">group</span>(<span title="Int(1)" class="int">1</span>).<span title="()java.lang.String">trim</span>, <a href="#66185" title="java.util.regex.Matcher">m</a>.<span title="(Int)java.lang.String">group</span>(<span title="Int(2)" class="int">2</span>).<span title="()java.lang.String">trim</span>)
			<span class="keyword">else</span>
				<span title="object None">None</span>
		}
	}
	<span class="keyword">def</span> <a title="(sbt.Project,String)Boolean" id="65701">checkVersion</a>(<a title="sbt.Project" id="66282">p</a>: <a href="Project.scala.html#9291" title="sbt.Project">Project</a>, <a title="String" id="66283">version</a>: <span title="String">String</span>) =
	{
		<span class="keyword">try</span> { <a href="#66282" title="sbt.Project">p</a>.<a href="Project.scala.html#50933" title="(String)xsbt.ScalaInstance">getScalaInstance</a>(<a href="#66283" title="String">version</a>); <span title="Boolean(true)" class="keyword">true</span> }
		<span class="keyword">catch</span> { <span title="Boolean" class="keyword">case</span> <a title="xsbti.RetrieveException" id="66297">e</a>: xsbti.<a href="../xsbti/RetrieveException.java.html#7625" title="xsbti.RetrieveException">RetrieveException</a> =&gt; <a href="#66282" title="sbt.Project">p</a>.<a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49387" title="(=&gt; String)Unit">error</a>(<a href="#66297" title="xsbti.RetrieveException">e</a>.<span title="()java.lang.String">getMessage</span>); <span title="Boolean(false)" class="keyword">false</span> }
	}
	<span class="keyword">object</span> <a title="object xMain.this.CrossBuild" id="65702">CrossBuild</a>
	{
		<span class="keyword">def</span> <a title="(String)Option[java.lang.String]" id="66312">unapply</a>(<a title="String" id="66314">s</a>: <span title="String">String</span>) = <span title="Option[java.lang.String]" class="keyword">if</span>(<a href="#66314" title="String">s</a>.<span title="(java.lang.String)Boolean">startsWith</span>(<a href="#65742" title="=&gt; java.lang.String">CrossBuildPrefix</a>) <span title="(Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#66314" title="String">s</a>.<span title="(java.lang.String)Boolean">startsWith</span>(<a href="#65744" title="=&gt; java.lang.String">SpecificBuildPrefix</a>)) <span title="(java.lang.String)Some[java.lang.String]">Some</span>(<a href="#66314" title="String">s</a>.<span title="(Int)java.lang.String">substring</span>(<span title="Int(1)" class="int">1</span>)) <span class="keyword">else</span> <span title="object None">None</span>
		<span class="keyword">def</span> <a title="(sbt.Project,String)Option[List[String]]" id="66313">apply</a>(<a title="sbt.Project" id="66343">project</a>: <a href="Project.scala.html#9291" title="sbt.Project">Project</a>, <a title="String" id="66344">action</a>: <span title="String">String</span>): <span title="Option[List[String]]">Option</span>[List[String]] =
		{
			<span class="keyword">val</span> <a title="Seq[String]" id="66997">againstScalaVersions</a> = <a href="#66343" title="sbt.Project">project</a>.<a href="Project.scala.html#50945" title="=&gt; Seq[String]">crossScalaVersions</a>
			<span title="Option[List[String]]" class="keyword">if</span>(<a href="#66997" title="Seq[String]">againstScalaVersions</a>.<span title="=&gt; Boolean">isEmpty</span>)
			{
				<span title="object Console">Console</span>.<span title="(Any)Unit">println</span>(<span title="java.lang.String(&quot;Project does not declare any Scala versions to cross-build against, building against current version...&quot;)" class="string">&quot;Project does not declare any Scala versions to cross-build against, building against current version...&quot;</span>)
				<span title="(List[String])Some[List[String]]">Some</span>(<a href="#66344" title="String">action</a> <a href="#67000" title="(String)List[String]">::</a> <span title="object Nil">Nil</span>)
			}
			<span class="keyword">else</span>
			{
				<span title="Option[List[String]]" class="keyword">if</span>( <span title="=&gt; Boolean">!</span><a href="#66997" title="Seq[String]">againstScalaVersions</a>.<span title="((String) =&gt; Boolean)Boolean">forall</span>(<a title="String" id="67004">v</a> =&gt; <a href="#65701" title="(sbt.Project,String)Boolean">checkVersion</a>(<a href="#66343" title="sbt.Project">project</a>, <a href="#67004" title="String">v</a>)) )
					<span title="object None">None</span>
				<span class="keyword">else</span>
				{
					<span class="keyword">val</span> <a title="List[java.lang.String]" id="67005">actions</a> = 
						<a href="#66997" title="Seq[String]">againstScalaVersions</a>.<span title="=&gt; List[String]">toList</span>.<span title="((String) =&gt; java.lang.String)List[java.lang.String]">map</span>(<a href="#65744" title="=&gt; java.lang.String">SpecificBuildPrefix</a> <span title="(Any)java.lang.String">+</span> <a href="#67010" title="String">_</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#66344" title="String">action</a>) <a href="#67006" title="(List[java.lang.String])List[java.lang.String]">:::</a> <span class="comment">// build against all versions</span>
							(<a href="#65744" title="=&gt; java.lang.String">SpecificBuildPrefix</a> <span title="(Any)java.lang.String">+</span> <a href="#66343" title="sbt.Project">project</a>.<a href="Project.scala.html#50924" title="=&gt; String">buildScalaVersion</a>) <a href="#67011" title="(java.lang.String)List[java.lang.String]">::</a> <span class="comment">// reset to the version before the cross-build</span>
							<span title="object Nil">Nil</span>
					<span title="(List[java.lang.String])Some[List[java.lang.String]]">Some</span>(<a href="#67005" title="List[java.lang.String]">actions</a>)
				}
			}
		}
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project,java.io.File)Option[List[String]]" id="65704">readLines</a>(<a title="sbt.Project" id="66620">project</a>: <a href="Project.scala.html#9291" title="sbt.Project">Project</a>, <a title="java.io.File" id="66621">file</a>: <span title="java.io.File">File</span>): <span title="Option[List[String]]">Option</span>[List[String]] =
	{
		<span class="keyword">try</span> { <span title="(List[String])Some[List[String]]">Some</span>(xsbt.<a href="../FileUtilities.scala.html#6719" title="object xsbt.FileUtilities">FileUtilities</a>.<a href="../FileUtilities.scala.html#18278" title="(java.io.File)List[String]">readLines</a>(<a href="#66621" title="java.io.File">file</a>)) }
		<span class="keyword">catch</span> { <span title="None.type" class="keyword">case</span> <a title="Exception" id="67022">e</a>: <span title="Exception">Exception</span> =&gt;
			<a href="#66620" title="sbt.Project">project</a>.<a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49382" title="(=&gt; Throwable)Unit">trace</a>(<a href="#67022" title="Exception">e</a>)
			<a href="#66620" title="sbt.Project">project</a>.<a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49387" title="(=&gt; String)Unit">error</a>(<span title="java.lang.String(&quot;Error reading commands from file &quot;)" class="string">&quot;Error reading commands from file &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#66621" title="java.io.File">file</a>.<span title="()java.lang.String">getAbsolutePath</span> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#67022" title="Exception">e</a>.<span title="()java.lang.String">toString</span>)
			<span title="object None">None</span>
		}
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project,sbt.Project)String" id="65705">prompt</a>(<a title="sbt.Project" id="66168">baseProject</a>: <a href="Project.scala.html#9291" title="sbt.Project">Project</a>, <a title="sbt.Project" id="66169">project</a>: <a href="Project.scala.html#9291" title="sbt.Project">Project</a>): <span title="String">String</span> =
	{
		<span class="comment">// the times for evaluating the lazy vals here are a few hundred ms out of a 2s startup</span>
		<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="List[String]" id="67026">projectNames</a> = <a href="#66168" title="sbt.Project">baseProject</a>.<a href="Project.scala.html#50880" title="=&gt; List[sbt.Project]">projectClosure</a>.<span title="((sbt.Project) =&gt; String)List[String]">map</span>(<a href="#67040" title="sbt.Project">_</a>.<a href="Project.scala.html#50858" title="=&gt; String">name</a>)
		<span class="keyword">val</span> <a title="List[java.lang.String]" id="67027">prefixes</a> = <a href="#65740" title="=&gt; java.lang.String">ContinuousExecutePrefix</a> <a href="#67041" title="(java.lang.String)List[java.lang.String]">::</a> <a href="#65742" title="=&gt; java.lang.String">CrossBuildPrefix</a> <a href="#67042" title="(java.lang.String)List[java.lang.String]">::</a> <span title="object Nil">Nil</span>
		<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Seq[String]" id="67029">scalaVersions</a> = <a href="#66168" title="sbt.Project">baseProject</a>.<a href="Project.scala.html#50945" title="=&gt; Seq[String]">crossScalaVersions</a> <a title="(Iterable[String])Seq[String]" id="15812">++</a> <a title="(String*)Seq[String]" id="734">Seq</a>(<a href="#66168" title="sbt.Project">baseProject</a>.<a href="Project.scala.html#50912" title="=&gt; baseProject.Property[String]">defScalaVersion</a>.<a href="Environment.scala.html#52128" title="=&gt; String">value</a>)
		<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="scala.collection.Map[String,project.MethodTask]" id="67031">methods</a> = <a href="#66169" title="sbt.Project">project</a>.<a href="Project.scala.html#50865" title="=&gt; scala.collection.Map[String,project.MethodTask]">methods</a>
		<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="&lt;refinement&gt; extends java.lang.Object with sbt.ExtraCompletions" id="67033">methodCompletions</a> = <a title="template $anon extends java.lang.Object with sbt.ExtraCompletions" id="67053" class="keyword">new</a> <a href="LineReader.scala.html#11949" title="sbt.ExtraCompletions">ExtraCompletions</a> { <span class="keyword">def</span> <a title="=&gt; List[String]" id="67055">names</a> = <a href="#67030" title="=&gt; scala.collection.Map[String,project.MethodTask]">methods</a>.<a title="=&gt; Iterator[String]" id="37838">keys</a>.<a title="=&gt; List[String]" id="19688">toList</a>; <span class="keyword">def</span> <a title="(String)Seq[String]" id="67056">completions</a>(<a title="String" id="67061">name</a>: <span title="String">String</span>) = <a href="#67030" title="(String)project.MethodTask" id="37835">methods</a>(<a href="#67061" title="String">name</a>).<a href="TaskManager.scala.html#52191" title="=&gt; Seq[String]">completions</a> }
		<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="sbt.Completors" id="67035">completors</a> = <span title="sbt.Completors" class="keyword">new</span> <a href="LineReader.scala.html#10692" title="sbt.Completors">Completors</a>(<a href="#65712" title="=&gt; java.lang.String">ProjectAction</a>, <a href="#67025" title="=&gt; List[String]">projectNames</a>, <a href="#65755" title="=&gt; Iterable[String]">basicCommands</a>, <a title="(java.lang.String*)List[java.lang.String]" id="500">List</a>(<a href="#65730" title="=&gt; java.lang.String">GetAction</a>, <a href="#65728" title="=&gt; java.lang.String">SetAction</a>), <a href="#65744" title="=&gt; java.lang.String">SpecificBuildPrefix</a>, <a href="#67028" title="=&gt; Seq[String]">scalaVersions</a>, <a href="#67027" title="List[java.lang.String]">prefixes</a>, <a href="#66169" title="sbt.Project">project</a>.<a href="Project.scala.html#50866" title="=&gt; Iterable[String]">taskNames</a>, <a href="#66169" title="sbt.Project">project</a>.<a href="Environment.scala.html#51325" title="=&gt; Iterable[String]">propertyNames</a>, <a href="#67032" title="=&gt; &lt;refinement&gt; extends java.lang.Object with sbt.ExtraCompletions">methodCompletions</a>)
		<span class="keyword">val</span> <a title="sbt.LazyJLineReader" id="67036">reader</a> = <span title="sbt.LazyJLineReader" class="keyword">new</span> <a href="LineReader.scala.html#8337" title="sbt.LazyJLineReader">LazyJLineReader</a>(<a href="#66168" title="sbt.Project">baseProject</a>.<a href="Project.scala.html#50901" title="=&gt; Option[sbt.Path]">historyPath</a>, <a href="LineReader.scala.html#63846" title="(sbt.Completors)jline.Completor">MainCompletor</a>(<a href="#67034" title="=&gt; sbt.Completors">completors</a>), <a href="#66168" title="sbt.Project">baseProject</a>.<a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>)
		<a href="#67036" title="sbt.LazyJLineReader">reader</a>.<a href="LineReader.scala.html#57225" title="(String)Option[java.lang.String]">readLine</a>(<span title="java.lang.String(&quot;&gt; &quot;)" class="string">&quot;&gt; &quot;</span>).<a title="(=&gt; java.lang.String)java.lang.String" id="30329">getOrElse</a>(<a href="#65716" title="=&gt; java.lang.String">ExitCommand</a>)
	}
	<span class="comment">/** The name of the command that loads a console with access to the current project through the variable 'project'.*/</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="65706">ProjectConsoleAction</a> = <span title="java.lang.String(&quot;console-project&quot;)" class="string">&quot;console-project&quot;</span>
	<span class="comment">/** The name of the command that shows the current project and logging level of that project.*/</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="65708">ShowCurrent</a> = <span title="java.lang.String(&quot;current&quot;)" class="string">&quot;current&quot;</span>
	<span class="comment">/** The name of the command that shows all available actions.*/</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="65710">ShowActions</a> = <span title="java.lang.String(&quot;actions&quot;)" class="string">&quot;actions&quot;</span>
	<span class="comment">/** The name of the command that sets the currently active project.*/</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="65712">ProjectAction</a> = <span title="java.lang.String(&quot;project&quot;)" class="string">&quot;project&quot;</span>
	<span class="comment">/** The name of the command that shows all available projects.*/</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="65714">ShowProjectsAction</a> = <span title="java.lang.String(&quot;projects&quot;)" class="string">&quot;projects&quot;</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="65716">ExitCommand</a> = <span title="java.lang.String(&quot;exit&quot;)" class="string">&quot;exit&quot;</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="65718">QuitCommand</a> = <span title="java.lang.String(&quot;quit&quot;)" class="string">&quot;quit&quot;</span>
	<span class="comment">/** The name of the command that resets JLine.  This is necessary when resuming from suspension.*/</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="65720">ResetCommand</a> = <span title="java.lang.String(&quot;reset&quot;)" class="string">&quot;reset&quot;</span>
	<span class="comment">/** The name of the command that switches to the builder project.*/</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="65722">BuilderCommand</a> = <span title="java.lang.String(&quot;builder&quot;)" class="string">&quot;builder&quot;</span>
	<span class="comment">/** The name of the command that loads the interactive shell.*/</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="65724">InteractiveCommand</a> = <span title="java.lang.String(&quot;shell&quot;)" class="string">&quot;shell&quot;</span>
	<span class="comment">/** The list of lowercase command names that may be used to terminate the program.*/</span>
	<span class="keyword">val</span> <a title="Iterable[String]" id="65726">TerminateActions</a>: <span title="Iterable[String]">Iterable</span>[String] = <a href="#65716" title="=&gt; java.lang.String">ExitCommand</a> <a href="#67080" title="(java.lang.String)List[java.lang.String]">::</a> <a href="#65718" title="=&gt; java.lang.String">QuitCommand</a> <a href="#67081" title="(java.lang.String)List[java.lang.String]">::</a> <span title="object Nil">Nil</span>
	<span class="comment">/** The name of the command that sets the value of the property given as its argument.*/</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="65728">SetAction</a> = <span title="java.lang.String(&quot;set&quot;)" class="string">&quot;set&quot;</span>
	<span class="comment">/** The name of the command that gets the value of the property given as its argument.*/</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="65730">GetAction</a> = <span title="java.lang.String(&quot;get&quot;)" class="string">&quot;get&quot;</span>
	<span class="comment">/** The name of the command that displays the help message. */</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="65732">HelpAction</a> = <span title="java.lang.String(&quot;help&quot;)" class="string">&quot;help&quot;</span>
	<span class="comment">/** The command for reloading sbt.*/</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="65734">RebootCommand</a> = <span title="java.lang.String(&quot;reload&quot;)" class="string">&quot;reload&quot;</span>
	<span class="comment">/** The name of the command that toggles logging stacktraces. */</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="65736">TraceCommand</a> = <span title="java.lang.String(&quot;trace&quot;)" class="string">&quot;trace&quot;</span>
	<span class="comment">/** The name of the command that compiles all sources continuously when they are modified. */</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="65738">ContinuousCompileCommand</a> = <span title="java.lang.String(&quot;cc&quot;)" class="string">&quot;cc&quot;</span>
	<span class="comment">/** The prefix used to identify a request to execute the remaining input on source changes.*/</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="65740">ContinuousExecutePrefix</a> = <span title="java.lang.String(&quot;~&quot;)" class="string">&quot;~&quot;</span>
	<span class="comment">/** The prefix used to identify a request to execute the remaining input across multiple Scala versions.*/</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="65742">CrossBuildPrefix</a> = <span title="java.lang.String(&quot;+&quot;)" class="string">&quot;+&quot;</span>
	<span class="comment">/** The prefix used to identify a request to execute the remaining input after the next space against the
	* Scala version between this prefix and the space (i.e. '++version action' means execute 'action' using
	* Scala version 'version'. */</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="65744">SpecificBuildPrefix</a> = <span title="java.lang.String(&quot;++&quot;)" class="string">&quot;++&quot;</span>
	<span class="comment">/** The prefix used to identify a file or local port to read commands from. */</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="65746">FileCommandsPrefix</a> = <span title="java.lang.String(&quot;&lt;&quot;)" class="string">&quot;&lt;&quot;</span>
	<span class="comment">/** The prefix used to identify the action to run after an error*/</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="65748">FailureHandlerPrefix</a> = <span title="java.lang.String(&quot;-&quot;)" class="string">&quot;-&quot;</span>
	<span class="comment">/** The prefix used to identify commands for managing processors.*/</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="65750">ProcessorPrefix</a> = <span title="java.lang.String(&quot;*&quot;)" class="string">&quot;*&quot;</span>

	<span class="comment">/** The number of seconds between polling by the continuous compile command.*/</span>
	<span class="keyword">val</span> <a title="Int" id="65752">ContinuousCompilePollDelaySeconds</a> = <span title="Int(1)" class="int">1</span>

	<span class="comment">/** The list of logging levels.*/</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Iterable[String]" id="65754">logLevels</a>: <span title="Iterable[String]">Iterable</span>[String] = <span title="object scala.collection.immutable.TreeSet">TreeSet</span>.<a href="#67093" title="(implicit (String) =&gt; Ordered[String])scala.collection.immutable.TreeSet[String]" id="61089">empty</a>[<span title="String">String</span>] <span title="(Iterable[String])scala.collection.immutable.SortedSet[String]">++</span> <a href="Logger.scala.html#9889" title="object sbt.Level">Level</a>.<a href="Logger.scala.html#53523" title="=&gt; List[sbt.Level.Value]">levels</a>.<span title="((sbt.Level.Value) =&gt; java.lang.String)List[java.lang.String]">map</span>(<a href="#67228" title="sbt.Level.Value">_</a>.<span title="()java.lang.String">toString</span>)
	<span class="comment">/** The list of all interactive commands other than logging level.*/</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Iterable[String]" id="65755">basicCommands</a>: <span title="Iterable[String]">Iterable</span>[String] = <a href="#67241" title="(java.lang.String*)(implicit (java.lang.String) =&gt; Ordered[java.lang.String])scala.collection.immutable.SortedSet[java.lang.String]" id="61117">TreeSet</a>(<a href="#65714" title="=&gt; java.lang.String">ShowProjectsAction</a>, <a href="#65710" title="=&gt; java.lang.String">ShowActions</a>, <a href="#65708" title="=&gt; java.lang.String">ShowCurrent</a>, <a href="#65732" title="=&gt; java.lang.String">HelpAction</a>,
		<a href="#65734" title="=&gt; java.lang.String">RebootCommand</a>, <a href="#65736" title="=&gt; java.lang.String">TraceCommand</a>, <a href="#65738" title="=&gt; java.lang.String">ContinuousCompileCommand</a>, <a href="#65706" title="=&gt; java.lang.String">ProjectConsoleAction</a>, <a href="#65722" title="=&gt; java.lang.String">BuilderCommand</a>)  <span title="(Iterable[java.lang.String])scala.collection.immutable.SortedSet[java.lang.String]">++</span>
		<a href="#65754" title="=&gt; Iterable[String]">logLevels</a>.<span title="=&gt; List[String]">toList</span> <span title="(Iterable[java.lang.String])scala.collection.immutable.SortedSet[java.lang.String]">++</span> <a href="#65726" title="=&gt; Iterable[String]">TerminateActions</a> <span title="(Iterable[java.lang.String])scala.collection.immutable.SortedSet[java.lang.String]">++</span>
		<a href="complete/HistoryCommands.scala.html#14251" title="object sbt.complete.HistoryCommands">HistoryCommands</a>.<a href="complete/HistoryCommands.scala.html#65661" title="=&gt; Seq[java.lang.String]">plainCommands</a>

	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project,sbt.Project,String,Boolean)Boolean" id="65756">processAction</a>(<a title="sbt.Project" id="66823">baseProject</a>: <a href="Project.scala.html#9291" title="sbt.Project">Project</a>, <a title="sbt.Project" id="66824">currentProject</a>: <a href="Project.scala.html#9291" title="sbt.Project">Project</a>, <a title="String" id="66825">action</a>: <span title="String">String</span>, <a title="Boolean" id="66826">isInteractive</a>: <span title="Boolean">Boolean</span>): <span title="Boolean">Boolean</span> =
		<a href="#66825" title="String">action</a> <span title="Boolean" class="keyword">match</span>
		{
			<span title="Boolean" class="keyword">case</span> <a href="#65732" title="=&gt; java.lang.String">HelpAction</a> =&gt; <a href="#65762" title="(Boolean)Unit">displayHelp</a>(<a href="#66826" title="Boolean">isInteractive</a>); <span title="Boolean(true)" class="keyword">true</span>
			<span title="Boolean" class="keyword">case</span> <a href="#65714" title="=&gt; java.lang.String">ShowProjectsAction</a> =&gt; <a href="#66823" title="sbt.Project">baseProject</a>.<a href="Project.scala.html#50880" title="=&gt; List[sbt.Project]">projectClosure</a>.<span title="((sbt.Project) =&gt; Unit)Unit">foreach</span>(<a href="#65763" title="(sbt.Project,sbt.Project)Unit">listProject</a>(<a href="#67289" title="sbt.Project">_</a>, <a href="#66824" title="sbt.Project">currentProject</a>)); <span title="Boolean(true)" class="keyword">true</span>
			<span title="Boolean" class="keyword">case</span> <a href="#65706" title="=&gt; java.lang.String">ProjectConsoleAction</a> =&gt;
				<a href="#65768" title="(Option[String],sbt.Logger)Boolean">showResult</a>(<a href="Run.scala.html#8983" title="object sbt.Run">Run</a>.<a href="Run.scala.html#56473" title="(sbt.Project)Option[String]">projectConsole</a>(<a href="#66824" title="sbt.Project">currentProject</a>), <a href="#66824" title="sbt.Project">currentProject</a>.<a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>)
			<span title="Boolean" class="keyword">case</span> _ =&gt;
				<span title="Boolean" class="keyword">if</span>(<a href="#66825" title="String">action</a>.<span title="(java.lang.String)Boolean">startsWith</span>(<a href="#65728" title="=&gt; java.lang.String">SetAction</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span>))
					<a href="#65780" title="(sbt.Project,String)Boolean">setProperty</a>(<a href="#66824" title="sbt.Project">currentProject</a>, <a href="#66825" title="String">action</a>.<span title="(Int)java.lang.String">substring</span>(<a href="#65728" title="=&gt; java.lang.String">SetAction</a>.<span title="()Int">length</span> <span title="(Int)Int">+</span> <span title="Int(1)" class="int">1</span>))
				<span class="keyword">else</span> <span title="Boolean" class="keyword">if</span>(<a href="#66825" title="String">action</a>.<span title="(java.lang.String)Boolean">startsWith</span>(<a href="#65730" title="=&gt; java.lang.String">GetAction</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span>))
					<a href="#65779" title="(sbt.Project,String)Boolean">getProperty</a>(<a href="#66824" title="sbt.Project">currentProject</a>, <a href="#66825" title="String">action</a>.<span title="(Int)java.lang.String">substring</span>(<a href="#65730" title="=&gt; java.lang.String">GetAction</a>.<span title="()Int">length</span> <span title="(Int)Int">+</span> <span title="Int(1)" class="int">1</span>))
				<span class="keyword">else</span> <span title="Boolean" class="keyword">if</span>(<a href="#66825" title="String">action</a>.<span title="(java.lang.String)Boolean">startsWith</span>(<a href="#65736" title="=&gt; java.lang.String">TraceCommand</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span>))
					<a href="#65771" title="(sbt.Project,String)Boolean">setTrace</a>(<a href="#66824" title="sbt.Project">currentProject</a>, <a href="#66825" title="String">action</a>.<span title="(Int)java.lang.String">substring</span>(<a href="#65736" title="=&gt; java.lang.String">TraceCommand</a>.<span title="()Int">length</span> <span title="(Int)Int">+</span> <span title="Int(1)" class="int">1</span>))
				<span class="keyword">else</span>
					<a href="#65765" title="(sbt.Project,String)Boolean">handleCommand</a>(<a href="#66824" title="sbt.Project">currentProject</a>, <a href="#66825" title="String">action</a>)
		}

	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(String,String)Unit" id="65757">printCmd</a>(<a title="String" id="67364">name</a>:<span title="String">String</span>, <a title="String" id="67365">desc</a>:<span title="String">String</span>) = <span title="object Console">Console</span>.<span title="(Any)Unit">println</span>(<span title="java.lang.String(&quot;   &quot;)" class="string">&quot;   &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#67364" title="String">name</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; : &quot;)" class="string">&quot; : &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#67365" title="String">desc</a>)
	<span class="keyword">val</span> <a title="java.lang.String" id="65758">BatchHelpHeader</a> = <span title="java.lang.String(&quot;You may execute any project action or method or one of the commands described below.&quot;)" class="string">&quot;You may execute any project action or method or one of the commands described below.&quot;</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="65760">InteractiveHelpHeader</a> = <span class="string">&quot;You may execute any project action or one of the commands described below. Only one action &quot;</span> +
			<span class="string">&quot;may be executed at a time in interactive mode and is entered by name, as it would be at the command line.&quot;</span> <span title="java.lang.String(&quot;You may execute any project action or one of the commands described below. Only one action may be executed at a time in interactive mode and is entered by name, as it would be at the command line. Also, tab completion is available.&quot;)">+</span>
			<span class="string">&quot; Also, tab completion is available.&quot;</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(Boolean)Unit" id="65762">displayHelp</a>(<a title="Boolean" id="67286">isInteractive</a>: <span title="Boolean">Boolean</span>)
	{
		<span title="object Console">Console</span>.<span title="(Any)Unit">println</span>(<span title="Any" class="keyword">if</span>(<a href="#67286" title="Boolean">isInteractive</a>) <a href="#65760" title="=&gt; java.lang.String">InteractiveHelpHeader</a> <span class="keyword">else</span> <a href="#65758" title="=&gt; java.lang.String">BatchHelpHeader</a>)
		<span title="object Console">Console</span>.<span title="(Any)Unit">println</span>(<span title="java.lang.String(&quot;Available Commands:&quot;)" class="string">&quot;Available Commands:&quot;</span>)

		<a href="#65757" title="(String,String)Unit">printCmd</a>(<span title="java.lang.String(&quot;&lt;action name&gt;&quot;)" class="string">&quot;&lt;action name&gt;&quot;</span>, <span title="java.lang.String(&quot;Executes the project specified action.&quot;)" class="string">&quot;Executes the project specified action.&quot;</span>)
		<a href="#65757" title="(String,String)Unit">printCmd</a>(<span title="java.lang.String(&quot;&lt;method name&gt; &lt;parameter&gt;*&quot;)" class="string">&quot;&lt;method name&gt; &lt;parameter&gt;*&quot;</span>, <span title="java.lang.String(&quot;Executes the project specified method.&quot;)" class="string">&quot;Executes the project specified method.&quot;</span>)
		<a href="#65757" title="(String,String)Unit">printCmd</a>(<span title="java.lang.String(&quot;&lt;processor label&gt; &lt;arguments&gt;&quot;)" class="string">&quot;&lt;processor label&gt; &lt;arguments&gt;&quot;</span>, <span title="java.lang.String(&quot;Runs the specified processor.&quot;)" class="string">&quot;Runs the specified processor.&quot;</span>)
		<a href="#65757" title="(String,String)Unit">printCmd</a>(<a href="#65740" title="=&gt; java.lang.String">ContinuousExecutePrefix</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &lt;command&gt;&quot;)" class="string">&quot; &lt;command&gt;&quot;</span>, <span title="java.lang.String(&quot;Executes the project specified action or method whenever source files change.&quot;)" class="string">&quot;Executes the project specified action or method whenever source files change.&quot;</span>)
		<a href="#65757" title="(String,String)Unit">printCmd</a>(<a href="#65746" title="=&gt; java.lang.String">FileCommandsPrefix</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; file&quot;)" class="string">&quot; file&quot;</span>, <span title="java.lang.String(&quot;Executes the commands in the given file.  Each command should be on its own line.  Empty lines and lines beginning with '#' are ignored&quot;)" class="string">&quot;Executes the commands in the given file.  Each command should be on its own line.  Empty lines and lines beginning with '#' are ignored&quot;</span>)
		<a href="#65757" title="(String,String)Unit">printCmd</a>(<a href="#65742" title="=&gt; java.lang.String">CrossBuildPrefix</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &lt;command&gt;&quot;)" class="string">&quot; &lt;command&gt;&quot;</span>, <span title="java.lang.String(&quot;Executes the project specified action or method for all versions of Scala defined in crossScalaVersions.&quot;)" class="string">&quot;Executes the project specified action or method for all versions of Scala defined in crossScalaVersions.&quot;</span>)
		<a href="#65757" title="(String,String)Unit">printCmd</a>(<a href="#65744" title="=&gt; java.lang.String">SpecificBuildPrefix</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;&lt;version&gt; &lt;command&gt;&quot;)" class="string">&quot;&lt;version&gt; &lt;command&gt;&quot;</span>, <span title="java.lang.String(&quot;Changes the version of Scala building the project and executes the provided command.  &lt;command&gt; is optional.&quot;)" class="string">&quot;Changes the version of Scala building the project and executes the provided command.  &lt;command&gt; is optional.&quot;</span>)
		<a href="#65757" title="(String,String)Unit">printCmd</a>(<a href="#65750" title="=&gt; java.lang.String">ProcessorPrefix</a>, <span title="java.lang.String(&quot;Prefix for commands for managing processors.  Run '&quot;)" class="string">&quot;Prefix for commands for managing processors.  Run '&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#65750" title="=&gt; java.lang.String">ProcessorPrefix</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;help' for details.&quot;)" class="string">&quot;help' for details.&quot;</span>)
		<a href="#65757" title="(String,String)Unit">printCmd</a>(<a href="complete/HistoryCommands.scala.html#65644" title="=&gt; java.lang.String">HistoryPrefix</a>, <span title="java.lang.String(&quot;Prefix for history commands.  Run '&quot;)" class="string">&quot;Prefix for history commands.  Run '&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="complete/HistoryCommands.scala.html#65644" title="=&gt; java.lang.String">HistoryPrefix</a><span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;' for history command help.&quot;)" class="string">&quot;' for history command help.&quot;</span>)
		<a href="#65757" title="(String,String)Unit">printCmd</a>(<a href="#65710" title="=&gt; java.lang.String">ShowActions</a>, <span title="java.lang.String(&quot;Shows all available actions.&quot;)" class="string">&quot;Shows all available actions.&quot;</span>)
		<a href="#65757" title="(String,String)Unit">printCmd</a>(<a href="#65734" title="=&gt; java.lang.String">RebootCommand</a>, <span title="java.lang.String(&quot;Reloads sbt, picking up modifications to sbt.version or scala.version and recompiling modified project definitions.&quot;)" class="string">&quot;Reloads sbt, picking up modifications to sbt.version or scala.version and recompiling modified project definitions.&quot;</span>)
		<a href="#65757" title="(String,String)Unit">printCmd</a>(<a href="#65732" title="=&gt; java.lang.String">HelpAction</a>, <span title="java.lang.String(&quot;Displays this help message.&quot;)" class="string">&quot;Displays this help message.&quot;</span>)
		<a href="#65757" title="(String,String)Unit">printCmd</a>(<a href="#65708" title="=&gt; java.lang.String">ShowCurrent</a>, <span title="java.lang.String(&quot;Shows the current project, Scala version, and logging level.&quot;)" class="string">&quot;Shows the current project, Scala version, and logging level.&quot;</span>)
		<a href="#65757" title="(String,String)Unit">printCmd</a>(<a href="Logger.scala.html#9889" title="object sbt.Level">Level</a>.<a href="Logger.scala.html#53523" title="=&gt; List[sbt.Level.Value]">levels</a>.<span title="(String)String">mkString</span>(<span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>), <span title="java.lang.String(&quot;Set logging for the current project to the specified level.&quot;)" class="string">&quot;Set logging for the current project to the specified level.&quot;</span>)
		<a href="#65757" title="(String,String)Unit">printCmd</a>(<a href="#65736" title="=&gt; java.lang.String">TraceCommand</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#65783" title="=&gt; java.lang.String">validTraceArguments</a>, <span title="java.lang.String(&quot;Configures stack trace logging. &quot;)" class="string">&quot;Configures stack trace logging. &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#65784" title="=&gt; java.lang.String">traceExplanation</a>)
		<a href="#65757" title="(String,String)Unit">printCmd</a>(<a href="#65712" title="=&gt; java.lang.String">ProjectAction</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &lt;project name&gt;&quot;)" class="string">&quot; &lt;project name&gt;&quot;</span>, <span title="java.lang.String(&quot;Sets the currently active project.  Use 'project /' to change to the root project or 'project ..' to change to the parent project.&quot;)" class="string">&quot;Sets the currently active project.  Use 'project /' to change to the root project or 'project ..' to change to the parent project.&quot;</span>)
		<a href="#65757" title="(String,String)Unit">printCmd</a>(<a href="#65714" title="=&gt; java.lang.String">ShowProjectsAction</a>, <span title="java.lang.String(&quot;Shows all available projects.&quot;)" class="string">&quot;Shows all available projects.&quot;</span>)
		<a href="#65757" title="(String,String)Unit">printCmd</a>(<a href="#65726" title="=&gt; Iterable[String]">TerminateActions</a>.<span title="=&gt; Iterator[String]">elements</span>.<a title="(String)String" id="19691">mkString</a>(<span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>), <span title="java.lang.String(&quot;Terminates the build.&quot;)" class="string">&quot;Terminates the build.&quot;</span>)
		<a href="#65757" title="(String,String)Unit">printCmd</a>(<a href="#65728" title="=&gt; java.lang.String">SetAction</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &lt;property&gt; &lt;value&gt;&quot;)" class="string">&quot; &lt;property&gt; &lt;value&gt;&quot;</span>, <span title="java.lang.String(&quot;Sets the value of the property given as its argument.&quot;)" class="string">&quot;Sets the value of the property given as its argument.&quot;</span>)
		<a href="#65757" title="(String,String)Unit">printCmd</a>(<a href="#65730" title="=&gt; java.lang.String">GetAction</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &lt;property&gt;&quot;)" class="string">&quot; &lt;property&gt;&quot;</span>, <span title="java.lang.String(&quot;Gets the value of the property given as its argument.&quot;)" class="string">&quot;Gets the value of the property given as its argument.&quot;</span>)
		<a href="#65757" title="(String,String)Unit">printCmd</a>(<a href="#65706" title="=&gt; java.lang.String">ProjectConsoleAction</a>, <span title="java.lang.String(&quot;Enters the Scala interpreter with the current project definition bound to the variable 'current' and all members imported.&quot;)" class="string">&quot;Enters the Scala interpreter with the current project definition bound to the variable 'current' and all members imported.&quot;</span>)
		<a href="#65757" title="(String,String)Unit">printCmd</a>(<a href="#65722" title="=&gt; java.lang.String">BuilderCommand</a>, <span title="java.lang.String(&quot;Set the current project to be the project definition builder.&quot;)" class="string">&quot;Set the current project to be the project definition builder.&quot;</span>)
		<span title="Unit" class="keyword">if</span>(<span title="=&gt; Boolean">!</span><a href="#67286" title="Boolean">isInteractive</a>)
			<a href="#65757" title="(String,String)Unit">printCmd</a>(<a href="#65724" title="=&gt; java.lang.String">InteractiveCommand</a>, <span title="java.lang.String(&quot;Enters the sbt interactive shell&quot;)" class="string">&quot;Enters the sbt interactive shell&quot;</span>)
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project,sbt.Project)Unit" id="65763">listProject</a>(<a title="sbt.Project" id="67290">p</a>: <a href="Project.scala.html#9291" title="sbt.Project">Project</a>, <a title="sbt.Project" id="67291">curr</a>: <a href="Project.scala.html#9291" title="sbt.Project">Project</a>) = <a href="#65764" title="(String,sbt.Project)Unit">printProject</a>(<span title="String" class="keyword">if</span>(<a href="#67290" title="sbt.Project">p</a> <span title="(AnyRef)Boolean">eq</span> <a href="#67291" title="sbt.Project">curr</a>) <span title="java.lang.String(&quot;\011* &quot;)" class="string">&quot;\t* &quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;\011  &quot;)" class="string">&quot;\t  &quot;</span>, <a href="#67290" title="sbt.Project">p</a>)
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(String,sbt.Project)Unit" id="65764">printProject</a>(<a title="String" id="66954">prefix</a>: <span title="String">String</span>, <a title="sbt.Project" id="66955">p</a>: <a href="Project.scala.html#9291" title="sbt.Project">Project</a>): <span title="Unit">Unit</span> =
		<span title="object Console">Console</span>.<span title="(Any)Unit">println</span>(<a href="#66954" title="String">prefix</a> <span title="(Any)java.lang.String">+</span> <a href="#66955" title="sbt.Project">p</a>.<a href="Project.scala.html#50858" title="=&gt; String">name</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#66955" title="sbt.Project">p</a>.<a href="Project.scala.html#50859" title="=&gt; sbt.Version">version</a>)

	<span class="comment">/** Handles the given command string provided at the command line.  Returns false if there was an error*/</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project,String)Boolean" id="65765">handleCommand</a>(<a title="sbt.Project" id="67362">project</a>: <a href="Project.scala.html#9291" title="sbt.Project">Project</a>, <a title="String" id="67363">command</a>: <span title="String">String</span>): <span title="Boolean">Boolean</span> =
	{
		<a href="#67363" title="String">command</a> <span title="Boolean" class="keyword">match</span>
		{
			<span title="Boolean" class="keyword">case</span> <a href="#65730" title="=&gt; java.lang.String">GetAction</a> =&gt; <a href="#65788" title="(sbt.Logger)Boolean">getArgumentError</a>(<a href="#67362" title="sbt.Project">project</a>.<a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>)
			<span title="Boolean" class="keyword">case</span> <a href="#65728" title="=&gt; java.lang.String">SetAction</a> =&gt; <a href="#65787" title="(sbt.Logger)Boolean">setArgumentError</a>(<a href="#67362" title="sbt.Project">project</a>.<a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>)
			<span title="Boolean" class="keyword">case</span> <a href="#65712" title="=&gt; java.lang.String">ProjectAction</a> =&gt; <a href="#65789" title="(sbt.Logger)Boolean">setProjectError</a>(<a href="#67362" title="sbt.Project">project</a>.<a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>)
			<span title="Boolean" class="keyword">case</span> <a href="#65736" title="=&gt; java.lang.String">TraceCommand</a> =&gt; <a href="#65786" title="(sbt.Logger)Boolean">setTraceError</a>(<a href="#67362" title="sbt.Project">project</a>.<a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>); <span title="Boolean(true)" class="keyword">true</span>
			<span title="Boolean" class="keyword">case</span> <a href="#65708" title="=&gt; java.lang.String">ShowCurrent</a> =&gt;
				<a href="#65764" title="(String,sbt.Project)Unit">printProject</a>(<span title="java.lang.String(&quot;Current project is &quot;)" class="string">&quot;Current project is &quot;</span>, <a href="#67362" title="sbt.Project">project</a>)
				<span title="object Console">Console</span>.<span title="(Any)Unit">println</span>(<span title="java.lang.String(&quot;Current Scala version is &quot;)" class="string">&quot;Current Scala version is &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#67362" title="sbt.Project">project</a>.<a href="Project.scala.html#50924" title="=&gt; String">buildScalaVersion</a>)
				<span title="object Console">Console</span>.<span title="(Any)Unit">println</span>(<span title="java.lang.String(&quot;Current log level is &quot;)" class="string">&quot;Current log level is &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#67362" title="sbt.Project">project</a>.<a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49375" title="=&gt; sbt.Level.Value">getLevel</a>)
				<a href="#65772" title="(sbt.Project)Unit">printTraceEnabled</a>(<a href="#67362" title="sbt.Project">project</a>)
				<span title="Boolean(true)" class="keyword">true</span>
			<span title="Boolean" class="keyword">case</span> <a href="#65710" title="=&gt; java.lang.String">ShowActions</a> =&gt; <a href="#65766" title="(sbt.Project)Unit">showActions</a>(<a href="#67362" title="sbt.Project">project</a>); <span title="Boolean(true)" class="keyword">true</span>
			<span title="Boolean" class="keyword">case</span> <a href="Logger.scala.html#53525" title="(String)Option[sbt.Level.Value]">Level</a>(<a title="sbt.Level.Value" id="67394">level</a>) =&gt; <a href="#65773" title="(sbt.Project,sbt.Level.Value)Unit">setLevel</a>(<a href="#67362" title="sbt.Project">project</a>, <a href="#67394" title="sbt.Level.Value">level</a>); <span title="Boolean(true)" class="keyword">true</span>
			<span title="Boolean" class="keyword">case</span> <a href="#65738" title="=&gt; java.lang.String">ContinuousCompileCommand</a> =&gt; <a href="#65781" title="(sbt.Project)Boolean">compileContinuously</a>(<a href="#67362" title="sbt.Project">project</a>)
			<span title="Boolean" class="keyword">case</span> <a title="String" id="67463">action</a> <span class="keyword">if</span> <a href="#67463" title="String">action</a>.<span title="(java.lang.String)Boolean">startsWith</span>(<a href="#65740" title="=&gt; java.lang.String">ContinuousExecutePrefix</a>) =&gt; <a href="#65782" title="(sbt.Project,String)Boolean">executeContinuously</a>(<a href="#67362" title="sbt.Project">project</a>, <a href="#67463" title="String">action</a>.<span title="(Int)java.lang.String">substring</span>(<a href="#65740" title="=&gt; java.lang.String">ContinuousExecutePrefix</a>.<span title="()Int">length</span>).<span title="()java.lang.String">trim</span>)
			<span title="Boolean" class="keyword">case</span> <a title="String" id="67466">action</a> =&gt; <a href="#65767" title="(sbt.Project,String)Boolean">handleAction</a>(<a href="#67362" title="sbt.Project">project</a>, <a href="#67466" title="String">action</a>)
		}
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project)Unit" id="65766">showActions</a>(<a title="sbt.Project" id="67392">project</a>: <a href="Project.scala.html#9291" title="sbt.Project">Project</a>): <span title="Unit">Unit</span> = <span title="object Console">Console</span>.<span title="(Any)Unit">println</span>(<a href="#67392" title="sbt.Project">project</a>.<a href="Project.scala.html#50871" title="=&gt; String">taskAndMethodList</a>)

	<span class="comment">// returns true if it succeeded</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project,String)Boolean" id="65767">handleAction</a>(<a title="sbt.Project" id="67446">project</a>: <a href="Project.scala.html#9291" title="sbt.Project">Project</a>, <a title="String" id="67447">action</a>: <span title="String">String</span>): <span title="Boolean">Boolean</span> =
	{
		<span class="keyword">def</span> <a title="(Option[String])Boolean" id="67469">show</a>(<a title="Option[String]" id="67472">result</a>: <span title="Option[String]">Option</span>[String]): <span title="Boolean">Boolean</span> = <a href="#65768" title="(Option[String],sbt.Logger)Boolean">showResult</a>(<a href="#67472" title="Option[String]">result</a>, <a href="#67446" title="sbt.Project">project</a>.<a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>)
		<span class="keyword">val</span> <a title="Long" id="67470">startTime</a> = <span title="object java.lang.System">System</span>.<span title="()Long">currentTimeMillis</span>
		<span class="keyword">val</span> <a title="Boolean" id="67471">result</a> = <a href="#65770" title="(sbt.Project,String)((String, Array[String]) =&gt; Boolean)((String) =&gt; Boolean)Boolean">withAction</a>(<a href="#67446" title="sbt.Project">project</a>, <a href="#67447" title="String">action</a>)( (<a title="String" id="67478">name</a>, <a title="Array[String]" id="67479">params</a>) =&gt; <a href="#67469" title="(Option[String])Boolean">show</a>(<a href="#67446" title="sbt.Project">project</a>.<a href="Project.scala.html#50881" title="(String,Array[String])Option[String]">call</a>(<a href="#67478" title="String">name</a>, <a href="#67479" title="Array[String]">params</a>)))( <a title="String" id="67483">name</a> =&gt; <a href="#67469" title="(Option[String])Boolean">show</a>(<a href="#67446" title="sbt.Project">project</a>.<a href="Project.scala.html#50883" title="(String)Option[String]">act</a>(<a href="#67483" title="String">name</a>)))
		<a href="#65774" title="(sbt.Project,Long,String)Unit">printTime</a>(<a href="#67446" title="sbt.Project">project</a>, <a href="#67470" title="Long">startTime</a>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>)
		<a href="#67471" title="Boolean">result</a>
	}
	<span class="comment">// returns true if it succeeded</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(Option[String],sbt.Logger)Boolean" id="65768">showResult</a>(<a title="Option[String]" id="67293">result</a>: <span title="Option[String]">Option</span>[String], <a title="sbt.Logger" id="67294">log</a>: <a href="Logger.scala.html#13533" title="sbt.Logger">Logger</a>): <span title="Boolean">Boolean</span> =
	{
		<a href="#67293" title="Option[String]">result</a> <span title="Boolean" class="keyword">match</span>
		{
			<span title="Boolean" class="keyword">case</span> Some(<a title="String" id="67485">errorMessage</a>) =&gt; <a href="#67294" title="sbt.Logger">log</a>.<a href="Logger.scala.html#49387" title="(=&gt; String)Unit">error</a>(<a href="#67485" title="String">errorMessage</a>); <span title="Boolean(false)" class="keyword">false</span>
			<span title="Boolean" class="keyword">case</span> <span title="object None">None</span> =&gt; <a href="#67294" title="sbt.Logger">log</a>.<a href="Logger.scala.html#49388" title="(=&gt; String)Unit">success</a>(<span title="java.lang.String(&quot;Successful.&quot;)" class="string">&quot;Successful.&quot;</span>); <span title="Boolean(true)" class="keyword">true</span>
		}
	}
	<span class="comment">// true if the action exists</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project,String)Boolean" id="65769">checkAction</a>(<a title="sbt.Project" id="66341">project</a>: <a href="Project.scala.html#9291" title="sbt.Project">Project</a>, <a title="String" id="66342">actionString</a>: <span title="String">String</span>): <span title="Boolean">Boolean</span> =
		<a href="#65770" title="(sbt.Project,String)((String, Array[String]) =&gt; Boolean)((String) =&gt; Boolean)Boolean">withAction</a>(<a href="#66341" title="sbt.Project">project</a>, <a href="#66342" title="String">actionString</a>)(  (<a title="String" id="67488">n</a>,<a title="Array[String]" id="67489">p</a>) =&gt; <span title="Boolean(true)" class="keyword">true</span>)( <a title="String" id="67491">n</a> =&gt; <span title="Boolean(true)" class="keyword">true</span>)
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project,String)((String, Array[String]) =&gt; Boolean)((String) =&gt; Boolean)Boolean" id="65770">withAction</a>(<a title="sbt.Project" id="67473">project</a>: <a href="Project.scala.html#9291" title="sbt.Project">Project</a>, <a title="String" id="67474">actionString</a>: <span title="String">String</span>)(<a title="(String, Array[String]) =&gt; Boolean" id="67475">ifMethod</a>: (String, Array[String]) =&gt; Boolean)(<a title="(String) =&gt; Boolean" id="67476">ifAction</a>: String =&gt; Boolean): <span title="Boolean">Boolean</span> =
	{
		<span class="keyword">def</span> <a title="(String,String)Boolean" id="67492">didNotExist</a>(<a title="String" id="67493">taskType</a>: <span title="String">String</span>, <a title="String" id="67494">name</a>: <span title="String">String</span>) =
		{
			<a href="#67473" title="sbt.Project">project</a>.<a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49387" title="(=&gt; String)Unit">error</a>(<span title="java.lang.String(&quot;No &quot;)" class="string">&quot;No &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#67493" title="String">taskType</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; named '&quot;)" class="string">&quot; named '&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#67494" title="String">name</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;' exists.&quot;)" class="string">&quot;' exists.&quot;</span>)
			<a href="#67473" title="sbt.Project">project</a>.<a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49385" title="(=&gt; String)Unit">info</a>(<span title="java.lang.String(&quot;Execute 'help' for a list of commands or 'actions' for a list of available project actions and methods.&quot;)" class="string">&quot;Execute 'help' for a list of commands or 'actions' for a list of available project actions and methods.&quot;</span>)
			<span title="Boolean(false)" class="keyword">false</span>
		}
		impl.<a href="impl/CommandParser.scala.html#14441" title="object sbt.impl.CommandParser">CommandParser</a>.<a href="impl/CommandParser.scala.html#67803" title="(String)Either[String,(String, List[String])]">parse</a>(<a href="#67474" title="String">actionString</a>) <span title="Boolean" class="keyword">match</span>
		{
			<span title="Boolean" class="keyword">case</span> Left(<a title="String" id="67822">errMsg</a>) =&gt; <a href="#67473" title="sbt.Project">project</a>.<a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49387" title="(=&gt; String)Unit">error</a>(<a href="#67822" title="String">errMsg</a>); <span title="Boolean(false)" class="keyword">false</span>
			<span title="Boolean" class="keyword">case</span> Right((<a title="String" id="67824">name</a>, <a title="List[String]" id="67825">parameters</a>)) =&gt;
				<span title="Boolean" class="keyword">if</span>(<a href="#67473" title="sbt.Project">project</a>.<a href="Project.scala.html#50865" title="=&gt; scala.collection.Map[String,project.MethodTask]">methods</a>.<span title="(String)Boolean">contains</span>(<a href="#67824" title="String">name</a>))
					<a href="#67475" title="(String,Array[String])Boolean" id="19598">ifMethod</a>(<a href="#67824" title="String">name</a>, <a href="#67825" title="List[String]">parameters</a>.<a title="Array[String]" id="15834">toArray</a>)
				<span class="keyword">else</span> <span title="Boolean" class="keyword">if</span>(<span title="=&gt; Boolean">!</span><a href="#67825" title="List[String]">parameters</a>.<span title="=&gt; Boolean">isEmpty</span>)
					<a href="#67492" title="(String,String)Boolean">didNotExist</a>(<span title="java.lang.String(&quot;method&quot;)" class="string">&quot;method&quot;</span>, <a href="#67824" title="String">name</a>)
				<span class="keyword">else</span> <span title="Boolean" class="keyword">if</span>(<a href="#67473" title="sbt.Project">project</a>.<a href="Project.scala.html#50875" title="=&gt; scala.collection.Map[String,sbt.Project#Task]">deepTasks</a>.<span title="(String)Boolean">contains</span>(<a href="#67824" title="String">name</a>))
					<a href="#67476" title="(String)Boolean" id="15917">ifAction</a>(<a href="#67824" title="String">name</a>)
				<span class="keyword">else</span>
					<a href="#67492" title="(String,String)Boolean">didNotExist</a>(<span title="java.lang.String(&quot;action&quot;)" class="string">&quot;action&quot;</span>, <a href="#67824" title="String">name</a>)
		}
	}

	<span class="comment">/** Toggles whether stack traces are enabled.*/</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project,String)Boolean" id="65771">setTrace</a>(<a title="sbt.Project" id="67341">project</a>: <a href="Project.scala.html#9291" title="sbt.Project">Project</a>, <a title="String" id="67342">value</a>: <span title="String">String</span>): <span title="Boolean">Boolean</span> =
	{
		<span class="keyword">try</span>
		{
			<span class="keyword">val</span> <a title="Int" id="67835">newValue</a> = <span title="Int" class="keyword">if</span>(<a href="#67342" title="String">value</a> <span title="(AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;on&quot;)" class="string">&quot;on&quot;</span>) <a href="#65682" title="=&gt; Int">MaxInt</a> <span class="keyword">else</span> <span title="Int" class="keyword">if</span>(<a href="#67342" title="String">value</a> <span title="(AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;off&quot;)" class="string">&quot;off&quot;</span>) -<span title="Int(-1)" class="int">1</span> <span class="keyword">else</span> <span title="Int" class="keyword">if</span>(<a href="#67342" title="String">value</a> <span title="(AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;nosbt&quot;)" class="string">&quot;nosbt&quot;</span>) <span title="Int(0)" class="int">0</span> <span class="keyword">else</span> <a href="#67342" title="implicit scala.Predef.stringWrapper : (String)scala.runtime.RichString">value</a>.<span title="=&gt; Int">toInt</span>
			<a href="#67341" title="sbt.Project">project</a>.<a href="Project.scala.html#50880" title="=&gt; List[sbt.Project]">projectClosure</a>.<span title="((sbt.Project) =&gt; Unit)Unit">foreach</span>(<a href="#67845" title="sbt.Project">_</a>.<a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49377" title="(Int)Unit">setTrace</a>(<a href="#67835" title="Int">newValue</a>))
			<a href="#65772" title="(sbt.Project)Unit">printTraceEnabled</a>(<a href="#67341" title="sbt.Project">project</a>)
			<span title="Boolean(true)" class="keyword">true</span>
		}
		<span class="keyword">catch</span> { <span title="Boolean" class="keyword">case</span> _: <span title="NumberFormatException">NumberFormatException</span> =&gt; <a href="#65786" title="(sbt.Logger)Boolean">setTraceError</a>(<a href="#67341" title="sbt.Project">project</a>.<a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>) }
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project)Unit" id="65772">printTraceEnabled</a>(<a title="sbt.Project" id="67391">project</a>: <a href="Project.scala.html#9291" title="sbt.Project">Project</a>)
	{
		<span class="keyword">def</span> <a title="(Int)java.lang.String" id="67846">traceLevel</a>(<a title="Int" id="67847">level</a>: <span title="Int">Int</span>) = <span title="java.lang.String" class="keyword">if</span>(<a href="#67847" title="Int">level</a> <span title="(Int)Boolean">==</span> <span title="Int(0)" class="int">0</span>) <span title="java.lang.String(&quot; (no sbt stack elements)&quot;)" class="string">&quot; (no sbt stack elements)&quot;</span> <span class="keyword">else</span> <span title="java.lang.String" class="keyword">if</span>(<a href="#67847" title="Int">level</a> <span title="(Int)Boolean">==</span> <a href="#65682" title="=&gt; Int">MaxInt</a>) <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot; (maximum &quot;)" class="string">&quot; (maximum &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#67847" title="Int">level</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; stack elements per exception)&quot;)" class="string">&quot; stack elements per exception)&quot;</span>
		<span title="object Console">Console</span>.<span title="(Any)Unit">println</span>(<span title="java.lang.String(&quot;Stack traces are &quot;)" class="string">&quot;Stack traces are &quot;</span> <span title="(Any)java.lang.String">+</span> (<span title="Any" class="keyword">if</span>(<a href="#67391" title="sbt.Project">project</a>.<a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49379" title="=&gt; Boolean">traceEnabled</a>) <span title="java.lang.String(&quot;enabled&quot;)" class="string">&quot;enabled&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#67846" title="(Int)java.lang.String">traceLevel</a>(<a href="#67391" title="sbt.Project">project</a>.<a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49378" title="=&gt; Int">getTrace</a>) <span class="keyword">else</span> <span title="java.lang.String(&quot;disabled&quot;)" class="string">&quot;disabled&quot;</span>))
	}
	<span class="comment">/** Sets the logging level on the given project.*/</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project,sbt.Level.Value)Unit" id="65773">setLevel</a>(<a title="sbt.Project" id="67395">project</a>: <a href="Project.scala.html#9291" title="sbt.Project">Project</a>, <a title="sbt.Level.Value" id="67396">level</a>: Level.<a title="sbt.Level.Value" id="33834">Value</a>)
	{
		<a href="#67395" title="sbt.Project">project</a>.<a href="Project.scala.html#50880" title="=&gt; List[sbt.Project]">projectClosure</a>.<span title="((sbt.Project) =&gt; Unit)Unit">foreach</span>(<a href="#67853" title="sbt.Project">_</a>.<a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49376" title="(sbt.Level.Value)Unit">setLevel</a>(<a href="#67396" title="sbt.Level.Value">level</a>))
		<span title="object Console">Console</span>.<span title="(Any)Unit">println</span>(<span title="java.lang.String(&quot;Set log level to &quot;)" class="string">&quot;Set log level to &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#67395" title="sbt.Project">project</a>.<a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49375" title="=&gt; sbt.Level.Value">getLevel</a>)
	}
	<span class="comment">/** Prints the elapsed time to the given project's log using the given
	* initial time and the label 's'.*/</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project,Long,String)Unit" id="65774">printTime</a>(<a title="sbt.Project" id="65947">project</a>: <a href="Project.scala.html#9291" title="sbt.Project">Project</a>, <a title="Long" id="65948">startTime</a>: <span title="Long">Long</span>, <a title="String" id="65949">s</a>: <span title="String">String</span>)
	{
		<span class="keyword">val</span> <a title="Long" id="67855">endTime</a> = <span title="object java.lang.System">System</span>.<span title="()Long">currentTimeMillis</span>()
		<a href="#65947" title="sbt.Project">project</a>.<a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49385" title="(=&gt; String)Unit">info</a>(<span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>)
		<span class="keyword">val</span> <a title="java.lang.String" id="67856">ss</a> = <span title="java.lang.String" class="keyword">if</span>(<a href="#65949" title="String">s</a>.<span title="()Boolean">isEmpty</span>) <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <a href="#65949" title="String">s</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span>
		<a href="#65947" title="sbt.Project">project</a>.<a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49385" title="(=&gt; String)Unit">info</a>(<span title="java.lang.String(&quot;Total &quot;)" class="string">&quot;Total &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#67856" title="java.lang.String">ss</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;time: &quot;)" class="string">&quot;time: &quot;</span> <span title="(Any)java.lang.String">+</span> (<a href="#67855" title="Long">endTime</a> <a title="(Long)Long" id="3214">-</a> <a href="#65948" title="Long">startTime</a> <a title="(Int)Long" id="3199">+</a> <span title="Int(500)" class="int">500</span>) <a title="(Int)Long" id="3202">/</a> <span title="Int(1000)" class="int">1000</span> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; s, completed &quot;)" class="string">&quot; s, completed &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#65775" title="=&gt; java.lang.String">nowString</a>)
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="65775">nowString</a> =
	{
		<span class="keyword">import</span> java.text.DateFormat
		<span class="keyword">val</span> <a title="java.text.DateFormat" id="67865">format</a> = <a title="object java.text.DateFormat" id="41455">DateFormat</a>.<a title="(Int,Int)java.text.DateFormat" id="67910">getDateTimeInstance</a>(DateFormat.<span title="Int(2)">MEDIUM</span>, DateFormat.<span title="Int(2)">MEDIUM</span>)
		<a href="#67865" title="java.text.DateFormat">format</a>.<a title="(java.util.Date)java.lang.String" id="67899">format</a>(<span title="java.util.Date" class="keyword">new</span> java.util.<a title="java.util.Date" id="5505">Date</a>)
	}
	<span class="comment">/** Provides a partial message describing why the given property is undefined. */</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project#UserProperty[_])String" id="65776">undefinedMessage</a>(<a title="sbt.Project#UserProperty[_]" id="68080">property</a>: <a href="Environment.scala.html#51298" title="sbt.Project#UserProperty[_]">Project</a>#UserProperty[_]): <span title="String">String</span> =
	{
		<a href="#68080" title="sbt.Project#UserProperty[_]">property</a>.<a href="Environment.scala.html#59737" title="=&gt; sbt.PropertyResolution[Any]">resolve</a> <span title="String" class="keyword">match</span>
		{
			<span title="java.lang.String(&quot; is not defined.&quot;)" class="keyword">case</span> <a title="sbt.UndefinedValue" id="68092">vu</a>: <a href="Environment.scala.html#13344" title="sbt.UndefinedValue">UndefinedValue</a> =&gt; <span title="java.lang.String(&quot; is not defined.&quot;)" class="string">&quot; is not defined.&quot;</span>
			<span title="java.lang.String" class="keyword">case</span> <a title="sbt.ResolutionException" id="68093">e</a>: <a href="Environment.scala.html#8520" title="sbt.ResolutionException">ResolutionException</a> =&gt; <span title="java.lang.String(&quot; has invalid value: &quot;)" class="string">&quot; has invalid value: &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#68093" title="sbt.ResolutionException">e</a>.<span title="()java.lang.String">toString</span>
			<span title="java.lang.String(&quot;&quot;)" class="keyword">case</span> _ =&gt; <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
		}
	}
	<span class="comment">/** Prompts the user for the value of undefined properties.  'first' is true if this is the first time
	* that the current property has been prompted.*/</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project,List[(String, sbt.Project#Property[_])],Boolean)Boolean" id="65777">fillUndefinedProperties</a>(<a title="sbt.Project" id="68094">project</a>: <a href="Project.scala.html#9291" title="sbt.Project">Project</a>, <a title="List[(String, sbt.Project#Property[_])]" id="68095">properties</a>: <span title="List[(String, sbt.Project#Property[_])]">List</span>[(String, Project#Property[_])], <a title="Boolean" id="68096">first</a>: <span title="Boolean">Boolean</span>): <span title="Boolean">Boolean</span> =
	{
		<a href="#68095" title="List[(String, sbt.Project#Property[_])]">properties</a> <span title="Boolean" class="keyword">match</span>
		{
			<span title="Boolean" class="keyword">case</span> (<a title="String" id="68104">name</a>, <a title="sbt.Project#Property[?]" id="68105">variable</a>) :: <a title="List[(String, sbt.Project#Property[_])]" id="68107">tail</a> =&gt;
			{
				<span class="keyword">val</span> <a title="Option[Boolean]" id="68108">shouldAdvanceOrQuit</a> =
					<a href="#68105" title="sbt.Project#Property[?]">variable</a> <span title="Option[Boolean]" class="keyword">match</span>
					{
						<span title="Option[Boolean]" class="keyword">case</span> <a title="sbt.Project#UserProperty[_]" id="68110">property</a>: Project#<a href="Environment.scala.html#51298" title="sbt.Project#UserProperty[_]">UserProperty</a>[_] =&gt;
							<span title="Unit" class="keyword">if</span>(<a href="#68096" title="Boolean">first</a>)
								<a href="#68094" title="sbt.Project">project</a>.<a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49387" title="(=&gt; String)Unit">error</a>(<span title="java.lang.String(&quot; Property '&quot;)" class="string">&quot; Property '&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#68104" title="String">name</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;' &quot;)" class="string">&quot;' &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#65776" title="(sbt.Project#UserProperty[_])String">undefinedMessage</a>(<a href="#68110" title="sbt.Project#UserProperty[_]">property</a>))
							<span class="keyword">for</span>(<a title="((java.lang.String) =&gt; Boolean)Option[Boolean]" id="68125">newValue</a> &lt;- <a href="LineReader.scala.html#9583" title="object sbt.SimpleReader">SimpleReader</a>.<a href="LineReader.scala.html#57225" title="(String)Option[java.lang.String]">readLine</a>(<span title="java.lang.String(&quot;  Enter new value for &quot;)" class="string">&quot;  Enter new value for &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#68104" title="String">name</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; : &quot;)" class="string">&quot; : &quot;</span>)) <span class="keyword">yield</span>
							{
								<span class="keyword">try</span>
								{
									<a href="#68110" title="sbt.Project#UserProperty[_]">property</a>.<a href="Environment.scala.html#59749" title="(String)Unit">setStringValue</a>(<a href="#68125" title="java.lang.String">newValue</a>)
									<span title="Boolean(true)" class="keyword">true</span>
								}
								<span class="keyword">catch</span>
								{
									<span title="Boolean" class="keyword">case</span> <a title="java.lang.Throwable" id="68126">e</a> =&gt;
										<a href="#68094" title="sbt.Project">project</a>.<a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49387" title="(=&gt; String)Unit">error</a>(<span title="java.lang.String(&quot;Invalid value: &quot;)" class="string">&quot;Invalid value: &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#68126" title="java.lang.Throwable">e</a>.<span title="()java.lang.String">getMessage</span>)
										<span title="Boolean(false)" class="keyword">false</span>
								}
							}
						<span title="Some[Boolean]" class="keyword">case</span> _ =&gt; <span title="(Boolean)Some[Boolean]">Some</span>(<span title="Boolean(true)" class="keyword">true</span>)
					}
				<a href="#68108" title="Option[Boolean]">shouldAdvanceOrQuit</a> <span title="Boolean" class="keyword">match</span>
				{
					<span title="Boolean" class="keyword">case</span> Some(<a title="Boolean" id="68129">shouldAdvance</a>) =&gt; <a href="#65777" title="(sbt.Project,List[(String, sbt.Project#Property[_])],Boolean)Boolean">fillUndefinedProperties</a>(<a href="#68094" title="sbt.Project">project</a>, <span title="List[(String, sbt.Project#Property[_])]" class="keyword">if</span>(<a href="#68129" title="Boolean">shouldAdvance</a>) <a href="#68107" title="List[(String, sbt.Project#Property[_])]">tail</a> <span class="keyword">else</span> <a href="#68095" title="List[(String, sbt.Project#Property[_])]">properties</a>, <a href="#68129" title="Boolean">shouldAdvance</a>)
					<span title="Boolean(false)" class="keyword">case</span> <span title="object None">None</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
				}
			}
			<span title="Boolean(true)" class="keyword">case</span> <span title="object Nil">Nil</span> =&gt; <span title="Boolean(true)" class="keyword">true</span>
		}
	}
	<span class="comment">/** Iterates over the undefined properties in the given projects, prompting the user for the value of each undefined
	* property.*/</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(List[sbt.Project])Boolean" id="65778">fillUndefinedProjectProperties</a>(<a title="List[sbt.Project]" id="65917">projects</a>: <span title="List[sbt.Project]">List</span>[Project]): <span title="Boolean">Boolean</span> =
	{
		<a href="#65917" title="List[sbt.Project]">projects</a> <span title="Boolean" class="keyword">match</span>
		{
			<span title="Boolean" class="keyword">case</span> <a title="sbt.Project" id="68130">project</a> :: <a title="List[sbt.Project]" id="68131">remaining</a> =&gt;
				<span class="keyword">val</span> <a title="List[(String, project.Property[_])]" id="68132">uninitialized</a> = <a href="#68130" title="sbt.Project">project</a>.<a href="Environment.scala.html#51329" title="=&gt; Iterable[(String, project.Property[_])]">uninitializedProperties</a>.<span title="=&gt; List[(String, project.Property[_])]">toList</span>
				<span title="Boolean" class="keyword">if</span>(<a href="#68132" title="List[(String, project.Property[_])]">uninitialized</a>.<span title="=&gt; Boolean">isEmpty</span>)
					<a href="#65778" title="(List[sbt.Project])Boolean">fillUndefinedProjectProperties</a>(<a href="#68131" title="List[sbt.Project]">remaining</a>)
				<span class="keyword">else</span>
				{
					<a href="#68130" title="sbt.Project">project</a>.<a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49387" title="(=&gt; String)Unit">error</a>(<span title="java.lang.String(&quot;Project in &quot;)" class="string">&quot;Project in &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#68130" title="sbt.Project">project</a>.<a href="Project.scala.html#50857" title="=&gt; sbt.ProjectInfo">info</a>.<a href="ProjectInfo.scala.html#52140" title="=&gt; java.io.File">projectDirectory</a>.<span title="()java.lang.String">getAbsolutePath</span> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; has undefined properties.&quot;)" class="string">&quot; has undefined properties.&quot;</span>)
					<span class="keyword">val</span> <a title="Boolean" id="68133">result</a> = <a href="#65777" title="(sbt.Project,List[(String, sbt.Project#Property[_])],Boolean)Boolean">fillUndefinedProperties</a>(<a href="#68130" title="sbt.Project">project</a>, <a href="#68132" title="List[(String, project.Property[_])]">uninitialized</a>, <span title="Boolean(true)" class="keyword">true</span>) <span title="(Boolean)Boolean">&amp;&amp;</span> <a href="#65778" title="(List[sbt.Project])Boolean">fillUndefinedProjectProperties</a>(<a href="#68131" title="List[sbt.Project]">remaining</a>)
					<a href="#68130" title="sbt.Project">project</a>.<a href="Environment.scala.html#51328" title="()Option[String]">saveEnvironment</a>()
					<a href="#68133" title="Boolean">result</a>
				}
			<span title="Boolean(true)" class="keyword">case</span> <span title="object Nil">Nil</span> =&gt; <span title="Boolean(true)" class="keyword">true</span>
		}
	}
	<span class="comment">/** Prints the value of the property with the given name in the given project. */</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project,String)Boolean" id="65779">getProperty</a>(<a title="sbt.Project" id="67319">project</a>: <a href="Project.scala.html#9291" title="sbt.Project">Project</a>, <a title="String" id="67320">propertyName</a>: <span title="String">String</span>): <span title="Boolean">Boolean</span> =
	{
		<span title="Boolean" class="keyword">if</span>(<a href="#67320" title="String">propertyName</a>.<span title="()Boolean">isEmpty</span>)
		{
			<a href="#67319" title="sbt.Project">project</a>.<a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49387" title="(=&gt; String)Unit">error</a>(<span title="java.lang.String(&quot;No property name specified.&quot;)" class="string">&quot;No property name specified.&quot;</span>)
			<span title="Boolean(false)" class="keyword">false</span>
		}
		<span class="keyword">else</span>
		{
			<a href="#67319" title="sbt.Project">project</a>.<a href="Environment.scala.html#51326" title="(String)Option[project.UserProperty[_]]">getPropertyNamed</a>(<a href="#67320" title="String">propertyName</a>) <span title="Boolean" class="keyword">match</span>
			{
				<span title="Boolean" class="keyword">case</span> Some(<a title="project.UserProperty[?]" id="68137">property</a>) =&gt;
					<a href="#68137" title="project.UserProperty[?]">property</a>.<a href="Environment.scala.html#59737" title="=&gt; sbt.PropertyResolution[?]">resolve</a> <span title="Boolean" class="keyword">match</span>
					{
						<span title="Boolean" class="keyword">case</span> <a title="sbt.UndefinedValue" id="68139">u</a>: <a href="Environment.scala.html#13344" title="sbt.UndefinedValue">UndefinedValue</a> =&gt; <a href="#67319" title="sbt.Project">project</a>.<a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49387" title="(=&gt; String)Unit">error</a>(<span title="java.lang.String(&quot;Value of property '&quot;)" class="string">&quot;Value of property '&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#67320" title="String">propertyName</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;' is undefined.&quot;)" class="string">&quot;' is undefined.&quot;</span>); <span title="Boolean(false)" class="keyword">false</span>
						<span title="Boolean" class="keyword">case</span> ResolutionException(<a title="String" id="68141">m</a>, <a title="Option[Throwable]" id="68142">e</a>) =&gt; <a href="#67319" title="sbt.Project">project</a>.<a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49387" title="(=&gt; String)Unit">error</a>(<a href="#68141" title="String">m</a>); <span title="Boolean(false)" class="keyword">false</span>
						<span title="Boolean" class="keyword">case</span> DefinedValue(<a title="Any" id="68144">value</a>, <a title="Boolean" id="68145">isInherited</a>, <a title="Boolean" id="68146">isDefault</a>) =&gt; <span title="object Console">Console</span>.<span title="(Any)Unit">println</span>(<a href="#68144" title="Any">value</a>.<span title="()java.lang.String">toString</span>); <span title="Boolean(true)" class="keyword">true</span>
					}
				<span title="Boolean" class="keyword">case</span> <span title="object None">None</span> =&gt;
					<span class="keyword">val</span> <a title="java.lang.String" id="68148">value</a> = <span title="object java.lang.System">System</span>.<a title="(java.lang.String)java.lang.String" id="18121">getProperty</a>(<a href="#67320" title="String">propertyName</a>)
					<span title="Unit" class="keyword">if</span>(<a href="#68148" title="java.lang.String">value</a> <span title="(AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span>)
						<a href="#67319" title="sbt.Project">project</a>.<a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49387" title="(=&gt; String)Unit">error</a>(<span title="java.lang.String(&quot;No property named '&quot;)" class="string">&quot;No property named '&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#67320" title="String">propertyName</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;' is defined.&quot;)" class="string">&quot;' is defined.&quot;</span>)
					<span class="keyword">else</span>
						<span title="object Console">Console</span>.<span title="(Any)Unit">println</span>(<a href="#68148" title="java.lang.String">value</a>)
					<a href="#68148" title="java.lang.String">value</a> <span title="(AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span>
			}
		}
	}
	<span class="comment">/** Separates the space separated property name/value pair and stores the value in the user-defined property
	* with the given name in the given project.  If no such property exists, the value is stored in a system
	* property. */</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project,String)Boolean" id="65780">setProperty</a>(<a title="sbt.Project" id="67297">project</a>: <a href="Project.scala.html#9291" title="sbt.Project">Project</a>, <a title="String" id="67298">propertyNameAndValue</a>: <span title="String">String</span>): <span title="Boolean">Boolean</span> =
	{
		<span class="keyword">val</span> <a title="java.util.regex.Matcher" id="68154">m</a> = <span title="implicit scala.Predef.stringWrapper : (String)scala.runtime.RichString" class="string">&quot;&quot;&quot;(\S+)(\s+\S.*)?&quot;&quot;&quot;</span>.<a title="=&gt; scala.util.matching.Regex" id="17323">r</a>.<a title="=&gt; java.util.regex.Pattern" id="68195">pattern</a>.<span title="(java.lang.CharSequence)java.util.regex.Matcher">matcher</span>(<a href="#67298" title="String">propertyNameAndValue</a>)
		<span title="Boolean" class="keyword">if</span>(<a href="#68154" title="java.util.regex.Matcher">m</a>.<span title="()Boolean">matches</span>())
		{
			<span class="keyword">val</span> <a title="java.lang.String" id="68272">name</a> = <a href="#68154" title="java.util.regex.Matcher">m</a>.<span title="(Int)java.lang.String">group</span>(<span title="Int(1)" class="int">1</span>)
			<span class="keyword">val</span> <a title="java.lang.String" id="68273">newValue</a> =
			{
				<span class="keyword">val</span> <a title="java.lang.String" id="68276">v</a> = <a href="#68154" title="java.util.regex.Matcher">m</a>.<span title="(Int)java.lang.String">group</span>(<span title="Int(2)" class="int">2</span>)
				<span title="java.lang.String" class="keyword">if</span>(<a href="#68276" title="java.lang.String">v</a> <span title="(AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span>) <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <a href="#68276" title="java.lang.String">v</a>.<span title="()java.lang.String">trim</span>
			}
			<span class="keyword">def</span> <a title="(String)Unit" id="68274">notePending</a>(<a title="String" id="68279">changed</a>: <span title="String">String</span>): <span title="Unit">Unit</span> = <span title="object Console">Console</span>.<span title="(Any)Unit">println</span>(<span title="java.lang.String(&quot; Build will use &quot;)" class="string">&quot; Build will use &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#68279" title="String">changed</a> <span title="(Any)java.lang.String">+</span> <a href="#68273" title="java.lang.String">newValue</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; after running 'reload' command or restarting sbt.&quot;)" class="string">&quot; after running 'reload' command or restarting sbt.&quot;</span>)
			<a href="#67297" title="sbt.Project">project</a>.<a href="Environment.scala.html#51326" title="(String)Option[project.UserProperty[_]]">getPropertyNamed</a>(<a href="#68272" title="java.lang.String">name</a>) <span title="Boolean" class="keyword">match</span>
			{
				<span title="Boolean" class="keyword">case</span> Some(<a title="project.UserProperty[?]" id="68281">property</a>) =&gt;
				{
					<span class="keyword">try</span>
					{
						<a href="#68281" title="project.UserProperty[?]">property</a>.<a href="Environment.scala.html#59749" title="(String)Unit">setStringValue</a>(<a href="#68273" title="java.lang.String">newValue</a>)
						<a href="#68281" title="project.UserProperty[?]">property</a> <span title="Unit" class="keyword">match</span>
						{
							<span title="Unit" class="keyword">case</span> <a href="#67297" title="sbt.Project">project</a>.<a href="Project.scala.html#50912" title="=&gt; project.Property[String]">defScalaVersion</a> | <a href="#67297" title="sbt.Project">project</a>.<a href="Project.scala.html#50922" title="=&gt; project.Property[String]">buildScalaVersions</a> =&gt; <a href="#68274" title="(String)Unit">notePending</a>(<span title="java.lang.String(&quot;Scala &quot;)" class="string">&quot;Scala &quot;</span>)
							<span title="Unit" class="keyword">case</span> <a href="#67297" title="sbt.Project">project</a>.<a href="Project.scala.html#50914" title="=&gt; project.Property[String]">sbtVersion</a> =&gt; <a href="#68274" title="(String)Unit">notePending</a>(<span title="java.lang.String(&quot;sbt &quot;)" class="string">&quot;sbt &quot;</span>)
							<span title="Unit" class="keyword">case</span> _ =&gt;  <span title="object Console">Console</span>.<span title="(Any)Unit">println</span>(<span title="java.lang.String(&quot; Set property '&quot;)" class="string">&quot; Set property '&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#68272" title="java.lang.String">name</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;' = '&quot;)" class="string">&quot;' = '&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#68273" title="java.lang.String">newValue</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;'&quot;)" class="string">&quot;'&quot;</span>)
						}
						<span title="Boolean(true)" class="keyword">true</span>
					}
					<span class="keyword">catch</span> { <span title="Boolean" class="keyword">case</span> <a title="java.lang.Throwable" id="68288">e</a> =&gt;
						<a href="#67297" title="sbt.Project">project</a>.<a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49387" title="(=&gt; String)Unit">error</a>(<span title="java.lang.String(&quot;Error setting property '&quot;)" class="string">&quot;Error setting property '&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#68272" title="java.lang.String">name</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;' in &quot;)" class="string">&quot;' in &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#67297" title="sbt.Project">project</a>.<a href="Environment.scala.html#51278" title="=&gt; String">environmentLabel</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#68288" title="java.lang.Throwable">e</a>.<span title="()java.lang.String">toString</span>)
						<span title="Boolean(false)" class="keyword">false</span>
					}
					<span class="keyword">finally</span> { <a href="#67297" title="sbt.Project">project</a>.<a href="Environment.scala.html#51328" title="()Option[String]">saveEnvironment</a>().<a title="((String) =&gt; Unit)Unit" id="30336">foreach</a>(<a title="String" id="68291">msg</a> =&gt; <a href="#67297" title="sbt.Project">project</a>.<a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49387" title="(=&gt; String)Unit">error</a>(<span title="java.lang.String(&quot;Error saving environment: &quot;)" class="string">&quot;Error saving environment: &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#68291" title="String">msg</a>)) }
				}
				<span title="Boolean" class="keyword">case</span> <span title="object None">None</span> =&gt;
				{
					<span title="object java.lang.System">System</span>.<a title="(java.lang.String,java.lang.String)java.lang.String" id="18123">setProperty</a>(<a href="#68272" title="java.lang.String">name</a>, <a href="#68273" title="java.lang.String">newValue</a>)
					<a href="#67297" title="sbt.Project">project</a>.<a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49385" title="(=&gt; String)Unit">info</a>(<span title="java.lang.String(&quot; Set system property '&quot;)" class="string">&quot; Set system property '&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#68272" title="java.lang.String">name</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;' = '&quot;)" class="string">&quot;' = '&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#68273" title="java.lang.String">newValue</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;'&quot;)" class="string">&quot;'&quot;</span>)
					<span title="Boolean(true)" class="keyword">true</span>
				}
			}
		}
		<span class="keyword">else</span>
			<a href="#65787" title="(sbt.Logger)Boolean">setArgumentError</a>(<a href="#67297" title="sbt.Project">project</a>.<a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>)
	}

	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project)Boolean" id="65781">compileContinuously</a>(<a title="sbt.Project" id="67397">project</a>: <a href="Project.scala.html#9291" title="sbt.Project">Project</a>) = <a href="#65782" title="(sbt.Project,String)Boolean">executeContinuously</a>(<a href="#67397" title="sbt.Project">project</a>, <span title="java.lang.String(&quot;test-compile&quot;)" class="string">&quot;test-compile&quot;</span>)
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project,String)Boolean" id="65782">executeContinuously</a>(<a title="sbt.Project" id="67399">project</a>: <a href="Project.scala.html#9291" title="sbt.Project">Project</a>, <a title="String" id="67400">action</a>: <span title="String">String</span>) =
	{
		<span class="keyword">def</span> <a title="=&gt; Boolean" id="67402">shouldTerminate</a>: <span title="Boolean">Boolean</span> = (<span title="object java.lang.System">System</span>.<span title="java.io.InputStream">in</span>.<span title="()Int">available</span> <span title="(Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span>) <span title="(Boolean)Boolean">&amp;&amp;</span> (<a href="#67399" title="sbt.Project">project</a>.<a href="Project.scala.html#50947" title="(Int)Boolean">terminateWatch</a>(<span title="object java.lang.System">System</span>.<span title="java.io.InputStream">in</span>.<span title="()Int">read</span>()) <span title="(Boolean)Boolean">||</span> <a href="#67402" title="=&gt; Boolean">shouldTerminate</a>)
		<span class="keyword">val</span> <a title="Boolean" id="67403">actionValid</a> = <a href="#65769" title="(sbt.Project,String)Boolean">checkAction</a>(<a href="#67399" title="sbt.Project">project</a>, <a href="#67400" title="String">action</a>)
		<span title="Unit" class="keyword">if</span>(<a href="#67403" title="Boolean">actionValid</a>)
		{
			<span class="keyword">var</span> <a title="Int" id="67417">count</a> = <span title="Int(0)" class="int">0</span>
			<a href="SourceModificationWatch.scala.html#8458" title="object sbt.SourceModificationWatch">SourceModificationWatch</a>.<a href="SourceModificationWatch.scala.html#67419" title="(sbt.Project,Int)(=&gt; Boolean)(=&gt; Unit)Unit">watchUntil</a>(<a href="#67399" title="sbt.Project">project</a>, <a href="#65752" title="=&gt; Int">ContinuousCompilePollDelaySeconds</a>)(<a href="#67402" title="=&gt; Boolean">shouldTerminate</a>)
			{
				<a href="#67417" title="Int">count</a> <span title="(Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
				<a href="#65767" title="(sbt.Project,String)Boolean">handleAction</a>(<a href="#67399" title="sbt.Project">project</a>, <a href="#67400" title="String">action</a>)
				<span title="object Console">Console</span>.<span title="(Any)Unit">println</span>(<a href="#67417" title="Int">count</a> <a title="(java.lang.String)java.lang.String" id="3032">+</a> <span title="java.lang.String(&quot;. Waiting for source changes... (press enter to interrupt)&quot;)" class="string">&quot;. Waiting for source changes... (press enter to interrupt)&quot;</span>)
			}
			<a href="#67450" title="Unit" class="keyword">while</a> (<span title="object java.lang.System">System</span>.<span title="java.io.InputStream">in</span>.<span title="()Int">available</span>() <span title="(Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span>) <span title="object java.lang.System">System</span>.<span title="java.io.InputStream">in</span>.<span title="()Int">read</span>()
		}
		<a href="#67403" title="Boolean">actionValid</a>
	}

	<span class="keyword">def</span> <a title="=&gt; java.lang.String" id="65783">validTraceArguments</a> = <span title="java.lang.String(&quot;'on', 'nosbt', 'off', or &lt;integer&gt;&quot;)" class="string">&quot;'on', 'nosbt', 'off', or &lt;integer&gt;&quot;</span>
	<span class="keyword">def</span> <a title="=&gt; java.lang.String" id="65784">traceExplanation</a> = <span title="java.lang.String(&quot;'nosbt' prints stack traces up to the first sbt frame.  An integer gives the number of frames to show per exception.&quot;)" class="string">&quot;'nosbt' prints stack traces up to the first sbt frame.  An integer gives the number of frames to show per exception.&quot;</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(String)Boolean" id="65785">isTerminateAction</a>(<a title="String" id="65901">s</a>: <span title="String">String</span>) = <a href="#65726" title="=&gt; Iterable[String]">TerminateActions</a>.<span title="=&gt; Iterator[String]">elements</span>.<a title="(Any)Boolean" id="19658">contains</a>(<a href="#65901" title="String">s</a>.<a title="()java.lang.String" id="6400">toLowerCase</a>)
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Logger)Boolean" id="65786">setTraceError</a>(<a title="sbt.Logger" id="67387">log</a>: <a href="Logger.scala.html#13533" title="sbt.Logger">Logger</a>) = <a href="#65790" title="(sbt.Logger)(String)Boolean">logError</a>(<a href="#67387" title="sbt.Logger">log</a>)(<span title="java.lang.String(&quot;Invalid arguments for 'trace': expected &quot;)" class="string">&quot;Invalid arguments for 'trace': expected &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#65783" title="=&gt; java.lang.String">validTraceArguments</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span>)
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Logger)Boolean" id="65787">setArgumentError</a>(<a title="sbt.Logger" id="67383">log</a>: <a href="Logger.scala.html#13533" title="sbt.Logger">Logger</a>) = <a href="#65790" title="(sbt.Logger)(String)Boolean">logError</a>(<a href="#67383" title="sbt.Logger">log</a>)(<span title="java.lang.String(&quot;Invalid arguments for 'set': expected property name and new value.&quot;)" class="string">&quot;Invalid arguments for 'set': expected property name and new value.&quot;</span>)
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Logger)Boolean" id="65788">getArgumentError</a>(<a title="sbt.Logger" id="67377">log</a>: <a href="Logger.scala.html#13533" title="sbt.Logger">Logger</a>) = <a href="#65790" title="(sbt.Logger)(String)Boolean">logError</a>(<a href="#67377" title="sbt.Logger">log</a>)(<span title="java.lang.String(&quot;Invalid arguments for 'get': expected property name.&quot;)" class="string">&quot;Invalid arguments for 'get': expected property name.&quot;</span>)
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Logger)Boolean" id="65789">setProjectError</a>(<a title="sbt.Logger" id="67385">log</a>: <a href="Logger.scala.html#13533" title="sbt.Logger">Logger</a>) = <a href="#65790" title="(sbt.Logger)(String)Boolean">logError</a>(<a href="#67385" title="sbt.Logger">log</a>)(<span title="java.lang.String(&quot;Invalid arguments for 'project': expected project name.&quot;)" class="string">&quot;Invalid arguments for 'project': expected project name.&quot;</span>)
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Logger)(String)Boolean" id="65790">logError</a>(<a title="sbt.Logger" id="67379">log</a>: <a href="Logger.scala.html#13533" title="sbt.Logger">Logger</a>)(<a title="String" id="67380">s</a>: <span title="String">String</span>) = { <a href="#67379" title="sbt.Logger">log</a>.<a href="Logger.scala.html#49387" title="(=&gt; String)Unit">error</a>(<a href="#67380" title="String">s</a>); <span title="Boolean(false)" class="keyword">false</span> }

	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Logger,Throwable)Unit" id="65791">logCommandError</a>(<a title="sbt.Logger" id="66076">log</a>: <a href="Logger.scala.html#13533" title="sbt.Logger">Logger</a>, <a title="Throwable" id="66077">e</a>: <a title="Throwable" id="2083">Throwable</a>) =
		<a href="#66077" title="Throwable">e</a> <span title="Unit" class="keyword">match</span>
		{
			<span title="Unit" class="keyword">case</span> <a title="sbt.processor.ProcessorException" id="66079">pe</a>: processor.<a href="processor/Processor.scala.html#14689" title="sbt.processor.ProcessorException">ProcessorException</a> =&gt;
				<span title="Unit" class="keyword">if</span>(<a href="#66079" title="sbt.processor.ProcessorException">pe</a>.<span title="()java.lang.Throwable">getCause</span> <a title="(AnyRef)Boolean" id="6018">ne</a> <span title="Null(null)" class="keyword">null</span>) <a href="#66076" title="sbt.Logger">log</a>.<a href="Logger.scala.html#49382" title="(=&gt; Throwable)Unit">trace</a>(<a href="#66079" title="sbt.processor.ProcessorException">pe</a>.<span title="()java.lang.Throwable">getCause</span>)
				<a href="#66076" title="sbt.Logger">log</a>.<a href="Logger.scala.html#49387" title="(=&gt; String)Unit">error</a>(<a href="#66077" title="Throwable">e</a>.<span title="()java.lang.String">getMessage</span>)
			<span title="Unit" class="keyword">case</span> <a title="Throwable" id="66089">e</a> =&gt;
				<a href="#66076" title="sbt.Logger">log</a>.<a href="Logger.scala.html#49382" title="(=&gt; Throwable)Unit">trace</a>(<a href="#66089" title="Throwable">e</a>)
				<a href="#66076" title="sbt.Logger">log</a>.<a href="Logger.scala.html#49387" title="(=&gt; String)Unit">error</a>(<a href="#66089" title="Throwable">e</a>.<span title="()java.lang.String">toString</span>)
		}
}

        </pre>
    </body>
</html>