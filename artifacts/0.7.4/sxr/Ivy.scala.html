<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>Ivy.scala</title>
        <script type="text/javascript" src="jquery-all.js"></script>
        <script type="text/javascript" src="linked.js"></script>
        <link rel="stylesheet" type="text/css" href="style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* sbt -- Simple Build Tool
 * Copyright 2008, 2009, 2010 Mark Harrah
 */</span>
<span class="keyword">package</span> sbt

<span class="keyword">import</span> Artifact.{defaultExtension, defaultType}

<span class="keyword">import</span> java.io.File
<span class="keyword">import</span> java.util.concurrent.Callable

<span class="keyword">import</span> org.apache.ivy.{core, plugins, util, Ivy}
<span class="keyword">import</span> core.IvyPatternHelper
<span class="keyword">import</span> core.cache.DefaultRepositoryCacheManager
<span class="keyword">import</span> core.module.descriptor.{DefaultArtifact, DefaultDependencyArtifactDescriptor, MDArtifact}
<span class="keyword">import</span> core.module.descriptor.{DefaultDependencyDescriptor, DefaultModuleDescriptor,  ModuleDescriptor}
<span class="keyword">import</span> core.module.id.{ArtifactId,ModuleId, ModuleRevisionId}
<span class="keyword">import</span> core.settings.IvySettings
<span class="keyword">import</span> plugins.matcher.PatternMatcher
<span class="keyword">import</span> plugins.parser.m2.PomModuleDescriptorParser
<span class="keyword">import</span> plugins.resolver.ChainResolver
<span class="keyword">import</span> util.Message

<span class="keyword">import</span> scala.xml.NodeSeq

<span class="keyword">final</span> <span class="keyword">class</span> <a title="class IvySbt extends java.lang.Object with ScalaObject" id="7770">IvySbt</a>(<a title="sbt.IvyConfiguration" id="24473">configuration</a>: <a href="IvyConfigurations.scala.html#11130" title="sbt.IvyConfiguration">IvyConfiguration</a>)
{
	<span class="keyword">import</span> configuration.{log, baseDirectory}
	<span class="comment">/** ========== Configuration/Setup ============
	* This part configures the Ivy instance by first creating the logger interface to ivy, then IvySettings, and then the Ivy instance.
	* These are lazy so that they are loaded within the right context.  This is important so that no Ivy XML configuration needs to be loaded,
	* saving some time.  This is necessary because Ivy has global state (IvyContext, Message, DocumentBuilder, ...).
	*/</span>
	<span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="sbt.IvyLoggerInterface" id="19837">logger</a> = <span title="sbt.IvyLoggerInterface" class="keyword">new</span> <a href="IvyLogger.scala.html#11772" title="sbt.IvyLoggerInterface">IvyLoggerInterface</a>(<a href="IvyConfigurations.scala.html#20080" title="=&gt; sbt.IvyLogger">log</a>)
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="[T](=&gt; T)T" id="19838">withDefaultLogger</a>[<a title="&gt;: Nothing &lt;: Any" id="19840">T</a>](<a title="=&gt; T" id="78020">f</a>: =&gt; T): <a href="#19840" title="T">T</a> =
	{
		<span class="keyword">def</span> <a title="()T" id="78021">action</a>() =
			<a href="#7771" title="object sbt.IvySbt">IvySbt</a>.<a title="(T)T" id="5741">synchronized</a> 
			{
				<span class="keyword">val</span> <a title="org.apache.ivy.util.MessageLogger" id="78023">originalLogger</a> = <span title="object org.apache.ivy.util.Message">Message</span>.<a title="()org.apache.ivy.util.MessageLogger" id="33527">getDefaultLogger</a>
				<span title="object org.apache.ivy.util.Message">Message</span>.<span title="(org.apache.ivy.util.MessageLogger)Unit">setDefaultLogger</span>(<a href="#19836" title="=&gt; sbt.IvyLoggerInterface">logger</a>)
				<span class="keyword">try</span> { <a href="#78020" title="=&gt; T">f</a> }
				<span class="keyword">finally</span> { <span title="object org.apache.ivy.util.Message">Message</span>.<span title="(org.apache.ivy.util.MessageLogger)Unit">setDefaultLogger</span>(<a href="#78023" title="org.apache.ivy.util.MessageLogger">originalLogger</a>) }
			}
		<span class="comment">// Ivy is not thread-safe nor can the cache be used concurrently.</span>
		<span class="comment">// If provided a GlobalLock, we can use that to ensure safe access to the cache.</span>
		<span class="comment">// Otherwise, we can at least synchronize within the JVM.</span>
		<span class="comment">//   For thread-safety In particular, Ivy uses a static DocumentBuilder, which is not thread-safe.</span>
		<a href="#24473" title="sbt.IvyConfiguration">configuration</a>.<a href="IvyConfigurations.scala.html#20078" title="=&gt; Option[xsbti.GlobalLock]">lock</a> <span title="T" class="keyword">match</span>
		{
			<span title="T" class="keyword">case</span> Some(<a title="xsbti.GlobalLock" id="78024">lock</a>) =&gt; <a href="xsbti/GlobalLock.java.html#23133" title="(java.io.File,java.util.concurrent.Callable[T])T">lock</a>(<a href="#19845" title="=&gt; java.io.File">ivyLockFile</a>, <a title="template $anon extends java.lang.Object with java.util.concurrent.Callable[T]" id="78059" class="keyword">new</a> <a title="java.util.concurrent.Callable[T]" id="20184">Callable</a>[T] { <span class="keyword">def</span> <a title="()T" id="78061">call</a> = <a href="#78021" title="()T">action</a>() })
			<span title="T" class="keyword">case</span> <span title="object None">None</span> =&gt; <a href="#78021" title="()T">action</a>()
		}
	}
	<span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="org.apache.ivy.core.settings.IvySettings" id="19842">settings</a> =
	{
		<span class="keyword">val</span> <a title="org.apache.ivy.core.settings.IvySettings" id="78040">is</a> = <span title="org.apache.ivy.core.settings.IvySettings" class="keyword">new</span> <span title="org.apache.ivy.core.settings.IvySettings">IvySettings</span>
		<a href="#78040" title="org.apache.ivy.core.settings.IvySettings">is</a>.<a title="(java.io.File)Unit" id="21046">setBaseDir</a>(<a href="IvyConfigurations.scala.html#20079" title="=&gt; java.io.File">baseDirectory</a>)
		<a href="#24473" title="sbt.IvyConfiguration">configuration</a> <span title="Unit" class="keyword">match</span>
		{
			<span title="Unit" class="keyword">case</span> <a title="sbt.ExternalIvyConfiguration" id="78046">e</a>: <a href="IvyConfigurations.scala.html#8361" title="sbt.ExternalIvyConfiguration">ExternalIvyConfiguration</a> =&gt; <a href="#78040" title="org.apache.ivy.core.settings.IvySettings">is</a>.<a title="(java.io.File)Unit" id="20998">load</a>(<a href="#78046" title="sbt.ExternalIvyConfiguration">e</a>.<a href="IvyConfigurations.scala.html#23186" title="=&gt; java.io.File">file</a>)
			<span title="Unit" class="keyword">case</span> <a title="sbt.InlineIvyConfiguration" id="78048">i</a>: <a href="IvyConfigurations.scala.html#11268" title="sbt.InlineIvyConfiguration">InlineIvyConfiguration</a> =&gt; 
				<a href="#7771" title="object sbt.IvySbt">IvySbt</a>.<a href="#24271" title="(org.apache.ivy.core.settings.IvySettings,Option[java.io.File],Boolean)Unit">configureCache</a>(<a href="#78040" title="org.apache.ivy.core.settings.IvySettings">is</a>, <a href="#78048" title="sbt.InlineIvyConfiguration">i</a>.<a href="IvyConfigurations.scala.html#23103" title="=&gt; sbt.IvyPaths">paths</a>.<a href="IvyConfigurations.scala.html#23085" title="=&gt; Option[java.io.File]">cacheDirectory</a>, <a href="#78048" title="sbt.InlineIvyConfiguration">i</a>.<a href="IvyConfigurations.scala.html#23111" title="=&gt; Boolean">localOnly</a>)
				<a href="#7771" title="object sbt.IvySbt">IvySbt</a>.<a href="#24268" title="(org.apache.ivy.core.settings.IvySettings,Seq[sbt.Resolver],Seq[sbt.Resolver],Boolean,sbt.IvyLogger)Unit">setResolvers</a>(<a href="#78040" title="org.apache.ivy.core.settings.IvySettings">is</a>, <a href="#78048" title="sbt.InlineIvyConfiguration">i</a>.<a href="IvyConfigurations.scala.html#23105" title="=&gt; Seq[sbt.Resolver]">resolvers</a>, <a href="#78048" title="sbt.InlineIvyConfiguration">i</a>.<a href="IvyConfigurations.scala.html#23107" title="=&gt; Seq[sbt.Resolver]">otherResolvers</a>, <a href="#78048" title="sbt.InlineIvyConfiguration">i</a>.<a href="IvyConfigurations.scala.html#23111" title="=&gt; Boolean">localOnly</a>, <a href="IvyConfigurations.scala.html#20080" title="=&gt; sbt.IvyLogger">log</a>)
				<a href="#7771" title="object sbt.IvySbt">IvySbt</a>.<a href="#24270" title="(org.apache.ivy.core.settings.IvySettings,Seq[sbt.ModuleConfiguration])Unit">setModuleConfigurations</a>(<a href="#78040" title="org.apache.ivy.core.settings.IvySettings">is</a>, <a href="#78048" title="sbt.InlineIvyConfiguration">i</a>.<a href="IvyConfigurations.scala.html#23109" title="=&gt; Seq[sbt.ModuleConfiguration]">moduleConfigurations</a>)
		}
		<a href="#78040" title="org.apache.ivy.core.settings.IvySettings">is</a>
	}
	<span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="&lt;refinement&gt; extends org.apache.ivy.Ivy" id="19844">ivy</a> =
	{
		<span class="keyword">val</span> <a title="&lt;refinement&gt; extends org.apache.ivy.Ivy" id="78066">i</a> = <a title="template $anon extends org.apache.ivy.Ivy" id="78067" class="keyword">new</a> <a title="org.apache.ivy.Ivy" id="15098">Ivy</a>() { <span class="keyword">private</span> <span class="keyword">val</span> <a title="sbt.SbtMessageLoggerEngine" id="78069">loggerEngine</a> = <span title="sbt.SbtMessageLoggerEngine" class="keyword">new</span> <a href="IvyLogger.scala.html#11880" title="sbt.SbtMessageLoggerEngine">SbtMessageLoggerEngine</a>; <span class="keyword">override</span> <span class="keyword">def</span> <a title="()sbt.SbtMessageLoggerEngine" id="78071">getLoggerEngine</a> = <a href="#78069" title="=&gt; sbt.SbtMessageLoggerEngine">loggerEngine</a> }
		<a href="#78066" title="&lt;refinement&gt; extends org.apache.ivy.Ivy">i</a>.<a title="(org.apache.ivy.core.settings.IvySettings)Unit" id="20974">setSettings</a>(<a href="#19841" title="=&gt; org.apache.ivy.core.settings.IvySettings">settings</a>)
		<a href="#78066" title="&lt;refinement&gt; extends org.apache.ivy.Ivy">i</a>.<a title="()Unit" id="20799">bind</a>()
		<a href="#78066" title="&lt;refinement&gt; extends org.apache.ivy.Ivy">i</a>.<a href="#78076" title="()sbt.SbtMessageLoggerEngine">getLoggerEngine</a>.<a title="(org.apache.ivy.util.MessageLogger)Unit" id="34006">pushLogger</a>(<a href="#19836" title="=&gt; sbt.IvyLoggerInterface">logger</a>)
		<a href="#78066" title="&lt;refinement&gt; extends org.apache.ivy.Ivy">i</a>
	}
	<span class="comment">// Must be the same file as is used in Update in the launcher</span>
	<span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="java.io.File" id="19846">ivyLockFile</a> = <span title="(java.io.File,java.lang.String)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span>(<a href="#19841" title="=&gt; org.apache.ivy.core.settings.IvySettings">settings</a>.<a title="()java.io.File" id="21048">getDefaultIvyUserDir</a>, <span title="java.lang.String(&quot;.sbt.ivy.lock&quot;)" class="string">&quot;.sbt.ivy.lock&quot;</span>)
	<span class="comment">/** ========== End Configuration/Setup ============*/</span>

	<span class="comment">/** Uses the configured Ivy instance within a safe context.*/</span>
	<span class="keyword">def</span> <a title="[T]((org.apache.ivy.Ivy) =&gt; T)T" id="19847">withIvy</a>[<a title="&gt;: Nothing &lt;: Any" id="19849">T</a>](<a title="(org.apache.ivy.Ivy) =&gt; T" id="20621">f</a>: Ivy =&gt; T): <a href="#19849" title="T">T</a> =
		<a href="#19838" title="(=&gt; T)T">withDefaultLogger</a>
		{
			<a href="#19843" title="=&gt; &lt;refinement&gt; extends org.apache.ivy.Ivy">ivy</a>.<a title="()Unit" id="20801">pushContext</a>()
			<span class="keyword">try</span> { <a href="#20621" title="(org.apache.ivy.Ivy)T" id="16544">f</a>(<a href="#19843" title="=&gt; &lt;refinement&gt; extends org.apache.ivy.Ivy">ivy</a>) }
			<span class="keyword">finally</span> { <a href="#19843" title="=&gt; &lt;refinement&gt; extends org.apache.ivy.Ivy">ivy</a>.<a title="()Unit" id="20802">popContext</a>() }
		}

	<span class="keyword">final</span> <span class="keyword">class</span> <a title="class Module extends java.lang.Object with NotNull with ScalaObject" id="19850">Module</a>(<span class="keyword">val</span> <a title="sbt.ModuleSettings" id="24489">moduleSettings</a>: <a href="IvyConfigurations.scala.html#7836" title="sbt.ModuleSettings">ModuleSettings</a>) <span class="keyword">extends</span> <a title="NotNull" id="189">NotNull</a>
	{
		<span class="keyword">def</span> <a title="=&gt; sbt.IvyLogger" id="20504">logger</a> = <a href="#24473" title="sbt.IvyConfiguration">configuration</a>.<a href="IvyConfigurations.scala.html#20080" title="=&gt; sbt.IvyLogger">log</a>
		<span class="keyword">def</span> <a title="[T]((org.apache.ivy.Ivy, org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String) =&gt; T)T" id="20505">withModule</a>[<a title="&gt;: Nothing &lt;: Any" id="20507">T</a>](<a title="(org.apache.ivy.Ivy, org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String) =&gt; T" id="77121">f</a>: (Ivy,DefaultModuleDescriptor,String) =&gt; T): <a href="#20507" title="T">T</a> =
			<a href="#19847" title="((org.apache.ivy.Ivy) =&gt; T)T">withIvy</a>[<a href="#20507" title="T">T</a>] { <a title="org.apache.ivy.Ivy" id="78082">ivy</a> =&gt; <a href="#77121" title="(org.apache.ivy.Ivy,org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,String)T" id="31736">f</a>(<a href="#78082" title="org.apache.ivy.Ivy">ivy</a>, <a href="#20510" title="=&gt; org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleDescriptor</a>, <a href="#20512" title="=&gt; String">defaultConfig</a>) }

		<span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a href="#20511" title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, java.lang.String)" id="20509">(</a><a href="#20508" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="20511">moduleDescriptor</a>: <span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">DefaultModuleDescriptor</span>, <a href="#20508" title="java.lang.String" id="20513">defaultConfig</a>: <span title="String">String</span>) =
		{
			<span class="keyword">val</span> <a href="#78084" title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String)">(</a><a href="#78083" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="78084">baseModule</a>, <a href="#78083" title="String" id="78085">baseConfiguration</a>) =
				<a href="#24489" title="=&gt; sbt.ModuleSettings">moduleSettings</a> <span title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String)" class="keyword">match</span>
				{
					<span title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String)" class="keyword">case</span> <a title="sbt.InlineConfiguration" id="78086">ic</a>: <a href="IvyConfigurations.scala.html#8925" title="sbt.InlineConfiguration">InlineConfiguration</a> =&gt; <a href="#20514" title="(sbt.InlineConfiguration)(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String)">configureInline</a>(<a href="#78086" title="sbt.InlineConfiguration">ic</a>)
					<span title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, java.lang.String)" class="keyword">case</span> <a title="sbt.EmptyConfiguration" id="78922">ec</a>: <a href="IvyConfigurations.scala.html#7221" title="sbt.EmptyConfiguration">EmptyConfiguration</a> =&gt; <a href="#20519" title="(sbt.ModuleID)(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, java.lang.String)">configureEmpty</a>(<a href="#78922" title="sbt.EmptyConfiguration">ec</a>.<a href="IvyConfigurations.scala.html#24402" title="=&gt; sbt.ModuleID">module</a>)
					<span title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, java.lang.String)" class="keyword">case</span> <a title="sbt.PomConfiguration" id="78930">pc</a>: <a href="IvyConfigurations.scala.html#6381" title="sbt.PomConfiguration">PomConfiguration</a> =&gt; <a href="#20516" title="(java.io.File,Boolean)(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, java.lang.String)">readPom</a>(<a href="#78930" title="sbt.PomConfiguration">pc</a>.<a href="IvyConfigurations.scala.html#23228" title="=&gt; java.io.File">file</a>, <a href="#78930" title="sbt.PomConfiguration">pc</a>.<a href="IvyConfigurations.scala.html#23232" title="=&gt; Boolean">validate</a>)
					<span title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String)" class="keyword">case</span> <a title="sbt.IvyFileConfiguration" id="78953">ifc</a>: <a href="IvyConfigurations.scala.html#11274" title="sbt.IvyFileConfiguration">IvyFileConfiguration</a> =&gt; <a href="#20517" title="(java.io.File,Boolean)(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String)">readIvyFile</a>(<a href="#78953" title="sbt.IvyFileConfiguration">ifc</a>.<a href="IvyConfigurations.scala.html#23213" title="=&gt; java.io.File">file</a>, <a href="#78953" title="sbt.IvyFileConfiguration">ifc</a>.<a href="IvyConfigurations.scala.html#23217" title="=&gt; Boolean">validate</a>)
				}
			<a href="#24489" title="=&gt; sbt.ModuleSettings">moduleSettings</a>.<a href="IvyConfigurations.scala.html#23206" title="=&gt; Option[sbt.IvyScala]">ivyScala</a>.<span title="((sbt.IvyScala) =&gt; Unit)Unit">foreach</span>(<a href="IvyScala.scala.html#7297" title="object sbt.IvyScala">IvyScala</a>.<a href="IvyScala.scala.html#74973" title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,String)(sbt.IvyScala)Unit">checkModule</a>(<a href="#78084" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">baseModule</a>, <a href="#78085" title="String">baseConfiguration</a>))
			<a href="#78084" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">baseModule</a>.<a title="()java.util.Map[_, _]" id="75058">getExtraAttributesNamespaces</a>.<a title="java.util.Map[String,String]" id="3451">asInstanceOf</a>[java.util.<span title="java.util.Map[String,String]">Map</span>[String,String]].<a title="(String,String)String" id="18293">put</a>(<span title="java.lang.String(&quot;e&quot;)" class="string">&quot;e&quot;</span>, <span title="java.lang.String(&quot;http://ant.apache.org/ivy/extra&quot;)" class="string">&quot;http://ant.apache.org/ivy/extra&quot;</span>)
			<span title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,String)(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String)">(</span><a href="#78084" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">baseModule</a>, <a href="#78085" title="String">baseConfiguration</a>)
		}
		<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.InlineConfiguration)(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String)" id="20514">configureInline</a>(<a title="sbt.InlineConfiguration" id="78087">ic</a>: <a href="IvyConfigurations.scala.html#8925" title="sbt.InlineConfiguration">InlineConfiguration</a>) =
		{
			<span class="keyword">import</span> ic._
			<span class="keyword">val</span> <a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="78090">moduleID</a> = <a href="#20515" title="(sbt.ModuleID,Iterable[sbt.Configuration])org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">newConfiguredModuleID</a>(<a href="IvyConfigurations.scala.html#23248" title="=&gt; sbt.ModuleID">module</a>, <a href="IvyConfigurations.scala.html#23254" title="=&gt; Iterable[sbt.Configuration]">configurations</a>)
			<span class="keyword">val</span> <a title="sbt.Configuration" id="78091">defaultConf</a> = <a href="IvyConfigurations.scala.html#23256" title="=&gt; Option[sbt.Configuration]">defaultConfiguration</a> <span title="(=&gt; sbt.Configuration)sbt.Configuration">getOrElse</span> <a href="IvyInterface.scala.html#9343" title="object sbt.Configurations">Configurations</a>.<a href="IvyInterface.scala.html#19006" title="(String)sbt.Configuration">config</a>(ModuleDescriptor.<span title="java.lang.String(&quot;default&quot;)">DEFAULT_CONFIGURATION</span>)
			<a href="IvyConfigurations.scala.html#20080" title="=&gt; sbt.IvyLogger">log</a>.<a href="IvyLogger.scala.html#19750" title="(=&gt; String)Unit">debug</a>(<span title="java.lang.String(&quot;Using inline dependencies specified in Scala&quot;)" class="string">&quot;Using inline dependencies specified in Scala&quot;</span> <span title="(Any)java.lang.String">+</span> (<span title="Any" class="keyword">if</span>(<a href="IvyConfigurations.scala.html#23252" title="=&gt; scala.xml.NodeSeq">ivyXML</a>.<span title="=&gt; Boolean">isEmpty</span>) <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot; and XML.&quot;)" class="string">&quot; and XML.&quot;</span>))

			<span class="keyword">val</span> <a title="sbt.CustomXmlParser.CustomParser" id="78092">parser</a> = <a href="#7771" title="object sbt.IvySbt">IvySbt</a>.<a href="#24282" title="(org.apache.ivy.core.settings.IvySettings,scala.xml.NodeSeq,org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,String,Boolean)sbt.CustomXmlParser.CustomParser">parseIvyXML</a>(<a href="#19843" title="=&gt; &lt;refinement&gt; extends org.apache.ivy.Ivy">ivy</a>.<a title="()org.apache.ivy.core.settings.IvySettings" id="20909">getSettings</a>, <a href="#7771" title="object sbt.IvySbt">IvySbt</a>.<a href="#24280" title="(sbt.ModuleID,scala.xml.NodeSeq)scala.xml.Elem">wrapped</a>(<a href="IvyConfigurations.scala.html#23248" title="=&gt; sbt.ModuleID">module</a>, <a href="IvyConfigurations.scala.html#23252" title="=&gt; scala.xml.NodeSeq">ivyXML</a>), <a href="#78090" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>, <a href="#78091" title="sbt.Configuration">defaultConf</a>.<a href="IvyInterface.scala.html#15402" title="=&gt; String">name</a>, <a href="IvyConfigurations.scala.html#23260" title="=&gt; Boolean">validate</a>)

			<a href="#7771" title="object sbt.IvySbt">IvySbt</a>.<a href="#24284" title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,Iterable[sbt.ModuleID],sbt.CustomXmlParser.CustomParser)Unit">addDependencies</a>(<a href="#78090" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>, <a href="IvyConfigurations.scala.html#23250" title="=&gt; Iterable[sbt.ModuleID]">dependencies</a>, <a href="#78092" title="sbt.CustomXmlParser.CustomParser">parser</a>)
			<a href="#7771" title="object sbt.IvySbt">IvySbt</a>.<a href="#24273" title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor)Unit">addMainArtifact</a>(<a href="#78090" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>)
			<span title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,String)(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String)">(</span><a href="#78090" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>, <a href="#78092" title="sbt.CustomXmlParser.CustomParser">parser</a>.<a href="CustomXmlParser.scala.html#77400" title="()String">getDefaultConf</a>)
		}
		<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.ModuleID,Iterable[sbt.Configuration])org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="20515">newConfiguredModuleID</a>(<a title="sbt.ModuleID" id="78093">module</a>: <a href="IvyInterface.scala.html#11352" title="sbt.ModuleID">ModuleID</a>, <a title="Iterable[sbt.Configuration]" id="78094">configurations</a>: <span title="Iterable[sbt.Configuration]">Iterable</span>[Configuration]) =
		{
			<span class="keyword">val</span> <a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="78096">mod</a> = <span title="(org.apache.ivy.core.module.id.ModuleRevisionId,java.lang.String,java.util.Date,Boolean)org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" class="keyword">new</span> <span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">DefaultModuleDescriptor</span>(<a href="#7771" title="object sbt.IvySbt">IvySbt</a>.<a href="#24274" title="(sbt.ModuleID)org.apache.ivy.core.module.id.ModuleRevisionId">toID</a>(<a href="#78093" title="sbt.ModuleID">module</a>), <span title="java.lang.String(&quot;release&quot;)" class="string">&quot;release&quot;</span>, <span title="Null(null)" class="keyword">null</span>, <span title="Boolean(false)" class="keyword">false</span>)
			<a href="#78096" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">mod</a>.<span title="(Long)Unit">setLastModified</span>(<span title="object java.lang.System">System</span>.<span title="()Long">currentTimeMillis</span>)
			<a href="#78094" title="Iterable[sbt.Configuration]">configurations</a>.<span title="((sbt.Configuration) =&gt; Unit)Unit">foreach</span>(<a title="sbt.Configuration" id="78833">config</a> =&gt; <a href="#78096" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">mod</a>.<span title="(org.apache.ivy.core.module.descriptor.Configuration)Unit">addConfiguration</span>(<a href="#7771" title="object sbt.IvySbt">IvySbt</a>.<a href="#24272" title="(sbt.Configuration)org.apache.ivy.core.module.descriptor.Configuration">toIvyConfiguration</a>(<a href="#78833" title="sbt.Configuration">config</a>)))
			<a href="#7771" title="object sbt.IvySbt">IvySbt</a>.<a href="#24285" title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,Iterable[sbt.Artifact])Unit">addArtifacts</a>(<a href="#78096" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">mod</a>, <a href="#78093" title="sbt.ModuleID">module</a>.<a href="IvyInterface.scala.html#22216" title="=&gt; Seq[sbt.Artifact]">explicitArtifacts</a>)
			<a href="#78096" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">mod</a>
		}

		<span class="comment">/** Parses the given Maven pom 'pomFile'.*/</span>
		<span class="keyword">private</span> <span class="keyword">def</span> <a title="(java.io.File,Boolean)(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, java.lang.String)" id="20516">readPom</a>(<a title="java.io.File" id="78931">pomFile</a>: <span title="java.io.File">File</span>, <a title="Boolean" id="78932">validate</a>: <span title="Boolean">Boolean</span>) =
		{
			<span class="keyword">val</span> <a title="org.apache.ivy.core.module.descriptor.ModuleDescriptor" id="78934">md</a> = <a title="object org.apache.ivy.plugins.parser.m2.PomModuleDescriptorParser" id="19693">PomModuleDescriptorParser</a>.<a title="()org.apache.ivy.plugins.parser.m2.PomModuleDescriptorParser" id="78935">getInstance</a>.<a title="(org.apache.ivy.plugins.parser.ParserSettings,java.net.URL,Boolean)org.apache.ivy.core.module.descriptor.ModuleDescriptor" id="78941">parseDescriptor</a>(<a href="#19841" title="=&gt; org.apache.ivy.core.settings.IvySettings">settings</a>, <a href="#20518" title="(java.io.File)java.net.URL">toURL</a>(<a href="#78931" title="java.io.File">pomFile</a>), <a href="#78932" title="Boolean">validate</a>)
			<span title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,java.lang.String)(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, java.lang.String)">(</span><a href="#7771" title="object sbt.IvySbt">IvySbt</a>.<a href="#24286" title="(org.apache.ivy.core.module.descriptor.ModuleDescriptor)org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">toDefaultModuleDescriptor</a>(<a href="#78934" title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">md</a>), <span title="java.lang.String(&quot;compile&quot;)" class="string">&quot;compile&quot;</span>)
		}
		<span class="comment">/** Parses the given Ivy file 'ivyFile'.*/</span>
		<span class="keyword">private</span> <span class="keyword">def</span> <a title="(java.io.File,Boolean)(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String)" id="20517">readIvyFile</a>(<a title="java.io.File" id="78954">ivyFile</a>: <span title="java.io.File">File</span>, <a title="Boolean" id="78955">validate</a>: <span title="Boolean">Boolean</span>) =
		{
			<span class="keyword">val</span> <a title="java.net.URL" id="78957">url</a> = <a href="#20518" title="(java.io.File)java.net.URL">toURL</a>(<a href="#78954" title="java.io.File">ivyFile</a>)
			<span class="keyword">val</span> <a title="sbt.CustomXmlParser.CustomParser" id="78958">parser</a> = <span title="sbt.CustomXmlParser.CustomParser" class="keyword">new</span> <a href="CustomXmlParser.scala.html#11761" title="object sbt.CustomXmlParser">CustomXmlParser</a>.<a href="CustomXmlParser.scala.html#77260" title="sbt.CustomXmlParser.CustomParser">CustomParser</a>(<a href="#19841" title="=&gt; org.apache.ivy.core.settings.IvySettings">settings</a>, <span title="object None">None</span>)
			<a href="#78958" title="sbt.CustomXmlParser.CustomParser">parser</a>.<span title="(Boolean)Unit">setValidate</span>(<a href="#78955" title="Boolean">validate</a>)
			<a href="#78958" title="sbt.CustomXmlParser.CustomParser">parser</a>.<a href="CustomXmlParser.scala.html#77395" title="(java.net.URL)Unit">setSource</a>(<a href="#78957" title="java.net.URL">url</a>)
			<a href="#78958" title="sbt.CustomXmlParser.CustomParser">parser</a>.<span title="()Unit">parse</span>()
			<span class="keyword">val</span> <a title="org.apache.ivy.core.module.descriptor.ModuleDescriptor" id="78959">md</a> = <a href="#78958" title="sbt.CustomXmlParser.CustomParser">parser</a>.<a title="()org.apache.ivy.core.module.descriptor.ModuleDescriptor" id="77462">getModuleDescriptor</a>()
			<span title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,String)(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String)">(</span><a href="#7771" title="object sbt.IvySbt">IvySbt</a>.<a href="#24286" title="(org.apache.ivy.core.module.descriptor.ModuleDescriptor)org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">toDefaultModuleDescriptor</a>(<a href="#78959" title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">md</a>), <a href="#78958" title="sbt.CustomXmlParser.CustomParser">parser</a>.<a href="CustomXmlParser.scala.html#77400" title="()String">getDefaultConf</a>)
		}
		<span class="keyword">private</span> <span class="keyword">def</span> <a title="(java.io.File)java.net.URL" id="20518">toURL</a>(<a title="java.io.File" id="78946">file</a>: <span title="java.io.File">File</span>) = <a href="#78946" title="java.io.File">file</a>.<a title="()java.net.URI" id="16229">toURI</a>.<a title="()java.net.URL" id="24307">toURL</a>
		<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.ModuleID)(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, java.lang.String)" id="20519">configureEmpty</a>(<a title="sbt.ModuleID" id="78923">module</a>: <a href="IvyInterface.scala.html#11352" title="sbt.ModuleID">ModuleID</a>) =
		{
			<span class="keyword">val</span> <a title="java.lang.String" id="78925">defaultConf</a> = ModuleDescriptor.<span title="java.lang.String(&quot;default&quot;)">DEFAULT_CONFIGURATION</span>
			<span class="keyword">val</span> <a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="78926">moduleID</a> = <span title="(org.apache.ivy.core.module.id.ModuleRevisionId,java.lang.String,java.util.Date,Boolean)org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" class="keyword">new</span> <span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">DefaultModuleDescriptor</span>(<a href="#7771" title="object sbt.IvySbt">IvySbt</a>.<a href="#24274" title="(sbt.ModuleID)org.apache.ivy.core.module.id.ModuleRevisionId">toID</a>(<a href="#78923" title="sbt.ModuleID">module</a>), <span title="java.lang.String(&quot;release&quot;)" class="string">&quot;release&quot;</span>, <span title="Null(null)" class="keyword">null</span>, <span title="Boolean(false)" class="keyword">false</span>)
			<a href="#78926" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>.<span title="(Long)Unit">setLastModified</span>(<span title="object java.lang.System">System</span>.<span title="()Long">currentTimeMillis</span>)
			<a href="#78926" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>.<span title="(org.apache.ivy.core.module.descriptor.Configuration)Unit">addConfiguration</span>(<a href="#7771" title="object sbt.IvySbt">IvySbt</a>.<a href="#24272" title="(sbt.Configuration)org.apache.ivy.core.module.descriptor.Configuration">toIvyConfiguration</a>(<a href="IvyInterface.scala.html#9343" title="object sbt.Configurations">Configurations</a>.<a href="IvyInterface.scala.html#19008" title="=&gt; sbt.Configuration">Default</a>))
			<a href="#7771" title="object sbt.IvySbt">IvySbt</a>.<a href="#24285" title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,Iterable[sbt.Artifact])Unit">addArtifacts</a>(<a href="#78926" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>, <a href="#78923" title="sbt.ModuleID">module</a>.<a href="IvyInterface.scala.html#22216" title="=&gt; Seq[sbt.Artifact]">explicitArtifacts</a>)
			<a href="#7771" title="object sbt.IvySbt">IvySbt</a>.<a href="#24273" title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor)Unit">addMainArtifact</a>(<a href="#78926" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>)
			<span title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,java.lang.String)(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, java.lang.String)">(</span><a href="#78926" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>, <a href="#78925" title="java.lang.String">defaultConf</a>)
		}
	}
}

<span class="keyword">private</span> <span class="keyword">object</span> <a title="object sbt.IvySbt" id="7771">IvySbt</a>
{
	<span class="keyword">val</span> <a title="java.lang.String" id="24259">DefaultIvyConfigFilename</a> = <span title="java.lang.String(&quot;ivysettings.xml&quot;)" class="string">&quot;ivysettings.xml&quot;</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="24261">DefaultIvyFilename</a> = <span title="java.lang.String(&quot;ivy.xml&quot;)" class="string">&quot;ivy.xml&quot;</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="24263">DefaultMavenFilename</a> = <span title="java.lang.String(&quot;pom.xml&quot;)" class="string">&quot;pom.xml&quot;</span>

	<span class="keyword">def</span> <a title="(java.io.File)java.io.File" id="24265">defaultIvyFile</a>(<a title="java.io.File" id="24382">project</a>: <span title="java.io.File">File</span>) = <span title="(java.io.File,java.lang.String)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span>(<a href="#24382" title="java.io.File">project</a>, <a href="#24261" title="=&gt; java.lang.String">DefaultIvyFilename</a>)
	<span class="keyword">def</span> <a title="(java.io.File)java.io.File" id="24266">defaultIvyConfiguration</a>(<a title="java.io.File" id="47480">project</a>: <span title="java.io.File">File</span>) = <span title="(java.io.File,java.lang.String)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span>(<a href="#47480" title="java.io.File">project</a>, <a href="#24259" title="=&gt; java.lang.String">DefaultIvyConfigFilename</a>)
	<span class="keyword">def</span> <a title="(java.io.File)java.io.File" id="24267">defaultPOM</a>(<a title="java.io.File" id="24288">project</a>: <span title="java.io.File">File</span>) = <span title="(java.io.File,java.lang.String)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span>(<a href="#24288" title="java.io.File">project</a>, <a href="#24263" title="=&gt; java.lang.String">DefaultMavenFilename</a>)

	<span class="comment">/** Sets the resolvers for 'settings' to 'resolvers'.  This is done by creating a new chain and making it the default.
	* 'other' is for resolvers that should be in a different chain.  These are typically used for publishing or other actions. */</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(org.apache.ivy.core.settings.IvySettings,Seq[sbt.Resolver],Seq[sbt.Resolver],Boolean,sbt.IvyLogger)Unit" id="24268">setResolvers</a>(<a title="org.apache.ivy.core.settings.IvySettings" id="78052">settings</a>: <span title="org.apache.ivy.core.settings.IvySettings">IvySettings</span>, <a title="Seq[sbt.Resolver]" id="78053">resolvers</a>: <span title="Seq[sbt.Resolver]">Seq</span>[Resolver], <a title="Seq[sbt.Resolver]" id="78054">other</a>: <span title="Seq[sbt.Resolver]">Seq</span>[Resolver], <a title="Boolean" id="78055">localOnly</a>: <span title="Boolean">Boolean</span>, <a title="sbt.IvyLogger" id="78056">log</a>: <a href="IvyLogger.scala.html#9921" title="sbt.IvyLogger">IvyLogger</a>)
	{
		<span class="keyword">def</span> <a title="(String,String,Seq[sbt.Resolver])org.apache.ivy.plugins.resolver.ChainResolver" id="78992">makeChain</a>(<a title="String" id="78995">label</a>: <span title="String">String</span>, <a title="String" id="78996">name</a>: <span title="String">String</span>, <a title="Seq[sbt.Resolver]" id="78997">rs</a>: <span title="Seq[sbt.Resolver]">Seq</span>[Resolver]) = {
			<a href="#78056" title="sbt.IvyLogger">log</a>.<a href="IvyLogger.scala.html#19750" title="(=&gt; String)Unit">debug</a>(<a href="#78995" title="String">label</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; repositories:&quot;)" class="string">&quot; repositories:&quot;</span>)
			<span class="keyword">val</span> <a title="org.apache.ivy.plugins.resolver.ChainResolver" id="78998">chain</a> = <a href="#24269" title="(String,Seq[sbt.Resolver],Boolean,sbt.IvyLogger)org.apache.ivy.plugins.resolver.ChainResolver">resolverChain</a>(<a href="#78996" title="String">name</a>, <a href="#78997" title="Seq[sbt.Resolver]">rs</a>, <a href="#78055" title="Boolean">localOnly</a>, <a href="#78056" title="sbt.IvyLogger">log</a>)
			<a href="#78052" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<span title="(org.apache.ivy.plugins.resolver.DependencyResolver)Unit">addResolver</span>(<a href="#78998" title="org.apache.ivy.plugins.resolver.ChainResolver">chain</a>)
			<a href="#78998" title="org.apache.ivy.plugins.resolver.ChainResolver">chain</a>
		}
		<span class="keyword">val</span> <a title="org.apache.ivy.plugins.resolver.ChainResolver" id="78993">otherChain</a> = <a href="#78992" title="(String,String,Seq[sbt.Resolver])org.apache.ivy.plugins.resolver.ChainResolver">makeChain</a>(<span title="java.lang.String(&quot;Other&quot;)" class="string">&quot;Other&quot;</span>, <span title="java.lang.String(&quot;sbt-other&quot;)" class="string">&quot;sbt-other&quot;</span>, <a href="#78054" title="Seq[sbt.Resolver]">other</a>)
		<span class="keyword">val</span> <a title="org.apache.ivy.plugins.resolver.ChainResolver" id="78994">mainChain</a> = <a href="#78992" title="(String,String,Seq[sbt.Resolver])org.apache.ivy.plugins.resolver.ChainResolver">makeChain</a>(<span title="java.lang.String(&quot;Default&quot;)" class="string">&quot;Default&quot;</span>, <span title="java.lang.String(&quot;sbt-chain&quot;)" class="string">&quot;sbt-chain&quot;</span>, <a href="#78053" title="Seq[sbt.Resolver]">resolvers</a>)
		<a href="#78052" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<a title="(java.lang.String)Unit" id="21041">setDefaultResolver</a>(<a href="#78994" title="org.apache.ivy.plugins.resolver.ChainResolver">mainChain</a>.<a title="()java.lang.String" id="31350">getName</a>)
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(String,Seq[sbt.Resolver],Boolean,sbt.IvyLogger)org.apache.ivy.plugins.resolver.ChainResolver" id="24269">resolverChain</a>(<a title="String" id="78999">name</a>: <span title="String">String</span>, <a title="Seq[sbt.Resolver]" id="79000">resolvers</a>: <span title="Seq[sbt.Resolver]">Seq</span>[Resolver], <a title="Boolean" id="79001">localOnly</a>: <span title="Boolean">Boolean</span>, <a title="sbt.IvyLogger" id="79002">log</a>: <a href="IvyLogger.scala.html#9921" title="sbt.IvyLogger">IvyLogger</a>): <span title="org.apache.ivy.plugins.resolver.ChainResolver">ChainResolver</span> =
	{
		<span class="keyword">val</span> <a title="org.apache.ivy.plugins.resolver.ChainResolver" id="79003">newDefault</a> = <span title="org.apache.ivy.plugins.resolver.ChainResolver" class="keyword">new</span> <span title="org.apache.ivy.plugins.resolver.ChainResolver">ChainResolver</span>
		<a href="#79003" title="org.apache.ivy.plugins.resolver.ChainResolver">newDefault</a>.<a title="(java.lang.String)Unit" id="31351">setName</a>(<a href="#78999" title="String">name</a>)
		<a href="#79003" title="org.apache.ivy.plugins.resolver.ChainResolver">newDefault</a>.<a title="(Boolean)Unit" id="58211">setReturnFirst</a>(<span title="Boolean(true)" class="keyword">true</span>)
		<a href="#79003" title="org.apache.ivy.plugins.resolver.ChainResolver">newDefault</a>.<a title="(Boolean)Unit" id="58193">setCheckmodified</a>(<span title="=&gt; Boolean">!</span><a href="#79001" title="Boolean">localOnly</a>)
		<span class="keyword">for</span>(<a title="((sbt.Resolver) =&gt; Unit)Unit" id="79005">sbtResolver</a> &lt;- <a href="#79000" title="Seq[sbt.Resolver]">resolvers</a>) {
			<a href="#79002" title="sbt.IvyLogger">log</a>.<a href="IvyLogger.scala.html#19750" title="(=&gt; String)Unit">debug</a>(<span title="java.lang.String(&quot;\011&quot;)" class="string">&quot;\t&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#79005" title="sbt.Resolver">sbtResolver</a>)
			<a href="#79003" title="org.apache.ivy.plugins.resolver.ChainResolver">newDefault</a>.<a title="(org.apache.ivy.plugins.resolver.DependencyResolver)Unit" id="58191">add</a>(<a href="ConvertResolver.scala.html#31162" title="(sbt.Resolver)org.apache.ivy.plugins.resolver.RepositoryResolver">ConvertResolver</a>(<a href="#79005" title="sbt.Resolver">sbtResolver</a>))
		}
		<a href="#79003" title="org.apache.ivy.plugins.resolver.ChainResolver">newDefault</a>
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(org.apache.ivy.core.settings.IvySettings,Seq[sbt.ModuleConfiguration])Unit" id="24270">setModuleConfigurations</a>(<a title="org.apache.ivy.core.settings.IvySettings" id="78057">settings</a>: <span title="org.apache.ivy.core.settings.IvySettings">IvySettings</span>, <a title="Seq[sbt.ModuleConfiguration]" id="78058">moduleConfigurations</a>: <span title="Seq[sbt.ModuleConfiguration]">Seq</span>[ModuleConfiguration])
	{
		<span class="keyword">val</span> <a title="java.util.Collection[_]" id="79006">existing</a> = <a href="#78057" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<a title="()java.util.Collection[_]" id="21366">getResolverNames</a>
		<span class="keyword">for</span>(<a title="((sbt.ModuleConfiguration) =&gt; Unit)Unit" id="79010">moduleConf</a> &lt;- <a href="#78058" title="Seq[sbt.ModuleConfiguration]">moduleConfigurations</a>)
		{
			<span class="keyword">import</span> moduleConf._
			<span class="keyword">import</span> IvyPatternHelper._
			<span class="keyword">import</span> PatternMatcher._
			<span title="Unit" class="keyword">if</span>(<span title="=&gt; Boolean">!</span><a href="#79006" title="java.util.Collection[_]">existing</a>.<a title="(Any)Boolean" id="16380">contains</a>(<a href="IvyInterface.scala.html#25533" title="=&gt; sbt.Resolver">resolver</a>.<a href="IvyInterface.scala.html#20578" title="=&gt; String">name</a>))
				<a href="#78057" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<span title="(org.apache.ivy.plugins.resolver.DependencyResolver)Unit">addResolver</span>(<a href="ConvertResolver.scala.html#31162" title="(sbt.Resolver)org.apache.ivy.plugins.resolver.RepositoryResolver">ConvertResolver</a>(<a href="IvyInterface.scala.html#25533" title="=&gt; sbt.Resolver">resolver</a>))
			<span class="keyword">val</span> <a title="java.util.Map[String,String]" id="79014">attributes</a> = <a href="#24277" title="(Map[String,String])java.util.Map[String,String]">javaMap</a>(<a title="((java.lang.String, String)*)scala.collection.immutable.Map[java.lang.String,String]" id="6081">Map</a>(<span title="(java.lang.String)ArrowAssoc[java.lang.String]">MODULE_KEY</span> <span title="(String)(java.lang.String, String)">-&gt;</span> <a href="IvyInterface.scala.html#25529" title="=&gt; String">name</a>, <span title="(java.lang.String)ArrowAssoc[java.lang.String]">ORGANISATION_KEY</span> <span title="(String)(java.lang.String, String)">-&gt;</span> <a href="IvyInterface.scala.html#25527" title="=&gt; String">organization</a>, <span title="(java.lang.String)ArrowAssoc[java.lang.String]">REVISION_KEY</span> <span title="(String)(java.lang.String, String)">-&gt;</span> <a href="IvyInterface.scala.html#25531" title="=&gt; String">revision</a>))
			<a href="#78057" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<a title="(java.util.Map[_, _],org.apache.ivy.plugins.matcher.PatternMatcher,java.lang.String,java.lang.String,java.lang.String,java.lang.String)Unit" id="21044">addModuleConfiguration</a>(<a href="#79014" title="java.util.Map[String,String]">attributes</a>, <a href="#78057" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<a title="(java.lang.String)org.apache.ivy.plugins.matcher.PatternMatcher" id="21207">getMatcher</a>(<span title="java.lang.String(&quot;exactOrRegexp&quot;)">EXACT_OR_REGEXP</span>), <a href="IvyInterface.scala.html#25533" title="=&gt; sbt.Resolver">resolver</a>.<a href="IvyInterface.scala.html#20578" title="=&gt; String">name</a>, <span title="Null(null)" class="keyword">null</span>, <span title="Null(null)" class="keyword">null</span>, <span title="Null(null)" class="keyword">null</span>)
		}
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(org.apache.ivy.core.settings.IvySettings,Option[java.io.File],Boolean)Unit" id="24271">configureCache</a>(<a title="org.apache.ivy.core.settings.IvySettings" id="78049">settings</a>: <span title="org.apache.ivy.core.settings.IvySettings">IvySettings</span>, <a title="Option[java.io.File]" id="78050">dir</a>: <span title="Option[java.io.File]">Option</span>[File], <a title="Boolean" id="78051">localOnly</a>: <span title="Boolean">Boolean</span>)
	{
		<span class="keyword">val</span> <a title="java.io.File" id="79106">cacheDir</a> = <a href="#78050" title="Option[java.io.File]">dir</a>.<span title="(=&gt; java.io.File)java.io.File">getOrElse</span>(<a href="#78049" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<a title="()java.io.File" id="21053">getDefaultRepositoryCacheBasedir</a>())
		<span class="keyword">val</span> <a title="org.apache.ivy.core.cache.DefaultRepositoryCacheManager" id="79107">manager</a> = <a title="(java.lang.String,org.apache.ivy.core.settings.IvySettings,java.io.File)org.apache.ivy.core.cache.DefaultRepositoryCacheManager" id="79117" class="keyword">new</a> <a title="org.apache.ivy.core.cache.DefaultRepositoryCacheManager" id="19373">DefaultRepositoryCacheManager</a>(<span title="java.lang.String(&quot;default-cache&quot;)" class="string">&quot;default-cache&quot;</span>, <a href="#78049" title="org.apache.ivy.core.settings.IvySettings">settings</a>, <a href="#79106" title="java.io.File">cacheDir</a>)
		<a href="#79107" title="org.apache.ivy.core.cache.DefaultRepositoryCacheManager">manager</a>.<a title="(Boolean)Unit" id="79149">setUseOrigin</a>(<span title="Boolean(true)" class="keyword">true</span>)
		<span title="Unit" class="keyword">if</span>(<a href="#78051" title="Boolean">localOnly</a>)
			<a href="#79107" title="org.apache.ivy.core.cache.DefaultRepositoryCacheManager">manager</a>.<a title="(Long)Unit" id="79127">setDefaultTTL</a>(java.lang.Long.<span title="Long(9223372036854775807L)">MAX_VALUE</span>);
		<span class="keyword">else</span>
		{
			<a href="#79107" title="org.apache.ivy.core.cache.DefaultRepositoryCacheManager">manager</a>.<a title="(java.lang.String)Unit" id="79135">setChangingMatcher</a>(PatternMatcher.<span title="java.lang.String(&quot;regexp&quot;)">REGEXP</span>);
			<a href="#79107" title="org.apache.ivy.core.cache.DefaultRepositoryCacheManager">manager</a>.<a title="(java.lang.String)Unit" id="79137">setChangingPattern</a>(<span title="java.lang.String(&quot;.*-SNAPSHOT&quot;)" class="string">&quot;.*-SNAPSHOT&quot;</span>);
		}
		<a href="#78049" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<a title="(org.apache.ivy.core.cache.RepositoryCacheManager)Unit" id="21211">addRepositoryCacheManager</a>(<a href="#79107" title="org.apache.ivy.core.cache.DefaultRepositoryCacheManager">manager</a>)
		<a href="#78049" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<a title="(org.apache.ivy.core.cache.RepositoryCacheManager)Unit" id="21337">setDefaultRepositoryCacheManager</a>(<a href="#79107" title="org.apache.ivy.core.cache.DefaultRepositoryCacheManager">manager</a>)
		<a href="#78050" title="Option[java.io.File]">dir</a>.<span title="((java.io.File) =&gt; Unit)Unit">foreach</span>(<a title="java.io.File" id="79176">dir</a> =&gt; <a href="#78049" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<a title="(java.lang.String)Unit" id="21052">setDefaultResolutionCacheBasedir</a>(<a href="#79176" title="java.io.File">dir</a>.<a title="()java.lang.String" id="16224">getAbsolutePath</a>))
	}
	<span class="keyword">def</span> <a title="(sbt.Configuration)org.apache.ivy.core.module.descriptor.Configuration" id="24272">toIvyConfiguration</a>(<a title="sbt.Configuration" id="78851">configuration</a>: <a href="IvyInterface.scala.html#11658" title="sbt.Configuration">Configuration</a>) =
	{
		<span class="keyword">import</span> org.apache.ivy.core.module.descriptor.{Configuration =&gt; IvyConfig}
		<span class="keyword">import</span> IvyConfig.Visibility._
		<span class="keyword">import</span> configuration._
		<a title="(java.lang.String,org.apache.ivy.core.module.descriptor.Configuration.Visibility,java.lang.String,Array[java.lang.String],Boolean,java.lang.String)org.apache.ivy.core.module.descriptor.Configuration" id="78840" class="keyword">new</a> <a title="org.apache.ivy.core.module.descriptor.Configuration" id="19490">IvyConfig</a>(<a href="IvyInterface.scala.html#15402" title="=&gt; String">name</a>, <span title="org.apache.ivy.core.module.descriptor.Configuration.Visibility" class="keyword">if</span>(<a href="IvyInterface.scala.html#15406" title="=&gt; Boolean">isPublic</a>) <a title="org.apache.ivy.core.module.descriptor.Configuration.Visibility" id="78856">PUBLIC</a> <span class="keyword">else</span> <a title="org.apache.ivy.core.module.descriptor.Configuration.Visibility" id="78857">PRIVATE</a>, <a href="IvyInterface.scala.html#15404" title="=&gt; String">description</a>, <a href="IvyInterface.scala.html#15408" title="=&gt; List[sbt.Configuration]">extendsConfigs</a>.<a title="((sbt.Configuration) =&gt; String)List[String]" id="17963">map</a>(<a href="#78877" title="sbt.Configuration">_</a>.<a href="IvyInterface.scala.html#15402" title="=&gt; String">name</a>).<span title="Array[String]">toArray</span>, <a href="IvyInterface.scala.html#15410" title="=&gt; Boolean">transitive</a>, <span title="Null(null)" class="keyword">null</span>)
	}
	<span class="comment">/** Adds the ivy.xml main artifact. */</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor)Unit" id="24273">addMainArtifact</a>(<a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="78914">moduleID</a>: <span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">DefaultModuleDescriptor</span>)
	{
		<span class="keyword">val</span> <a title="org.apache.ivy.core.module.descriptor.Artifact" id="79177">artifact</a> = <a title="object org.apache.ivy.core.module.descriptor.DefaultArtifact" id="19476">DefaultArtifact</a>.<a title="(org.apache.ivy.core.module.id.ModuleRevisionId,java.util.Date)org.apache.ivy.core.module.descriptor.Artifact" id="79178">newIvyArtifact</a>(<a href="#78914" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>.<a title="()org.apache.ivy.core.module.id.ModuleRevisionId" id="75006">getResolvedModuleRevisionId</a>, <a href="#78914" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>.<a title="()java.util.Date" id="74995">getPublicationDate</a>)
		<a href="#78914" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>.<a title="(org.apache.ivy.core.module.descriptor.Artifact)Unit" id="74992">setModuleArtifact</a>(<a href="#79177" title="org.apache.ivy.core.module.descriptor.Artifact">artifact</a>)
		<a href="#78914" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>.<a title="()Unit" id="75035">check</a>()
	}
	<span class="comment">/** Converts the given sbt module id into an Ivy ModuleRevisionId.*/</span>
	<span class="keyword">def</span> <a title="(sbt.ModuleID)org.apache.ivy.core.module.id.ModuleRevisionId" id="24274">toID</a>(<a title="sbt.ModuleID" id="78141">m</a>: <a href="IvyInterface.scala.html#11352" title="sbt.ModuleID">ModuleID</a>) =
	{
		<span class="keyword">import</span> m._
		<a title="object org.apache.ivy.core.module.id.ModuleRevisionId" id="19530">ModuleRevisionId</a>.<a title="(java.lang.String,java.lang.String,java.lang.String,java.util.Map[_, _])org.apache.ivy.core.module.id.ModuleRevisionId" id="31477">newInstance</a>(<a href="IvyInterface.scala.html#22204" title="=&gt; String">organization</a>, <a href="IvyInterface.scala.html#22206" title="=&gt; String">name</a>, <a href="IvyInterface.scala.html#22208" title="=&gt; String">revision</a>, <a href="#24277" title="(Map[String,String])java.util.Map[String,String]">javaMap</a>(<a href="IvyInterface.scala.html#22218" title="=&gt; Map[String,String]">extraAttributes</a>))
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(org.apache.ivy.core.module.descriptor.ModuleDescriptor,sbt.Artifact,Iterable[String])org.apache.ivy.core.module.descriptor.MDArtifact" id="24275">toIvyArtifact</a>(<a title="org.apache.ivy.core.module.descriptor.ModuleDescriptor" id="79203">moduleID</a>: <span title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">ModuleDescriptor</span>, <a title="sbt.Artifact" id="79204">a</a>: <a href="IvyInterface.scala.html#7458" title="sbt.Artifact">Artifact</a>, <a title="Iterable[String]" id="79205">configurations</a>: <span title="Iterable[String]">Iterable</span>[String]): <span title="org.apache.ivy.core.module.descriptor.MDArtifact">MDArtifact</span> =
	{
		<span class="keyword">val</span> <a title="org.apache.ivy.core.module.descriptor.MDArtifact" id="79222">artifact</a> = <a title="(org.apache.ivy.core.module.descriptor.ModuleDescriptor,java.lang.String,java.lang.String,java.lang.String,java.net.URL,java.util.Map[_, _])org.apache.ivy.core.module.descriptor.MDArtifact" id="79211" class="keyword">new</a> <span title="org.apache.ivy.core.module.descriptor.MDArtifact">MDArtifact</span>(<a href="#79203" title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">moduleID</a>, <a href="#79204" title="sbt.Artifact">a</a>.<a href="IvyInterface.scala.html#20107" title="=&gt; String">name</a>, <a href="#79204" title="sbt.Artifact">a</a>.<a href="IvyInterface.scala.html#20109" title="=&gt; String">`type`</a>, <a href="#79204" title="sbt.Artifact">a</a>.<a href="IvyInterface.scala.html#20111" title="=&gt; String">extension</a>, <span title="Null(null)" class="keyword">null</span>, <a href="#24276" title="(sbt.Artifact)java.util.Map[String,String]">extra</a>(<a href="#79204" title="sbt.Artifact">a</a>))
		<a href="#79205" title="Iterable[String]">configurations</a>.<span title="((String) =&gt; Unit)Unit">foreach</span>(<a href="#79222" title="org.apache.ivy.core.module.descriptor.MDArtifact">artifact</a>.<a href="#79314" title="(java.lang.String)Unit" id="79219">addConfiguration</a>)
		<a href="#79222" title="org.apache.ivy.core.module.descriptor.MDArtifact">artifact</a>
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Artifact)java.util.Map[String,String]" id="24276">extra</a>(<a title="sbt.Artifact" id="79239">artifact</a>: <a href="IvyInterface.scala.html#7458" title="sbt.Artifact">Artifact</a>) =
	{
		<span class="keyword">val</span> <a title="sbt.Artifact" id="79241">ea</a> = <a href="#79239" title="sbt.Artifact">artifact</a>.<a href="IvyInterface.scala.html#20113" title="=&gt; Option[String]">classifier</a> <span title="sbt.Artifact" class="keyword">match</span> { <span title="sbt.Artifact" class="keyword">case</span> Some(<a title="String" id="79242">c</a>) =&gt; <a href="#79239" title="sbt.Artifact">artifact</a>.<a href="IvyInterface.scala.html#20122" title="((String, String)*)sbt.Artifact">extra</a>(<span title="(java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;e:classifier&quot;</span> <span title="(String)(java.lang.String, String)">-&gt;</span> <a href="#79242" title="String">c</a>); <span title="sbt.Artifact" class="keyword">case</span> <span title="object None">None</span> =&gt; <a href="#79239" title="sbt.Artifact">artifact</a> }
		<a href="#24277" title="(Map[String,String])java.util.Map[String,String]">javaMap</a>(<a href="#79241" title="sbt.Artifact">ea</a>.<a href="IvyInterface.scala.html#20119" title="=&gt; Map[String,String]">extraAttributes</a>)
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(Map[String,String])java.util.Map[String,String]" id="24277">javaMap</a>(<a title="Map[String,String]" id="78157">map</a>: <a title="Map[String,String]" id="22298">Map</a>[String,String]) =
		<span title="java.util.Map[String,String]" class="keyword">if</span>(<a href="#78157" title="Map[String,String]">map</a>.<a title="=&gt; Boolean" id="24560">isEmpty</a>) <span title="Null(null)" class="keyword">null</span>
		<span class="keyword">else</span>
		{
			<span class="keyword">val</span> <a title="&lt;refinement&gt; extends java.lang.Object with scala.collection.jcl.MapWrapper[String,String]" id="78159">wrap</a> = scala.collection.jcl.<a title="(java.util.Map[String,String])java.lang.Object with scala.collection.jcl.MapWrapper[String,String]" id="78197">Map</a>(<span title="()java.util.HashMap[String,String]" class="keyword">new</span> java.util.<span title="java.util.HashMap[String,String]">HashMap</span>[String,String])
			<a href="#78159" title="&lt;refinement&gt; extends java.lang.Object with scala.collection.jcl.MapWrapper[String,String]">wrap</a> <a title="(Iterable[(String, String)])Unit" id="78661">++=</a> <a href="#78157" title="Map[String,String]">map</a>
			<a href="#78159" title="&lt;refinement&gt; extends java.lang.Object with scala.collection.jcl.MapWrapper[String,String]">wrap</a>.<a title="=&gt; java.util.Map[String,String]" id="78655">underlying</a>
		}

	<span class="keyword">private</span> <span class="keyword">object</span> <a title="object sbt.IvySbt.javaMap" id="24278">javaMap</a>
	{
		<span class="keyword">import</span> java.util.{HashMap, Map}
		<span class="keyword">def</span> <a title="[K, V]((K, V)*)java.util.Map[K,V]" id="78149">apply</a>[<a title="&gt;: Nothing &lt;: Any" id="78152">K</a>,<a title="&gt;: Nothing &lt;: Any" id="78153">V</a>](<a title="(K, V)*" id="78154">pairs</a>: <a title="(K, V)*" id="2689">(</a>K,V)*): <span title="java.util.Map[K,V]">Map</span>[K,V] =
		{
			<span class="keyword">val</span> <a title="java.util.HashMap[K,V]" id="79316">map</a> = <span title="()java.util.HashMap[K,V]" class="keyword">new</span> <span title="java.util.HashMap[K,V]">HashMap</span>[K,V]
			<a href="#78154" title="(K, V)*">pairs</a>.<span title="(((K, V)) =&gt; Unit)Unit">foreach</span> <a href="#79323" title="Unit">{</a> <span title="Unit" class="keyword">case</span> (<a title="K" id="79324">key</a>, <a title="V" id="79325">value</a>) =&gt; <a href="#79316" title="java.util.HashMap[K,V]">map</a>.<a title="(K,V)V" id="78750">put</a>(<a href="#79324" title="K">key</a>, <a href="#79325" title="V">value</a>) }
			<a href="#79316" title="java.util.HashMap[K,V]">map</a>
		}
	}
	<span class="comment">/** Creates a full ivy file for 'module' using the 'dependencies' XML as the part after the &amp;lt;info&amp;gt;...&amp;lt;/info&amp;gt; section. */</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.ModuleID,scala.xml.NodeSeq)scala.xml.Elem" id="24280">wrapped</a>(<a title="sbt.ModuleID" id="78898">module</a>: <a href="IvyInterface.scala.html#11352" title="sbt.ModuleID">ModuleID</a>, <a title="scala.xml.NodeSeq" id="78899">dependencies</a>: <span title="scala.xml.NodeSeq">NodeSeq</span>) =
	{
		<span class="keyword">import</span> module._
		&lt;ivy-module version=<a title="scala.xml.Text" id="14518" class="string">&quot;2.0&quot;</a>&gt;
			{ <span title="Any" class="keyword">if</span>(<a href="#24281" title="(scala.xml.NodeSeq)Boolean">hasInfo</a>(<a href="#78899" title="scala.xml.NodeSeq">dependencies</a>))
				<span title="object scala.xml.NodeSeq">NodeSeq</span>.<span title="=&gt; &lt;refinement&gt; extends scala.xml.NodeSeq">Empty</span>
			<span class="keyword">else</span>
				&lt;info organisation={<a href="IvyInterface.scala.html#22204" title="=&gt; String">organization</a>} module={<a href="IvyInterface.scala.html#22206" title="=&gt; String">name</a>} revision={<a href="IvyInterface.scala.html#22208" title="=&gt; String">revision</a>}/&gt;
			}
			{<a href="#78899" title="scala.xml.NodeSeq">dependencies</a>}
			{
				<span class="comment">// this is because Ivy adds a default artifact if none are specified.</span>
				<span title="Any" class="keyword">if</span>(<a href="#78899" title="scala.xml.NodeSeq">dependencies</a> <a title="(String)scala.xml.NodeSeq" id="20062">\\</a> <span title="java.lang.String(&quot;publications&quot;)" class="string">&quot;publications&quot;</span> <span title="=&gt; Boolean">isEmpty</span>) &lt;publications/&gt; <span class="keyword">else</span> <span title="object scala.xml.NodeSeq">NodeSeq</span>.<span title="=&gt; &lt;refinement&gt; extends scala.xml.NodeSeq">Empty</span>
			}
		&lt;/ivy-module&gt;
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(scala.xml.NodeSeq)Boolean" id="24281">hasInfo</a>(<a title="scala.xml.NodeSeq" id="78905">x</a>: scala.xml.<span title="scala.xml.NodeSeq">NodeSeq</span>) = <span title="=&gt; Boolean">!</span>(&lt;g&gt;{<a href="#78905" title="scala.xml.NodeSeq">x</a>}&lt;/g&gt; <a title="(String)scala.xml.NodeSeq" id="20061">\</a> <span title="java.lang.String(&quot;info&quot;)" class="string">&quot;info&quot;</span>).<span title="=&gt; Boolean">isEmpty</span>
	<span class="comment">/** Parses the given in-memory Ivy file 'xml', using the existing 'moduleID' and specifying the given 'defaultConfiguration'. */</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(org.apache.ivy.core.settings.IvySettings,scala.xml.NodeSeq,org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,String,Boolean)sbt.CustomXmlParser.CustomParser" id="24282">parseIvyXML</a>(<a title="org.apache.ivy.core.settings.IvySettings" id="78893">settings</a>: <span title="org.apache.ivy.core.settings.IvySettings">IvySettings</span>, <a title="scala.xml.NodeSeq" id="78894">xml</a>: scala.xml.<span title="scala.xml.NodeSeq">NodeSeq</span>, <a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="78895">moduleID</a>: <span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">DefaultModuleDescriptor</span>, <a title="String" id="78896">defaultConfiguration</a>: <span title="String">String</span>, <a title="Boolean" id="78897">validate</a>: <span title="Boolean">Boolean</span>): CustomXmlParser.<a href="CustomXmlParser.scala.html#77260" title="sbt.CustomXmlParser.CustomParser">CustomParser</a> =
		<a href="#24283" title="(org.apache.ivy.core.settings.IvySettings,String,org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,String,Boolean)sbt.CustomXmlParser.CustomParser">parseIvyXML</a>(<a href="#78893" title="org.apache.ivy.core.settings.IvySettings">settings</a>,  <a href="#78894" title="scala.xml.NodeSeq">xml</a>.<a title="()String" id="20063">toString</a>, <a href="#78895" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>, <a href="#78896" title="String">defaultConfiguration</a>, <a href="#78897" title="Boolean">validate</a>)
	<span class="comment">/** Parses the given in-memory Ivy file 'xml', using the existing 'moduleID' and specifying the given 'defaultConfiguration'. */</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(org.apache.ivy.core.settings.IvySettings,String,org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,String,Boolean)sbt.CustomXmlParser.CustomParser" id="24283">parseIvyXML</a>(<a title="org.apache.ivy.core.settings.IvySettings" id="78888">settings</a>: <span title="org.apache.ivy.core.settings.IvySettings">IvySettings</span>, <a title="String" id="78889">xml</a>: <span title="String">String</span>, <a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="78890">moduleID</a>: <span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">DefaultModuleDescriptor</span>, <a title="String" id="78891">defaultConfiguration</a>: <span title="String">String</span>, <a title="Boolean" id="78892">validate</a>: <span title="Boolean">Boolean</span>): CustomXmlParser.<a href="CustomXmlParser.scala.html#77260" title="sbt.CustomXmlParser.CustomParser">CustomParser</a> =
	{
		<span class="keyword">val</span> <a title="sbt.CustomXmlParser.CustomParser" id="79327">parser</a> = <span title="sbt.CustomXmlParser.CustomParser" class="keyword">new</span> <a href="CustomXmlParser.scala.html#11761" title="object sbt.CustomXmlParser">CustomXmlParser</a>.<a href="CustomXmlParser.scala.html#77260" title="sbt.CustomXmlParser.CustomParser">CustomParser</a>(<a href="#78888" title="org.apache.ivy.core.settings.IvySettings">settings</a>, <a title="(String)Some[String]" id="286">Some</a>(<a href="#78891" title="String">defaultConfiguration</a>))
		<a href="#79327" title="sbt.CustomXmlParser.CustomParser">parser</a>.<a href="CustomXmlParser.scala.html#77398" title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor)Unit">setMd</a>(<a href="#78890" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>)
		<a href="#79327" title="sbt.CustomXmlParser.CustomParser">parser</a>.<span title="(Boolean)Unit">setValidate</span>(<a href="#78892" title="Boolean">validate</a>)
		<a href="#79327" title="sbt.CustomXmlParser.CustomParser">parser</a>.<a href="CustomXmlParser.scala.html#77396" title="(Array[Byte])Unit">setInput</a>(<a href="#78889" title="String">xml</a>.<a title="()Array[Byte]" id="5776">getBytes</a>)
		<a href="#79327" title="sbt.CustomXmlParser.CustomParser">parser</a>.<span title="()Unit">parse</span>()
		<a href="#79327" title="sbt.CustomXmlParser.CustomParser">parser</a>
	}

	<span class="comment">/** This method is used to add inline dependencies to the provided module. */</span>
	<span class="keyword">def</span> <a title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,Iterable[sbt.ModuleID],sbt.CustomXmlParser.CustomParser)Unit" id="24284">addDependencies</a>(<a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="77507">moduleID</a>: <span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">DefaultModuleDescriptor</span>, <a title="Iterable[sbt.ModuleID]" id="77508">dependencies</a>: <span title="Iterable[sbt.ModuleID]">Iterable</span>[ModuleID], <a title="sbt.CustomXmlParser.CustomParser" id="77509">parser</a>: CustomXmlParser.<a href="CustomXmlParser.scala.html#77260" title="sbt.CustomXmlParser.CustomParser">CustomParser</a>)
	{
		<span class="keyword">for</span>(<a title="((sbt.ModuleID) =&gt; Unit)Unit" id="79333">dependency</a> &lt;- <a href="#77508" title="Iterable[sbt.ModuleID]">dependencies</a>)
		{
			<span class="keyword">val</span> <a title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor" id="79334">dependencyDescriptor</a> = <span title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor" class="keyword">new</span> <a title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor" id="19454">DefaultDependencyDescriptor</a>(<a href="#77507" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>, <a href="#24274" title="(sbt.ModuleID)org.apache.ivy.core.module.id.ModuleRevisionId">toID</a>(<a href="#79333" title="sbt.ModuleID">dependency</a>), <span title="Boolean(false)" class="keyword">false</span>, <a href="#79333" title="sbt.ModuleID">dependency</a>.<a href="IvyInterface.scala.html#22212" title="=&gt; Boolean">isChanging</a>, <a href="#79333" title="sbt.ModuleID">dependency</a>.<a href="IvyInterface.scala.html#22214" title="=&gt; Boolean">isTransitive</a>)
			<a href="#79333" title="sbt.ModuleID">dependency</a>.<a href="IvyInterface.scala.html#22210" title="=&gt; Option[String]">configurations</a> <span title="Unit" class="keyword">match</span>
			{
				<span title="Unit" class="keyword">case</span> <span title="object None">None</span> =&gt; <span class="comment">// The configuration for this dependency was not explicitly specified, so use the default</span>
					<a href="#77509" title="sbt.CustomXmlParser.CustomParser">parser</a>.<a href="CustomXmlParser.scala.html#77399" title="(String,org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor)Unit">parseDepsConfs</a>(<a href="#77509" title="sbt.CustomXmlParser.CustomParser">parser</a>.<a href="CustomXmlParser.scala.html#77400" title="()String">getDefaultConf</a>, <a href="#79334" title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor">dependencyDescriptor</a>)
				<span title="Unit" class="keyword">case</span> Some(<a title="String" id="79394">confs</a>) =&gt; <span class="comment">// The configuration mapping (looks like: test-&gt;default) was specified for this dependency</span>
					<a href="#77509" title="sbt.CustomXmlParser.CustomParser">parser</a>.<a href="CustomXmlParser.scala.html#77399" title="(String,org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor)Unit">parseDepsConfs</a>(<a href="#79394" title="String">confs</a>, <a href="#79334" title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor">dependencyDescriptor</a>)
			}
			<span class="keyword">for</span>(<a title="((sbt.Artifact) =&gt; Unit)Unit" id="79397">artifact</a> &lt;- <a href="#79333" title="sbt.ModuleID">dependency</a>.<a href="IvyInterface.scala.html#22216" title="=&gt; Seq[sbt.Artifact]">explicitArtifacts</a>)
			{
				<span class="keyword">import</span> artifact.{name, classifier, `type`, extension, url}
				<span class="keyword">val</span> <a title="java.util.Map[String,String]" id="79399">extraMap</a> = <a href="#24276" title="(sbt.Artifact)java.util.Map[String,String]">extra</a>(<a href="#79397" title="sbt.Artifact">artifact</a>)
				<span class="keyword">val</span> <a title="org.apache.ivy.core.module.descriptor.DefaultDependencyArtifactDescriptor" id="79400">ivyArtifact</a> = <span title="org.apache.ivy.core.module.descriptor.DefaultDependencyArtifactDescriptor" class="keyword">new</span> <a title="org.apache.ivy.core.module.descriptor.DefaultDependencyArtifactDescriptor" id="19511">DefaultDependencyArtifactDescriptor</a>(<a href="#79334" title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor">dependencyDescriptor</a>, <a href="IvyInterface.scala.html#20107" title="=&gt; String">name</a>, <a href="IvyInterface.scala.html#20109" title="=&gt; String">`type`</a>, <a href="IvyInterface.scala.html#20111" title="=&gt; String">extension</a>, <a href="IvyInterface.scala.html#20117" title="=&gt; Option[java.net.URL]">url</a>.<span title="(=&gt; java.net.URL)java.net.URL">getOrElse</span>(<span title="Null(null)" class="keyword">null</span>), <a href="#79399" title="java.util.Map[String,String]">extraMap</a>)
				<span class="keyword">for</span>(<a title="((java.lang.String) =&gt; Unit)Unit" id="79423">conf</a> &lt;- <a href="#79334" title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor">dependencyDescriptor</a>.<a title="()Array[java.lang.String]" id="79344">getModuleConfigurations</a>)
					<a href="#79334" title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor">dependencyDescriptor</a>.<a title="(java.lang.String,org.apache.ivy.core.module.descriptor.DependencyArtifactDescriptor)Unit" id="79361">addDependencyArtifact</a>(<a href="#79423" title="java.lang.String">conf</a>, <a href="#79400" title="org.apache.ivy.core.module.descriptor.DefaultDependencyArtifactDescriptor">ivyArtifact</a>)
			}
			<a href="#77507" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>.<a title="(org.apache.ivy.core.module.descriptor.DependencyDescriptor)Unit" id="75002">addDependency</a>(<a href="#79334" title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor">dependencyDescriptor</a>)
		}
	}
	<span class="comment">/** This method is used to add inline artifacts to the provided module. */</span>
	<span class="keyword">def</span> <a title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,Iterable[sbt.Artifact])Unit" id="24285">addArtifacts</a>(<a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="78883">moduleID</a>: <span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">DefaultModuleDescriptor</span>, <a title="Iterable[sbt.Artifact]" id="78884">artifacts</a>: <span title="Iterable[sbt.Artifact]">Iterable</span>[Artifact])
	{
		<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Array[java.lang.String]" id="79425">allConfigurations</a> = <a href="#78883" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>.<a title="()Array[java.lang.String]" id="75010">getPublicConfigurationsNames</a>
		<span class="keyword">for</span>(<a title="((sbt.Artifact) =&gt; Unit)Unit" id="79427">artifact</a> &lt;- <a href="#78884" title="Iterable[sbt.Artifact]">artifacts</a>)
		{
			<span class="keyword">val</span> <a title="Iterable[String]" id="79428">configurationStrings</a> =
			{
				<span class="keyword">val</span> <a title="Iterable[sbt.Configuration]" id="79430">artifactConfigurations</a> = <a href="#79427" title="sbt.Artifact">artifact</a>.<a href="IvyInterface.scala.html#20115" title="=&gt; Iterable[sbt.Configuration]">configurations</a>
				<span title="Iterable[String]" class="keyword">if</span>(<a href="#79430" title="Iterable[sbt.Configuration]">artifactConfigurations</a>.<a title="=&gt; Boolean" id="16315">isEmpty</a>)
					<a href="#79424" title="=&gt; Array[java.lang.String]">allConfigurations</a>
				<span class="keyword">else</span>
					<a href="#79430" title="Iterable[sbt.Configuration]">artifactConfigurations</a>.<span title="((sbt.Configuration) =&gt; String)Iterable[String]">map</span>(<a href="#79433" title="sbt.Configuration">_</a>.<a href="IvyInterface.scala.html#15402" title="=&gt; String">name</a>)
			}
			<span class="keyword">val</span> <a title="org.apache.ivy.core.module.descriptor.MDArtifact" id="79429">ivyArtifact</a> = <a href="#24275" title="(org.apache.ivy.core.module.descriptor.ModuleDescriptor,sbt.Artifact,Iterable[String])org.apache.ivy.core.module.descriptor.MDArtifact">toIvyArtifact</a>(<a href="#78883" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>, <a href="#79427" title="sbt.Artifact">artifact</a>, <a href="#79428" title="Iterable[String]">configurationStrings</a>)
			<a href="#79428" title="Iterable[String]">configurationStrings</a>.<span title="((String) =&gt; Unit)Unit">foreach</span>(<a title="String" id="79435">configuration</a> =&gt; <a href="#78883" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>.<a title="(java.lang.String,org.apache.ivy.core.module.descriptor.Artifact)Unit" id="75004">addArtifact</a>(<a href="#79435" title="String">configuration</a>, <a href="#79429" title="org.apache.ivy.core.module.descriptor.MDArtifact">ivyArtifact</a>))
		}
	}
	<span class="comment">/** This code converts the given ModuleDescriptor to a DefaultModuleDescriptor by casting or generating an error.
	* Ivy 2.0.0 always produces a DefaultModuleDescriptor. */</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(org.apache.ivy.core.module.descriptor.ModuleDescriptor)org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="24286">toDefaultModuleDescriptor</a>(<a title="org.apache.ivy.core.module.descriptor.ModuleDescriptor" id="78950">md</a>: <span title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">ModuleDescriptor</span>) =
		<a href="#78950" title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">md</a> <span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" class="keyword">match</span>
		{
			<span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" class="keyword">case</span> <a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="78952">dmd</a>: <span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">DefaultModuleDescriptor</span> =&gt; <a href="#78952" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">dmd</a>
			<span title="Nothing" class="keyword">case</span> _ =&gt; <a title="(String)Nothing" id="6085">error</a>(<span title="java.lang.String(&quot;Unknown ModuleDescriptor type.&quot;)" class="string">&quot;Unknown ModuleDescriptor type.&quot;</span>)
		}
	<span class="keyword">def</span> <a title="(org.apache.ivy.core.module.descriptor.ModuleDescriptor,Option[Iterable[sbt.Configuration]])Array[String]" id="24287">getConfigurations</a>(<a title="org.apache.ivy.core.module.descriptor.ModuleDescriptor" id="58275">module</a>: <span title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">ModuleDescriptor</span>, <a title="Option[Iterable[sbt.Configuration]]" id="58276">configurations</a>: <span title="Option[Iterable[sbt.Configuration]]">Option</span>[Iterable[Configuration]]) =
		<a href="#58276" title="Option[Iterable[sbt.Configuration]]">configurations</a> <span title="Array[String]" class="keyword">match</span>
		{
			<span title="Array[String]" class="keyword">case</span> Some(<a title="Iterable[sbt.Configuration]" id="58278">confs</a>) =&gt; <a href="#58278" title="Iterable[sbt.Configuration]">confs</a>.<span title="((sbt.Configuration) =&gt; String)Iterable[String]">map</span>(<a href="#58281" title="sbt.Configuration">_</a>.<a href="IvyInterface.scala.html#15402" title="=&gt; String">name</a>).<a title="=&gt; List[String]" id="16304">toList</a>.<span title="Array[String]">toArray</span>
			<span title="Array[java.lang.String]" class="keyword">case</span> <span title="object None">None</span> =&gt; <a href="#58275" title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">module</a>.<a title="()Array[java.lang.String]" id="57267">getPublicConfigurationsNames</a>
		}
}

        </pre>
    </body>
</html>