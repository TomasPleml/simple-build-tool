<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>sbt/Credentials.scala</title>
        <script type="text/javascript" src="../jquery-all.js"></script>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* sbt -- Simple Build Tool
 * Copyright 2009 Mark Harrah
 */</span>
<span class="keyword">package</span> sbt

<span class="keyword">import</span> java.io.File
<span class="keyword">import</span> org.apache.ivy.util.url.CredentialsStore

<span class="keyword">object</span> <a title="object sbt.Credentials" id="9091">Credentials</a>
{
	<span class="comment">/** Add the provided credentials to Ivy's credentials cache.*/</span>
	<span class="keyword">def</span> <a title="(String,String,String,String)Unit" id="48301">add</a>(<a title="String" id="48310">realm</a>: <span title="String">String</span>, <a title="String" id="48311">host</a>: <span title="String">String</span>, <a title="String" id="48312">userName</a>: <span title="String">String</span>, <a title="String" id="48313">passwd</a>: <span title="String">String</span>): <span title="Unit">Unit</span> =
		<a title="object org.apache.ivy.util.url.CredentialsStore" id="15352">CredentialsStore</a>.<a title="org.apache.ivy.util.url.CredentialsStore" id="48314">INSTANCE</a>.<a title="(java.lang.String,java.lang.String,java.lang.String,java.lang.String)Unit" id="48315">addCredentials</a>(<a href="#48310" title="String">realm</a>, <a href="#48311" title="String">host</a>, <a href="#48312" title="String">userName</a>, <a href="#48313" title="String">passwd</a>)
	<span class="comment">/** Load credentials from the given file into Ivy's credentials cache.*/</span>
	<span class="keyword">def</span> <a title="(String,sbt.Logger)Unit" id="48302">apply</a>(<a title="String" id="48318">file</a>: <span title="String">String</span>, <a title="sbt.Logger" id="48319">log</a>: <a href="Logger.scala.html#11865" title="sbt.Logger">Logger</a>): <span title="Unit">Unit</span> = <a href="#48304" title="(sbt.Path,sbt.Logger)Unit">apply</a>(<a href="Path.scala.html#10201" title="object sbt.Path">Path</a>.<a href="Path.scala.html#15583" title="(String)sbt.Path">fromFile</a>(<a href="#48318" title="String">file</a>), <a href="#48319" title="sbt.Logger">log</a>)
	<span class="comment">/** Load credentials from the given file into Ivy's credentials cache.*/</span>
	<span class="keyword">def</span> <a title="(java.io.File,sbt.Logger)Unit" id="48303">apply</a>(<a title="java.io.File" id="48323">file</a>: <a title="java.io.File" id="3620">File</a>, <a title="sbt.Logger" id="48324">log</a>: <a href="Logger.scala.html#11865" title="sbt.Logger">Logger</a>): <span title="Unit">Unit</span> = <a href="#48304" title="(sbt.Path,sbt.Logger)Unit">apply</a>(<a href="Path.scala.html#10201" title="object sbt.Path">Path</a>.<a href="Path.scala.html#15584" title="(java.io.File)sbt.Path">fromFile</a>(<a href="#48323" title="java.io.File">file</a>), <a href="#48324" title="sbt.Logger">log</a>)
	<span class="comment">/** Load credentials from the given file into Ivy's credentials cache.*/</span>
	<span class="keyword">def</span> <a title="(sbt.Path,sbt.Logger)Unit" id="48304">apply</a>(<a title="sbt.Path" id="48321">path</a>: <a href="Path.scala.html#10200" title="sbt.Path">Path</a>, <a title="sbt.Logger" id="48322">log</a>: <a href="Logger.scala.html#11865" title="sbt.Logger">Logger</a>)
	{
		<span class="keyword">val</span> <a title="Option[String]" id="48328">msg</a> =
			<span title="Option[String]" class="keyword">if</span>(<a href="#48321" title="sbt.Path">path</a>.<a href="Path.scala.html#18071" title="=&gt; Boolean">exists</a>)
			{
				<span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[String,String]" id="48329">properties</a> = <span title="scala.collection.mutable.HashMap[String,String]" class="keyword">new</span> scala.collection.mutable.<a title="scala.collection.mutable.HashMap[String,String]" id="15927">HashMap</a>[String, String]
				<span class="keyword">def</span> <a title="(List[String])Either[java.lang.String,String] with Product" id="48330">get</a>(<a title="List[String]" id="48331">keys</a>: <a title="List[String]" id="495">List</a>[String]) = <a href="#48331" title="List[String]">keys</a>.<a title="((String) =&gt; Iterable[String])List[String]" id="17984">flatMap</a>(<a href="#48329" title="scala.collection.mutable.HashMap[String,String]">properties</a>.<a href="#48334" title="(Option[String])Iterable[String]" id="25230">get</a>).<a title="=&gt; Option[String]" id="16739">firstOption</a>.<a title="(=&gt; java.lang.String)Either[java.lang.String,String] with Product" id="19244">toRight</a>(<a href="#48331" title="List[String]">keys</a>.<a title="=&gt; String" id="17933">head</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; not specified in credentials file: &quot;)" class="string">&quot; not specified in credentials file: &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#48321" title="sbt.Path">path</a>)

					impl.<a href="impl/MapUtilities.scala.html#13835" title="object sbt.impl.MapUtilities">MapUtilities</a>.<a href="impl/MapUtilities.scala.html#27102" title="(scala.collection.mutable.Map[String,String],sbt.Path,sbt.Logger)(implicit sbt.Format[String],sbt.Format[String])Option[String]">read</a>(<a href="#48329" title="scala.collection.mutable.HashMap[String,String]">properties</a>, <a href="#48321" title="sbt.Path">path</a>, <a href="#48322" title="sbt.Logger">log</a>) <a title="(=&gt; Option[String])Option[String]" id="19240">orElse</a>
					{
						<span title="object List">List</span>.<a title="(Iterable[Either[java.lang.String,String]])(List[java.lang.String], List[String])" id="18036">separate</a>( <span title="(List[java.lang.String]*)List[List[java.lang.String]]">List</span>(<a href="#48305" title="List[java.lang.String]">RealmKeys</a>, <a href="#48306" title="List[java.lang.String]">HostKeys</a>, <a href="#48307" title="List[java.lang.String]">UserKeys</a>, <a href="#48308" title="List[java.lang.String]">PasswordKeys</a>).<a title="((List[java.lang.String]) =&gt; Either[java.lang.String,String] with Product)List[Either[java.lang.String,String] with Product]" id="17963">map</a>(<a href="#48330" title="(List[String])Either[java.lang.String,String] with Product">get</a>) ) <span title="Option[String]" class="keyword">match</span>
						{
							<span title="None.type" class="keyword">case</span> (<a title="object Nil" id="310">Nil</a>, <a href="#48369" title="(List[String])Some[List[String]]" id="18011">List</a>(<a title="String" id="48372">realm</a>, <a title="String" id="48373">host</a>, <a title="String" id="48374">user</a>, <a title="String" id="48375">pass</a>)) =&gt; <a href="#48301" title="(String,String,String,String)Unit">add</a>(<a href="#48372" title="String">realm</a>, <a href="#48373" title="String">host</a>, <a href="#48374" title="String">user</a>, <a href="#48375" title="String">pass</a>); <a title="object None" id="505">None</a>
							<span title="Some[String]" class="keyword">case</span> (<a title="List[java.lang.String]" id="48376">errors</a>, _) =&gt; <span title="(String)Some[String]">Some</span>(<a href="#48376" title="List[java.lang.String]">errors</a>.<a title="(String)String" id="16308">mkString</a>(<span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span>))
						}
					}
			}
			<span class="keyword">else</span>
				<span title="(java.lang.String)Some[java.lang.String]">Some</span>(<span title="java.lang.String(&quot;Credentials file &quot;)" class="string">&quot;Credentials file &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#48321" title="sbt.Path">path</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; does not exist&quot;)" class="string">&quot; does not exist&quot;</span>)
		<a href="#48328" title="Option[String]">msg</a>.<a title="((String) =&gt; Unit)Unit" id="19239">foreach</a>(<a title="String" id="48403">x</a> =&gt; <a href="#48322" title="sbt.Logger">log</a>.<a href="Logger.scala.html#19735" title="(=&gt; String)Unit">warn</a>(<a href="#48403" title="String">x</a>))
	}
	<span class="keyword">private</span>[<span class="keyword">this</span>] <span class="keyword">val</span> <a title="List[java.lang.String]" id="48305">RealmKeys</a> = <span title="(java.lang.String*)List[java.lang.String]">List</span>(<span title="java.lang.String(&quot;realm&quot;)" class="string">&quot;realm&quot;</span>)
	<span class="keyword">private</span>[<span class="keyword">this</span>] <span class="keyword">val</span> <a title="List[java.lang.String]" id="48306">HostKeys</a> = <span title="(java.lang.String*)List[java.lang.String]">List</span>(<span title="java.lang.String(&quot;host&quot;)" class="string">&quot;host&quot;</span>, <span title="java.lang.String(&quot;hostname&quot;)" class="string">&quot;hostname&quot;</span>)
	<span class="keyword">private</span>[<span class="keyword">this</span>] <span class="keyword">val</span> <a title="List[java.lang.String]" id="48307">UserKeys</a> = <span title="(java.lang.String*)List[java.lang.String]">List</span>(<span title="java.lang.String(&quot;user&quot;)" class="string">&quot;user&quot;</span>, <span title="java.lang.String(&quot;user.name&quot;)" class="string">&quot;user.name&quot;</span>, <span title="java.lang.String(&quot;username&quot;)" class="string">&quot;username&quot;</span>)
	<span class="keyword">private</span>[<span class="keyword">this</span>] <span class="keyword">val</span> <a title="List[java.lang.String]" id="48308">PasswordKeys</a> = <span title="(java.lang.String*)List[java.lang.String]">List</span>(<span title="java.lang.String(&quot;password&quot;)" class="string">&quot;password&quot;</span>, <span title="java.lang.String(&quot;pwd&quot;)" class="string">&quot;pwd&quot;</span>, <span title="java.lang.String(&quot;pass&quot;)" class="string">&quot;pass&quot;</span>, <span title="java.lang.String(&quot;passwd&quot;)" class="string">&quot;passwd&quot;</span>)
}
        </pre>
    </body>
</html>