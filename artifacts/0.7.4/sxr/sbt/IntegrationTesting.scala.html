<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>sbt/IntegrationTesting.scala</title>
        <script type="text/javascript" src="../jquery-all.js"></script>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* sbt -- Simple Build Tool
 * Copyright 2009  Steven Blundy, Mark Harrah, Josh Cough
 */</span>
<span class="keyword">package</span> sbt

<span class="keyword">import</span> ScalaProject.{optionsAsString, javaOptionsAsString}

<span class="keyword">trait</span> <a title="trait IntegrationTesting extends java.lang.Object with NotNull with ScalaObject" id="7641">IntegrationTesting</a> <span class="keyword">extends</span> <a title="NotNull" id="189">NotNull</a>
{
	<span class="comment">/** Override to provide pre-test setup. */</span>
	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; Option[String]" id="48131">pretests</a>: <span title="Option[String]">Option</span>[String] = <span title="object None">None</span>
	<span class="comment">/** Override to provide post-test cleanup. */</span>
	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; Option[String]" id="48132">posttests</a>: <span title="Option[String]">Option</span>[String] = <span title="object None">None</span>
}
<span class="keyword">trait</span> <a title="trait ScalaIntegrationTesting extends java.lang.Object with sbt.IntegrationTesting with ScalaObject" id="7986">ScalaIntegrationTesting</a> <span class="keyword">extends</span> <a href="#7641" title="sbt.IntegrationTesting">IntegrationTesting</a>
{ self: ScalaProject =&gt;

	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="(Seq[sbt.TestFramework],sbt.PathFinder,sbt.CompileAnalysis,=&gt; Seq[ScalaIntegrationTesting.this.TestOption])ScalaIntegrationTesting.this.Task" id="48139">integrationTestTask</a>(<a title="Seq[sbt.TestFramework]" id="48143">frameworks</a>: <span title="Seq[sbt.TestFramework]">Seq</span>[TestFramework], <a title="sbt.PathFinder" id="48144">classpath</a>: <a href="Path.scala.html#8784" title="sbt.PathFinder">PathFinder</a>, <a title="sbt.CompileAnalysis" id="48145">analysis</a>: <a href="Analysis.scala.html#6999" title="sbt.CompileAnalysis">CompileAnalysis</a>, <a title="=&gt; Seq[ScalaIntegrationTesting.this.TestOption]" id="48146">options</a>: =&gt; Seq[TestOption]) =
		<a href="ScalaProject.scala.html#26202" title="(Seq[sbt.TestFramework],sbt.PathFinder,sbt.CompileAnalysis,=&gt; Seq[ScalaIntegrationTesting.this.TestOption])ScalaIntegrationTesting.this.Task">testTask</a>(<a href="#48143" title="Seq[sbt.TestFramework]">frameworks</a>, <a href="#48144" title="sbt.PathFinder">classpath</a>, <a href="#48145" title="sbt.CompileAnalysis">analysis</a>, <a href="#48146" title="=&gt; Seq[ScalaIntegrationTesting.this.TestOption]">options</a>)
}

<span class="keyword">trait</span> <a title="trait BasicScalaIntegrationTesting extends java.lang.Object with sbt.BasicIntegrationTesting with sbt.MavenStyleIntegrationTestPaths" id="10833">BasicScalaIntegrationTesting</a> <span class="keyword">extends</span> <a href="#7542" title="sbt.BasicIntegrationTesting">BasicIntegrationTesting</a> <span class="keyword">with</span> <a href="ProjectPaths.scala.html#11859" title="sbt.MavenStyleIntegrationTestPaths">MavenStyleIntegrationTestPaths</a>
{ self: BasicScalaProject =&gt; }
<span class="comment">/** A fully featured integration testing that may be mixed in with any subclass of &lt;code&gt;BasicScalaProject&lt;/code&gt;.
 * Pre-suite setup and post-suite cleanup are provide by overriding &lt;code&gt;pretests&lt;/code&gt; and &lt;code&gt;posttests&lt;/code&gt; respectively.*/</span>
<span class="keyword">trait</span> <a title="trait BasicIntegrationTesting extends java.lang.Object with sbt.ScalaIntegrationTesting with sbt.IntegrationTestPaths with sbt.BasicDependencyProject with ScalaObject" id="7542">BasicIntegrationTesting</a> <span class="keyword">extends</span> <a href="#7986" title="sbt.ScalaIntegrationTesting">ScalaIntegrationTesting</a> <span class="keyword">with</span> <a href="ProjectPaths.scala.html#8955" title="sbt.IntegrationTestPaths">IntegrationTestPaths</a> <span class="keyword">with</span> <a href="BasicProjectTypes.scala.html#11127" title="sbt.BasicDependencyProject">BasicDependencyProject</a>
{
	self: BasicScalaProject =&gt;

	<span class="keyword">import</span> BasicScalaIntegrationTesting._

	<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="BasicIntegrationTesting.this.Task" id="48153">integrationTestCompile</a> = <a href="#48159" title="=&gt; BasicIntegrationTesting.this.Task">integrationTestCompileAction</a>
	<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="BasicIntegrationTesting.this.Task" id="48155">integrationTest</a> = <a href="#48158" title="=&gt; BasicIntegrationTesting.this.Task">integrationTestAction</a>

	<span class="keyword">val</span> <a title="sbt.CompileConditional" id="48156">integrationTestCompileConditional</a> = <span title="sbt.CompileConditional" class="keyword">new</span> <a href="Conditional.scala.html#8070" title="sbt.CompileConditional">CompileConditional</a>(<a href="#48167" title="=&gt; BasicIntegrationTesting.this.IntegrationTestCompileConfig">integrationTestCompileConfiguration</a>, <a href="Project.scala.html#14906" title="=&gt; xsbt.AnalyzingCompiler">buildCompiler</a>)

	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; BasicIntegrationTesting.this.Task" id="48158">integrationTestAction</a> = <a href="#48139" title="(Seq[sbt.TestFramework],sbt.PathFinder,sbt.CompileAnalysis,=&gt; Seq[BasicIntegrationTesting.this.TestOption])BasicIntegrationTesting.this.Task">integrationTestTask</a>(<a href="#48169" title="=&gt; Seq[sbt.TestFramework]">integrationTestFrameworks</a>, <a href="#48165" title="=&gt; sbt.PathFinder">integrationTestClasspath</a>, <a href="#48156" title="=&gt; sbt.CompileConditional">integrationTestCompileConditional</a>.<a href="Conditional.scala.html#27010" title="=&gt; BasicIntegrationTesting.this.integrationTestCompileConditional.AnalysisType">analysis</a>, <a href="#48161" title="=&gt; Seq[BasicIntegrationTesting.this.TestOption]">integrationTestOptions</a>) <a href="TaskManager.scala.html#19289" title="(BasicIntegrationTesting.this.ManagedTask*)BasicIntegrationTesting.this.Task">dependsOn</a> <a href="#48152" title="=&gt; BasicIntegrationTesting.this.Task">integrationTestCompile</a> <a href="TaskManager.scala.html#19291" title="(String)BasicIntegrationTesting.this.Task">describedAs</a> <a href="#48180" title="=&gt; java.lang.String">IntegrationTestCompileDescription</a>
	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; BasicIntegrationTesting.this.Task" id="48159">integrationTestCompileAction</a> = <a href="#48160" title="()BasicIntegrationTesting.this.Task">integrationTestCompileTask</a>() <a href="TaskManager.scala.html#19289" title="(BasicIntegrationTesting.this.ManagedTask*)BasicIntegrationTesting.this.Task">dependsOn</a> <a href="DefaultProject.scala.html#35421" title="=&gt; BasicIntegrationTesting.this.Task">compile</a> <a href="TaskManager.scala.html#19291" title="(String)BasicIntegrationTesting.this.Task">describedAs</a> <a href="#48182" title="=&gt; java.lang.String">IntegrationTestDescription</a>

	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="()BasicIntegrationTesting.this.Task" id="48160">integrationTestCompileTask</a>() = <a href="TaskManager.scala.html#14806" title="(=&gt; Option[String])BasicIntegrationTesting.this.Task">task</a>{ <a href="#48156" title="=&gt; sbt.CompileConditional">integrationTestCompileConditional</a>.<a href="Conditional.scala.html#27027" title="=&gt; Option[String]">run</a> }

	<span class="keyword">def</span> <a title="=&gt; Seq[BasicIntegrationTesting.this.TestOption]" id="48161">integrationTestOptions</a>: <span title="Seq[BasicIntegrationTesting.this.TestOption]">Seq</span>[TestOption] =
		<a href="ScalaProject.scala.html#26351" title="(() =&gt; Option[String])BasicIntegrationTesting.this.TestSetup">TestSetup</a>(() =&gt; <a href="#48131" title="=&gt; Option[String]">pretests</a>) <a href="#48220" title="(BasicIntegrationTesting.this.TestOption)List[BasicIntegrationTesting.this.TestOption]">::</a>
		<a href="ScalaProject.scala.html#26376" title="(() =&gt; Option[String])BasicIntegrationTesting.this.TestCleanup">TestCleanup</a>(() =&gt; <a href="#48132" title="=&gt; Option[String]">posttests</a>) <a href="#48222" title="(BasicIntegrationTesting.this.TestOption)List[BasicIntegrationTesting.this.TestOption]">::</a>
		<a href="DefaultProject.scala.html#35347" title="=&gt; Seq[BasicIntegrationTesting.this.TestOption]">testOptions</a>.<a title="=&gt; List[BasicIntegrationTesting.this.TestOption]" id="16304">toList</a>
	<span class="keyword">def</span> <a title="=&gt; Seq[BasicIntegrationTesting.this.CompileOption]" id="48162">integrationTestCompileOptions</a> = <a href="DefaultProject.scala.html#35343" title="=&gt; Seq[BasicIntegrationTesting.this.CompileOption]">testCompileOptions</a>
	<span class="keyword">def</span> <a title="=&gt; Seq[BasicIntegrationTesting.this.JavaCompileOption]" id="48163">javaIntegrationTestCompileOptions</a>: <span title="Seq[BasicIntegrationTesting.this.JavaCompileOption]">Seq</span>[JavaCompileOption] = <a href="DefaultProject.scala.html#35344" title="=&gt; Seq[BasicIntegrationTesting.this.JavaCompileOption]">testJavaCompileOptions</a>

	<span class="keyword">def</span> <a title="=&gt; sbt.Configuration" id="48164">integrationTestConfiguration</a> = <span title="sbt.Configuration" class="keyword">if</span>(<a href="#48170" title="=&gt; Boolean">useIntegrationTestConfiguration</a>) <a href="../IvyInterface.scala.html#9343" title="object sbt.Configurations">Configurations</a>.<a href="../IvyInterface.scala.html#19012" title="=&gt; sbt.Configuration">IntegrationTest</a> <span class="keyword">else</span> <a href="../IvyInterface.scala.html#9343" title="object sbt.Configurations">Configurations</a>.<a href="../IvyInterface.scala.html#19020" title="=&gt; sbt.Configuration">Test</a>
	<span class="keyword">def</span> <a title="=&gt; sbt.PathFinder" id="48165">integrationTestClasspath</a> = <a href="BasicProjectTypes.scala.html#14924" title="(sbt.Configuration)sbt.PathFinder">fullClasspath</a>(<a href="#48164" title="=&gt; sbt.Configuration">integrationTestConfiguration</a>) <a href="Path.scala.html#16180" title="(sbt.PathFinder)sbt.PathFinder">+++</a> <a href="DefaultProject.scala.html#35362" title="=&gt; sbt.PathFinder">optionalClasspath</a>

	<span class="keyword">def</span> <a title="=&gt; java.lang.String" id="48166">integrationTestLabel</a> = <span title="java.lang.String(&quot;integration-test&quot;)" class="string">&quot;integration-test&quot;</span>
	<span class="keyword">def</span> <a title="=&gt; BasicIntegrationTesting.this.IntegrationTestCompileConfig" id="48167">integrationTestCompileConfiguration</a> = <span title="BasicIntegrationTesting.this.IntegrationTestCompileConfig" class="keyword">new</span> <a href="#48173" title="BasicIntegrationTesting.this.IntegrationTestCompileConfig">IntegrationTestCompileConfig</a>

	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; sbt.LibraryDependencies" id="48168">integrationTestDependencies</a> = <span title="sbt.LibraryDependencies" class="keyword">new</span> <a href="DefaultProject.scala.html#10758" title="sbt.LibraryDependencies">LibraryDependencies</a>(<a href="#7542" title="&lt;refinement&gt; extends sbt.BasicIntegrationTesting with sbt.BasicScalaProject" class="keyword">this</a>, <a href="#48156" title="=&gt; sbt.CompileConditional">integrationTestCompileConditional</a>)

	<span class="keyword">def</span> <a title="=&gt; Seq[sbt.TestFramework]" id="48169">integrationTestFrameworks</a> = <a href="DefaultProject.scala.html#35372" title="=&gt; Seq[sbt.TestFramework]">testFrameworks</a>
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="48170">useIntegrationTestConfiguration</a> = <span title="Boolean(false)" class="keyword">false</span>
	<span class="keyword">abstract</span> <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[sbt.Configuration]" id="48171">extraDefaultConfigurations</a> =
	{
		<span class="keyword">val</span> <a title="List[sbt.Configuration]" id="48255">superConfigurations</a> = <span class="keyword">super</span>.<a href="BasicProjectTypes.scala.html#18874" title="=&gt; List[sbt.Configuration]">extraDefaultConfigurations</a>
		<span title="List[sbt.Configuration]" class="keyword">if</span>(<a href="#48170" title="=&gt; Boolean">useIntegrationTestConfiguration</a>)
			<a href="#48164" title="=&gt; sbt.Configuration">integrationTestConfiguration</a> <a href="#48257" title="(sbt.Configuration)List[sbt.Configuration]">::</a> <a href="#48255" title="List[sbt.Configuration]">superConfigurations</a>
		<span class="keyword">else</span>
			<a href="#48255" title="List[sbt.Configuration]">superConfigurations</a>
	}
	<span class="keyword">abstract</span> <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sbt.Configuration)sbt.PathFinder" id="48172">fullUnmanagedClasspath</a>(<a title="sbt.Configuration" id="48260">config</a>: <a href="../IvyInterface.scala.html#11658" title="sbt.Configuration">Configuration</a>) =
	{
		<span class="keyword">val</span> <a title="sbt.PathFinder" id="48262">superClasspath</a> = <span class="keyword">super</span>.<a href="BasicProjectTypes.scala.html#18982" title="(sbt.Configuration)sbt.PathFinder">fullUnmanagedClasspath</a>(<a href="#48260" title="sbt.Configuration">config</a>)
		<span title="sbt.PathFinder" class="keyword">if</span>(<a href="#48260" title="sbt.Configuration">config</a> <a title="(AnyRef)Boolean" id="3457">==</a> <a href="#48164" title="=&gt; sbt.Configuration">integrationTestConfiguration</a>)
			<a href="ProjectPaths.scala.html#38418" title="=&gt; sbt.Path">integrationTestCompilePath</a> <a href="Path.scala.html#16180" title="(sbt.PathFinder)sbt.PathFinder">+++</a> <a href="ProjectPaths.scala.html#38417" title="=&gt; sbt.Path">integrationTestResourcesPath</a> <a href="Path.scala.html#16180" title="(sbt.PathFinder)sbt.PathFinder">+++</a> <a href="#48262" title="sbt.PathFinder">superClasspath</a>
		<span class="keyword">else</span>
			<a href="#48262" title="sbt.PathFinder">superClasspath</a>
	}

	<span class="keyword">class</span> <a title="class IntegrationTestCompileConfig extends BasicIntegrationTesting.this.BaseCompileConfig with ScalaObject" id="48173">IntegrationTestCompileConfig</a> <span class="keyword">extends</span> <a href="DefaultProject.scala.html#35378" title="BasicIntegrationTesting.this.BaseCompileConfig">BaseCompileConfig</a>
	{
		<span class="keyword">def</span> <a title="=&gt; java.lang.String" id="48195">label</a> = <a href="#48166" title="=&gt; java.lang.String">integrationTestLabel</a>
		<span class="keyword">def</span> <a title="=&gt; sbt.PathFinder" id="48196">sourceRoots</a> = <a href="ProjectPaths.scala.html#38416" title="=&gt; sbt.PathFinder">integrationTestScalaSourceRoots</a>
		<span class="keyword">def</span> <a title="=&gt; sbt.PathFinder" id="48197">sources</a> = <a href="ProjectPaths.scala.html#38415" title="=&gt; sbt.PathFinder">integrationTestSources</a>
		<span class="keyword">def</span> <a title="=&gt; sbt.Path" id="48198">outputDirectory</a> = <a href="ProjectPaths.scala.html#38418" title="=&gt; sbt.Path">integrationTestCompilePath</a>
		<span class="keyword">def</span> <a title="=&gt; sbt.PathFinder" id="48199">classpath</a> = <a href="#48165" title="=&gt; sbt.PathFinder">integrationTestClasspath</a>
		<span class="keyword">def</span> <a title="=&gt; sbt.Path" id="48200">analysisPath</a> = <a href="ProjectPaths.scala.html#38419" title="=&gt; sbt.Path">integrationTestAnalysisPath</a>
		<span class="keyword">def</span> <a title="=&gt; Seq[BasicIntegrationTesting.this.CompileOption]" id="48201">baseCompileOptions</a> = <a href="#48162" title="=&gt; Seq[BasicIntegrationTesting.this.CompileOption]">integrationTestCompileOptions</a>
		<span class="keyword">def</span> <a title="=&gt; Seq[String]" id="48202">javaOptions</a> = <a href="ScalaProject.scala.html#26249" title="(Seq[sbt.ScalaProject#JavaCompileOption])Seq[String]">javaOptionsAsString</a>(<a href="DefaultProject.scala.html#35342" title="=&gt; Seq[BasicIntegrationTesting.this.JavaCompileOption]">javaCompileOptions</a>)
		<span class="keyword">def</span> <a title="=&gt; sbt.Fingerprints" id="48203">fingerprints</a> = <a href="DefaultProject.scala.html#48193" title="(Seq[sbt.TestFramework])sbt.Fingerprints">getFingerprints</a>(<a href="#48169" title="=&gt; Seq[sbt.TestFramework]">integrationTestFrameworks</a>)
	}
}

<span class="keyword">object</span> <a title="object sbt.BasicScalaIntegrationTesting" id="10834">BasicScalaIntegrationTesting</a>
{
	<span class="keyword">val</span> <a title="java.lang.String" id="48180">IntegrationTestCompileDescription</a> = <span title="java.lang.String(&quot;Compiles integration test sources.&quot;)" class="string">&quot;Compiles integration test sources.&quot;</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="48182">IntegrationTestDescription</a> = <span title="java.lang.String(&quot;Runs all integration tests detected during compilation.&quot;)" class="string">&quot;Runs all integration tests detected during compilation.&quot;</span>
}

        </pre>
    </body>
</html>