<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>IvyActions.scala</title>
        <script type="text/javascript" src="jquery-all.js"></script>
        <script type="text/javascript" src="linked.js"></script>
        <link rel="stylesheet" type="text/css" href="style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* sbt -- Simple Build Tool
 * Copyright 2008, 2009, 2010 Mark Harrah
 */</span>
<span class="keyword">package</span> sbt

<span class="keyword">import</span> java.io.File
<span class="keyword">import</span> scala.xml.{Node,NodeSeq}

<span class="keyword">import</span> org.apache.ivy.{core, plugins, util, Ivy}
<span class="keyword">import</span> core.cache.DefaultRepositoryCacheManager
<span class="keyword">import</span> core.LogOptions
<span class="keyword">import</span> core.deliver.DeliverOptions
<span class="keyword">import</span> core.install.InstallOptions
<span class="keyword">import</span> core.module.descriptor.{DefaultArtifact, DefaultDependencyArtifactDescriptor, MDArtifact}
<span class="keyword">import</span> core.module.descriptor.{DefaultDependencyDescriptor, DefaultModuleDescriptor, DependencyDescriptor, ModuleDescriptor}
<span class="keyword">import</span> core.module.id.{ArtifactId,ModuleId, ModuleRevisionId}
<span class="keyword">import</span> core.publish.PublishOptions
<span class="keyword">import</span> core.resolve.ResolveOptions
<span class="keyword">import</span> core.retrieve.RetrieveOptions
<span class="keyword">import</span> plugins.parser.m2.{PomModuleDescriptorParser,PomModuleDescriptorWriter}

<span class="keyword">final</span> <span class="keyword">class</span> <a title="class UpdateConfiguration extends java.lang.Object with NotNull with ScalaObject" id="8016">UpdateConfiguration</a>(<span class="keyword">val</span> <a title="java.io.File" id="22973">retrieveDirectory</a>: <span title="java.io.File">File</span>, <span class="keyword">val</span> <a title="String" id="22974">outputPattern</a>: <span title="String">String</span>, <span class="keyword">val</span> <a title="Boolean" id="22975">synchronize</a>: <a title="Boolean" id="2115">Boolean</a>, <span class="keyword">val</span> <a title="sbt.UpdateLogging.Value" id="22976">logging</a>: UpdateLogging.<span title="sbt.UpdateLogging.Value">Value</span>) <span class="keyword">extends</span> <span title="NotNull">NotNull</span>
<span class="keyword">final</span> <span class="keyword">class</span> <a title="class MakePomConfiguration extends java.lang.Object with NotNull with ScalaObject" id="11796">MakePomConfiguration</a>(<span class="keyword">val</span> <a title="Iterable[sbt.ModuleID]" id="20542">extraDependencies</a>: <span title="Iterable[sbt.ModuleID]">Iterable</span>[ModuleID], <span class="keyword">val</span> <a title="Option[Iterable[sbt.Configuration]]" id="20543">configurations</a>: <span title="Option[Iterable[sbt.Configuration]]">Option</span>[Iterable[Configuration]],
	<span class="keyword">val</span> <a title="scala.xml.NodeSeq" id="20544">extra</a>: <span title="scala.xml.NodeSeq">NodeSeq</span>, <span class="keyword">val</span> <a title="(scala.xml.Node) =&gt; scala.xml.Node" id="20545">process</a>: Node =&gt; Node, <span class="keyword">val</span> <a title="(sbt.MavenRepository) =&gt; Boolean" id="20546">filterRepositories</a>: MavenRepository =&gt; Boolean) <span class="keyword">extends</span> <span title="NotNull">NotNull</span>
<span class="keyword">object</span> <a title="object sbt.MakePomConfiguration" id="11797">MakePomConfiguration</a>
{
	<span class="keyword">def</span> <a title="(Iterable[sbt.ModuleID],Option[Iterable[sbt.Configuration]],scala.xml.NodeSeq)sbt.MakePomConfiguration" id="20537">apply</a>(<a title="Iterable[sbt.ModuleID]" id="20538">extraDependencies</a>: <span title="Iterable[sbt.ModuleID]">Iterable</span>[ModuleID], <a title="Option[Iterable[sbt.Configuration]]" id="20539">configurations</a>: <span title="Option[Iterable[sbt.Configuration]]">Option</span>[Iterable[Configuration]], <a title="scala.xml.NodeSeq" id="20540">extra</a>: <span title="scala.xml.NodeSeq">NodeSeq</span>) =
		<span title="sbt.MakePomConfiguration" class="keyword">new</span> <a href="#11796" title="sbt.MakePomConfiguration">MakePomConfiguration</a>(<a href="#20538" title="Iterable[sbt.ModuleID]">extraDependencies</a>, <a href="#20539" title="Option[Iterable[sbt.Configuration]]">configurations</a>, <a href="#20540" title="scala.xml.NodeSeq">extra</a>, <a href="#20575" title="(scala.xml.Node)scala.xml.Node" id="6214">identity</a>, <a title="sbt.MavenRepository" id="20577">_</a> =&gt; <span title="Boolean(true)" class="keyword">true</span>)
}
<span class="comment">/** Configures logging during an 'update'.  `level` determines the amount of other information logged.
* `Full` is the default and logs the most.
* `DownloadOnly` only logs what is downloaded.
* `Quiet` only displays errors.*/</span>
<span class="keyword">object</span> <a title="object sbt.UpdateLogging" id="9574">UpdateLogging</a> <span class="keyword">extends</span> <a title="Enumeration" id="19922">Enumeration</a>
{
	<span class="keyword">val</span> <a title="sbt.UpdateLogging.Value" id="20031">Full</a>, <a title="sbt.UpdateLogging.Value" id="20033">DownloadOnly</a>, <a title="sbt.UpdateLogging.Value" id="20035">Quiet</a> = <span title="=&gt; sbt.UpdateLogging.Value">Value</span>
}

<span class="keyword">object</span> <a title="object sbt.IvyActions" id="10432">IvyActions</a>
{
	<span class="comment">/** Installs the dependencies of the given 'module' from the resolver named 'from' to the resolver named 'to'.*/</span>
	<span class="keyword">def</span> <a title="(sbt.IvySbt#Module,String,String)Unit" id="19818">install</a>(<a title="sbt.IvySbt#Module" id="20607">module</a>: IvySbt#<a href="Ivy.scala.html#19850" title="sbt.IvySbt#Module">Module</a>, <a title="String" id="20608">from</a>: <span title="String">String</span>, <a title="String" id="20609">to</a>: <span title="String">String</span>)
	{
		<a href="#20607" title="sbt.IvySbt#Module">module</a>.<a href="Ivy.scala.html#20505" title="((org.apache.ivy.Ivy, org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String) =&gt; Unit)Unit">withModule</a> { (<a title="org.apache.ivy.Ivy" id="77124">ivy</a>, <a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="77125">md</a>, <a title="String" id="77126">default</a>) =&gt;
			<span class="keyword">for</span>(<a title="((org.apache.ivy.core.module.descriptor.DependencyDescriptor) =&gt; Unit)Unit" id="77128">dependency</a> &lt;- <a href="#77125" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">md</a>.<a title="()Array[org.apache.ivy.core.module.descriptor.DependencyDescriptor]" id="75014">getDependencies</a>)
			{
				<a href="#20607" title="sbt.IvySbt#Module">module</a>.<a href="Ivy.scala.html#20504" title="=&gt; sbt.IvyLogger">logger</a>.<a href="IvyLogger.scala.html#19749" title="(=&gt; String)Unit">info</a>(<span title="java.lang.String(&quot;Installing &quot;)" class="string">&quot;Installing &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#77128" title="org.apache.ivy.core.module.descriptor.DependencyDescriptor">dependency</a>)
				<span class="keyword">val</span> <a title="org.apache.ivy.core.install.InstallOptions" id="77129">options</a> = <span title="org.apache.ivy.core.install.InstallOptions" class="keyword">new</span> <a title="org.apache.ivy.core.install.InstallOptions" id="19442">InstallOptions</a>
				<a href="#77129" title="org.apache.ivy.core.install.InstallOptions">options</a>.<a title="(Boolean)org.apache.ivy.core.install.InstallOptions" id="77136">setValidate</a>(<a href="#20607" title="sbt.IvySbt#Module">module</a>.<a href="Ivy.scala.html#20501" title="=&gt; sbt.ModuleSettings">moduleSettings</a>.<a href="IvyConfigurations.scala.html#23205" title="=&gt; Boolean">validate</a>)
				<a href="#77129" title="org.apache.ivy.core.install.InstallOptions">options</a>.<a title="(Boolean)org.apache.ivy.core.install.InstallOptions" id="77134">setTransitive</a>(<a href="#77128" title="org.apache.ivy.core.module.descriptor.DependencyDescriptor">dependency</a>.<a title="()Boolean" id="58063">isTransitive</a>)
				<a href="#77124" title="org.apache.ivy.Ivy">ivy</a>.<a title="(org.apache.ivy.core.module.id.ModuleRevisionId,java.lang.String,java.lang.String,org.apache.ivy.core.install.InstallOptions)org.apache.ivy.core.report.ResolveReport" id="20831">install</a>(<a href="#77128" title="org.apache.ivy.core.module.descriptor.DependencyDescriptor">dependency</a>.<a title="()org.apache.ivy.core.module.id.ModuleRevisionId" id="58065">getDependencyRevisionId</a>, <a href="#20608" title="String">from</a>, <a href="#20609" title="String">to</a>, <a href="#77129" title="org.apache.ivy.core.install.InstallOptions">options</a>)
			}
		}
	}

	<span class="comment">/** Clears the Ivy cache, as configured by 'config'. */</span>
	<span class="keyword">def</span> <a title="(sbt.IvySbt)Unit" id="19819">cleanCache</a>(<a title="sbt.IvySbt" id="20619">ivy</a>: <a href="Ivy.scala.html#7770" title="sbt.IvySbt">IvySbt</a>) = <a href="#20619" title="sbt.IvySbt">ivy</a>.<a href="Ivy.scala.html#19847" title="((org.apache.ivy.Ivy) =&gt; Unit)Unit">withIvy</a> { <a title="org.apache.ivy.Ivy" id="20981">iv</a> =&gt;
		<a href="#20981" title="org.apache.ivy.Ivy">iv</a>.<span title="()org.apache.ivy.core.settings.IvySettings">getSettings</span>.<a title="()org.apache.ivy.core.cache.ResolutionCacheManager" id="21338">getResolutionCacheManager</a>.<a title="()Unit" id="21446">clean</a>()
		<a href="#20981" title="org.apache.ivy.Ivy">iv</a>.<span title="()org.apache.ivy.core.settings.IvySettings">getSettings</span>.<a title="()Array[org.apache.ivy.core.cache.RepositoryCacheManager]" id="21212">getRepositoryCacheManagers</a>.<span title="((org.apache.ivy.core.cache.RepositoryCacheManager) =&gt; Unit)Unit">foreach</span>(<a href="#21527" title="org.apache.ivy.core.cache.RepositoryCacheManager">_</a>.<a title="()Unit" id="21524">clean</a>())
	}

	<span class="comment">/** Creates a Maven pom from the given Ivy configuration*/</span>
	@<a title="deprecated" id="201">deprecated</a> <span class="keyword">def</span> <a title="(sbt.IvySbt#Module,Iterable[sbt.ModuleID],Option[Iterable[sbt.Configuration]],scala.xml.NodeSeq,java.io.File)Unit" id="19820">makePom</a>(<a title="sbt.IvySbt#Module" id="20595">module</a>: IvySbt#<a href="Ivy.scala.html#19850" title="sbt.IvySbt#Module">Module</a>, <a title="Iterable[sbt.ModuleID]" id="20596">extraDependencies</a>: <span title="Iterable[sbt.ModuleID]">Iterable</span>[ModuleID], <a title="Option[Iterable[sbt.Configuration]]" id="20597">configurations</a>: <span title="Option[Iterable[sbt.Configuration]]">Option</span>[Iterable[Configuration]], <a title="scala.xml.NodeSeq" id="20598">extra</a>: <span title="scala.xml.NodeSeq">NodeSeq</span>, <a title="java.io.File" id="20599">output</a>: <span title="java.io.File">File</span>): <a title="Unit" id="2114">Unit</a> =
		 <a href="#19821" title="(sbt.IvySbt#Module,sbt.MakePomConfiguration,java.io.File)Unit">makePom</a>(<a href="#20595" title="sbt.IvySbt#Module">module</a>, <a href="#20537" title="(Iterable[sbt.ModuleID],Option[Iterable[sbt.Configuration]],scala.xml.NodeSeq)sbt.MakePomConfiguration">MakePomConfiguration</a>(<a href="#20596" title="Iterable[sbt.ModuleID]">extraDependencies</a>, <a href="#20597" title="Option[Iterable[sbt.Configuration]]">configurations</a>, <a href="#20598" title="scala.xml.NodeSeq">extra</a>), <a href="#20599" title="java.io.File">output</a>)
	<span class="keyword">def</span> <a title="(sbt.IvySbt#Module,sbt.MakePomConfiguration,java.io.File)Unit" id="19821">makePom</a>(<a title="sbt.IvySbt#Module" id="20590">module</a>: IvySbt#<a href="Ivy.scala.html#19850" title="sbt.IvySbt#Module">Module</a>, <a title="sbt.MakePomConfiguration" id="20591">configuration</a>: <a href="#11796" title="sbt.MakePomConfiguration">MakePomConfiguration</a>,  <a title="java.io.File" id="20592">output</a>: <span title="java.io.File">File</span>)
	{
		<span class="keyword">import</span> configuration.{configurations, extra, extraDependencies, filterRepositories, process}
		<a href="#20590" title="sbt.IvySbt#Module">module</a>.<a href="Ivy.scala.html#20505" title="((org.apache.ivy.Ivy, org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String) =&gt; Unit)Unit">withModule</a> { (<a title="org.apache.ivy.Ivy" id="77209">ivy</a>, <a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="77210">md</a>, <a title="String" id="77211">default</a>) =&gt;
			<a href="#19822" title="(org.apache.ivy.Ivy,org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,String,Iterable[sbt.ModuleID])Unit">addLateDependencies</a>(<a href="#77209" title="org.apache.ivy.Ivy">ivy</a>, <a href="#77210" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">md</a>, <a href="#77211" title="String">default</a>, <a href="#20542" title="=&gt; Iterable[sbt.ModuleID]">extraDependencies</a>)
			(<span title="sbt.MakePom" class="keyword">new</span> <a href="MakePom.scala.html#6897" title="sbt.MakePom">MakePom</a>).<a href="MakePom.scala.html#57215" title="(org.apache.ivy.Ivy,org.apache.ivy.core.module.descriptor.ModuleDescriptor,Option[Iterable[sbt.Configuration]],scala.xml.NodeSeq,(scala.xml.Node) =&gt; scala.xml.Node,(sbt.MavenRepository) =&gt; Boolean,java.io.File)Unit">write</a>(<a href="#77209" title="org.apache.ivy.Ivy">ivy</a>, <a href="#77210" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">md</a>, <a href="#20543" title="=&gt; Option[Iterable[sbt.Configuration]]">configurations</a>, <a href="#20544" title="=&gt; scala.xml.NodeSeq">extra</a>, <a href="#20545" title="=&gt; (scala.xml.Node) =&gt; scala.xml.Node">process</a>, <a href="#20546" title="=&gt; (sbt.MavenRepository) =&gt; Boolean">filterRepositories</a>, <a href="#20592" title="java.io.File">output</a>)
			<a href="#20590" title="sbt.IvySbt#Module">module</a>.<a href="Ivy.scala.html#20504" title="=&gt; sbt.IvyLogger">logger</a>.<a href="IvyLogger.scala.html#19749" title="(=&gt; String)Unit">info</a>(<span title="java.lang.String(&quot;Wrote &quot;)" class="string">&quot;Wrote &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#20592" title="java.io.File">output</a>.<span title="()java.lang.String">getAbsolutePath</span>)
		}
	}
	<span class="comment">// todo: correct default configuration for extra dependencies</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(org.apache.ivy.Ivy,org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,String,Iterable[sbt.ModuleID])Unit" id="19822">addLateDependencies</a>(<a title="org.apache.ivy.Ivy" id="77212">ivy</a>: <span title="org.apache.ivy.Ivy">Ivy</span>, <a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="77213">module</a>: <span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">DefaultModuleDescriptor</span>, <a title="String" id="77214">defaultConfiguration</a>: <span title="String">String</span>, <a title="Iterable[sbt.ModuleID]" id="77215">extraDependencies</a>: <span title="Iterable[sbt.ModuleID]">Iterable</span>[ModuleID])
	{
		<span class="keyword">val</span> <a title="sbt.CustomXmlParser.CustomParser" id="77217">parser</a> = <span title="sbt.CustomXmlParser.CustomParser" class="keyword">new</span> <a href="CustomXmlParser.scala.html#11761" title="object sbt.CustomXmlParser">CustomXmlParser</a>.<a href="CustomXmlParser.scala.html#77260" title="sbt.CustomXmlParser.CustomParser">CustomParser</a>(<a href="#77212" title="org.apache.ivy.Ivy">ivy</a>.<span title="()org.apache.ivy.core.settings.IvySettings">getSettings</span>, <a title="(String)Some[String]" id="286">Some</a>(<a href="#77214" title="String">defaultConfiguration</a>))
		<a href="#77217" title="sbt.CustomXmlParser.CustomParser">parser</a>.<a href="CustomXmlParser.scala.html#77398" title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor)Unit">setMd</a>(<a href="#77213" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">module</a>)
		<a href="Ivy.scala.html#7771" title="object sbt.IvySbt">IvySbt</a>.<a href="Ivy.scala.html#24284" title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,Iterable[sbt.ModuleID],sbt.CustomXmlParser.CustomParser)Unit">addDependencies</a>(<a href="#77213" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">module</a>, <a href="#77215" title="Iterable[sbt.ModuleID]">extraDependencies</a>, <a href="#77217" title="sbt.CustomXmlParser.CustomParser">parser</a>)
	}

	<span class="keyword">def</span> <a title="(sbt.IvySbt#Module,String,String,Iterable[sbt.ModuleID],Option[Iterable[sbt.Configuration]],sbt.UpdateLogging.Value)Unit" id="19823">deliver</a>(<a title="sbt.IvySbt#Module" id="19911">module</a>: IvySbt#<a href="Ivy.scala.html#19850" title="sbt.IvySbt#Module">Module</a>, <a title="String" id="19912">status</a>: <span title="String">String</span>, <a title="String" id="19913">deliverIvyPattern</a>: <span title="String">String</span>, <a title="Iterable[sbt.ModuleID]" id="19914">extraDependencies</a>: <span title="Iterable[sbt.ModuleID]">Iterable</span>[ModuleID], <a title="Option[Iterable[sbt.Configuration]]" id="19915">configurations</a>: <span title="Option[Iterable[sbt.Configuration]]">Option</span>[Iterable[Configuration]], <a title="sbt.UpdateLogging.Value" id="19916">logging</a>: UpdateLogging.<span title="sbt.UpdateLogging.Value">Value</span>)
	{
		<a href="#19911" title="sbt.IvySbt#Module">module</a>.<a href="Ivy.scala.html#20505" title="((org.apache.ivy.Ivy, org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String) =&gt; Unit)Unit">withModule</a> <a href="#77514" title="Unit">{</a> <span title="Unit" class="keyword">case</span> (<a title="org.apache.ivy.Ivy" id="77520">ivy</a>, <a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="77521">md</a>, <a title="String" id="77522">default</a>) =&gt;
			<a href="#19822" title="(org.apache.ivy.Ivy,org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,String,Iterable[sbt.ModuleID])Unit">addLateDependencies</a>(<a href="#77520" title="org.apache.ivy.Ivy">ivy</a>, <a href="#77521" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">md</a>, <a href="#77522" title="String">default</a>, <a href="#19914" title="Iterable[sbt.ModuleID]">extraDependencies</a>)
			<a href="#19826" title="(sbt.UpdateLogging.Value)(org.apache.ivy.Ivy,org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,String)Unit">resolve</a>(<a href="#19916" title="sbt.UpdateLogging.Value">logging</a>)(<a href="#77520" title="org.apache.ivy.Ivy">ivy</a>, <a href="#77521" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">md</a>, <a href="#77522" title="String">default</a>) <span class="comment">// todo: set download = false for resolve</span>
			<span class="keyword">val</span> <a title="org.apache.ivy.core.module.id.ModuleRevisionId" id="77523">revID</a> = <a href="#77521" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">md</a>.<span title="()org.apache.ivy.core.module.id.ModuleRevisionId">getModuleRevisionId</span>
			<span class="keyword">val</span> <a title="org.apache.ivy.core.deliver.DeliverOptions" id="77524">options</a> = <a title="object org.apache.ivy.core.deliver.DeliverOptions" id="19437">DeliverOptions</a>.<a title="(org.apache.ivy.core.settings.IvySettings)org.apache.ivy.core.deliver.DeliverOptions" id="77605">newInstance</a>(<a href="#77520" title="org.apache.ivy.Ivy">ivy</a>.<span title="()org.apache.ivy.core.settings.IvySettings">getSettings</span>).<a title="(java.lang.String)org.apache.ivy.core.deliver.DeliverOptions" id="77617">setStatus</a>(<a href="#19912" title="String">status</a>)
			<a href="#77524" title="org.apache.ivy.core.deliver.DeliverOptions">options</a>.<a title="(Array[java.lang.String])org.apache.ivy.core.deliver.DeliverOptions" id="77621">setConfs</a>(<a href="Ivy.scala.html#7771" title="object sbt.IvySbt">IvySbt</a>.<a href="Ivy.scala.html#24287" title="(org.apache.ivy.core.module.descriptor.ModuleDescriptor,Option[Iterable[sbt.Configuration]])Array[String]">getConfigurations</a>(<a href="#77521" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">md</a>, <a href="#19915" title="Option[Iterable[sbt.Configuration]]">configurations</a>))
			<a href="#77520" title="org.apache.ivy.Ivy">ivy</a>.<a title="(org.apache.ivy.core.module.id.ModuleRevisionId,java.lang.String,java.lang.String,org.apache.ivy.core.deliver.DeliverOptions)Unit" id="20835">deliver</a>(<a href="#77523" title="org.apache.ivy.core.module.id.ModuleRevisionId">revID</a>, <a href="#77523" title="org.apache.ivy.core.module.id.ModuleRevisionId">revID</a>.<a title="()java.lang.String" id="31493">getRevision</a>, <a href="#19913" title="String">deliverIvyPattern</a>, <a href="#77524" title="org.apache.ivy.core.deliver.DeliverOptions">options</a>)
		}
	}
	<span class="comment">// todo: map configurations, extra dependencies</span>
	<span class="keyword">def</span> <a title="(sbt.IvySbt#Module,String,Iterable[String],Option[String],Option[Iterable[sbt.Configuration]])Unit" id="19824">publish</a>(<a title="sbt.IvySbt#Module" id="19891">module</a>: IvySbt#<a href="Ivy.scala.html#19850" title="sbt.IvySbt#Module">Module</a>, <a title="String" id="19892">resolverName</a>: <span title="String">String</span>, <a title="Iterable[String]" id="19893">srcArtifactPatterns</a>: <span title="Iterable[String]">Iterable</span>[String], <a title="Option[String]" id="19894">deliveredIvyPattern</a>: <span title="Option[String]">Option</span>[String], <a title="Option[Iterable[sbt.Configuration]]" id="19895">configurations</a>: <span title="Option[Iterable[sbt.Configuration]]">Option</span>[Iterable[Configuration]])
	{
		<a href="#19891" title="sbt.IvySbt#Module">module</a>.<a href="Ivy.scala.html#20505" title="((org.apache.ivy.Ivy, org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String) =&gt; java.util.Collection[_])java.util.Collection[_]">withModule</a> <a href="#77632" title="java.util.Collection[?0]">{</a> <span title="java.util.Collection[?0]" class="keyword">case</span> (<a title="org.apache.ivy.Ivy" id="77638">ivy</a>, <a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="77639">md</a>, <a title="String" id="77640">default</a>) =&gt;
			<span class="keyword">val</span> <a title="org.apache.ivy.core.module.id.ModuleRevisionId" id="77641">revID</a> = <a href="#77639" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">md</a>.<span title="()org.apache.ivy.core.module.id.ModuleRevisionId">getModuleRevisionId</span>
			<span class="keyword">val</span> <a title="java.util.ArrayList[String]" id="77642">patterns</a> = <a title="()java.util.ArrayList[String]" id="42249" class="keyword">new</a> java.util.<a title="java.util.ArrayList[String]" id="5295">ArrayList</a>[String]
			<a href="#19893" title="Iterable[String]">srcArtifactPatterns</a>.<span title="((String) =&gt; Unit)Unit">foreach</span>(<a title="String" id="77649">pattern</a> =&gt; <a href="#77642" title="java.util.ArrayList[String]">patterns</a>.<a title="(String)Boolean" id="42266">add</a>(<a href="#77649" title="String">pattern</a>))
			<span class="keyword">val</span> <a title="org.apache.ivy.core.publish.PublishOptions" id="77643">options</a> = (<span title="org.apache.ivy.core.publish.PublishOptions" class="keyword">new</span> <a title="org.apache.ivy.core.publish.PublishOptions" id="19541">PublishOptions</a>).<a title="(Boolean)org.apache.ivy.core.publish.PublishOptions" id="77657">setOverwrite</a>(<span title="Boolean(true)" class="keyword">true</span>)
			<a href="#19894" title="Option[String]">deliveredIvyPattern</a>.<a title="((String) =&gt; Unit)Unit" id="19239">foreach</a>(<a href="#77643" title="org.apache.ivy.core.publish.PublishOptions">options</a>.<a href="#77677" title="(java.lang.String)org.apache.ivy.core.publish.PublishOptions" id="77663">setSrcIvyPattern</a>)
			<a href="#77643" title="org.apache.ivy.core.publish.PublishOptions">options</a>.<a title="(Array[java.lang.String])org.apache.ivy.core.publish.PublishOptions" id="77653">setConfs</a>(<a href="Ivy.scala.html#7771" title="object sbt.IvySbt">IvySbt</a>.<a href="Ivy.scala.html#24287" title="(org.apache.ivy.core.module.descriptor.ModuleDescriptor,Option[Iterable[sbt.Configuration]])Array[String]">getConfigurations</a>(<a href="#77639" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">md</a>, <a href="#19895" title="Option[Iterable[sbt.Configuration]]">configurations</a>))
			<a href="#77638" title="org.apache.ivy.Ivy">ivy</a>.<a title="(org.apache.ivy.core.module.id.ModuleRevisionId,java.util.Collection[_],java.lang.String,org.apache.ivy.core.publish.PublishOptions)java.util.Collection[_]" id="20838">publish</a>(<a href="#77641" title="org.apache.ivy.core.module.id.ModuleRevisionId">revID</a>, <a href="#77642" title="java.util.ArrayList[String]">patterns</a>, <a href="#19892" title="String">resolverName</a>, <a href="#77643" title="org.apache.ivy.core.publish.PublishOptions">options</a>)
		}
	}
	<span class="comment">/** Resolves and retrieves dependencies.  'ivyConfig' is used to produce an Ivy file and configuration.
	* 'updateConfig' configures the actual resolution and retrieval process. */</span>
	<span class="keyword">def</span> <a title="(sbt.IvySbt#Module,sbt.UpdateConfiguration)Unit" id="19825">update</a>(<a title="sbt.IvySbt#Module" id="19830">module</a>: IvySbt#<a href="Ivy.scala.html#19850" title="sbt.IvySbt#Module">Module</a>, <a title="sbt.UpdateConfiguration" id="19831">configuration</a>: <a href="#8016" title="sbt.UpdateConfiguration">UpdateConfiguration</a>)
	{
		<a href="#19830" title="sbt.IvySbt#Module">module</a>.<a href="Ivy.scala.html#20505" title="((org.apache.ivy.Ivy, org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String) =&gt; Int)Int">withModule</a> <a href="#77686" title="Int">{</a> <span title="Int" class="keyword">case</span> (<a title="org.apache.ivy.Ivy" id="77692">ivy</a>, <a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="77693">md</a>, <a title="String" id="77694">default</a>) =&gt;
			<span class="keyword">import</span> configuration._
			<a href="#19826" title="(sbt.UpdateLogging.Value)(org.apache.ivy.Ivy,org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,String)Unit">resolve</a>(<a href="#22976" title="=&gt; sbt.UpdateLogging.Value">logging</a>)(<a href="#77692" title="org.apache.ivy.Ivy">ivy</a>, <a href="#77693" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">md</a>, <a href="#77694" title="String">default</a>)
			<span class="keyword">val</span> <a title="org.apache.ivy.core.retrieve.RetrieveOptions" id="77696">retrieveOptions</a> = <span title="org.apache.ivy.core.retrieve.RetrieveOptions" class="keyword">new</span> <a title="org.apache.ivy.core.retrieve.RetrieveOptions" id="19613">RetrieveOptions</a>
			<a href="#77696" title="org.apache.ivy.core.retrieve.RetrieveOptions">retrieveOptions</a>.<a title="(Boolean)org.apache.ivy.core.retrieve.RetrieveOptions" id="77709">setSync</a>(<a href="#22975" title="=&gt; Boolean">synchronize</a>)
			<span class="keyword">val</span> <a title="java.lang.String" id="77697">patternBase</a> = <a href="#22973" title="=&gt; java.io.File">retrieveDirectory</a>.<span title="()java.lang.String">getAbsolutePath</span>
			<span class="keyword">val</span> <a title="java.lang.String" id="77698">pattern</a> =
				<span title="java.lang.String" class="keyword">if</span>(<a href="#77697" title="java.lang.String">patternBase</a>.<a title="(java.lang.String)Boolean" id="5787">endsWith</a>(<span title="object java.io.File">File</span>.<a title="java.lang.String" id="16210">separator</a>))
					<a href="#77697" title="java.lang.String">patternBase</a> <span title="(Any)java.lang.String">+</span> <a href="#22974" title="=&gt; String">outputPattern</a>
				<span class="keyword">else</span>
					<a href="#77697" title="java.lang.String">patternBase</a> <span title="(Any)java.lang.String">+</span> <span title="object java.io.File">File</span>.<a title="Char" id="16209">separatorChar</a> <span title="(Any)java.lang.String">+</span> <a href="#22974" title="=&gt; String">outputPattern</a>
			<a href="#77692" title="org.apache.ivy.Ivy">ivy</a>.<a title="(org.apache.ivy.core.module.id.ModuleRevisionId,java.lang.String,org.apache.ivy.core.retrieve.RetrieveOptions)Int" id="20832">retrieve</a>(<a href="#77693" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">md</a>.<span title="()org.apache.ivy.core.module.id.ModuleRevisionId">getModuleRevisionId</span>, <a href="#77698" title="java.lang.String">pattern</a>, <a href="#77696" title="org.apache.ivy.core.retrieve.RetrieveOptions">retrieveOptions</a>)
		}
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.UpdateLogging.Value)(org.apache.ivy.Ivy,org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,String)Unit" id="19826">resolve</a>(<a title="sbt.UpdateLogging.Value" id="77525">logging</a>: UpdateLogging.<span title="sbt.UpdateLogging.Value">Value</span>)(<a title="org.apache.ivy.Ivy" id="77526">ivy</a>: <span title="org.apache.ivy.Ivy">Ivy</span>, <a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="77527">module</a>: <span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">DefaultModuleDescriptor</span>, <a title="String" id="77528">defaultConf</a>: <span title="String">String</span>) =
	{
		<span class="keyword">val</span> <a title="org.apache.ivy.core.resolve.ResolveOptions" id="77530">resolveOptions</a> = <span title="org.apache.ivy.core.resolve.ResolveOptions" class="keyword">new</span> <a title="org.apache.ivy.core.resolve.ResolveOptions" id="19574">ResolveOptions</a>
		<a href="#77530" title="org.apache.ivy.core.resolve.ResolveOptions">resolveOptions</a>.<a title="(java.lang.String)org.apache.ivy.core.LogOptions" id="77574">setLog</a>(<a href="#19829" title="(sbt.UpdateLogging.Value)java.lang.String">ivyLogLevel</a>(<a href="#77525" title="sbt.UpdateLogging.Value">logging</a>))
		<span class="keyword">val</span> <a title="org.apache.ivy.core.report.ResolveReport" id="77531">resolveReport</a> = <a href="#77526" title="org.apache.ivy.Ivy">ivy</a>.<a title="(org.apache.ivy.core.module.descriptor.ModuleDescriptor,org.apache.ivy.core.resolve.ResolveOptions)org.apache.ivy.core.report.ResolveReport" id="20830">resolve</a>(<a href="#77527" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">module</a>, <a href="#77530" title="org.apache.ivy.core.resolve.ResolveOptions">resolveOptions</a>)
		<span title="Unit" class="keyword">if</span>(<a href="#77531" title="org.apache.ivy.core.report.ResolveReport">resolveReport</a>.<a title="()Boolean" id="77169">hasError</a>)
			<span title="Nothing" class="keyword">throw</span> <span title="sbt.ResolveException" class="keyword">new</span> <a href="#10353" title="sbt.ResolveException">ResolveException</a>(<a href="#77531" title="org.apache.ivy.core.report.ResolveReport">resolveReport</a>.<a title="()java.util.List[_]" id="77185">getAllProblemMessages</a>.<a title="()Array[java.lang.Object]" id="33687">toArray</a>.<a title="((java.lang.Object) =&gt; java.lang.String)Array[java.lang.String]" id="17319">map</a>(<a href="#77604" title="java.lang.Object">_</a>.<a title="()java.lang.String" id="5730">toString</a>).<a title="=&gt; List[java.lang.String]" id="16304">toList</a>.<a title="=&gt; List[java.lang.String]" id="18006">removeDuplicates</a>)
	}

	<span class="keyword">import</span> UpdateLogging.{Quiet, Full, DownloadOnly}
	<span class="keyword">import</span> LogOptions.{LOG_QUIET, LOG_DEFAULT, LOG_DOWNLOAD_ONLY}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.UpdateLogging.Value)java.lang.String" id="19829">ivyLogLevel</a>(<a title="sbt.UpdateLogging.Value" id="77581">level</a>: UpdateLogging.<span title="sbt.UpdateLogging.Value">Value</span>) =
		<a href="#77581" title="sbt.UpdateLogging.Value">level</a> <span title="java.lang.String" class="keyword">match</span>
		{
			<span title="java.lang.String(&quot;quiet&quot;)" class="keyword">case</span> <a href="#20035" title="=&gt; sbt.UpdateLogging.Value">Quiet</a> =&gt; <span title="java.lang.String(&quot;quiet&quot;)">LOG_QUIET</span>
			<span title="java.lang.String(&quot;download-only&quot;)" class="keyword">case</span> <a href="#20033" title="=&gt; sbt.UpdateLogging.Value">DownloadOnly</a> =&gt; <span title="java.lang.String(&quot;download-only&quot;)">LOG_DOWNLOAD_ONLY</span>
			<span title="java.lang.String(&quot;default&quot;)" class="keyword">case</span> <a href="#20031" title="=&gt; sbt.UpdateLogging.Value">Full</a> =&gt; <span title="java.lang.String(&quot;default&quot;)">LOG_DEFAULT</span>
		}
}
<span class="keyword">final</span> <span class="keyword">class</span> <a title="class ResolveException extends java.lang.RuntimeException with ScalaObject" id="10353">ResolveException</a>(<a title="List[String]" id="77597">messages</a>: <a title="List[String]" id="495">List</a>[String]) <span class="keyword">extends</span> <a title="java.lang.RuntimeException" id="19700">RuntimeException</a>(<a href="#77597" title="List[String]">messages</a>.<a title="(String)String" id="16308">mkString</a>(<span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span>))
        </pre>
    </body>
</html>