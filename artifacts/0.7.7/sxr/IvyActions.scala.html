<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>IvyActions.scala</title>
        <script type="text/javascript" src="jquery-all.js"></script>
        <script type="text/javascript" src="linked.js"></script>
        <link rel="stylesheet" type="text/css" href="style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* sbt -- Simple Build Tool
 * Copyright 2008, 2009, 2010 Mark Harrah
 */</span>
<span class="keyword">package</span> sbt

<span class="keyword">import</span> java.io.File
<span class="keyword">import</span> scala.xml.{Node,NodeSeq}

<span class="keyword">import</span> org.apache.ivy.{core, plugins, util, Ivy}
<span class="keyword">import</span> core.cache.DefaultRepositoryCacheManager
<span class="keyword">import</span> core.LogOptions
<span class="keyword">import</span> core.deliver.DeliverOptions
<span class="keyword">import</span> core.install.InstallOptions
<span class="keyword">import</span> core.module.descriptor.{DefaultArtifact, DefaultDependencyArtifactDescriptor, MDArtifact}
<span class="keyword">import</span> core.module.descriptor.{DefaultDependencyDescriptor, DefaultModuleDescriptor, DependencyDescriptor, ModuleDescriptor}
<span class="keyword">import</span> core.module.id.{ArtifactId,ModuleId, ModuleRevisionId}
<span class="keyword">import</span> core.publish.PublishOptions
<span class="keyword">import</span> core.resolve.ResolveOptions
<span class="keyword">import</span> core.retrieve.RetrieveOptions
<span class="keyword">import</span> plugins.parser.m2.{PomModuleDescriptorParser,PomModuleDescriptorWriter}

<span class="keyword">final</span> <span class="keyword">class</span> <a title="class UpdateConfiguration extends java.lang.Object with NotNull with ScalaObject" id="9629">UpdateConfiguration</a>(<span class="keyword">val</span> <a title="java.io.File" id="46005">retrieveDirectory</a>: <span title="java.io.File">File</span>, <span class="keyword">val</span> <a title="String" id="46006">outputPattern</a>: <span title="String">String</span>, <span class="keyword">val</span> <a title="Boolean" id="46007">synchronize</a>: <a title="Boolean" id="2106">Boolean</a>, <span class="keyword">val</span> <a title="sbt.UpdateLogging.Value" id="46008">logging</a>: UpdateLogging.<span title="sbt.UpdateLogging.Value">Value</span>) <span class="keyword">extends</span> <span title="NotNull">NotNull</span>
<span class="keyword">final</span> <span class="keyword">class</span> <a title="class MakePomConfiguration extends java.lang.Object with NotNull with ScalaObject" id="13466">MakePomConfiguration</a>(<span class="keyword">val</span> <a title="Iterable[sbt.ModuleID]" id="46031">extraDependencies</a>: <span title="Iterable[sbt.ModuleID]">Iterable</span>[ModuleID], <span class="keyword">val</span> <a title="Option[Iterable[sbt.Configuration]]" id="46032">configurations</a>: <span title="Option[Iterable[sbt.Configuration]]">Option</span>[Iterable[Configuration]],
	<span class="keyword">val</span> <a title="scala.xml.NodeSeq" id="46033">extra</a>: <span title="scala.xml.NodeSeq">NodeSeq</span>, <span class="keyword">val</span> <a title="(scala.xml.Node) =&gt; scala.xml.Node" id="46034">process</a>: Node =&gt; Node, <span class="keyword">val</span> <a title="(sbt.MavenRepository) =&gt; Boolean" id="46035">filterRepositories</a>: MavenRepository =&gt; Boolean) <span class="keyword">extends</span> <span title="NotNull">NotNull</span>
<span class="keyword">object</span> <a title="object sbt.MakePomConfiguration" id="13467">MakePomConfiguration</a>
{
	<span class="keyword">def</span> <a title="(Iterable[sbt.ModuleID],Option[Iterable[sbt.Configuration]],scala.xml.NodeSeq)sbt.MakePomConfiguration" id="46037">apply</a>(<a title="Iterable[sbt.ModuleID]" id="46039">extraDependencies</a>: <span title="Iterable[sbt.ModuleID]">Iterable</span>[ModuleID], <a title="Option[Iterable[sbt.Configuration]]" id="46040">configurations</a>: <span title="Option[Iterable[sbt.Configuration]]">Option</span>[Iterable[Configuration]], <a title="scala.xml.NodeSeq" id="46041">extra</a>: <span title="scala.xml.NodeSeq">NodeSeq</span>) =
		<span title="sbt.MakePomConfiguration" class="keyword">new</span> <a href="#13466" title="sbt.MakePomConfiguration">MakePomConfiguration</a>(<a href="#46039" title="Iterable[sbt.ModuleID]">extraDependencies</a>, <a href="#46040" title="Option[Iterable[sbt.Configuration]]">configurations</a>, <a href="#46041" title="scala.xml.NodeSeq">extra</a>, <a href="#46045" title="(scala.xml.Node)scala.xml.Node" id="6601">identity</a>, <a title="sbt.MavenRepository" id="46047">_</a> =&gt; <span title="Boolean(true)" class="keyword">true</span>)
}
<span class="comment">/** Configures logging during an 'update'.  `level` determines the amount of other information logged.
* `Full` is the default and logs the most.
* `DownloadOnly` only logs what is downloaded.
* `Quiet` only displays errors.*/</span>
<span class="keyword">object</span> <a title="object sbt.UpdateLogging" id="11217">UpdateLogging</a> <span class="keyword">extends</span> <a title="Enumeration" id="34032">Enumeration</a>
{
	<span class="keyword">val</span> <a title="sbt.UpdateLogging.Value" id="45999">Full</a>, <a title="sbt.UpdateLogging.Value" id="46001">DownloadOnly</a>, <a title="sbt.UpdateLogging.Value" id="46003">Quiet</a> = <span title="=&gt; sbt.UpdateLogging.Value">Value</span>
}

<span class="keyword">object</span> <a title="object sbt.IvyActions" id="12096">IvyActions</a>
{
	<span class="comment">/** Installs the dependencies of the given 'module' from the resolver named 'from' to the resolver named 'to'.*/</span>
	<span class="keyword">def</span> <a title="(sbt.IvySbt#Module,String,String)Unit" id="46059">install</a>(<a title="sbt.IvySbt#Module" id="46072">module</a>: IvySbt#<a href="Ivy.scala.html#43587" title="sbt.IvySbt#Module">Module</a>, <a title="String" id="46073">from</a>: <span title="String">String</span>, <a title="String" id="46074">to</a>: <span title="String">String</span>)
	{
		<a href="#46072" title="sbt.IvySbt#Module">module</a>.<a href="Ivy.scala.html#43930" title="((org.apache.ivy.Ivy, org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String) =&gt; Unit)Unit">withModule</a> { (<a title="org.apache.ivy.Ivy" id="46081">ivy</a>, <a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="46082">md</a>, <a title="String" id="46083">default</a>) =&gt;
			<span class="keyword">for</span>(<a title="((org.apache.ivy.core.module.descriptor.DependencyDescriptor) =&gt; Unit)Unit" id="46085">dependency</a> &lt;- <a href="#46082" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">md</a>.<a title="()Array[org.apache.ivy.core.module.descriptor.DependencyDescriptor]" id="43260">getDependencies</a>)
			{
				<a href="#46072" title="sbt.IvySbt#Module">module</a>.<a href="Ivy.scala.html#43929" title="=&gt; sbt.IvyLogger">logger</a>.<a href="IvyLogger.scala.html#21066" title="(=&gt; String)Unit">info</a>(<span title="java.lang.String(&quot;Installing &quot;)" class="string">&quot;Installing &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#46085" title="org.apache.ivy.core.module.descriptor.DependencyDescriptor">dependency</a>)
				<span class="keyword">val</span> <a title="org.apache.ivy.core.install.InstallOptions" id="46086">options</a> = <span title="org.apache.ivy.core.install.InstallOptions" class="keyword">new</span> <a title="org.apache.ivy.core.install.InstallOptions" id="42723">InstallOptions</a>
				<a href="#46086" title="org.apache.ivy.core.install.InstallOptions">options</a>.<a title="(Boolean)org.apache.ivy.core.install.InstallOptions" id="46091">setValidate</a>(<a href="#46072" title="sbt.IvySbt#Module">module</a>.<a href="Ivy.scala.html#43926" title="=&gt; sbt.ModuleSettings">moduleSettings</a>.<a href="IvyConfigurations.scala.html#43947" title="=&gt; Boolean">validate</a>)
				<a href="#46086" title="org.apache.ivy.core.install.InstallOptions">options</a>.<a title="(Boolean)org.apache.ivy.core.install.InstallOptions" id="46089">setTransitive</a>(<a href="#46085" title="org.apache.ivy.core.module.descriptor.DependencyDescriptor">dependency</a>.<a title="()Boolean" id="43372">isTransitive</a>)
				<a href="#46081" title="org.apache.ivy.Ivy">ivy</a>.<a title="(org.apache.ivy.core.module.id.ModuleRevisionId,java.lang.String,java.lang.String,org.apache.ivy.core.install.InstallOptions)org.apache.ivy.core.report.ResolveReport" id="43823">install</a>(<a href="#46085" title="org.apache.ivy.core.module.descriptor.DependencyDescriptor">dependency</a>.<a title="()org.apache.ivy.core.module.id.ModuleRevisionId" id="43374">getDependencyRevisionId</a>, <a href="#46073" title="String">from</a>, <a href="#46074" title="String">to</a>, <a href="#46086" title="org.apache.ivy.core.install.InstallOptions">options</a>)
			}
		}
	}

	<span class="comment">/** Clears the Ivy cache, as configured by 'config'. */</span>
	<span class="keyword">def</span> <a title="(sbt.IvySbt)Unit" id="46060">cleanCache</a>(<a title="sbt.IvySbt" id="46156">ivy</a>: <a href="Ivy.scala.html#9389" title="sbt.IvySbt">IvySbt</a>) = <a href="#46156" title="sbt.IvySbt">ivy</a>.<a href="Ivy.scala.html#43584" title="((org.apache.ivy.Ivy) =&gt; Unit)Unit">withIvy</a> { <a title="org.apache.ivy.Ivy" id="46160">iv</a> =&gt;
		<a href="#46160" title="org.apache.ivy.Ivy">iv</a>.<span title="()org.apache.ivy.core.settings.IvySettings">getSettings</span>.<a title="()org.apache.ivy.core.cache.ResolutionCacheManager" id="43048">getResolutionCacheManager</a>.<a title="()Unit" id="46167">clean</a>()
		<a href="#46160" title="org.apache.ivy.Ivy">iv</a>.<span title="()org.apache.ivy.core.settings.IvySettings">getSettings</span>.<a title="()Array[org.apache.ivy.core.cache.RepositoryCacheManager]" id="42922">getRepositoryCacheManagers</a>.<span title="((org.apache.ivy.core.cache.RepositoryCacheManager) =&gt; Unit)Unit">foreach</span>(<a href="#46170" title="org.apache.ivy.core.cache.RepositoryCacheManager">_</a>.<a title="()Unit" id="45683">clean</a>())
	}

	<span class="comment">/** Creates a Maven pom from the given Ivy configuration*/</span>
	@<a title="deprecated" id="201">deprecated</a> <span class="keyword">def</span> <a title="(sbt.IvySbt#Module,Iterable[sbt.ModuleID],Option[Iterable[sbt.Configuration]],scala.xml.NodeSeq,java.io.File)Unit" id="46061">makePom</a>(<a title="sbt.IvySbt#Module" id="46172">module</a>: IvySbt#<a href="Ivy.scala.html#43587" title="sbt.IvySbt#Module">Module</a>, <a title="Iterable[sbt.ModuleID]" id="46173">extraDependencies</a>: <span title="Iterable[sbt.ModuleID]">Iterable</span>[ModuleID], <a title="Option[Iterable[sbt.Configuration]]" id="46174">configurations</a>: <span title="Option[Iterable[sbt.Configuration]]">Option</span>[Iterable[Configuration]], <a title="scala.xml.NodeSeq" id="46175">extra</a>: <span title="scala.xml.NodeSeq">NodeSeq</span>, <a title="java.io.File" id="46176">output</a>: <span title="java.io.File">File</span>): <a title="Unit" id="2105">Unit</a> =
		 <a href="#46062" title="(sbt.IvySbt#Module,sbt.MakePomConfiguration,java.io.File)Unit">makePom</a>(<a href="#46172" title="sbt.IvySbt#Module">module</a>, <a href="#46037" title="(Iterable[sbt.ModuleID],Option[Iterable[sbt.Configuration]],scala.xml.NodeSeq)sbt.MakePomConfiguration">MakePomConfiguration</a>(<a href="#46173" title="Iterable[sbt.ModuleID]">extraDependencies</a>, <a href="#46174" title="Option[Iterable[sbt.Configuration]]">configurations</a>, <a href="#46175" title="scala.xml.NodeSeq">extra</a>), <a href="#46176" title="java.io.File">output</a>)
	<span class="keyword">def</span> <a title="(sbt.IvySbt#Module,sbt.MakePomConfiguration,java.io.File)Unit" id="46062">makePom</a>(<a title="sbt.IvySbt#Module" id="46182">module</a>: IvySbt#<a href="Ivy.scala.html#43587" title="sbt.IvySbt#Module">Module</a>, <a title="sbt.MakePomConfiguration" id="46183">configuration</a>: <a href="#13466" title="sbt.MakePomConfiguration">MakePomConfiguration</a>,  <a title="java.io.File" id="46184">output</a>: <span title="java.io.File">File</span>)
	{
		<span class="keyword">import</span> configuration.{configurations, extra, extraDependencies, filterRepositories, process}
		<a href="#46182" title="sbt.IvySbt#Module">module</a>.<a href="Ivy.scala.html#43930" title="((org.apache.ivy.Ivy, org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String) =&gt; Unit)Unit">withModule</a> { (<a title="org.apache.ivy.Ivy" id="46192">ivy</a>, <a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="46193">md</a>, <a title="String" id="46194">default</a>) =&gt;
			<a href="#46063" title="(org.apache.ivy.Ivy,org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,String,Iterable[sbt.ModuleID])Unit">addLateDependencies</a>(<a href="#46192" title="org.apache.ivy.Ivy">ivy</a>, <a href="#46193" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">md</a>, <a href="#46194" title="String">default</a>, <a href="#46031" title="=&gt; Iterable[sbt.ModuleID]">extraDependencies</a>)
			(<span title="sbt.MakePom" class="keyword">new</span> <a href="MakePom.scala.html#8525" title="sbt.MakePom">MakePom</a>).<a href="MakePom.scala.html#46201" title="(org.apache.ivy.Ivy,org.apache.ivy.core.module.descriptor.ModuleDescriptor,Option[Iterable[sbt.Configuration]],scala.xml.NodeSeq,(scala.xml.Node) =&gt; scala.xml.Node,(sbt.MavenRepository) =&gt; Boolean,java.io.File)Unit">write</a>(<a href="#46192" title="org.apache.ivy.Ivy">ivy</a>, <a href="#46193" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">md</a>, <a href="#46032" title="=&gt; Option[Iterable[sbt.Configuration]]">configurations</a>, <a href="#46033" title="=&gt; scala.xml.NodeSeq">extra</a>, <a href="#46034" title="=&gt; (scala.xml.Node) =&gt; scala.xml.Node">process</a>, <a href="#46035" title="=&gt; (sbt.MavenRepository) =&gt; Boolean">filterRepositories</a>, <a href="#46184" title="java.io.File">output</a>)
			<a href="#46182" title="sbt.IvySbt#Module">module</a>.<a href="Ivy.scala.html#43929" title="=&gt; sbt.IvyLogger">logger</a>.<a href="IvyLogger.scala.html#21066" title="(=&gt; String)Unit">info</a>(<span title="java.lang.String(&quot;Wrote &quot;)" class="string">&quot;Wrote &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#46184" title="java.io.File">output</a>.<span title="()java.lang.String">getAbsolutePath</span>)
		}
	}
	<span class="comment">// todo: correct default configuration for extra dependencies</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(org.apache.ivy.Ivy,org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,String,Iterable[sbt.ModuleID])Unit" id="46063">addLateDependencies</a>(<a title="org.apache.ivy.Ivy" id="46195">ivy</a>: <span title="org.apache.ivy.Ivy">Ivy</span>, <a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="46196">module</a>: <span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">DefaultModuleDescriptor</span>, <a title="String" id="46197">defaultConfiguration</a>: <span title="String">String</span>, <a title="Iterable[sbt.ModuleID]" id="46198">extraDependencies</a>: <span title="Iterable[sbt.ModuleID]">Iterable</span>[ModuleID])
	{
		<span class="keyword">val</span> <a title="sbt.CustomXmlParser.CustomParser" id="46243">parser</a> = <span title="sbt.CustomXmlParser.CustomParser" class="keyword">new</span> <a href="CustomXmlParser.scala.html#13431" title="object sbt.CustomXmlParser">CustomXmlParser</a>.<a href="CustomXmlParser.scala.html#42353" title="sbt.CustomXmlParser.CustomParser">CustomParser</a>(<a href="#46195" title="org.apache.ivy.Ivy">ivy</a>.<span title="()org.apache.ivy.core.settings.IvySettings">getSettings</span>, <a title="(String)Some[String]" id="286">Some</a>(<a href="#46197" title="String">defaultConfiguration</a>))
		<a href="#46243" title="sbt.CustomXmlParser.CustomParser">parser</a>.<a href="CustomXmlParser.scala.html#42548" title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor)Unit">setMd</a>(<a href="#46196" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">module</a>)
		<a href="Ivy.scala.html#9390" title="object sbt.IvySbt">IvySbt</a>.<a href="Ivy.scala.html#43671" title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,Iterable[sbt.ModuleID],sbt.CustomXmlParser.CustomParser)Unit">addDependencies</a>(<a href="#46196" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">module</a>, <a href="#46198" title="Iterable[sbt.ModuleID]">extraDependencies</a>, <a href="#46243" title="sbt.CustomXmlParser.CustomParser">parser</a>)
	}

	<span class="keyword">def</span> <a title="(sbt.IvySbt#Module,String,String,Iterable[sbt.ModuleID],Option[Iterable[sbt.Configuration]],sbt.UpdateLogging.Value)Unit" id="46064">deliver</a>(<a title="sbt.IvySbt#Module" id="46245">module</a>: IvySbt#<a href="Ivy.scala.html#43587" title="sbt.IvySbt#Module">Module</a>, <a title="String" id="46246">status</a>: <span title="String">String</span>, <a title="String" id="46247">deliverIvyPattern</a>: <span title="String">String</span>, <a title="Iterable[sbt.ModuleID]" id="46248">extraDependencies</a>: <span title="Iterable[sbt.ModuleID]">Iterable</span>[ModuleID], <a title="Option[Iterable[sbt.Configuration]]" id="46249">configurations</a>: <span title="Option[Iterable[sbt.Configuration]]">Option</span>[Iterable[Configuration]], <a title="sbt.UpdateLogging.Value" id="46250">logging</a>: UpdateLogging.<span title="sbt.UpdateLogging.Value">Value</span>)
	{
		<a href="#46245" title="sbt.IvySbt#Module">module</a>.<a href="Ivy.scala.html#43930" title="((org.apache.ivy.Ivy, org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String) =&gt; Unit)Unit">withModule</a> <a href="#46257" title="Unit">{</a> <span title="Unit" class="keyword">case</span> (<a title="org.apache.ivy.Ivy" id="46263">ivy</a>, <a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="46264">md</a>, <a title="String" id="46265">default</a>) =&gt;
			<a href="#46063" title="(org.apache.ivy.Ivy,org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,String,Iterable[sbt.ModuleID])Unit">addLateDependencies</a>(<a href="#46263" title="org.apache.ivy.Ivy">ivy</a>, <a href="#46264" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">md</a>, <a href="#46265" title="String">default</a>, <a href="#46248" title="Iterable[sbt.ModuleID]">extraDependencies</a>)
			<a href="#46067" title="(sbt.UpdateLogging.Value)(org.apache.ivy.Ivy,org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,String)Unit">resolve</a>(<a href="#46250" title="sbt.UpdateLogging.Value">logging</a>)(<a href="#46263" title="org.apache.ivy.Ivy">ivy</a>, <a href="#46264" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">md</a>, <a href="#46265" title="String">default</a>) <span class="comment">// todo: set download = false for resolve</span>
			<span class="keyword">val</span> <a title="org.apache.ivy.core.module.id.ModuleRevisionId" id="46266">revID</a> = <a href="#46264" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">md</a>.<span title="()org.apache.ivy.core.module.id.ModuleRevisionId">getModuleRevisionId</span>
			<span class="keyword">val</span> <a title="org.apache.ivy.core.deliver.DeliverOptions" id="46267">options</a> = <a title="object org.apache.ivy.core.deliver.DeliverOptions" id="42712">DeliverOptions</a>.<a title="(org.apache.ivy.core.settings.IvySettings)org.apache.ivy.core.deliver.DeliverOptions" id="46351">newInstance</a>(<a href="#46263" title="org.apache.ivy.Ivy">ivy</a>.<span title="()org.apache.ivy.core.settings.IvySettings">getSettings</span>).<a title="(java.lang.String)org.apache.ivy.core.deliver.DeliverOptions" id="46365">setStatus</a>(<a href="#46246" title="String">status</a>)
			<a href="#46267" title="org.apache.ivy.core.deliver.DeliverOptions">options</a>.<a title="(Array[java.lang.String])org.apache.ivy.core.deliver.DeliverOptions" id="46369">setConfs</a>(<a href="Ivy.scala.html#9390" title="object sbt.IvySbt">IvySbt</a>.<a href="Ivy.scala.html#43674" title="(org.apache.ivy.core.module.descriptor.ModuleDescriptor,Option[Iterable[sbt.Configuration]])Array[String]">getConfigurations</a>(<a href="#46264" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">md</a>, <a href="#46249" title="Option[Iterable[sbt.Configuration]]">configurations</a>))
			<a href="#46263" title="org.apache.ivy.Ivy">ivy</a>.<a title="(org.apache.ivy.core.module.id.ModuleRevisionId,java.lang.String,java.lang.String,org.apache.ivy.core.deliver.DeliverOptions)Unit" id="43827">deliver</a>(<a href="#46266" title="org.apache.ivy.core.module.id.ModuleRevisionId">revID</a>, <a href="#46266" title="org.apache.ivy.core.module.id.ModuleRevisionId">revID</a>.<a title="()java.lang.String" id="41991">getRevision</a>, <a href="#46247" title="String">deliverIvyPattern</a>, <a href="#46267" title="org.apache.ivy.core.deliver.DeliverOptions">options</a>)
		}
	}
	<span class="comment">// todo: map configurations, extra dependencies</span>
	<span class="keyword">def</span> <a title="(sbt.IvySbt#Module,String,Iterable[String],Option[String],Option[Iterable[sbt.Configuration]])Unit" id="46065">publish</a>(<a title="sbt.IvySbt#Module" id="46378">module</a>: IvySbt#<a href="Ivy.scala.html#43587" title="sbt.IvySbt#Module">Module</a>, <a title="String" id="46379">resolverName</a>: <span title="String">String</span>, <a title="Iterable[String]" id="46380">srcArtifactPatterns</a>: <span title="Iterable[String]">Iterable</span>[String], <a title="Option[String]" id="46381">deliveredIvyPattern</a>: <span title="Option[String]">Option</span>[String], <a title="Option[Iterable[sbt.Configuration]]" id="46382">configurations</a>: <span title="Option[Iterable[sbt.Configuration]]">Option</span>[Iterable[Configuration]])
	{
		<a href="#46378" title="sbt.IvySbt#Module">module</a>.<a href="Ivy.scala.html#43930" title="((org.apache.ivy.Ivy, org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String) =&gt; java.util.Collection[_])java.util.Collection[_]">withModule</a> <a href="#46389" title="java.util.Collection[?0]">{</a> <span title="java.util.Collection[?0]" class="keyword">case</span> (<a title="org.apache.ivy.Ivy" id="46395">ivy</a>, <a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="46396">md</a>, <a title="String" id="46397">default</a>) =&gt;
			<span class="keyword">val</span> <a title="org.apache.ivy.core.module.id.ModuleRevisionId" id="46398">revID</a> = <a href="#46396" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">md</a>.<span title="()org.apache.ivy.core.module.id.ModuleRevisionId">getModuleRevisionId</span>
			<span class="keyword">val</span> <a title="java.util.ArrayList[String]" id="46399">patterns</a> = <a title="()java.util.ArrayList[String]" id="41070" class="keyword">new</a> java.util.<a title="java.util.ArrayList[String]" id="5498">ArrayList</a>[String]
			<a href="#46380" title="Iterable[String]">srcArtifactPatterns</a>.<span title="((String) =&gt; Unit)Unit">foreach</span>(<a title="String" id="46406">pattern</a> =&gt; <a href="#46399" title="java.util.ArrayList[String]">patterns</a>.<a title="(String)Boolean" id="41088">add</a>(<a href="#46406" title="String">pattern</a>))
			<span class="keyword">val</span> <a title="org.apache.ivy.core.publish.PublishOptions" id="46400">options</a> = (<span title="org.apache.ivy.core.publish.PublishOptions" class="keyword">new</span> <a title="org.apache.ivy.core.publish.PublishOptions" id="42693">PublishOptions</a>).<a title="(Boolean)org.apache.ivy.core.publish.PublishOptions" id="46414">setOverwrite</a>(<span title="Boolean(true)" class="keyword">true</span>)
			<a href="#46381" title="Option[String]">deliveredIvyPattern</a>.<a title="((String) =&gt; Unit)Unit" id="30538">foreach</a>(<a href="#46400" title="org.apache.ivy.core.publish.PublishOptions">options</a>.<a href="#46436" title="(java.lang.String)org.apache.ivy.core.publish.PublishOptions" id="46420">setSrcIvyPattern</a>)
			<a href="#46400" title="org.apache.ivy.core.publish.PublishOptions">options</a>.<a title="(Array[java.lang.String])org.apache.ivy.core.publish.PublishOptions" id="46410">setConfs</a>(<a href="Ivy.scala.html#9390" title="object sbt.IvySbt">IvySbt</a>.<a href="Ivy.scala.html#43674" title="(org.apache.ivy.core.module.descriptor.ModuleDescriptor,Option[Iterable[sbt.Configuration]])Array[String]">getConfigurations</a>(<a href="#46396" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">md</a>, <a href="#46382" title="Option[Iterable[sbt.Configuration]]">configurations</a>))
			<a href="#46395" title="org.apache.ivy.Ivy">ivy</a>.<a title="(org.apache.ivy.core.module.id.ModuleRevisionId,java.util.Collection[_],java.lang.String,org.apache.ivy.core.publish.PublishOptions)java.util.Collection[_]" id="43830">publish</a>(<a href="#46398" title="org.apache.ivy.core.module.id.ModuleRevisionId">revID</a>, <a href="#46399" title="java.util.ArrayList[String]">patterns</a>, <a href="#46379" title="String">resolverName</a>, <a href="#46400" title="org.apache.ivy.core.publish.PublishOptions">options</a>)
		}
	}
	<span class="comment">/** Resolves and retrieves dependencies.  'ivyConfig' is used to produce an Ivy file and configuration.
	* 'updateConfig' configures the actual resolution and retrieval process. */</span>
	<span class="keyword">def</span> <a title="(sbt.IvySbt#Module,sbt.UpdateConfiguration)Unit" id="46066">update</a>(<a title="sbt.IvySbt#Module" id="46441">module</a>: IvySbt#<a href="Ivy.scala.html#43587" title="sbt.IvySbt#Module">Module</a>, <a title="sbt.UpdateConfiguration" id="46442">configuration</a>: <a href="#9629" title="sbt.UpdateConfiguration">UpdateConfiguration</a>)
	{
		<a href="#46441" title="sbt.IvySbt#Module">module</a>.<a href="Ivy.scala.html#43930" title="((org.apache.ivy.Ivy, org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String) =&gt; Int)Int">withModule</a> <a href="#46449" title="Int">{</a> <span title="Int" class="keyword">case</span> (<a title="org.apache.ivy.Ivy" id="46455">ivy</a>, <a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="46456">md</a>, <a title="String" id="46457">default</a>) =&gt;
			<span class="keyword">import</span> configuration._
			<a href="#46067" title="(sbt.UpdateLogging.Value)(org.apache.ivy.Ivy,org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,String)Unit">resolve</a>(<a href="#46008" title="=&gt; sbt.UpdateLogging.Value">logging</a>)(<a href="#46455" title="org.apache.ivy.Ivy">ivy</a>, <a href="#46456" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">md</a>, <a href="#46457" title="String">default</a>)
			<span class="keyword">val</span> <a title="org.apache.ivy.core.retrieve.RetrieveOptions" id="46459">retrieveOptions</a> = <span title="org.apache.ivy.core.retrieve.RetrieveOptions" class="keyword">new</span> <a title="org.apache.ivy.core.retrieve.RetrieveOptions" id="42735">RetrieveOptions</a>
			<a href="#46459" title="org.apache.ivy.core.retrieve.RetrieveOptions">retrieveOptions</a>.<a title="(Boolean)org.apache.ivy.core.retrieve.RetrieveOptions" id="46478">setSync</a>(<a href="#46007" title="=&gt; Boolean">synchronize</a>)
			<span class="keyword">val</span> <a title="java.lang.String" id="46460">patternBase</a> = <a href="#46005" title="=&gt; java.io.File">retrieveDirectory</a>.<span title="()java.lang.String">getAbsolutePath</span>
			<span class="keyword">val</span> <a title="java.lang.String" id="46461">pattern</a> =
				<span title="java.lang.String" class="keyword">if</span>(<a href="#46460" title="java.lang.String">patternBase</a>.<a title="(java.lang.String)Boolean" id="6371">endsWith</a>(<span title="object java.io.File">File</span>.<a title="java.lang.String" id="16946">separator</a>))
					<a href="#46460" title="java.lang.String">patternBase</a> <span title="(Any)java.lang.String">+</span> <a href="#46006" title="=&gt; String">outputPattern</a>
				<span class="keyword">else</span>
					<a href="#46460" title="java.lang.String">patternBase</a> <span title="(Any)java.lang.String">+</span> <span title="object java.io.File">File</span>.<a title="Char" id="16945">separatorChar</a> <span title="(Any)java.lang.String">+</span> <a href="#46006" title="=&gt; String">outputPattern</a>
			<a href="#46455" title="org.apache.ivy.Ivy">ivy</a>.<a title="(org.apache.ivy.core.module.id.ModuleRevisionId,java.lang.String,org.apache.ivy.core.retrieve.RetrieveOptions)Int" id="43824">retrieve</a>(<a href="#46456" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">md</a>.<span title="()org.apache.ivy.core.module.id.ModuleRevisionId">getModuleRevisionId</span>, <a href="#46461" title="java.lang.String">pattern</a>, <a href="#46459" title="org.apache.ivy.core.retrieve.RetrieveOptions">retrieveOptions</a>)
		}
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.UpdateLogging.Value)(org.apache.ivy.Ivy,org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,String)Unit" id="46067">resolve</a>(<a title="sbt.UpdateLogging.Value" id="46268">logging</a>: UpdateLogging.<span title="sbt.UpdateLogging.Value">Value</span>)(<a title="org.apache.ivy.Ivy" id="46269">ivy</a>: <span title="org.apache.ivy.Ivy">Ivy</span>, <a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="46270">module</a>: <span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">DefaultModuleDescriptor</span>, <a title="String" id="46271">defaultConf</a>: <span title="String">String</span>) =
	{
		<span class="keyword">val</span> <a title="org.apache.ivy.core.resolve.ResolveOptions" id="46273">resolveOptions</a> = <span title="org.apache.ivy.core.resolve.ResolveOptions" class="keyword">new</span> <a title="org.apache.ivy.core.resolve.ResolveOptions" id="41245">ResolveOptions</a>
		<a href="#46273" title="org.apache.ivy.core.resolve.ResolveOptions">resolveOptions</a>.<a title="(java.lang.String)org.apache.ivy.core.LogOptions" id="46317">setLog</a>(<a href="#46070" title="(sbt.UpdateLogging.Value)java.lang.String">ivyLogLevel</a>(<a href="#46268" title="sbt.UpdateLogging.Value">logging</a>))
		<span class="keyword">val</span> <a title="org.apache.ivy.core.report.ResolveReport" id="46274">resolveReport</a> = <a href="#46269" title="org.apache.ivy.Ivy">ivy</a>.<a title="(org.apache.ivy.core.module.descriptor.ModuleDescriptor,org.apache.ivy.core.resolve.ResolveOptions)org.apache.ivy.core.report.ResolveReport" id="43822">resolve</a>(<a href="#46270" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">module</a>, <a href="#46273" title="org.apache.ivy.core.resolve.ResolveOptions">resolveOptions</a>)
		<span title="Unit" class="keyword">if</span>(<a href="#46274" title="org.apache.ivy.core.report.ResolveReport">resolveReport</a>.<a title="()Boolean" id="46124">hasError</a>)
			<span title="Nothing" class="keyword">throw</span> <span title="sbt.ResolveException" class="keyword">new</span> <a href="#12014" title="sbt.ResolveException">ResolveException</a>(<a href="#46274" title="org.apache.ivy.core.report.ResolveReport">resolveReport</a>.<a title="()java.util.List[_]" id="46140">getAllProblemMessages</a>.<a title="()Array[java.lang.Object]" id="40707">toArray</a>.<a title="((java.lang.Object) =&gt; java.lang.String)Array[java.lang.String]" id="15881">map</a>(<a href="#46350" title="java.lang.Object">_</a>.<a title="()java.lang.String" id="6004">toString</a>).<a title="=&gt; List[java.lang.String]" id="16171">toList</a>.<a title="=&gt; List[java.lang.String]" id="15770">removeDuplicates</a>)
	}

	<span class="keyword">import</span> UpdateLogging.{Quiet, Full, DownloadOnly}
	<span class="keyword">import</span> LogOptions.{LOG_QUIET, LOG_DEFAULT, LOG_DOWNLOAD_ONLY}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.UpdateLogging.Value)java.lang.String" id="46070">ivyLogLevel</a>(<a title="sbt.UpdateLogging.Value" id="46324">level</a>: UpdateLogging.<span title="sbt.UpdateLogging.Value">Value</span>) =
		<a href="#46324" title="sbt.UpdateLogging.Value">level</a> <span title="java.lang.String" class="keyword">match</span>
		{
			<span title="java.lang.String(&quot;quiet&quot;)" class="keyword">case</span> <a href="#46003" title="=&gt; sbt.UpdateLogging.Value">Quiet</a> =&gt; <span title="java.lang.String(&quot;quiet&quot;)">LOG_QUIET</span>
			<span title="java.lang.String(&quot;download-only&quot;)" class="keyword">case</span> <a href="#46001" title="=&gt; sbt.UpdateLogging.Value">DownloadOnly</a> =&gt; <span title="java.lang.String(&quot;download-only&quot;)">LOG_DOWNLOAD_ONLY</span>
			<span title="java.lang.String(&quot;default&quot;)" class="keyword">case</span> <a href="#45999" title="=&gt; sbt.UpdateLogging.Value">Full</a> =&gt; <span title="java.lang.String(&quot;default&quot;)">LOG_DEFAULT</span>
		}
}
<span class="keyword">final</span> <span class="keyword">class</span> <a title="class ResolveException extends java.lang.RuntimeException with ScalaObject" id="12014">ResolveException</a>(<a title="List[String]" id="46343">messages</a>: <a title="List[String]" id="495">List</a>[String]) <span class="keyword">extends</span> <a title="java.lang.RuntimeException" id="19725">RuntimeException</a>(<a href="#46343" title="List[String]">messages</a>.<a title="(String)String" id="16175">mkString</a>(<span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span>))
        </pre>
    </body>
</html>