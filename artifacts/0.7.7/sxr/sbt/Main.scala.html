<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>sbt/Main.scala</title>
        <script type="text/javascript" src="../jquery-all.js"></script>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* sbt -- Simple Build Tool
 * Copyright 2008, 2009, 2010  Steven Blundy, Mark Harrah, David MacIver, Mikko Peltonen
 */</span>
<span class="keyword">package</span> sbt

<span class="keyword">import</span> java.io.File
<span class="keyword">import</span> scala.collection.immutable.TreeSet
<span class="keyword">import</span> complete.HistoryCommands
<span class="keyword">import</span> HistoryCommands.{Start =&gt; HistoryPrefix}

<span class="comment">/** This class is the entry point for sbt.  If it is given any arguments, it interprets them
* as actions, executes the corresponding actions, and exits.  If there were no arguments provided,
* sbt enters interactive mode.*/</span>
<span class="keyword">object</span> <a title="object sbt.Main" id="10647">Main</a>
{
	<span class="keyword">val</span> <a title="Int" id="68659">NormalExitCode</a> = <span title="Int(0)" class="int">0</span>
	<span class="keyword">val</span> <a title="Int" id="68661">SetupErrorExitCode</a> = <span title="Int(1)" class="int">1</span>
	<span class="keyword">val</span> <a title="Int" id="68663">SetupDeclinedExitCode</a> = <span title="Int(2)" class="int">2</span>
	<span class="keyword">val</span> <a title="Int" id="68665">LoadErrorExitCode</a> = <span title="Int(3)" class="int">3</span>
	<span class="keyword">val</span> <a title="Int" id="68667">UsageErrorExitCode</a> = <span title="Int(4)" class="int">4</span>
	<span class="keyword">val</span> <a title="Int" id="68669">BuildErrorExitCode</a> = <span title="Int(5)" class="int">5</span>
	<span class="keyword">val</span> <a title="Int" id="68671">ProgramErrorExitCode</a> = <span title="Int(6)" class="int">6</span>
	<span class="keyword">val</span> <a title="Int" id="68673">MaxInt</a> = java.lang.Integer.<span title="Int(2147483647)">MAX_VALUE</span>
}

<span class="keyword">import</span> Main._

<span class="keyword">class</span> <a title="class xMain extends java.lang.Object with xsbti.AppMain with ScalaObject" id="9971">xMain</a> <span class="keyword">extends</span> xsbti.<a href="../xsbti/AppMain.java.html#7630" title="xsbti.AppMain">AppMain</a>
{
	<span class="keyword">final</span> <span class="keyword">def</span> <a title="(xsbti.AppConfiguration)xsbti.MainResult" id="68679">run</a>(<a title="xsbti.AppConfiguration" id="68784">configuration</a>: xsbti.<a href="../xsbti/AppConfiguration.java.html#7606" title="xsbti.AppConfiguration">AppConfiguration</a>): xsbti.<a href="../xsbti/MainResult.java.html#7633" title="xsbti.MainResult">MainResult</a> =
	{
		<span class="keyword">def</span> <a title="(List[String],Option[String])xsbti.MainResult" id="68790">run0</a>(<a title="List[String]" id="68791">remainingArguments</a>: <span title="List[String]">List</span>[String], <a title="Option[String]" id="68792">buildScalaVersion</a>: <span title="Option[String]">Option</span>[String]): xsbti.<a href="../xsbti/MainResult.java.html#7633" title="xsbti.MainResult">MainResult</a> =
		{
			<span class="comment">// done this way because in Scala 2.7.7, tail recursion in catch blocks is not optimized</span>
			<span class="keyword">val</span> <a title="&lt;refinement&gt; extends Either[sbt.ReloadException,xsbti.MainResult] with Product" id="68793">result</a> = <span class="keyword">try</span> { <span title="(xsbti.MainResult)Right[Nothing,xsbti.MainResult]">Right</span>(<a href="#68680" title="(xsbti.AppConfiguration,List[String],Option[String])xsbti.MainResult">run</a>(<a href="#68784" title="xsbti.AppConfiguration">configuration</a>, <a href="#68791" title="List[String]">remainingArguments</a>, <a href="#68792" title="Option[String]">buildScalaVersion</a>)) } <span class="keyword">catch</span> { <span title="Left[sbt.ReloadException,Nothing]" class="keyword">case</span> <a title="sbt.ReloadException" id="68806">re</a>: <a href="MainControl.scala.html#11954" title="sbt.ReloadException">ReloadException</a> =&gt; <span title="(sbt.ReloadException)Left[sbt.ReloadException,Nothing]">Left</span>(<a href="#68806" title="sbt.ReloadException">re</a>) }
			<a href="#68793" title="&lt;refinement&gt; extends Either[sbt.ReloadException,xsbti.MainResult] with Product">result</a> <span title="xsbti.MainResult" class="keyword">match</span>
			{
				<span title="xsbti.MainResult" class="keyword">case</span> Left(<a title="sbt.ReloadException" id="68829">re</a>) =&gt; <a href="#68790" title="(List[String],Option[String])xsbti.MainResult">run0</a>(<a href="#68829" title="sbt.ReloadException">re</a>.<a href="MainControl.scala.html#68809" title="=&gt; List[String]">remainingArguments</a>, <a href="#68829" title="sbt.ReloadException">re</a>.<a href="MainControl.scala.html#68811" title="=&gt; Option[String]">buildScalaVersion</a>)
				<span title="xsbti.MainResult" class="keyword">case</span> Right(<a title="xsbti.MainResult" id="68830">r</a>) =&gt; <a href="#68830" title="xsbti.MainResult">r</a>
			}
		}
		<a href="#68790" title="(List[String],Option[String])xsbti.MainResult">run0</a>(<a href="#68784" title="xsbti.AppConfiguration">configuration</a>.<a href="../xsbti/AppConfiguration.java.html#68786" title="()Array[java.lang.String]">arguments</a>.<a title="((java.lang.String) =&gt; java.lang.String)Array[java.lang.String]" id="15881">map</a>(<a href="#68834" title="java.lang.String">_</a>.<span title="()java.lang.String">trim</span>).<span title="=&gt; List[java.lang.String]">toList</span>, <span title="object None">None</span>)
	}
	<span class="keyword">final</span> <span class="keyword">def</span> <a title="(xsbti.AppConfiguration,List[String],Option[String])xsbti.MainResult" id="68680">run</a>(<a title="xsbti.AppConfiguration" id="68798">configuration</a>: xsbti.<a href="../xsbti/AppConfiguration.java.html#7606" title="xsbti.AppConfiguration">AppConfiguration</a>, <a title="List[String]" id="68799">remainingArguments</a>: <span title="List[String]">List</span>[String], <a title="Option[String]" id="68800">buildScalaVersion</a>: <span title="Option[String]">Option</span>[String]): xsbti.<a href="../xsbti/MainResult.java.html#7633" title="xsbti.MainResult">MainResult</a> =
	{
		<span class="keyword">val</span> <a title="Long" id="68835">startTime</a> = <span title="object java.lang.System">System</span>.<span title="()Long">currentTimeMillis</span>
		<a href="Project.scala.html#9291" title="object sbt.Project">Project</a>.<a href="Project.scala.html#54612" title="(xsbti.AppProvider,Option[String])sbt.LoadResult">loadProject</a>(<a href="#68798" title="xsbti.AppConfiguration">configuration</a>.<a href="../xsbti/AppConfiguration.java.html#68788" title="()xsbti.AppProvider">provider</a>, <a href="#68800" title="Option[String]">buildScalaVersion</a>) <span title="xsbti.MainResult" class="keyword">match</span>
		{
			<span title="sbt.Exit" class="keyword">case</span> <a title="sbt.LoadSetupError" id="68860">err</a>: <a href="Project.scala.html#8918" title="sbt.LoadSetupError">LoadSetupError</a> =&gt;
				<span title="(Any)Unit">println</span>(<span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#68860" title="sbt.LoadSetupError">err</a>.<a href="Project.scala.html#68862" title="=&gt; String">message</a>)
				<a href="ExitHook.scala.html#9990" title="object sbt.ExitHooks">ExitHooks</a>.<a href="ExitHook.scala.html#63399" title="(sbt.Logger)Unit">runExitHooks</a>(<a href="Project.scala.html#9291" title="object sbt.Project">Project</a>.<a href="Project.scala.html#54609" title="=&gt; sbt.ConsoleLogger">bootLogger</a>)
				<a href="MainControl.scala.html#68870" title="(Int)sbt.Exit">Exit</a>(<a href="#68661" title="=&gt; Int">SetupErrorExitCode</a>)
			<span title="sbt.Exit" class="keyword">case</span> <a href="Project.scala.html#11868" title="object sbt.LoadSetupDeclined">LoadSetupDeclined</a> =&gt;
				<a href="ExitHook.scala.html#9990" title="object sbt.ExitHooks">ExitHooks</a>.<a href="ExitHook.scala.html#63399" title="(sbt.Logger)Unit">runExitHooks</a>(<a href="Project.scala.html#9291" title="object sbt.Project">Project</a>.<a href="Project.scala.html#54609" title="=&gt; sbt.ConsoleLogger">bootLogger</a>)
				<a href="MainControl.scala.html#68870" title="(Int)sbt.Exit">Exit</a>(<a href="#68663" title="=&gt; Int">SetupDeclinedExitCode</a>)
			<span title="xsbti.MainResult" class="keyword">case</span> <a title="sbt.LoadError" id="68880">err</a>: <a href="Project.scala.html#9737" title="sbt.LoadError">LoadError</a> =&gt;
			{
				<span class="keyword">val</span> <a title="sbt.ConsoleLogger" id="68885">log</a> = <a href="Project.scala.html#9291" title="object sbt.Project">Project</a>.<a href="Project.scala.html#54609" title="=&gt; sbt.ConsoleLogger">bootLogger</a>
				<span title="(Any)Unit">println</span>(<a href="#68880" title="sbt.LoadError">err</a>.<a href="Project.scala.html#68882" title="=&gt; String">message</a>)
				<a href="ExitHook.scala.html#9990" title="object sbt.ExitHooks">ExitHooks</a>.<a href="ExitHook.scala.html#63399" title="(sbt.Logger)Unit">runExitHooks</a>(<a href="#68885" title="sbt.ConsoleLogger">log</a>)
				<span class="comment">// Because this is an error that can probably be corrected, prompt user to try again.</span>
				<span class="keyword">val</span> <a title="Option[java.lang.String]" id="68886">line</a> =
					<span class="keyword">try</span> { <a href="LineReader.scala.html#9582" title="object sbt.SimpleReader">SimpleReader</a>.<a href="LineReader.scala.html#60215" title="(String)Option[java.lang.String]">readLine</a>(<span title="java.lang.String(&quot;\012 Hit enter to retry or 'exit' to quit: &quot;)" class="string">&quot;\n Hit enter to retry or 'exit' to quit: &quot;</span>) }
					<span class="keyword">catch</span>
					{
						<span title="None.type" class="keyword">case</span> <a title="java.lang.Throwable" id="68888">e</a> =&gt;
							<a href="#68885" title="sbt.ConsoleLogger">log</a>.<a href="Logger.scala.html#68229" title="(=&gt; Throwable)Unit">trace</a>(<a href="#68888" title="java.lang.Throwable">e</a>)
							<a href="#68885" title="sbt.ConsoleLogger">log</a>.<a href="Logger.scala.html#52377" title="(=&gt; String)Unit">error</a>(<a href="#68888" title="java.lang.Throwable">e</a>.<span title="()java.lang.String">toString</span>)
							<span title="object None">None</span>
					}
				<a href="#68886" title="Option[java.lang.String]">line</a> <span title="xsbti.MainResult" class="keyword">match</span>
				{
					<span title="xsbti.MainResult" class="keyword">case</span> Some(<a title="java.lang.String" id="68891">l</a>) =&gt; <span title="xsbti.MainResult" class="keyword">if</span>(<span title="=&gt; Boolean">!</span><a href="#68776" title="(String)Boolean">isTerminateAction</a>(<a href="#68891" title="java.lang.String">l</a>)) <a href="#68680" title="(xsbti.AppConfiguration,List[String],Option[String])xsbti.MainResult">run</a>(<a href="#68798" title="xsbti.AppConfiguration">configuration</a>, <a href="#68799" title="List[String]">remainingArguments</a>, <a href="#68800" title="Option[String]">buildScalaVersion</a>) <span class="keyword">else</span> <a href="MainControl.scala.html#68870" title="(Int)sbt.Exit">Exit</a>(<a href="#68659" title="=&gt; Int">NormalExitCode</a>)
					<span title="sbt.Exit" class="keyword">case</span> <span title="object None">None</span> =&gt; <a href="MainControl.scala.html#68870" title="(Int)sbt.Exit">Exit</a>(<a href="#68665" title="=&gt; Int">LoadErrorExitCode</a>)
				}
			}
			<span title="xsbti.MainResult" class="keyword">case</span> <a title="sbt.LoadSuccess" id="68900">success</a>: <a href="Project.scala.html#7958" title="sbt.LoadSuccess">LoadSuccess</a> =&gt;
			{
				<span class="keyword">import</span> success.project
				<span class="keyword">try</span>
				{
					<span class="comment">// in interactive mode, fill all undefined properties</span>
					<span title="xsbti.MainResult" class="keyword">if</span>(<a href="#68798" title="xsbti.AppConfiguration">configuration</a>.<a href="../xsbti/AppConfiguration.java.html#68786" title="()Array[java.lang.String]">arguments</a>.<a title="=&gt; Int" id="15873">length</a> <span title="(Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span> <span title="(Boolean)Boolean">||</span> <a href="#68769" title="(List[sbt.Project])Boolean">fillUndefinedProjectProperties</a>(<a href="Project.scala.html#68902" title="=&gt; sbt.Project">project</a>.<a href="Project.scala.html#53870" title="=&gt; List[sbt.Project]">projectClosure</a>.<a title="=&gt; List[sbt.Project]" id="15713">toList</a>.<a title="=&gt; List[sbt.Project]" id="15750">reverse</a>))
						<a href="#68682" title="(sbt.Project,xsbti.AppConfiguration,List[String],Long)xsbti.MainResult">startProject</a>(<a href="Project.scala.html#68902" title="=&gt; sbt.Project">project</a>, <a href="#68798" title="xsbti.AppConfiguration">configuration</a>, <a href="#68799" title="List[String]">remainingArguments</a>, <a href="#68835" title="Long">startTime</a>)
					<span class="keyword">else</span>
						<a href="MainControl.scala.html#68870" title="(Int)sbt.Exit">Exit</a>(<a href="#68659" title="=&gt; Int">NormalExitCode</a>)
				}
				<span class="keyword">finally</span> { <a href="ExitHook.scala.html#9990" title="object sbt.ExitHooks">ExitHooks</a>.<a href="ExitHook.scala.html#63399" title="(sbt.Logger)Unit">runExitHooks</a>(<a href="Project.scala.html#68902" title="=&gt; sbt.Project">project</a>.<a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>) }
			}
		}
	}
	<span class="comment">/** If no arguments are provided, drop to interactive prompt.
	* If the user wants to run commands before dropping to the interactive prompt,
	*   make dropping to the interactive prompt the action to perform on failure */</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(List[String])List[String]" id="68681">initialize</a>(<a title="List[String]" id="68916">args</a>: <span title="List[String]">List</span>[String]): <span title="List[String]">List</span>[String] =
		<a href="#68916" title="List[String]">args</a>.<a title="=&gt; Option[String]" id="16004">lastOption</a> <span title="List[String]" class="keyword">match</span>
		{
			<span title="List[java.lang.String]" class="keyword">case</span> <span title="object None">None</span> =&gt; <a href="#68715" title="=&gt; java.lang.String">InteractiveCommand</a> <a href="#68917" title="(java.lang.String)List[java.lang.String]">::</a> <span title="object Nil">Nil</span>
			<span title="List[String]" class="keyword">case</span> Some(<a href="#68715" title="=&gt; java.lang.String">InteractiveCommand</a>) =&gt; (<a href="#68739" title="=&gt; java.lang.String">FailureHandlerPrefix</a> <span title="(Any)java.lang.String">+</span> <a href="#68715" title="=&gt; java.lang.String">InteractiveCommand</a>) <a href="#68920" title="(String)List[String]">::</a> <a href="#68916" title="List[String]">args</a>
			<span title="List[String]" class="keyword">case</span> Some(<a href="#68707" title="=&gt; java.lang.String">ExitCommand</a> | <a href="#68709" title="=&gt; java.lang.String">QuitCommand</a>) =&gt; <a href="#68916" title="List[String]">args</a>
			<span title="List[java.lang.String]" class="keyword">case</span> _ =&gt; <a href="#68916" title="List[String]">args</a> <a href="#68923" title="(List[java.lang.String])List[java.lang.String]">:::</a> <a href="#68707" title="=&gt; java.lang.String">ExitCommand</a> <a href="#68924" title="(java.lang.String)List[java.lang.String]">::</a> <span title="object Nil">Nil</span>
		}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project,xsbti.AppConfiguration,List[String],Long)xsbti.MainResult" id="68682">startProject</a>(<a title="sbt.Project" id="68912">project</a>: <a href="Project.scala.html#9290" title="sbt.Project">Project</a>, <a title="xsbti.AppConfiguration" id="68913">configuration</a>: xsbti.<a href="../xsbti/AppConfiguration.java.html#7606" title="xsbti.AppConfiguration">AppConfiguration</a>, <a title="List[String]" id="68914">remainingArguments</a>: <span title="List[String]">List</span>[String], <a title="Long" id="68915">startTime</a>: <span title="Long">Long</span>): xsbti.<a href="../xsbti/MainResult.java.html#7633" title="xsbti.MainResult">MainResult</a> =
	{
		<a href="#68912" title="sbt.Project">project</a>.<a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#52375" title="(=&gt; String)Unit">info</a>(<span title="java.lang.String(&quot;Building project &quot;)" class="string">&quot;Building project &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#68912" title="sbt.Project">project</a>.<a href="Project.scala.html#53848" title="=&gt; String">name</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#68912" title="sbt.Project">project</a>.<a href="Project.scala.html#53849" title="=&gt; sbt.Version">version</a>.<span title="()java.lang.String">toString</span> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; against Scala &quot;)" class="string">&quot; against Scala &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#68912" title="sbt.Project">project</a>.<a href="Project.scala.html#53914" title="=&gt; String">buildScalaVersion</a>)
		<a href="#68912" title="sbt.Project">project</a>.<a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#52375" title="(=&gt; String)Unit">info</a>(<span title="java.lang.String(&quot;   using &quot;)" class="string">&quot;   using &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#68912" title="sbt.Project">project</a>.<a title="()java.lang.Class[_]" id="3450">getClass</a>.<a title="()java.lang.String" id="3923">getName</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; with sbt &quot;)" class="string">&quot; with sbt &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="../ComponentManager.scala.html#10410" title="object sbt.ComponentManager">ComponentManager</a>.<a href="../ComponentManager.scala.html#40362" title="=&gt; java.lang.String">version</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; and Scala &quot;)" class="string">&quot; and Scala &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#68912" title="sbt.Project">project</a>.<a href="Project.scala.html#53902" title="=&gt; project.Property[String]">defScalaVersion</a>.<a href="Environment.scala.html#55118" title="=&gt; String">value</a>)
		<a href="#68683" title="(sbt.Project,List[String],xsbti.AppConfiguration,Long)xsbti.MainResult">processArguments</a>(<a href="#68912" title="sbt.Project">project</a>, <a href="#68681" title="(List[String])List[String]">initialize</a>(<a href="#68914" title="List[String]">remainingArguments</a>), <a href="#68913" title="xsbti.AppConfiguration">configuration</a>, <a href="#68915" title="Long">startTime</a>) <span title="xsbti.MainResult" class="keyword">match</span>
		{
			<span title="xsbti.Exit" class="keyword">case</span> <a title="xsbti.Exit" id="68937">e</a>: xsbti.<a href="../xsbti/Exit.java.html#7597" title="xsbti.Exit">Exit</a> =&gt;
				<a href="#68765" title="(sbt.Project,Long,String)Unit">printTime</a>(<a href="#68912" title="sbt.Project">project</a>, <a href="#68915" title="Long">startTime</a>, <span title="java.lang.String(&quot;session&quot;)" class="string">&quot;session&quot;</span>)
				<span title="Unit" class="keyword">if</span>(<a href="#68937" title="xsbti.Exit">e</a>.<a href="../xsbti/Exit.java.html#68872" title="()Int">code</a> <span title="(Int)Boolean">==</span> <a href="#68659" title="=&gt; Int">NormalExitCode</a>)
					<a href="#68912" title="sbt.Project">project</a>.<a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#52378" title="(=&gt; String)Unit">success</a>(<span title="java.lang.String(&quot;Build completed successfully.&quot;)" class="string">&quot;Build completed successfully.&quot;</span>)
				<span class="keyword">else</span>
					<a href="#68912" title="sbt.Project">project</a>.<a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#52377" title="(=&gt; String)Unit">error</a>(<span title="java.lang.String(&quot;Error during build.&quot;)" class="string">&quot;Error during build.&quot;</span>)
				<a href="#68937" title="xsbti.Exit">e</a>
			<span title="xsbti.MainResult" class="keyword">case</span> <a title="xsbti.MainResult" id="68944">r</a> =&gt; <a href="#68944" title="xsbti.MainResult">r</a>
		}
	}
	<span class="comment">/** This is the top-level command processing method. */</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project,List[String],xsbti.AppConfiguration,Long)xsbti.MainResult" id="68683">processArguments</a>(<a title="sbt.Project" id="68933">baseProject</a>: <a href="Project.scala.html#9290" title="sbt.Project">Project</a>, <a title="List[String]" id="68934">arguments</a>: <span title="List[String]">List</span>[String], <a title="xsbti.AppConfiguration" id="68935">configuration</a>: xsbti.<a href="../xsbti/AppConfiguration.java.html#7606" title="xsbti.AppConfiguration">AppConfiguration</a>, <a title="Long" id="68936">startTime</a>: <span title="Long">Long</span>): xsbti.<a href="../xsbti/MainResult.java.html#7633" title="xsbti.MainResult">MainResult</a> =
	{
		<span class="keyword">type</span> <a title="Option[String]" id="68945">OnFailure</a> = <span title="Option[String]">Option</span>[String]
		<span class="keyword">def</span> <a title="=&gt; object None" id="68946">ExitOnFailure</a> = <span title="object None">None</span>
		<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Some[java.lang.String]" id="68948">interactiveContinue</a> = <span title="(java.lang.String)Some[java.lang.String]">Some</span>( <a href="#68715" title="=&gt; java.lang.String">InteractiveCommand</a> )
		<span class="keyword">def</span> <a title="(Int)Some[java.lang.String]" id="68949">remoteContinue</a>(<a title="Int" id="68960">port</a>: <span title="Int">Int</span>) = <span title="(java.lang.String)Some[java.lang.String]">Some</span>( <a href="#68737" title="=&gt; java.lang.String">FileCommandsPrefix</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;-&quot;)" class="string">&quot;-&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#68960" title="Int">port</a> )
		<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="sbt.processor.Handler" id="68951">PHandler</a> = <span title="sbt.processor.Handler" class="keyword">new</span> processor.<a href="processor/Handler.scala.html#14927" title="sbt.processor.Handler">Handler</a>(<a href="#68933" title="sbt.Project">baseProject</a>)
		
		<span class="comment">// replace in 2.8</span>
		<span class="keyword">trait</span> <a title="trait Trampoline extends java.lang.Object" id="2101">Trampoline</a>
		<span class="keyword">class</span> <a title="class Done extends java.lang.Object with Trampoline with ScalaObject" id="68953">Done</a>(<span class="keyword">val</span> <a title="xsbti.MainResult" id="68992">r</a>: xsbti.<a href="../xsbti/MainResult.java.html#7633" title="xsbti.MainResult">MainResult</a>) <span class="keyword">extends</span> <a href="#2101" title="Trampoline">Trampoline</a>
		<span class="keyword">class</span> <a title="class Continue extends java.lang.Object with Trampoline with ScalaObject" id="68954">Continue</a>(<a title="sbt.Project" id="69005">project</a>: <a href="Project.scala.html#9290" title="sbt.Project">Project</a>, <a title="List[String]" id="69006">arguments</a>: <span title="List[String]">List</span>[String], <a title="OnFailure" id="69007">failAction</a>: <span title="OnFailure">OnFailure</span>) <span class="keyword">extends</span> <a href="#2101" title="Trampoline">Trampoline</a> {
			<span class="keyword">def</span> <a title="()Trampoline" id="69000">apply</a>() = <a href="#68958" title="(sbt.Project,List[String],OnFailure)Trampoline">process</a>(<a href="#69005" title="sbt.Project">project</a>, <a href="#69006" title="List[String]">arguments</a>, <a href="#69007" title="OnFailure">failAction</a>)
		}
		<span class="keyword">def</span> <a title="(sbt.Project,List[String],OnFailure)Continue" id="68955">continue</a>(<a title="sbt.Project" id="69012">project</a>: <a href="Project.scala.html#9290" title="sbt.Project">Project</a>, <a title="List[String]" id="69013">arguments</a>: <span title="List[String]">List</span>[String], <a title="OnFailure" id="69014">failAction</a>: <span title="OnFailure">OnFailure</span>) = <span title="Continue" class="keyword">new</span> <a href="#68954" title="Continue">Continue</a>(<a href="#69012" title="sbt.Project">project</a>, <a href="#69013" title="List[String]">arguments</a>, <a href="#69014" title="OnFailure">failAction</a>)
		<span class="keyword">def</span> <a title="(xsbti.MainResult)Done" id="68956">result</a>(<a title="xsbti.MainResult" id="69015">r</a>: xsbti.<a href="../xsbti/MainResult.java.html#7633" title="xsbti.MainResult">MainResult</a>) = <span title="Done" class="keyword">new</span> <a href="#68953" title="Done">Done</a>(<a href="#69015" title="xsbti.MainResult">r</a>)
		<span class="keyword">def</span> <a title="(Trampoline)xsbti.MainResult" id="68957">run</a>(<a title="Trampoline" id="69016">t</a>: <a href="#2101" title="Trampoline">Trampoline</a>): xsbti.<a href="../xsbti/MainResult.java.html#7633" title="xsbti.MainResult">MainResult</a> = <a href="#69016" title="Trampoline">t</a> <span title="xsbti.MainResult" class="keyword">match</span> { <span title="xsbti.MainResult" class="keyword">case</span> <a title="Done" id="69017">d</a>: <a href="#68953" title="Done">Done</a> =&gt; <a href="#69017" title="Done">d</a>.<a href="#68992" title="=&gt; xsbti.MainResult">r</a>; <span title="xsbti.MainResult" class="keyword">case</span> <a title="Continue" id="69018">c</a>: <a href="#68954" title="Continue">Continue</a> =&gt; <a href="#68957" title="(Trampoline)xsbti.MainResult">run</a>(<a href="#69000" title="()Trampoline">c</a>()) }

		<span class="keyword">def</span> <a title="(sbt.Project,List[String],OnFailure)Trampoline" id="68958">process</a>(<a title="sbt.Project" id="69009">project</a>: <a href="Project.scala.html#9290" title="sbt.Project">Project</a>, <a title="List[String]" id="69010">arguments</a>: <span title="List[String]">List</span>[String], <a title="OnFailure" id="69011">failAction</a>: <span title="OnFailure">OnFailure</span>): <a href="#2101" title="Trampoline">Trampoline</a> =
		{
			<a href="#69009" title="sbt.Project">project</a>.<a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#52374" title="(=&gt; String)Unit">debug</a>(<span title="java.lang.String(&quot;commands &quot;)" class="string">&quot;commands &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#69011" title="OnFailure">failAction</a>.<a title="(Option[java.lang.String])Iterable[java.lang.String]" id="898">map</a>(<span title="java.lang.String(&quot;(on failure: &quot;)" class="string">&quot;(on failure: &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#69028" title="String">_</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;): &quot;)" class="string">&quot;): &quot;</span>).<a title="=&gt; String" id="16176">mkString</a> <span title="(Any)java.lang.String">+</span> <a href="#69010" title="List[String]">arguments</a>.<span title="(String)String">mkString</span>(<span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>))
			<span class="keyword">def</span> <a title="(List[String])List[String]" id="69019">rememberCurrent</a>(<a title="List[String]" id="69049">newArgs</a>: <span title="List[String]">List</span>[String]) = <a href="#69020" title="(List[String])List[String]">rememberProject</a>(<a href="#69021" title="(List[String])List[String]">rememberFail</a>(<a href="#69049" title="List[String]">newArgs</a>))
			<span class="keyword">def</span> <a title="(List[String])List[String]" id="69020">rememberProject</a>(<a title="List[String]" id="69050">newArgs</a>: <span title="List[String]">List</span>[String]) =
				<span title="List[String]" class="keyword">if</span>(<a href="#68933" title="sbt.Project">baseProject</a>.<a href="Project.scala.html#53848" title="=&gt; String">name</a> <span title="(AnyRef)Boolean">!=</span> <a href="#69009" title="sbt.Project">project</a>.<a href="Project.scala.html#53848" title="=&gt; String">name</a> <span title="(Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#68684" title="(sbt.Project)Boolean">internal</a>(<a href="#69009" title="sbt.Project">project</a>)) (<a href="#68703" title="=&gt; java.lang.String">ProjectAction</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#69009" title="sbt.Project">project</a>.<a href="Project.scala.html#53848" title="=&gt; String">name</a>) <a href="#69055" title="(String)List[String]">::</a> <a href="#69050" title="List[String]">newArgs</a> <span class="keyword">else</span> <a href="#69050" title="List[String]">newArgs</a>
			<span class="keyword">def</span> <a title="(List[String])List[String]" id="69021">rememberFail</a>(<a title="List[String]" id="69058">newArgs</a>: <span title="List[String]">List</span>[String]) = <a href="#69011" title="OnFailure">failAction</a>.<span title="((String) =&gt; java.lang.String)Option[java.lang.String]">map</span>(<a title="String" id="69062">f</a> =&gt; (<a href="#68739" title="=&gt; java.lang.String">FailureHandlerPrefix</a> <span title="(Any)java.lang.String">+</span> <a href="#69062" title="String">f</a>)).<a title="=&gt; List[java.lang.String]" id="30542">toList</a> <a href="#69059" title="(List[String])List[String]">:::</a>  <a href="#69058" title="List[String]">newArgs</a>

			<span class="keyword">def</span> <a title="(=&gt; Trampoline)Trampoline" id="69022">tryOrFail</a>(<a title="=&gt; Trampoline" id="69065">action</a>: =&gt; Trampoline)  =  <span class="keyword">try</span> { <a href="#69065" title="=&gt; Trampoline">action</a> } <span class="keyword">catch</span> { <span title="&lt;refinement&gt; extends ScalaObject with Trampoline" class="keyword">case</span> <a title="Exception" id="69066">e</a>: <span title="Exception">Exception</span> =&gt; <a href="#68782" title="(sbt.Logger,Throwable)Unit">logCommandError</a>(<a href="#69009" title="sbt.Project">project</a>.<a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>, <a href="#69066" title="Exception">e</a>); <a href="#69024" title="(Int)ScalaObject with Trampoline">failed</a>(<a href="#68669" title="=&gt; Int">BuildErrorExitCode</a>) }
			<span class="keyword">def</span> <a title="(List[String])Done" id="69023">reload</a>(<a title="List[String]" id="69100">args</a>: <span title="List[String]">List</span>[String]) =
			{
				<span class="keyword">val</span> <a title="sbt.ApplicationID" id="69101">newID</a> = <span title="sbt.ApplicationID" class="keyword">new</span> <a href="MainControl.scala.html#9818" title="sbt.ApplicationID">ApplicationID</a>(<a href="#68935" title="xsbti.AppConfiguration">configuration</a>.<a href="../xsbti/AppConfiguration.java.html#68788" title="()xsbti.AppProvider">provider</a>.<a href="../xsbti/AppProvider.java.html#55550" title="()xsbti.ApplicationID">id</a>, <a href="#68933" title="sbt.Project">baseProject</a>.<a href="Project.scala.html#53904" title="=&gt; baseProject.Property[String]">sbtVersion</a>.<a href="Environment.scala.html#55118" title="=&gt; String">value</a>)
				<a href="#68956" title="(xsbti.MainResult)Done">result</a>( <span title="sbt.Reboot" class="keyword">new</span> <a href="MainControl.scala.html#8954" title="sbt.Reboot">Reboot</a>(<a href="#69009" title="sbt.Project">project</a>.<a href="Project.scala.html#53902" title="=&gt; project.Property[String]">defScalaVersion</a>.<a href="Environment.scala.html#55118" title="=&gt; String">value</a>, <a href="#69019" title="(List[String])List[String]">rememberCurrent</a>(<a href="#69100" title="List[String]">args</a>), <a href="#69101" title="sbt.ApplicationID">newID</a>, <a href="#68935" title="xsbti.AppConfiguration">configuration</a>.<a href="../xsbti/AppConfiguration.java.html#68787" title="()java.io.File">baseDirectory</a>) )
			}
			<span class="keyword">def</span> <a title="(Int)ScalaObject with Trampoline" id="69024">failed</a>(<a title="Int" id="69083">code</a>: <span title="Int">Int</span>) =
				<a href="#69011" title="OnFailure">failAction</a> <span title="&lt;refinement&gt; extends ScalaObject with Trampoline" class="keyword">match</span>
				{
					<span title="Continue" class="keyword">case</span> Some(<a title="String" id="69084">c</a>) =&gt; <a href="#68955" title="(sbt.Project,List[String],OnFailure)Continue">continue</a>(<a href="#69009" title="sbt.Project">project</a>, <a href="#69084" title="String">c</a> <a href="#69085" title="(String)List[String]">::</a> <span title="object Nil">Nil</span>, <a href="#68946" title="=&gt; object None">ExitOnFailure</a>)
					<span title="Done" class="keyword">case</span> <span title="object None">None</span> =&gt; <a href="#68956" title="(xsbti.MainResult)Done">result</a>( <a href="MainControl.scala.html#68870" title="(Int)sbt.Exit">Exit</a>(<a href="#69083" title="Int">code</a>) )
				}
				
			<a href="#69010" title="List[String]">arguments</a> <span title="Trampoline" class="keyword">match</span>
			{
				<span title="Continue" class="keyword">case</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> :: <a title="List[String]" id="69148">tail</a> =&gt; <a href="#68955" title="(sbt.Project,List[String],OnFailure)Continue">continue</a>(<a href="#69009" title="sbt.Project">project</a>, <a href="#69148" title="List[String]">tail</a>, <a href="#69011" title="OnFailure">failAction</a>)
				<span title="Continue" class="keyword">case</span> <a href="#68711" title="=&gt; java.lang.String">ResetCommand</a> :: <a title="List[String]" id="69149">tail</a> =&gt; <a href="LineReader.scala.html#8505" title="object sbt.JLine">JLine</a>.<a href="LineReader.scala.html#59445" title="()Unit">resetTerminal</a>(); <a href="#68955" title="(sbt.Project,List[String],OnFailure)Continue">continue</a>(<a href="#69009" title="sbt.Project">project</a>, <a href="#69149" title="List[String]">tail</a>, <a href="#69011" title="OnFailure">failAction</a>)
				<span title="Continue" class="keyword">case</span> <a title="String" id="69150">x</a> :: <a title="List[String]" id="69151">tail</a> <span class="keyword">if</span> <a href="#69150" title="String">x</a>.<span title="(java.lang.String)Boolean">startsWith</span>(<span title="java.lang.String(&quot;;&quot;)" class="string">&quot;;&quot;</span>) =&gt; <a href="#68955" title="(sbt.Project,List[String],OnFailure)Continue">continue</a>(<a href="#69009" title="sbt.Project">project</a>, <a href="#69150" title="String">x</a>.<a title="(java.lang.String)Array[java.lang.String]" id="6394">split</a>(<span title="java.lang.String(&quot;\s*;\s*&quot;)" class="string">&quot;&quot;&quot;\s*;\s*&quot;&quot;&quot;</span>).<span title="=&gt; List[java.lang.String]">toList</span> <a href="#69153" title="(List[String])List[String]">:::</a> <a href="#69151" title="List[String]">tail</a>, <a href="#69011" title="OnFailure">failAction</a>)
				<span title="Done" class="keyword">case</span> (<a href="#68707" title="=&gt; java.lang.String">ExitCommand</a> | <a href="#68709" title="=&gt; java.lang.String">QuitCommand</a>) :: _ =&gt; <a href="#68956" title="(xsbti.MainResult)Done">result</a>( <a href="MainControl.scala.html#68870" title="(Int)sbt.Exit">Exit</a>(<a href="#68659" title="=&gt; Int">NormalExitCode</a>) )
				<span title="Done" class="keyword">case</span> <a href="#68725" title="=&gt; java.lang.String">RebootCommand</a> :: <a title="List[String]" id="69157">tail</a> =&gt; <a href="#69023" title="(List[String])Done">reload</a>( <a href="#69157" title="List[String]">tail</a> )
				<span title="Continue" class="keyword">case</span> <a href="#68715" title="=&gt; java.lang.String">InteractiveCommand</a> :: _ =&gt; <a href="#68955" title="(sbt.Project,List[String],OnFailure)Continue">continue</a>(<a href="#69009" title="sbt.Project">project</a>, <a href="#68696" title="(sbt.Project,sbt.Project)String">prompt</a>(<a href="#68933" title="sbt.Project">baseProject</a>, <a href="#69009" title="sbt.Project">project</a>) <a href="#69158" title="(String)List[String]">::</a> <a href="#69010" title="List[String]">arguments</a>, <a href="#68947" title="=&gt; Some[java.lang.String]">interactiveContinue</a>)
				<span title="Trampoline" class="keyword">case</span> <a href="#68713" title="=&gt; java.lang.String">BuilderCommand</a> :: <a title="List[String]" id="69163">tail</a> =&gt;
					<a href="Project.scala.html#9291" title="object sbt.Project">Project</a>.<a href="Project.scala.html#54627" title="(sbt.ProjectInfo,sbt.Logger)Option[sbt.BuilderProject]">getProjectBuilder</a>(<a href="#69009" title="sbt.Project">project</a>.<a href="Project.scala.html#53847" title="=&gt; sbt.ProjectInfo">info</a>, <a href="#69009" title="sbt.Project">project</a>.<a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>) <span title="Trampoline" class="keyword">match</span>
					{
						<span title="Continue" class="keyword">case</span> Some(<a title="sbt.BuilderProject" id="69166">b</a>) =&gt; <a href="#69009" title="sbt.Project">project</a>.<a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#52375" title="(=&gt; String)Unit">info</a>(<span title="java.lang.String(&quot;Set current project to builder of &quot;)" class="string">&quot;Set current project to builder of &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#69009" title="sbt.Project">project</a>.<a href="Project.scala.html#53848" title="=&gt; String">name</a>); <a href="#68955" title="(sbt.Project,List[String],OnFailure)Continue">continue</a>(<a href="#69166" title="sbt.BuilderProject">b</a>, <a href="#69163" title="List[String]">tail</a>, <a href="#69011" title="OnFailure">failAction</a>)
						<span title="&lt;refinement&gt; extends ScalaObject with Trampoline" class="keyword">case</span> <span title="object None">None</span> =&gt; <a href="#69009" title="sbt.Project">project</a>.<a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#52377" title="(=&gt; String)Unit">error</a>(<span title="java.lang.String(&quot;No project/build directory for &quot;)" class="string">&quot;No project/build directory for &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#69009" title="sbt.Project">project</a>.<a href="Project.scala.html#53848" title="=&gt; String">name</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;.\012  Not switching to builder project.&quot;)" class="string">&quot;.\n  Not switching to builder project.&quot;</span>); <a href="#69024" title="(Int)ScalaObject with Trampoline">failed</a>(<a href="#68669" title="=&gt; Int">BuildErrorExitCode</a>)
					}
				<span title="Trampoline" class="keyword">case</span> <a href="#69173" title="(String)Option[(java.lang.String, java.lang.String)]">SpecificBuild</a>(<a title="java.lang.String" id="69267">version</a>, <a title="java.lang.String" id="69268">action</a>) :: <a title="List[String]" id="69269">tail</a> =&gt;
					<span title="Trampoline" class="keyword">if</span>(<span title="(java.lang.String)Some[java.lang.String]">Some</span>(<a href="#69267" title="java.lang.String">version</a>) <span title="(AnyRef)Boolean">!=</span> <a href="#68933" title="sbt.Project">baseProject</a>.<a href="Project.scala.html#53847" title="=&gt; sbt.ProjectInfo">info</a>.<a href="ProjectInfo.scala.html#55139" title="=&gt; Option[String]">buildScalaVersion</a>)
					{
						<span title="Trampoline" class="keyword">if</span>(<a href="#68692" title="(sbt.Project,String)Boolean">checkVersion</a>(<a href="#68933" title="sbt.Project">baseProject</a>, <a href="#69267" title="java.lang.String">version</a>))
							<span title="Nothing" class="keyword">throw</span> <span title="sbt.ReloadException" class="keyword">new</span> <a href="MainControl.scala.html#11954" title="sbt.ReloadException">ReloadException</a>(<a href="#69019" title="(List[String])List[String]">rememberCurrent</a>(<a href="#69268" title="java.lang.String">action</a> <a href="#69295" title="(String)List[String]">::</a> <a href="#69269" title="List[String]">tail</a>), <span title="(java.lang.String)Some[java.lang.String]">Some</span>(<a href="#69267" title="java.lang.String">version</a>))
						<span class="keyword">else</span>
							<a href="#69024" title="(Int)ScalaObject with Trampoline">failed</a>(<a href="#68667" title="=&gt; Int">UsageErrorExitCode</a>)
					}
					<span class="keyword">else</span>
						<a href="#68955" title="(sbt.Project,List[String],OnFailure)Continue">continue</a>(<a href="#69009" title="sbt.Project">project</a>, <a href="#69268" title="java.lang.String">action</a> <a href="#69299" title="(String)List[String]">::</a> <a href="#69269" title="List[String]">tail</a>, <a href="#69011" title="OnFailure">failAction</a>)

				<span title="Trampoline" class="keyword">case</span> <a href="#69303" title="(String)Option[java.lang.String]">CrossBuild</a>(<a title="java.lang.String" id="69330">action</a>) :: <a title="List[String]" id="69331">tail</a> =&gt;
					<span title="Trampoline" class="keyword">if</span>(<a href="#68760" title="(sbt.Project,String)Boolean">checkAction</a>(<a href="#69009" title="sbt.Project">project</a>, <a href="#69330" title="java.lang.String">action</a>))
					{
						<a href="#69304" title="(sbt.Project,String)Option[List[String]]">CrossBuild</a>(<a href="#69009" title="sbt.Project">project</a>, <a href="#69330" title="java.lang.String">action</a>) <span title="Trampoline" class="keyword">match</span>
						{
							<span title="Continue" class="keyword">case</span> Some(<a title="List[String]" id="69336">actions</a>) =&gt; <a href="#68955" title="(sbt.Project,List[String],OnFailure)Continue">continue</a>(<a href="#69009" title="sbt.Project">project</a>, <a href="#69336" title="List[String]">actions</a> <a href="#69337" title="(List[String])List[String]">:::</a> <a href="#69331" title="List[String]">tail</a>, <a href="#69011" title="OnFailure">failAction</a>)
							<span title="&lt;refinement&gt; extends ScalaObject with Trampoline" class="keyword">case</span> <span title="object None">None</span> =&gt; <a href="#69024" title="(Int)ScalaObject with Trampoline">failed</a>(<a href="#68667" title="=&gt; Int">UsageErrorExitCode</a>)
						}
					}
					<span class="keyword">else</span>
						<a href="#69024" title="(Int)ScalaObject with Trampoline">failed</a>(<a href="#68667" title="=&gt; Int">UsageErrorExitCode</a>)

				<span title="Trampoline" class="keyword">case</span> <a href="#69341" title="(String)Option[java.lang.String]">SetProject</a>(<a title="java.lang.String" id="69389">name</a>) :: <a title="List[String]" id="69390">tail</a> =&gt;
					<a href="#69343" title="(sbt.Project,String,sbt.Project)Option[sbt.Project]">SetProject</a>(<a href="#68933" title="sbt.Project">baseProject</a>, <a href="#69389" title="java.lang.String">name</a>, <a href="#69009" title="sbt.Project">project</a>) <span title="Trampoline" class="keyword">match</span>
					{
						<span title="Continue" class="keyword">case</span> Some(<a title="sbt.Project" id="69394">newProject</a>) =&gt; <a href="#68955" title="(sbt.Project,List[String],OnFailure)Continue">continue</a>(<a href="#69394" title="sbt.Project">newProject</a>, <a href="#69390" title="List[String]">tail</a>, <a href="#69011" title="OnFailure">failAction</a>)
						<span title="&lt;refinement&gt; extends ScalaObject with Trampoline" class="keyword">case</span> <span title="object None">None</span> =&gt; <a href="#69024" title="(Int)ScalaObject with Trampoline">failed</a>(<a href="#68669" title="=&gt; Int">BuildErrorExitCode</a>)
					}

				<span title="Trampoline" class="keyword">case</span> <a title="String" id="69395">action</a> :: <a title="List[String]" id="69396">tail</a> <span class="keyword">if</span> <a href="#69395" title="String">action</a>.<span title="(java.lang.String)Boolean">startsWith</span>(<a href="complete/HistoryCommands.scala.html#68635" title="=&gt; java.lang.String">HistoryPrefix</a>) =&gt;
					<a href="complete/HistoryCommands.scala.html#68655" title="(String,Option[sbt.Path],Int,sbt.Logger)Option[List[String]]">HistoryCommands</a>(<a href="#69395" title="String">action</a>.<span title="(Int)java.lang.String">substring</span>(<a href="complete/HistoryCommands.scala.html#68635" title="=&gt; java.lang.String">HistoryPrefix</a>.<span title="()Int">length</span>).<span title="()java.lang.String">trim</span>, <a href="#68933" title="sbt.Project">baseProject</a>.<a href="Project.scala.html#53891" title="=&gt; Option[sbt.Path]">historyPath</a>, <a href="LineReader.scala.html#8505" title="object sbt.JLine">JLine</a>.<a href="LineReader.scala.html#59455" title="=&gt; Int">MaxHistorySize</a>, <a href="#69009" title="sbt.Project">project</a>.<a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>) <span title="Trampoline" class="keyword">match</span>
					{
						<span title="Continue" class="keyword">case</span> Some(<a title="List[String]" id="69403">commands</a>) =&gt;
							<a href="#69403" title="List[String]">commands</a>.<span title="((String) =&gt; Unit)Unit">foreach</span>(<a href="#69406" title="(Any)Unit">println</a>)  <span class="comment">//better to print it than to log it</span>
							<a href="#68955" title="(sbt.Project,List[String],OnFailure)Continue">continue</a>(<a href="#69009" title="sbt.Project">project</a>, <a href="#69403" title="List[String]">commands</a> <a href="#69408" title="(List[String])List[String]">:::</a> <a href="#69396" title="List[String]">tail</a>, <a href="#69011" title="OnFailure">failAction</a>)
						<span title="&lt;refinement&gt; extends ScalaObject with Trampoline" class="keyword">case</span> <span title="object None">None</span> =&gt; <a href="#69024" title="(Int)ScalaObject with Trampoline">failed</a>(<a href="#68667" title="=&gt; Int">UsageErrorExitCode</a>)
					}
					
				<span title="Trampoline" class="keyword">case</span> <a title="String" id="69411">action</a> :: <a title="List[String]" id="69412">tail</a> <span class="keyword">if</span> <a href="#69411" title="String">action</a>.<span title="(java.lang.String)Boolean">startsWith</span>(<a href="#68737" title="=&gt; java.lang.String">FileCommandsPrefix</a>) =&gt;
					<a href="#68686" title="(String,java.io.File)Either[Int,java.io.File] with Product">getSource</a>(<a href="#69411" title="String">action</a>.<span title="(Int)java.lang.String">substring</span>(<a href="#68737" title="=&gt; java.lang.String">FileCommandsPrefix</a>.<span title="()Int">length</span>).<span title="()java.lang.String">trim</span>, <a href="#68933" title="sbt.Project">baseProject</a>.<a href="Project.scala.html#53847" title="=&gt; sbt.ProjectInfo">info</a>.<a href="ProjectInfo.scala.html#55130" title="=&gt; java.io.File">projectDirectory</a>) <span title="Trampoline" class="keyword">match</span>
					{
						<span title="Trampoline" class="keyword">case</span> Left(<a title="Int" id="69452">portAndSuccess</a>) =&gt;
							<span class="keyword">val</span> <a title="Int" id="69453">port</a> = <a title="object Math" id="574">Math</a>.<a title="(Int)Int" id="69525">abs</a>(<a href="#69452" title="Int">portAndSuccess</a>)
							<span class="keyword">val</span> <a title="Boolean" id="69454">previousSuccess</a> = <a href="#69452" title="Int">portAndSuccess</a> <a title="(Int)Boolean" id="3085">&gt;=</a> <span title="Int(0)" class="int">0</span>
							<a href="#68687" title="(Int,Boolean)Option[String]">readMessage</a>(<a href="#69453" title="Int">port</a>, <a href="#69454" title="Boolean">previousSuccess</a>) <span title="Trampoline" class="keyword">match</span>
							{
								<span title="Continue" class="keyword">case</span> Some(<a title="String" id="69602">message</a>) =&gt; <a href="#68955" title="(sbt.Project,List[String],OnFailure)Continue">continue</a>(<a href="#69009" title="sbt.Project">project</a>, <a href="#69602" title="String">message</a> <a href="#69603" title="(java.lang.String)List[java.lang.String]">::</a> (<a href="#68737" title="=&gt; java.lang.String">FileCommandsPrefix</a> <span title="(Any)java.lang.String">+</span> <a href="#69453" title="Int">port</a>) <a href="#69604" title="(java.lang.String)List[java.lang.String]">::</a> <span title="object Nil">Nil</span>, <a href="#68949" title="(Int)Some[java.lang.String]">remoteContinue</a>(<a href="#69453" title="Int">port</a>))
								<span title="&lt;refinement&gt; extends ScalaObject with Trampoline" class="keyword">case</span> <span title="object None">None</span> =&gt;
									<a href="#69009" title="sbt.Project">project</a>.<a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#52377" title="(=&gt; String)Unit">error</a>(<span title="java.lang.String(&quot;Connection closed.&quot;)" class="string">&quot;Connection closed.&quot;</span>)
									<a href="#69024" title="(Int)ScalaObject with Trampoline">failed</a>(<a href="#68669" title="=&gt; Int">BuildErrorExitCode</a>)
							}
							
						<span title="Trampoline" class="keyword">case</span> Right(<a title="java.io.File" id="69610">file</a>) =&gt;
							<a href="#68695" title="(sbt.Project,java.io.File)Option[List[String]]">readLines</a>(<a href="#69009" title="sbt.Project">project</a>, <a href="#69610" title="java.io.File">file</a>) <span title="Trampoline" class="keyword">match</span>
							{
								<span title="Continue" class="keyword">case</span> Some(<a title="List[String]" id="69613">lines</a>) =&gt; <a href="#68955" title="(sbt.Project,List[String],OnFailure)Continue">continue</a>(<a href="#69009" title="sbt.Project">project</a>, <a href="#69613" title="List[String]">lines</a> <a href="#69614" title="(List[String])List[String]">:::</a> <a href="#69412" title="List[String]">tail</a> , <a href="#69011" title="OnFailure">failAction</a>)
								<span title="&lt;refinement&gt; extends ScalaObject with Trampoline" class="keyword">case</span> <span title="object None">None</span> =&gt; <a href="#69024" title="(Int)ScalaObject with Trampoline">failed</a>(<a href="#68667" title="=&gt; Int">UsageErrorExitCode</a>)
							}
					}
					
				<span title="Continue" class="keyword">case</span> <a title="String" id="69617">action</a> :: <a title="List[String]" id="69618">tail</a> <span class="keyword">if</span> <a href="#69617" title="String">action</a>.<span title="(java.lang.String)Boolean">startsWith</span>(<a href="#68739" title="=&gt; java.lang.String">FailureHandlerPrefix</a>) =&gt;
					<span class="keyword">val</span> <a title="java.lang.String" id="69620">errorAction</a> = <a href="#69617" title="String">action</a>.<span title="(Int)java.lang.String">substring</span>(<a href="#68739" title="=&gt; java.lang.String">FailureHandlerPrefix</a>.<span title="()Int">length</span>).<span title="()java.lang.String">trim</span>
					<a href="#68955" title="(sbt.Project,List[String],OnFailure)Continue">continue</a>(<a href="#69009" title="sbt.Project">project</a>, <a href="#69618" title="List[String]">tail</a>, <span title="OnFailure" class="keyword">if</span>(<a href="#69620" title="java.lang.String">errorAction</a>.<span title="()Boolean">isEmpty</span>) <span title="object None">None</span> <span class="keyword">else</span> <span title="(java.lang.String)Some[java.lang.String]">Some</span>(<a href="#69620" title="java.lang.String">errorAction</a>) )

				<span title="Trampoline" class="keyword">case</span> <a title="String" id="69623">action</a> :: <a title="List[String]" id="69624">tail</a> <span class="keyword">if</span> <a href="#69623" title="String">action</a>.<span title="(java.lang.String)Boolean">startsWith</span>(<a href="#68741" title="=&gt; java.lang.String">ProcessorPrefix</a>) =&gt;
					<span class="keyword">val</span> <a title="java.lang.String" id="69626">processorCommand</a> = <a href="#69623" title="String">action</a>.<span title="(Int)java.lang.String">substring</span>(<a href="#68741" title="=&gt; java.lang.String">ProcessorPrefix</a>.<span title="()Int">length</span>).<span title="()java.lang.String">trim</span>
					<span class="keyword">val</span> <a title="sbt.processor.CommandRunner" id="69627">runner</a> = processor.<a href="processor/CommandRunner.scala.html#69630" title="(sbt.processor.Manager,sbt.processor.DefinitionParser,String,sbt.Logger)sbt.processor.CommandRunner">CommandRunner</a>(<a href="#68950" title="=&gt; sbt.processor.Handler">PHandler</a>.<a href="processor/Handler.scala.html#68982" title="=&gt; sbt.processor.ManagerImpl">manager</a>, <a href="#68950" title="=&gt; sbt.processor.Handler">PHandler</a>.<a href="processor/Handler.scala.html#68980" title="=&gt; sbt.processor.DefinitionParser">defParser</a>, <a href="#68741" title="=&gt; java.lang.String">ProcessorPrefix</a>, <a href="#69009" title="sbt.Project">project</a>.<a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>)
					<a href="#69022" title="(=&gt; Trampoline)Trampoline">tryOrFail</a> {
						<a href="processor/CommandRunner.scala.html#69761" title="(String)Unit">runner</a>(<a href="#69626" title="java.lang.String">processorCommand</a>)
						<a href="#68955" title="(sbt.Project,List[String],OnFailure)Continue">continue</a>(<a href="#69009" title="sbt.Project">project</a>, <a href="#69624" title="List[String]">tail</a>, <a href="#69011" title="OnFailure">failAction</a>)
					}

				<span title="Trampoline" class="keyword">case</span> <a href="processor/Handler.scala.html#68965" title="(String)Option[sbt.processor.ParsedProcessor]">PHandler</a>(<a title="sbt.processor.ParsedProcessor" id="69775">parsed</a>) :: <a title="List[String]" id="69776">tail</a> =&gt;
					 <a href="#69022" title="(=&gt; Trampoline)Trampoline">tryOrFail</a> {
						<a href="#69775" title="sbt.processor.ParsedProcessor">parsed</a>.<a href="processor/Processor.scala.html#69777" title="(String,sbt.Project,Option[String],String)sbt.processor.ProcessorResult">processor</a>(<a href="#69775" title="sbt.processor.ParsedProcessor">parsed</a>.<a href="processor/Handler.scala.html#69768" title="=&gt; String">label</a>, <a href="#69009" title="sbt.Project">project</a>, <a href="#69011" title="OnFailure">failAction</a>, <a href="#69775" title="sbt.processor.ParsedProcessor">parsed</a>.<a href="processor/Handler.scala.html#69772" title="=&gt; String">arguments</a>) <span title="Trampoline" class="keyword">match</span>
						{
							<span title="Continue" class="keyword">case</span> <a title="sbt.processor.Success" id="69782">s</a>: processor.<a href="processor/Processor.scala.html#14849" title="sbt.processor.Success">Success</a> =&gt; <a href="#68955" title="(sbt.Project,List[String],OnFailure)Continue">continue</a>(<a href="#69782" title="sbt.processor.Success">s</a>.<a href="processor/Processor.scala.html#69786" title="=&gt; sbt.Project">project</a>, <a href="#69782" title="sbt.processor.Success">s</a>.<a href="processor/Processor.scala.html#69792" title="=&gt; List[String]">insertArguments</a> <a href="#69794" title="(List[String])List[String]">:::</a> <a href="#69776" title="List[String]">tail</a>, <a href="#69782" title="sbt.processor.Success">s</a>.<a href="processor/Processor.scala.html#69788" title="=&gt; Option[String]">onFailure</a>)
							<span title="Done" class="keyword">case</span> <a title="sbt.processor.Exit" id="69797">e</a>: processor.<a href="processor/Processor.scala.html#14894" title="sbt.processor.Exit">Exit</a> =&gt; <a href="#68956" title="(xsbti.MainResult)Done">result</a>( <a href="MainControl.scala.html#68870" title="(Int)sbt.Exit">Exit</a>(<a href="#69797" title="sbt.processor.Exit">e</a>.<a href="processor/Processor.scala.html#69799" title="=&gt; Int">code</a>) )
							<span title="Done" class="keyword">case</span> <a title="sbt.processor.Reload" id="69802">r</a>: processor.<a href="processor/Processor.scala.html#14810" title="sbt.processor.Reload">Reload</a> =&gt; <a href="#69023" title="(List[String])Done">reload</a>( <a href="#69802" title="sbt.processor.Reload">r</a>.<a href="processor/Processor.scala.html#69806" title="=&gt; List[String]">insertArguments</a> <a href="#69808" title="(List[String])List[String]">:::</a> <a href="#69776" title="List[String]">tail</a> )
						}
					 }
		
				<span title="Trampoline" class="keyword">case</span> <a title="String" id="69811">action</a> :: <a title="List[String]" id="69812">tail</a> =&gt;
					<span class="keyword">val</span> <a title="Boolean" id="69813">success</a> = <a href="#68747" title="(sbt.Project,sbt.Project,String,Boolean)Boolean">processAction</a>(<a href="#68933" title="sbt.Project">baseProject</a>, <a href="#69009" title="sbt.Project">project</a>, <a href="#69811" title="String">action</a>, <a href="#69011" title="OnFailure">failAction</a> <span title="(AnyRef)Boolean">==</span> <a href="#68947" title="=&gt; Some[java.lang.String]">interactiveContinue</a>)
					<span title="Trampoline" class="keyword">if</span>(<a href="#69813" title="Boolean">success</a>) <a href="#68955" title="(sbt.Project,List[String],OnFailure)Continue">continue</a>(<a href="#69009" title="sbt.Project">project</a>, <a href="#69812" title="List[String]">tail</a>, <a href="#69011" title="OnFailure">failAction</a>)
					<span class="keyword">else</span> <a href="#69024" title="(Int)ScalaObject with Trampoline">failed</a>(<a href="#68669" title="=&gt; Int">BuildErrorExitCode</a>)
						
				<span title="Done" class="keyword">case</span> <span title="object Nil">Nil</span> =&gt;
					<a href="#69009" title="sbt.Project">project</a>.<a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#52377" title="(=&gt; String)Unit">error</a>(<span title="java.lang.String(&quot;Invalid internal sbt state: no arguments&quot;)" class="string">&quot;Invalid internal sbt state: no arguments&quot;</span>)
					<a href="#68956" title="(xsbti.MainResult)Done">result</a>( <a href="MainControl.scala.html#68870" title="(Int)sbt.Exit">Exit</a>(<a href="#68671" title="=&gt; Int">ProgramErrorExitCode</a>) )
			}
		}
		<a href="#68957" title="(Trampoline)xsbti.MainResult">run</a>(<a href="#68958" title="(sbt.Project,List[String],OnFailure)Trampoline">process</a>(<a href="#68933" title="sbt.Project">baseProject</a>, <a href="#68934" title="List[String]">arguments</a>, <a href="#68946" title="=&gt; object None">ExitOnFailure</a>))
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project)Boolean" id="68684">internal</a>(<a title="sbt.Project" id="69053">p</a>: <a href="Project.scala.html#9290" title="sbt.Project">Project</a>) = <a href="#69053" title="sbt.Project">p</a>.<a title="Boolean" id="3440">isInstanceOf</a>[<a href="BuilderProject.scala.html#11261" title="sbt.InternalProject">InternalProject</a>]
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(Option[List[String]])Boolean" id="68685">isInteractive</a>(<a title="Option[List[String]]" id="69820">failureActions</a>: <span title="Option[List[String]]">Option</span>[List[String]]) = <a href="#69820" title="Option[List[String]]">failureActions</a> <span title="(AnyRef)Boolean">==</span> <span title="(List[java.lang.String])Some[List[java.lang.String]]">Some</span>(<a href="#68715" title="=&gt; java.lang.String">InteractiveCommand</a> <a href="#69824" title="(java.lang.String)List[java.lang.String]">::</a> <span title="object Nil">Nil</span>)
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(String,java.io.File)Either[Int,java.io.File] with Product" id="68686">getSource</a>(<a title="String" id="69414">action</a>: <span title="String">String</span>, <a title="java.io.File" id="69415">baseDirectory</a>: <span title="java.io.File">File</span>) =
	{
		<span class="keyword">try</span> { <span title="(Int)Left[Int,Nothing]">Left</span>(<a href="#69414" title="implicit scala.Predef.stringWrapper : (String)scala.runtime.RichString">action</a>.<span title="=&gt; Int">toInt</span>) }
		<span class="keyword">catch</span> { <span title="Right[Nothing,java.io.File]" class="keyword">case</span> _: <span title="NumberFormatException">NumberFormatException</span> =&gt; <span title="(java.io.File)Right[Nothing,java.io.File]">Right</span>(<a title="(java.io.File,java.lang.String)java.io.File" id="16953" class="keyword">new</a> <span title="java.io.File">File</span>(<a href="#69415" title="java.io.File">baseDirectory</a>, <a href="#69414" title="String">action</a>)) }
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(Int,Boolean)Option[String]" id="68687">readMessage</a>(<a title="Int" id="69600">port</a>: <span title="Int">Int</span>, <a title="Boolean" id="69601">previousSuccess</a>: <span title="Boolean">Boolean</span>): <span title="Option[String]">Option</span>[String] =
	{
		<span class="comment">// split into two connections because this first connection ends the previous communication</span>
		xsbt.<a href="../IPC.scala.html#7183" title="object xsbt.IPC">IPC</a>.<a href="../IPC.scala.html#69834" title="(Int)((xsbt.IPC) =&gt; Unit)Unit">client</a>(<a href="#69600" title="Int">port</a>) { <a href="#69858" title="xsbt.IPC">_</a>.<a href="../IPC.scala.html#69867" title="(String)Unit">send</a>(<a href="#69601" title="Boolean">previousSuccess</a>.<span title="()java.lang.String">toString</span>) }
		<span class="comment">//   and this second connection starts the next communication</span>
		xsbt.<a href="../IPC.scala.html#7183" title="object xsbt.IPC">IPC</a>.<a href="../IPC.scala.html#69834" title="(Int)((xsbt.IPC) =&gt; Option[String])Option[String]">client</a>(<a href="#69600" title="Int">port</a>) { <a title="xsbt.IPC" id="69937">ipc</a> =&gt;
			<span class="keyword">val</span> <a title="String" id="69938">message</a> = <a href="#69937" title="xsbt.IPC">ipc</a>.<a href="../IPC.scala.html#69868" title="=&gt; String">receive</a>
			<span title="Option[String]" class="keyword">if</span>(<a href="#69938" title="String">message</a> <span title="(AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span>) <span title="object None">None</span> <span class="keyword">else</span> <span title="(String)Some[String]">Some</span>(<a href="#69938" title="String">message</a>)
		}
	}
	<span class="keyword">object</span> <a title="object xMain.this.SetProject" id="68688">SetProject</a>
	{
		<span class="keyword">def</span> <a title="(String)Option[java.lang.String]" id="69341">unapply</a>(<a title="String" id="69346">s</a>: <span title="String">String</span>) =
			<span title="Option[java.lang.String]" class="keyword">if</span>(<a href="#69346" title="String">s</a>.<span title="(java.lang.String)Boolean">startsWith</span>(<a href="#68703" title="=&gt; java.lang.String">ProjectAction</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span>))
				<span title="(java.lang.String)Some[java.lang.String]">Some</span>(<a href="#69346" title="String">s</a>.<span title="(Int)java.lang.String">substring</span>(<a href="#68703" title="=&gt; java.lang.String">ProjectAction</a>.<span title="()Int">length</span> <span title="(Int)Int">+</span> <span title="Int(1)" class="int">1</span>).<span title="()java.lang.String">trim</span>)
			<span class="keyword">else</span>
				<span title="object None">None</span>
		<span class="keyword">def</span> <a title="(sbt.Project,sbt.Project)Option[sbt.Project]" id="69342">change</a>(<a title="sbt.Project" id="69942">newProject</a>: <a href="Project.scala.html#9290" title="sbt.Project">Project</a>, <a title="sbt.Project" id="69943">current</a>: <a href="Project.scala.html#9290" title="sbt.Project">Project</a>): <span title="Option[sbt.Project]">Option</span>[Project] =
		{
			<span class="keyword">val</span> <a title="java.lang.String" id="69944">msg</a> = <span title="java.lang.String" class="keyword">if</span>(<a href="#69942" title="sbt.Project">newProject</a> <span title="(AnyRef)Boolean">eq</span> <a href="#69943" title="sbt.Project">current</a>) <span title="java.lang.String(&quot;Current project is &quot;)" class="string">&quot;Current project is &quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;Set current project to &quot;)" class="string">&quot;Set current project to &quot;</span>
			<a href="#68755" title="(String,sbt.Project)Unit">printProject</a>(<a href="#69944" title="java.lang.String">msg</a>, <a href="#69942" title="sbt.Project">newProject</a>)
			<span title="(sbt.Project)Some[sbt.Project]">Some</span>(<a href="#69942" title="sbt.Project">newProject</a>)
		}
		<span class="keyword">def</span> <a title="(sbt.Project,String,sbt.Project)Option[sbt.Project]" id="69343">apply</a>(<a title="sbt.Project" id="69391">baseProject</a>: <a href="Project.scala.html#9290" title="sbt.Project">Project</a>, <a title="String" id="69392">projectName</a>: <span title="String">String</span>, <a title="sbt.Project" id="69393">currentProject</a>: <a href="Project.scala.html#9290" title="sbt.Project">Project</a>): <span title="Option[sbt.Project]">Option</span>[Project] =
		{
			<span title="Option[sbt.Project]" class="keyword">if</span>(<a href="#69392" title="String">projectName</a>.<span title="()Boolean">isEmpty</span>)
				<a href="#69342" title="(sbt.Project,sbt.Project)Option[sbt.Project]">change</a>(<a href="#69393" title="sbt.Project">currentProject</a>, <a href="#69393" title="sbt.Project">currentProject</a>)
			<span class="keyword">else</span> <span title="Option[sbt.Project]" class="keyword">if</span>(<a href="#69392" title="String">projectName</a> <span title="(AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span>)
				<a href="#69342" title="(sbt.Project,sbt.Project)Option[sbt.Project]">change</a>(<a href="#69391" title="sbt.Project">baseProject</a>, <a href="#69393" title="sbt.Project">currentProject</a>)
			<span class="keyword">else</span> <span title="Option[sbt.Project]" class="keyword">if</span>(<a href="#69392" title="implicit scala.Predef.stringWrapper : (String)scala.runtime.RichString">projectName</a>.<span title="((Char) =&gt; Boolean)Boolean">forall</span>(<a href="#69954" title="Char">_</a> <a title="(Char)Boolean" id="2957">==</a> <span title="Char('.')" class="char">'.'</span>))
				<a href="#69342" title="(sbt.Project,sbt.Project)Option[sbt.Project]">change</a>(<a href="#69345" title="(sbt.Project)Stream[sbt.Project]">ancestors</a>(<a href="#69393" title="sbt.Project">currentProject</a>).<a title="(Int)Stream[sbt.Project]" id="17131">take</a>(<a href="#69392" title="implicit scala.Predef.stringWrapper : (String)scala.runtime.RichString">projectName</a>.<a title="=&gt; Int" id="15999">size</a>).<a title="=&gt; sbt.Project" id="17129">last</a>, <a href="#69393" title="sbt.Project">currentProject</a>)
			<span class="keyword">else</span>
			{
				<span class="keyword">val</span> <a title="Option[sbt.Project]" id="69968">found</a> = <a href="#69391" title="sbt.Project">baseProject</a>.<a href="Project.scala.html#53870" title="=&gt; List[sbt.Project]">projectClosure</a>.<a title="((sbt.Project) =&gt; Boolean)Option[sbt.Project]" id="15739">find</a>(<a href="#69971" title="sbt.Project">_</a>.<a href="Project.scala.html#53848" title="=&gt; String">name</a> <span title="(AnyRef)Boolean">==</span> <a href="#69392" title="String">projectName</a>)
				<a href="#69968" title="Option[sbt.Project]">found</a> <span title="Any" class="keyword">match</span>
				{
					<span title="Option[sbt.Project]" class="keyword">case</span> Some(<a title="sbt.Project" id="69974">newProject</a>) =&gt; <a href="#69342" title="(sbt.Project,sbt.Project)Option[sbt.Project]">change</a>(<a href="#69974" title="sbt.Project">newProject</a>, <a href="#69393" title="sbt.Project">currentProject</a>)
					<span title="Unit" class="keyword">case</span> <span title="object None">None</span> =&gt; <a href="#69393" title="sbt.Project">currentProject</a>.<a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#52377" title="(=&gt; String)Unit">error</a>(<span title="java.lang.String(&quot;Invalid project name '&quot;)" class="string">&quot;Invalid project name '&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#69392" title="String">projectName</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;' (type 'projects' to list available projects).&quot;)" class="string">&quot;' (type 'projects' to list available projects).&quot;</span>)
				}
				<a href="#69968" title="Option[sbt.Project]">found</a>
			}
		}
		<span class="keyword">def</span> <a title="(Option[sbt.Project])Stream[sbt.Project]" id="69344">ancestors</a>(<a title="Option[sbt.Project]" id="69958">op</a>: <span title="Option[sbt.Project]">Option</span>[Project]): <span title="Stream[sbt.Project]">Stream</span>[Project] = <a href="#69958" title="Option[sbt.Project]">op</a> <span title="Stream[sbt.Project]" class="keyword">match</span> { <span title="Stream[Nothing]" class="keyword">case</span> <span title="object None">None</span> =&gt; <span title="object Stream">Stream</span>.<a title="=&gt; Stream[Nothing]" id="17172">empty</a>; <span title="Stream[sbt.Project]" class="keyword">case</span> Some(<a title="sbt.Project" id="69982">p</a>) =&gt; <a href="#69345" title="(sbt.Project)Stream[sbt.Project]">ancestors</a>(<a href="#69982" title="sbt.Project">p</a>) }
		<span class="comment">// includes the project itself</span>
		<span class="keyword">def</span> <a title="(sbt.Project)Stream[sbt.Project]" id="69345">ancestors</a>(<a title="sbt.Project" id="69957">p</a>: <a href="Project.scala.html#9290" title="sbt.Project">Project</a>): <span title="Stream[sbt.Project]">Stream</span>[Project] = <span title="object Stream">Stream</span>.<a title="(sbt.Project,=&gt; Stream[sbt.Project])Stream[sbt.Project]" id="17175">cons</a>(<a href="#69957" title="sbt.Project">p</a>, <a href="#69344" title="(Option[sbt.Project])Stream[sbt.Project]">ancestors</a>(<a href="#69957" title="sbt.Project">p</a>.<a href="Project.scala.html#53847" title="=&gt; sbt.ProjectInfo">info</a>.<a href="ProjectInfo.scala.html#55134" title="=&gt; Option[sbt.Project]">parent</a>))
	}
	<span class="keyword">object</span> <a title="object xMain.this.SpecificBuild" id="68690">SpecificBuild</a>
	{
		<span class="keyword">import</span> java.util.regex.Pattern.{compile,quote}
		<span class="keyword">val</span> <a title="java.util.regex.Pattern" id="69171">pattern</a> = <a title="(java.lang.String)java.util.regex.Pattern" id="58323">compile</a>(<a title="(java.lang.String)java.lang.String" id="58332">quote</a>(<a href="#68735" title="=&gt; java.lang.String">SpecificBuildPrefix</a>) <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\s*(\S+)\s*(.*)&quot;)" class="string">&quot;&quot;&quot;\s*(\S+)\s*(.*)&quot;&quot;&quot;</span>)
		<span class="keyword">def</span> <a title="(String)Option[(java.lang.String, java.lang.String)]" id="69173">unapply</a>(<a title="String" id="69174">s</a>: <span title="String">String</span>) =
		{
			<span class="keyword">val</span> <a title="java.util.regex.Matcher" id="69176">m</a> = <a href="#69171" title="=&gt; java.util.regex.Pattern">pattern</a>.<span title="(java.lang.CharSequence)java.util.regex.Matcher">matcher</span>(<a href="#69174" title="String">s</a>)
			<span title="Option[(java.lang.String, java.lang.String)]" class="keyword">if</span>(<a href="#69176" title="java.util.regex.Matcher">m</a>.<span title="()Boolean">matches</span>)
				<a title="((java.lang.String, java.lang.String))Some[(java.lang.String, java.lang.String)]" id="1327">Some</a>(<a href="#69176" title="java.util.regex.Matcher">m</a>.<span title="(Int)java.lang.String">group</span>(<span title="Int(1)" class="int">1</span>).<span title="()java.lang.String">trim</span>, <a href="#69176" title="java.util.regex.Matcher">m</a>.<span title="(Int)java.lang.String">group</span>(<span title="Int(2)" class="int">2</span>).<span title="()java.lang.String">trim</span>)
			<span class="keyword">else</span>
				<span title="object None">None</span>
		}
	}
	<span class="keyword">def</span> <a title="(sbt.Project,String)Boolean" id="68692">checkVersion</a>(<a title="sbt.Project" id="69273">p</a>: <a href="Project.scala.html#9290" title="sbt.Project">Project</a>, <a title="String" id="69274">version</a>: <span title="String">String</span>) =
	{
		<span class="keyword">try</span> { <a href="#69273" title="sbt.Project">p</a>.<a href="Project.scala.html#53923" title="(String)xsbt.ScalaInstance">getScalaInstance</a>(<a href="#69274" title="String">version</a>); <span title="Boolean(true)" class="keyword">true</span> }
		<span class="keyword">catch</span> { <span title="Boolean" class="keyword">case</span> <a title="xsbti.RetrieveException" id="69288">e</a>: xsbti.<a href="../xsbti/RetrieveException.java.html#7624" title="xsbti.RetrieveException">RetrieveException</a> =&gt; <a href="#69273" title="sbt.Project">p</a>.<a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#52377" title="(=&gt; String)Unit">error</a>(<a href="#69288" title="xsbti.RetrieveException">e</a>.<span title="()java.lang.String">getMessage</span>); <span title="Boolean(false)" class="keyword">false</span> }
	}
	<span class="keyword">object</span> <a title="object xMain.this.CrossBuild" id="68693">CrossBuild</a>
	{
		<span class="keyword">def</span> <a title="(String)Option[java.lang.String]" id="69303">unapply</a>(<a title="String" id="69305">s</a>: <span title="String">String</span>) = <span title="Option[java.lang.String]" class="keyword">if</span>(<a href="#69305" title="String">s</a>.<span title="(java.lang.String)Boolean">startsWith</span>(<a href="#68733" title="=&gt; java.lang.String">CrossBuildPrefix</a>) <span title="(Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#69305" title="String">s</a>.<span title="(java.lang.String)Boolean">startsWith</span>(<a href="#68735" title="=&gt; java.lang.String">SpecificBuildPrefix</a>)) <span title="(java.lang.String)Some[java.lang.String]">Some</span>(<a href="#69305" title="String">s</a>.<span title="(Int)java.lang.String">substring</span>(<span title="Int(1)" class="int">1</span>)) <span class="keyword">else</span> <span title="object None">None</span>
		<span class="keyword">def</span> <a title="(sbt.Project,String)Option[List[String]]" id="69304">apply</a>(<a title="sbt.Project" id="69334">project</a>: <a href="Project.scala.html#9290" title="sbt.Project">Project</a>, <a title="String" id="69335">action</a>: <span title="String">String</span>): <span title="Option[List[String]]">Option</span>[List[String]] =
		{
			<span class="keyword">val</span> <a title="Seq[String]" id="69988">againstScalaVersions</a> = <a href="#69334" title="sbt.Project">project</a>.<a href="Project.scala.html#53935" title="=&gt; Seq[String]">crossScalaVersions</a>
			<span title="Option[List[String]]" class="keyword">if</span>(<a href="#69988" title="Seq[String]">againstScalaVersions</a>.<span title="=&gt; Boolean">isEmpty</span>)
			{
				<span title="object Console">Console</span>.<span title="(Any)Unit">println</span>(<span title="java.lang.String(&quot;Project does not declare any Scala versions to cross-build against, building against current version...&quot;)" class="string">&quot;Project does not declare any Scala versions to cross-build against, building against current version...&quot;</span>)
				<span title="(List[String])Some[List[String]]">Some</span>(<a href="#69335" title="String">action</a> <a href="#69991" title="(String)List[String]">::</a> <span title="object Nil">Nil</span>)
			}
			<span class="keyword">else</span>
			{
				<span title="Option[List[String]]" class="keyword">if</span>( <span title="=&gt; Boolean">!</span><a href="#69988" title="Seq[String]">againstScalaVersions</a>.<span title="((String) =&gt; Boolean)Boolean">forall</span>(<a title="String" id="69995">v</a> =&gt; <a href="#68692" title="(sbt.Project,String)Boolean">checkVersion</a>(<a href="#69334" title="sbt.Project">project</a>, <a href="#69995" title="String">v</a>)) )
					<span title="object None">None</span>
				<span class="keyword">else</span>
				{
					<span class="keyword">val</span> <a title="List[java.lang.String]" id="69996">actions</a> = 
						<a href="#69988" title="Seq[String]">againstScalaVersions</a>.<span title="=&gt; List[String]">toList</span>.<span title="((String) =&gt; java.lang.String)List[java.lang.String]">map</span>(<a href="#68735" title="=&gt; java.lang.String">SpecificBuildPrefix</a> <span title="(Any)java.lang.String">+</span> <a href="#70001" title="String">_</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#69335" title="String">action</a>) <a href="#69997" title="(List[java.lang.String])List[java.lang.String]">:::</a> <span class="comment">// build against all versions</span>
							(<a href="#68735" title="=&gt; java.lang.String">SpecificBuildPrefix</a> <span title="(Any)java.lang.String">+</span> <a href="#69334" title="sbt.Project">project</a>.<a href="Project.scala.html#53914" title="=&gt; String">buildScalaVersion</a>) <a href="#70002" title="(java.lang.String)List[java.lang.String]">::</a> <span class="comment">// reset to the version before the cross-build</span>
							<span title="object Nil">Nil</span>
					<span title="(List[java.lang.String])Some[List[java.lang.String]]">Some</span>(<a href="#69996" title="List[java.lang.String]">actions</a>)
				}
			}
		}
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project,java.io.File)Option[List[String]]" id="68695">readLines</a>(<a title="sbt.Project" id="69611">project</a>: <a href="Project.scala.html#9290" title="sbt.Project">Project</a>, <a title="java.io.File" id="69612">file</a>: <span title="java.io.File">File</span>): <span title="Option[List[String]]">Option</span>[List[String]] =
	{
		<span class="keyword">try</span> { <span title="(List[String])Some[List[String]]">Some</span>(xsbt.<a href="../FileUtilities.scala.html#6715" title="object xsbt.FileUtilities">FileUtilities</a>.<a href="../FileUtilities.scala.html#18474" title="(java.io.File)List[String]">readLines</a>(<a href="#69612" title="java.io.File">file</a>)) }
		<span class="keyword">catch</span> { <span title="None.type" class="keyword">case</span> <a title="Exception" id="70013">e</a>: <span title="Exception">Exception</span> =&gt;
			<a href="#69611" title="sbt.Project">project</a>.<a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#52372" title="(=&gt; Throwable)Unit">trace</a>(<a href="#70013" title="Exception">e</a>)
			<a href="#69611" title="sbt.Project">project</a>.<a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#52377" title="(=&gt; String)Unit">error</a>(<span title="java.lang.String(&quot;Error reading commands from file &quot;)" class="string">&quot;Error reading commands from file &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#69612" title="java.io.File">file</a>.<span title="()java.lang.String">getAbsolutePath</span> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#70013" title="Exception">e</a>.<span title="()java.lang.String">toString</span>)
			<span title="object None">None</span>
		}
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project,sbt.Project)String" id="68696">prompt</a>(<a title="sbt.Project" id="69159">baseProject</a>: <a href="Project.scala.html#9290" title="sbt.Project">Project</a>, <a title="sbt.Project" id="69160">project</a>: <a href="Project.scala.html#9290" title="sbt.Project">Project</a>): <span title="String">String</span> =
	{
		<span class="comment">// the times for evaluating the lazy vals here are a few hundred ms out of a 2s startup</span>
		<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="List[String]" id="70017">projectNames</a> = <a href="#69159" title="sbt.Project">baseProject</a>.<a href="Project.scala.html#53870" title="=&gt; List[sbt.Project]">projectClosure</a>.<span title="((sbt.Project) =&gt; String)List[String]">map</span>(<a href="#70031" title="sbt.Project">_</a>.<a href="Project.scala.html#53848" title="=&gt; String">name</a>)
		<span class="keyword">val</span> <a title="List[java.lang.String]" id="70018">prefixes</a> = <a href="#68731" title="=&gt; java.lang.String">ContinuousExecutePrefix</a> <a href="#70032" title="(java.lang.String)List[java.lang.String]">::</a> <a href="#68733" title="=&gt; java.lang.String">CrossBuildPrefix</a> <a href="#70033" title="(java.lang.String)List[java.lang.String]">::</a> <span title="object Nil">Nil</span>
		<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Seq[String]" id="70020">scalaVersions</a> = <a href="#69159" title="sbt.Project">baseProject</a>.<a href="Project.scala.html#53935" title="=&gt; Seq[String]">crossScalaVersions</a> <a title="(Iterable[String])Seq[String]" id="16008">++</a> <a title="(String*)Seq[String]" id="730">Seq</a>(<a href="#69159" title="sbt.Project">baseProject</a>.<a href="Project.scala.html#53902" title="=&gt; baseProject.Property[String]">defScalaVersion</a>.<a href="Environment.scala.html#55118" title="=&gt; String">value</a>)
		<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="scala.collection.Map[String,project.MethodTask]" id="70022">methods</a> = <a href="#69160" title="sbt.Project">project</a>.<a href="Project.scala.html#53855" title="=&gt; scala.collection.Map[String,project.MethodTask]">methods</a>
		<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="&lt;refinement&gt; extends java.lang.Object with sbt.ExtraCompletions" id="70024">methodCompletions</a> = <a title="template $anon extends java.lang.Object with sbt.ExtraCompletions" id="70044" class="keyword">new</a> <a href="LineReader.scala.html#11948" title="sbt.ExtraCompletions">ExtraCompletions</a> { <span class="keyword">def</span> <a title="=&gt; List[String]" id="70046">names</a> = <a href="#70021" title="=&gt; scala.collection.Map[String,project.MethodTask]">methods</a>.<a title="=&gt; Iterator[String]" id="38044">keys</a>.<a title="=&gt; List[String]" id="19885">toList</a>; <span class="keyword">def</span> <a title="(String)Seq[String]" id="70047">completions</a>(<a title="String" id="70052">name</a>: <span title="String">String</span>) = <a href="#70021" title="(String)project.MethodTask" id="38041">methods</a>(<a href="#70052" title="String">name</a>).<a href="TaskManager.scala.html#55181" title="=&gt; Seq[String]">completions</a> }
		<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="sbt.Completors" id="70026">completors</a> = <span title="sbt.Completors" class="keyword">new</span> <a href="LineReader.scala.html#10691" title="sbt.Completors">Completors</a>(<a href="#68703" title="=&gt; java.lang.String">ProjectAction</a>, <a href="#70016" title="=&gt; List[String]">projectNames</a>, <a href="#68746" title="=&gt; Iterable[String]">basicCommands</a>, <a title="(java.lang.String*)List[java.lang.String]" id="496">List</a>(<a href="#68721" title="=&gt; java.lang.String">GetAction</a>, <a href="#68719" title="=&gt; java.lang.String">SetAction</a>), <a href="#68735" title="=&gt; java.lang.String">SpecificBuildPrefix</a>, <a href="#70019" title="=&gt; Seq[String]">scalaVersions</a>, <a href="#70018" title="List[java.lang.String]">prefixes</a>, <a href="#69160" title="sbt.Project">project</a>.<a href="Project.scala.html#53856" title="=&gt; Iterable[String]">taskNames</a>, <a href="#69160" title="sbt.Project">project</a>.<a href="Environment.scala.html#54315" title="=&gt; Iterable[String]">propertyNames</a>, <a href="#70023" title="=&gt; &lt;refinement&gt; extends java.lang.Object with sbt.ExtraCompletions">methodCompletions</a>)
		<span class="keyword">val</span> <a title="sbt.LazyJLineReader" id="70027">reader</a> = <span title="sbt.LazyJLineReader" class="keyword">new</span> <a href="LineReader.scala.html#8336" title="sbt.LazyJLineReader">LazyJLineReader</a>(<a href="#69159" title="sbt.Project">baseProject</a>.<a href="Project.scala.html#53891" title="=&gt; Option[sbt.Path]">historyPath</a>, <a href="LineReader.scala.html#66837" title="(sbt.Completors)jline.Completor">MainCompletor</a>(<a href="#70025" title="=&gt; sbt.Completors">completors</a>), <a href="#69159" title="sbt.Project">baseProject</a>.<a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>)
		<a href="#70027" title="sbt.LazyJLineReader">reader</a>.<a href="LineReader.scala.html#60215" title="(String)Option[java.lang.String]">readLine</a>(<span title="java.lang.String(&quot;&gt; &quot;)" class="string">&quot;&gt; &quot;</span>).<a title="(=&gt; java.lang.String)java.lang.String" id="30531">getOrElse</a>(<a href="#68707" title="=&gt; java.lang.String">ExitCommand</a>)
	}
	<span class="comment">/** The name of the command that loads a console with access to the current project through the variable 'project'.*/</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="68697">ProjectConsoleAction</a> = <span title="java.lang.String(&quot;console-project&quot;)" class="string">&quot;console-project&quot;</span>
	<span class="comment">/** The name of the command that shows the current project and logging level of that project.*/</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="68699">ShowCurrent</a> = <span title="java.lang.String(&quot;current&quot;)" class="string">&quot;current&quot;</span>
	<span class="comment">/** The name of the command that shows all available actions.*/</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="68701">ShowActions</a> = <span title="java.lang.String(&quot;actions&quot;)" class="string">&quot;actions&quot;</span>
	<span class="comment">/** The name of the command that sets the currently active project.*/</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="68703">ProjectAction</a> = <span title="java.lang.String(&quot;project&quot;)" class="string">&quot;project&quot;</span>
	<span class="comment">/** The name of the command that shows all available projects.*/</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="68705">ShowProjectsAction</a> = <span title="java.lang.String(&quot;projects&quot;)" class="string">&quot;projects&quot;</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="68707">ExitCommand</a> = <span title="java.lang.String(&quot;exit&quot;)" class="string">&quot;exit&quot;</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="68709">QuitCommand</a> = <span title="java.lang.String(&quot;quit&quot;)" class="string">&quot;quit&quot;</span>
	<span class="comment">/** The name of the command that resets JLine.  This is necessary when resuming from suspension.*/</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="68711">ResetCommand</a> = <span title="java.lang.String(&quot;reset&quot;)" class="string">&quot;reset&quot;</span>
	<span class="comment">/** The name of the command that switches to the builder project.*/</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="68713">BuilderCommand</a> = <span title="java.lang.String(&quot;builder&quot;)" class="string">&quot;builder&quot;</span>
	<span class="comment">/** The name of the command that loads the interactive shell.*/</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="68715">InteractiveCommand</a> = <span title="java.lang.String(&quot;shell&quot;)" class="string">&quot;shell&quot;</span>
	<span class="comment">/** The list of lowercase command names that may be used to terminate the program.*/</span>
	<span class="keyword">val</span> <a title="Iterable[String]" id="68717">TerminateActions</a>: <span title="Iterable[String]">Iterable</span>[String] = <a href="#68707" title="=&gt; java.lang.String">ExitCommand</a> <a href="#70071" title="(java.lang.String)List[java.lang.String]">::</a> <a href="#68709" title="=&gt; java.lang.String">QuitCommand</a> <a href="#70072" title="(java.lang.String)List[java.lang.String]">::</a> <span title="object Nil">Nil</span>
	<span class="comment">/** The name of the command that sets the value of the property given as its argument.*/</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="68719">SetAction</a> = <span title="java.lang.String(&quot;set&quot;)" class="string">&quot;set&quot;</span>
	<span class="comment">/** The name of the command that gets the value of the property given as its argument.*/</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="68721">GetAction</a> = <span title="java.lang.String(&quot;get&quot;)" class="string">&quot;get&quot;</span>
	<span class="comment">/** The name of the command that displays the help message. */</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="68723">HelpAction</a> = <span title="java.lang.String(&quot;help&quot;)" class="string">&quot;help&quot;</span>
	<span class="comment">/** The command for reloading sbt.*/</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="68725">RebootCommand</a> = <span title="java.lang.String(&quot;reload&quot;)" class="string">&quot;reload&quot;</span>
	<span class="comment">/** The name of the command that toggles logging stacktraces. */</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="68727">TraceCommand</a> = <span title="java.lang.String(&quot;trace&quot;)" class="string">&quot;trace&quot;</span>
	<span class="comment">/** The name of the command that compiles all sources continuously when they are modified. */</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="68729">ContinuousCompileCommand</a> = <span title="java.lang.String(&quot;cc&quot;)" class="string">&quot;cc&quot;</span>
	<span class="comment">/** The prefix used to identify a request to execute the remaining input on source changes.*/</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="68731">ContinuousExecutePrefix</a> = <span title="java.lang.String(&quot;~&quot;)" class="string">&quot;~&quot;</span>
	<span class="comment">/** The prefix used to identify a request to execute the remaining input across multiple Scala versions.*/</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="68733">CrossBuildPrefix</a> = <span title="java.lang.String(&quot;+&quot;)" class="string">&quot;+&quot;</span>
	<span class="comment">/** The prefix used to identify a request to execute the remaining input after the next space against the
	* Scala version between this prefix and the space (i.e. '++version action' means execute 'action' using
	* Scala version 'version'. */</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="68735">SpecificBuildPrefix</a> = <span title="java.lang.String(&quot;++&quot;)" class="string">&quot;++&quot;</span>
	<span class="comment">/** The prefix used to identify a file or local port to read commands from. */</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="68737">FileCommandsPrefix</a> = <span title="java.lang.String(&quot;&lt;&quot;)" class="string">&quot;&lt;&quot;</span>
	<span class="comment">/** The prefix used to identify the action to run after an error*/</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="68739">FailureHandlerPrefix</a> = <span title="java.lang.String(&quot;-&quot;)" class="string">&quot;-&quot;</span>
	<span class="comment">/** The prefix used to identify commands for managing processors.*/</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="68741">ProcessorPrefix</a> = <span title="java.lang.String(&quot;*&quot;)" class="string">&quot;*&quot;</span>

	<span class="comment">/** The number of seconds between polling by the continuous compile command.*/</span>
	<span class="keyword">val</span> <a title="Int" id="68743">ContinuousCompilePollDelaySeconds</a> = <span title="Int(1)" class="int">1</span>

	<span class="comment">/** The list of logging levels.*/</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Iterable[String]" id="68745">logLevels</a>: <span title="Iterable[String]">Iterable</span>[String] = <span title="object scala.collection.immutable.TreeSet">TreeSet</span>.<a href="#70084" title="(implicit (String) =&gt; Ordered[String])scala.collection.immutable.TreeSet[String]" id="64080">empty</a>[<span title="String">String</span>] <span title="(Iterable[String])scala.collection.immutable.SortedSet[String]">++</span> <a href="Logger.scala.html#9888" title="object sbt.Level">Level</a>.<a href="Logger.scala.html#56513" title="=&gt; List[sbt.Level.Value]">levels</a>.<span title="((sbt.Level.Value) =&gt; java.lang.String)List[java.lang.String]">map</span>(<a href="#70219" title="sbt.Level.Value">_</a>.<span title="()java.lang.String">toString</span>)
	<span class="comment">/** The list of all interactive commands other than logging level.*/</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Iterable[String]" id="68746">basicCommands</a>: <span title="Iterable[String]">Iterable</span>[String] = <a href="#70232" title="(java.lang.String*)(implicit (java.lang.String) =&gt; Ordered[java.lang.String])scala.collection.immutable.SortedSet[java.lang.String]" id="64108">TreeSet</a>(<a href="#68705" title="=&gt; java.lang.String">ShowProjectsAction</a>, <a href="#68701" title="=&gt; java.lang.String">ShowActions</a>, <a href="#68699" title="=&gt; java.lang.String">ShowCurrent</a>, <a href="#68723" title="=&gt; java.lang.String">HelpAction</a>,
		<a href="#68725" title="=&gt; java.lang.String">RebootCommand</a>, <a href="#68727" title="=&gt; java.lang.String">TraceCommand</a>, <a href="#68729" title="=&gt; java.lang.String">ContinuousCompileCommand</a>, <a href="#68697" title="=&gt; java.lang.String">ProjectConsoleAction</a>, <a href="#68713" title="=&gt; java.lang.String">BuilderCommand</a>)  <span title="(Iterable[java.lang.String])scala.collection.immutable.SortedSet[java.lang.String]">++</span>
		<a href="#68745" title="=&gt; Iterable[String]">logLevels</a>.<span title="=&gt; List[String]">toList</span> <span title="(Iterable[java.lang.String])scala.collection.immutable.SortedSet[java.lang.String]">++</span> <a href="#68717" title="=&gt; Iterable[String]">TerminateActions</a> <span title="(Iterable[java.lang.String])scala.collection.immutable.SortedSet[java.lang.String]">++</span>
		<a href="complete/HistoryCommands.scala.html#14437" title="object sbt.complete.HistoryCommands">HistoryCommands</a>.<a href="complete/HistoryCommands.scala.html#68652" title="=&gt; Seq[java.lang.String]">plainCommands</a>

	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project,sbt.Project,String,Boolean)Boolean" id="68747">processAction</a>(<a title="sbt.Project" id="69814">baseProject</a>: <a href="Project.scala.html#9290" title="sbt.Project">Project</a>, <a title="sbt.Project" id="69815">currentProject</a>: <a href="Project.scala.html#9290" title="sbt.Project">Project</a>, <a title="String" id="69816">action</a>: <span title="String">String</span>, <a title="Boolean" id="69817">isInteractive</a>: <span title="Boolean">Boolean</span>): <span title="Boolean">Boolean</span> =
		<a href="#69816" title="String">action</a> <span title="Boolean" class="keyword">match</span>
		{
			<span title="Boolean" class="keyword">case</span> <a href="#68723" title="=&gt; java.lang.String">HelpAction</a> =&gt; <a href="#68753" title="(Boolean)Unit">displayHelp</a>(<a href="#69817" title="Boolean">isInteractive</a>); <span title="Boolean(true)" class="keyword">true</span>
			<span title="Boolean" class="keyword">case</span> <a href="#68705" title="=&gt; java.lang.String">ShowProjectsAction</a> =&gt; <a href="#69814" title="sbt.Project">baseProject</a>.<a href="Project.scala.html#53870" title="=&gt; List[sbt.Project]">projectClosure</a>.<span title="((sbt.Project) =&gt; Unit)Unit">foreach</span>(<a href="#68754" title="(sbt.Project,sbt.Project)Unit">listProject</a>(<a href="#70280" title="sbt.Project">_</a>, <a href="#69815" title="sbt.Project">currentProject</a>)); <span title="Boolean(true)" class="keyword">true</span>
			<span title="Boolean" class="keyword">case</span> <a href="#68697" title="=&gt; java.lang.String">ProjectConsoleAction</a> =&gt;
				<a href="#68759" title="(Option[String],sbt.Logger)Boolean">showResult</a>(<a href="Run.scala.html#8982" title="object sbt.Run">Run</a>.<a href="Run.scala.html#59463" title="(sbt.Project)Option[String]">projectConsole</a>(<a href="#69815" title="sbt.Project">currentProject</a>), <a href="#69815" title="sbt.Project">currentProject</a>.<a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>)
			<span title="Boolean" class="keyword">case</span> _ =&gt;
				<span title="Boolean" class="keyword">if</span>(<a href="#69816" title="String">action</a>.<span title="(java.lang.String)Boolean">startsWith</span>(<a href="#68719" title="=&gt; java.lang.String">SetAction</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span>))
					<a href="#68771" title="(sbt.Project,String)Boolean">setProperty</a>(<a href="#69815" title="sbt.Project">currentProject</a>, <a href="#69816" title="String">action</a>.<span title="(Int)java.lang.String">substring</span>(<a href="#68719" title="=&gt; java.lang.String">SetAction</a>.<span title="()Int">length</span> <span title="(Int)Int">+</span> <span title="Int(1)" class="int">1</span>))
				<span class="keyword">else</span> <span title="Boolean" class="keyword">if</span>(<a href="#69816" title="String">action</a>.<span title="(java.lang.String)Boolean">startsWith</span>(<a href="#68721" title="=&gt; java.lang.String">GetAction</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span>))
					<a href="#68770" title="(sbt.Project,String)Boolean">getProperty</a>(<a href="#69815" title="sbt.Project">currentProject</a>, <a href="#69816" title="String">action</a>.<span title="(Int)java.lang.String">substring</span>(<a href="#68721" title="=&gt; java.lang.String">GetAction</a>.<span title="()Int">length</span> <span title="(Int)Int">+</span> <span title="Int(1)" class="int">1</span>))
				<span class="keyword">else</span> <span title="Boolean" class="keyword">if</span>(<a href="#69816" title="String">action</a>.<span title="(java.lang.String)Boolean">startsWith</span>(<a href="#68727" title="=&gt; java.lang.String">TraceCommand</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span>))
					<a href="#68762" title="(sbt.Project,String)Boolean">setTrace</a>(<a href="#69815" title="sbt.Project">currentProject</a>, <a href="#69816" title="String">action</a>.<span title="(Int)java.lang.String">substring</span>(<a href="#68727" title="=&gt; java.lang.String">TraceCommand</a>.<span title="()Int">length</span> <span title="(Int)Int">+</span> <span title="Int(1)" class="int">1</span>))
				<span class="keyword">else</span>
					<a href="#68756" title="(sbt.Project,String)Boolean">handleCommand</a>(<a href="#69815" title="sbt.Project">currentProject</a>, <a href="#69816" title="String">action</a>)
		}

	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(String,String)Unit" id="68748">printCmd</a>(<a title="String" id="70355">name</a>:<span title="String">String</span>, <a title="String" id="70356">desc</a>:<span title="String">String</span>) = <span title="object Console">Console</span>.<span title="(Any)Unit">println</span>(<span title="java.lang.String(&quot;   &quot;)" class="string">&quot;   &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#70355" title="String">name</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; : &quot;)" class="string">&quot; : &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#70356" title="String">desc</a>)
	<span class="keyword">val</span> <a title="java.lang.String" id="68749">BatchHelpHeader</a> = <span title="java.lang.String(&quot;You may execute any project action or method or one of the commands described below.&quot;)" class="string">&quot;You may execute any project action or method or one of the commands described below.&quot;</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="68751">InteractiveHelpHeader</a> = <span class="string">&quot;You may execute any project action or one of the commands described below. Only one action &quot;</span> +
			<span class="string">&quot;may be executed at a time in interactive mode and is entered by name, as it would be at the command line.&quot;</span> <span title="java.lang.String(&quot;You may execute any project action or one of the commands described below. Only one action may be executed at a time in interactive mode and is entered by name, as it would be at the command line. Also, tab completion is available.&quot;)">+</span>
			<span class="string">&quot; Also, tab completion is available.&quot;</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(Boolean)Unit" id="68753">displayHelp</a>(<a title="Boolean" id="70277">isInteractive</a>: <span title="Boolean">Boolean</span>)
	{
		<span title="object Console">Console</span>.<span title="(Any)Unit">println</span>(<span title="Any" class="keyword">if</span>(<a href="#70277" title="Boolean">isInteractive</a>) <a href="#68751" title="=&gt; java.lang.String">InteractiveHelpHeader</a> <span class="keyword">else</span> <a href="#68749" title="=&gt; java.lang.String">BatchHelpHeader</a>)
		<span title="object Console">Console</span>.<span title="(Any)Unit">println</span>(<span title="java.lang.String(&quot;Available Commands:&quot;)" class="string">&quot;Available Commands:&quot;</span>)

		<a href="#68748" title="(String,String)Unit">printCmd</a>(<span title="java.lang.String(&quot;&lt;action name&gt;&quot;)" class="string">&quot;&lt;action name&gt;&quot;</span>, <span title="java.lang.String(&quot;Executes the project specified action.&quot;)" class="string">&quot;Executes the project specified action.&quot;</span>)
		<a href="#68748" title="(String,String)Unit">printCmd</a>(<span title="java.lang.String(&quot;&lt;method name&gt; &lt;parameter&gt;*&quot;)" class="string">&quot;&lt;method name&gt; &lt;parameter&gt;*&quot;</span>, <span title="java.lang.String(&quot;Executes the project specified method.&quot;)" class="string">&quot;Executes the project specified method.&quot;</span>)
		<a href="#68748" title="(String,String)Unit">printCmd</a>(<span title="java.lang.String(&quot;&lt;processor label&gt; &lt;arguments&gt;&quot;)" class="string">&quot;&lt;processor label&gt; &lt;arguments&gt;&quot;</span>, <span title="java.lang.String(&quot;Runs the specified processor.&quot;)" class="string">&quot;Runs the specified processor.&quot;</span>)
		<a href="#68748" title="(String,String)Unit">printCmd</a>(<a href="#68731" title="=&gt; java.lang.String">ContinuousExecutePrefix</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &lt;command&gt;&quot;)" class="string">&quot; &lt;command&gt;&quot;</span>, <span title="java.lang.String(&quot;Executes the project specified action or method whenever source files change.&quot;)" class="string">&quot;Executes the project specified action or method whenever source files change.&quot;</span>)
		<a href="#68748" title="(String,String)Unit">printCmd</a>(<a href="#68737" title="=&gt; java.lang.String">FileCommandsPrefix</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; file&quot;)" class="string">&quot; file&quot;</span>, <span title="java.lang.String(&quot;Executes the commands in the given file.  Each command should be on its own line.  Empty lines and lines beginning with '#' are ignored&quot;)" class="string">&quot;Executes the commands in the given file.  Each command should be on its own line.  Empty lines and lines beginning with '#' are ignored&quot;</span>)
		<a href="#68748" title="(String,String)Unit">printCmd</a>(<a href="#68733" title="=&gt; java.lang.String">CrossBuildPrefix</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &lt;command&gt;&quot;)" class="string">&quot; &lt;command&gt;&quot;</span>, <span title="java.lang.String(&quot;Executes the project specified action or method for all versions of Scala defined in crossScalaVersions.&quot;)" class="string">&quot;Executes the project specified action or method for all versions of Scala defined in crossScalaVersions.&quot;</span>)
		<a href="#68748" title="(String,String)Unit">printCmd</a>(<a href="#68735" title="=&gt; java.lang.String">SpecificBuildPrefix</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;&lt;version&gt; &lt;command&gt;&quot;)" class="string">&quot;&lt;version&gt; &lt;command&gt;&quot;</span>, <span title="java.lang.String(&quot;Changes the version of Scala building the project and executes the provided command.  &lt;command&gt; is optional.&quot;)" class="string">&quot;Changes the version of Scala building the project and executes the provided command.  &lt;command&gt; is optional.&quot;</span>)
		<a href="#68748" title="(String,String)Unit">printCmd</a>(<a href="#68741" title="=&gt; java.lang.String">ProcessorPrefix</a>, <span title="java.lang.String(&quot;Prefix for commands for managing processors.  Run '&quot;)" class="string">&quot;Prefix for commands for managing processors.  Run '&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#68741" title="=&gt; java.lang.String">ProcessorPrefix</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;help' for details.&quot;)" class="string">&quot;help' for details.&quot;</span>)
		<a href="#68748" title="(String,String)Unit">printCmd</a>(<a href="complete/HistoryCommands.scala.html#68635" title="=&gt; java.lang.String">HistoryPrefix</a>, <span title="java.lang.String(&quot;Prefix for history commands.  Run '&quot;)" class="string">&quot;Prefix for history commands.  Run '&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="complete/HistoryCommands.scala.html#68635" title="=&gt; java.lang.String">HistoryPrefix</a><span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;' for history command help.&quot;)" class="string">&quot;' for history command help.&quot;</span>)
		<a href="#68748" title="(String,String)Unit">printCmd</a>(<a href="#68701" title="=&gt; java.lang.String">ShowActions</a>, <span title="java.lang.String(&quot;Shows all available actions.&quot;)" class="string">&quot;Shows all available actions.&quot;</span>)
		<a href="#68748" title="(String,String)Unit">printCmd</a>(<a href="#68725" title="=&gt; java.lang.String">RebootCommand</a>, <span title="java.lang.String(&quot;Reloads sbt, picking up modifications to sbt.version or scala.version and recompiling modified project definitions.&quot;)" class="string">&quot;Reloads sbt, picking up modifications to sbt.version or scala.version and recompiling modified project definitions.&quot;</span>)
		<a href="#68748" title="(String,String)Unit">printCmd</a>(<a href="#68723" title="=&gt; java.lang.String">HelpAction</a>, <span title="java.lang.String(&quot;Displays this help message.&quot;)" class="string">&quot;Displays this help message.&quot;</span>)
		<a href="#68748" title="(String,String)Unit">printCmd</a>(<a href="#68699" title="=&gt; java.lang.String">ShowCurrent</a>, <span title="java.lang.String(&quot;Shows the current project, Scala version, and logging level.&quot;)" class="string">&quot;Shows the current project, Scala version, and logging level.&quot;</span>)
		<a href="#68748" title="(String,String)Unit">printCmd</a>(<a href="Logger.scala.html#9888" title="object sbt.Level">Level</a>.<a href="Logger.scala.html#56513" title="=&gt; List[sbt.Level.Value]">levels</a>.<span title="(String)String">mkString</span>(<span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>), <span title="java.lang.String(&quot;Set logging for the current project to the specified level.&quot;)" class="string">&quot;Set logging for the current project to the specified level.&quot;</span>)
		<a href="#68748" title="(String,String)Unit">printCmd</a>(<a href="#68727" title="=&gt; java.lang.String">TraceCommand</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#68774" title="=&gt; java.lang.String">validTraceArguments</a>, <span title="java.lang.String(&quot;Configures stack trace logging. &quot;)" class="string">&quot;Configures stack trace logging. &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#68775" title="=&gt; java.lang.String">traceExplanation</a>)
		<a href="#68748" title="(String,String)Unit">printCmd</a>(<a href="#68703" title="=&gt; java.lang.String">ProjectAction</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &lt;project name&gt;&quot;)" class="string">&quot; &lt;project name&gt;&quot;</span>, <span title="java.lang.String(&quot;Sets the currently active project.  Use 'project /' to change to the root project or 'project ..' to change to the parent project.&quot;)" class="string">&quot;Sets the currently active project.  Use 'project /' to change to the root project or 'project ..' to change to the parent project.&quot;</span>)
		<a href="#68748" title="(String,String)Unit">printCmd</a>(<a href="#68705" title="=&gt; java.lang.String">ShowProjectsAction</a>, <span title="java.lang.String(&quot;Shows all available projects.&quot;)" class="string">&quot;Shows all available projects.&quot;</span>)
		<a href="#68748" title="(String,String)Unit">printCmd</a>(<a href="#68717" title="=&gt; Iterable[String]">TerminateActions</a>.<span title="=&gt; Iterator[String]">elements</span>.<a title="(String)String" id="19888">mkString</a>(<span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>), <span title="java.lang.String(&quot;Terminates the build.&quot;)" class="string">&quot;Terminates the build.&quot;</span>)
		<a href="#68748" title="(String,String)Unit">printCmd</a>(<a href="#68719" title="=&gt; java.lang.String">SetAction</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &lt;property&gt; &lt;value&gt;&quot;)" class="string">&quot; &lt;property&gt; &lt;value&gt;&quot;</span>, <span title="java.lang.String(&quot;Sets the value of the property given as its argument.&quot;)" class="string">&quot;Sets the value of the property given as its argument.&quot;</span>)
		<a href="#68748" title="(String,String)Unit">printCmd</a>(<a href="#68721" title="=&gt; java.lang.String">GetAction</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &lt;property&gt;&quot;)" class="string">&quot; &lt;property&gt;&quot;</span>, <span title="java.lang.String(&quot;Gets the value of the property given as its argument.&quot;)" class="string">&quot;Gets the value of the property given as its argument.&quot;</span>)
		<a href="#68748" title="(String,String)Unit">printCmd</a>(<a href="#68697" title="=&gt; java.lang.String">ProjectConsoleAction</a>, <span title="java.lang.String(&quot;Enters the Scala interpreter with the current project definition bound to the variable 'current' and all members imported.&quot;)" class="string">&quot;Enters the Scala interpreter with the current project definition bound to the variable 'current' and all members imported.&quot;</span>)
		<a href="#68748" title="(String,String)Unit">printCmd</a>(<a href="#68713" title="=&gt; java.lang.String">BuilderCommand</a>, <span title="java.lang.String(&quot;Set the current project to be the project definition builder.&quot;)" class="string">&quot;Set the current project to be the project definition builder.&quot;</span>)
		<span title="Unit" class="keyword">if</span>(<span title="=&gt; Boolean">!</span><a href="#70277" title="Boolean">isInteractive</a>)
			<a href="#68748" title="(String,String)Unit">printCmd</a>(<a href="#68715" title="=&gt; java.lang.String">InteractiveCommand</a>, <span title="java.lang.String(&quot;Enters the sbt interactive shell&quot;)" class="string">&quot;Enters the sbt interactive shell&quot;</span>)
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project,sbt.Project)Unit" id="68754">listProject</a>(<a title="sbt.Project" id="70281">p</a>: <a href="Project.scala.html#9290" title="sbt.Project">Project</a>, <a title="sbt.Project" id="70282">curr</a>: <a href="Project.scala.html#9290" title="sbt.Project">Project</a>) = <a href="#68755" title="(String,sbt.Project)Unit">printProject</a>(<span title="String" class="keyword">if</span>(<a href="#70281" title="sbt.Project">p</a> <span title="(AnyRef)Boolean">eq</span> <a href="#70282" title="sbt.Project">curr</a>) <span title="java.lang.String(&quot;\011* &quot;)" class="string">&quot;\t* &quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;\011  &quot;)" class="string">&quot;\t  &quot;</span>, <a href="#70281" title="sbt.Project">p</a>)
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(String,sbt.Project)Unit" id="68755">printProject</a>(<a title="String" id="69945">prefix</a>: <span title="String">String</span>, <a title="sbt.Project" id="69946">p</a>: <a href="Project.scala.html#9290" title="sbt.Project">Project</a>): <span title="Unit">Unit</span> =
		<span title="object Console">Console</span>.<span title="(Any)Unit">println</span>(<a href="#69945" title="String">prefix</a> <span title="(Any)java.lang.String">+</span> <a href="#69946" title="sbt.Project">p</a>.<a href="Project.scala.html#53848" title="=&gt; String">name</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#69946" title="sbt.Project">p</a>.<a href="Project.scala.html#53849" title="=&gt; sbt.Version">version</a>)

	<span class="comment">/** Handles the given command string provided at the command line.  Returns false if there was an error*/</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project,String)Boolean" id="68756">handleCommand</a>(<a title="sbt.Project" id="70353">project</a>: <a href="Project.scala.html#9290" title="sbt.Project">Project</a>, <a title="String" id="70354">command</a>: <span title="String">String</span>): <span title="Boolean">Boolean</span> =
	{
		<a href="#70354" title="String">command</a> <span title="Boolean" class="keyword">match</span>
		{
			<span title="Boolean" class="keyword">case</span> <a href="#68721" title="=&gt; java.lang.String">GetAction</a> =&gt; <a href="#68779" title="(sbt.Logger)Boolean">getArgumentError</a>(<a href="#70353" title="sbt.Project">project</a>.<a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>)
			<span title="Boolean" class="keyword">case</span> <a href="#68719" title="=&gt; java.lang.String">SetAction</a> =&gt; <a href="#68778" title="(sbt.Logger)Boolean">setArgumentError</a>(<a href="#70353" title="sbt.Project">project</a>.<a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>)
			<span title="Boolean" class="keyword">case</span> <a href="#68703" title="=&gt; java.lang.String">ProjectAction</a> =&gt; <a href="#68780" title="(sbt.Logger)Boolean">setProjectError</a>(<a href="#70353" title="sbt.Project">project</a>.<a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>)
			<span title="Boolean" class="keyword">case</span> <a href="#68727" title="=&gt; java.lang.String">TraceCommand</a> =&gt; <a href="#68777" title="(sbt.Logger)Boolean">setTraceError</a>(<a href="#70353" title="sbt.Project">project</a>.<a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>); <span title="Boolean(true)" class="keyword">true</span>
			<span title="Boolean" class="keyword">case</span> <a href="#68699" title="=&gt; java.lang.String">ShowCurrent</a> =&gt;
				<a href="#68755" title="(String,sbt.Project)Unit">printProject</a>(<span title="java.lang.String(&quot;Current project is &quot;)" class="string">&quot;Current project is &quot;</span>, <a href="#70353" title="sbt.Project">project</a>)
				<span title="object Console">Console</span>.<span title="(Any)Unit">println</span>(<span title="java.lang.String(&quot;Current Scala version is &quot;)" class="string">&quot;Current Scala version is &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#70353" title="sbt.Project">project</a>.<a href="Project.scala.html#53914" title="=&gt; String">buildScalaVersion</a>)
				<span title="object Console">Console</span>.<span title="(Any)Unit">println</span>(<span title="java.lang.String(&quot;Current log level is &quot;)" class="string">&quot;Current log level is &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#70353" title="sbt.Project">project</a>.<a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#52365" title="=&gt; sbt.Level.Value">getLevel</a>)
				<a href="#68763" title="(sbt.Project)Unit">printTraceEnabled</a>(<a href="#70353" title="sbt.Project">project</a>)
				<span title="Boolean(true)" class="keyword">true</span>
			<span title="Boolean" class="keyword">case</span> <a href="#68701" title="=&gt; java.lang.String">ShowActions</a> =&gt; <a href="#68757" title="(sbt.Project)Unit">showActions</a>(<a href="#70353" title="sbt.Project">project</a>); <span title="Boolean(true)" class="keyword">true</span>
			<span title="Boolean" class="keyword">case</span> <a href="Logger.scala.html#56515" title="(String)Option[sbt.Level.Value]">Level</a>(<a title="sbt.Level.Value" id="70385">level</a>) =&gt; <a href="#68764" title="(sbt.Project,sbt.Level.Value)Unit">setLevel</a>(<a href="#70353" title="sbt.Project">project</a>, <a href="#70385" title="sbt.Level.Value">level</a>); <span title="Boolean(true)" class="keyword">true</span>
			<span title="Boolean" class="keyword">case</span> <a href="#68729" title="=&gt; java.lang.String">ContinuousCompileCommand</a> =&gt; <a href="#68772" title="(sbt.Project)Boolean">compileContinuously</a>(<a href="#70353" title="sbt.Project">project</a>)
			<span title="Boolean" class="keyword">case</span> <a title="String" id="70454">action</a> <span class="keyword">if</span> <a href="#70454" title="String">action</a>.<span title="(java.lang.String)Boolean">startsWith</span>(<a href="#68731" title="=&gt; java.lang.String">ContinuousExecutePrefix</a>) =&gt; <a href="#68773" title="(sbt.Project,String)Boolean">executeContinuously</a>(<a href="#70353" title="sbt.Project">project</a>, <a href="#70454" title="String">action</a>.<span title="(Int)java.lang.String">substring</span>(<a href="#68731" title="=&gt; java.lang.String">ContinuousExecutePrefix</a>.<span title="()Int">length</span>).<span title="()java.lang.String">trim</span>)
			<span title="Boolean" class="keyword">case</span> <a title="String" id="70457">action</a> =&gt; <a href="#68758" title="(sbt.Project,String)Boolean">handleAction</a>(<a href="#70353" title="sbt.Project">project</a>, <a href="#70457" title="String">action</a>)
		}
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project)Unit" id="68757">showActions</a>(<a title="sbt.Project" id="70383">project</a>: <a href="Project.scala.html#9290" title="sbt.Project">Project</a>): <span title="Unit">Unit</span> = <span title="object Console">Console</span>.<span title="(Any)Unit">println</span>(<a href="#70383" title="sbt.Project">project</a>.<a href="Project.scala.html#53861" title="=&gt; String">taskAndMethodList</a>)

	<span class="comment">// returns true if it succeeded</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project,String)Boolean" id="68758">handleAction</a>(<a title="sbt.Project" id="70437">project</a>: <a href="Project.scala.html#9290" title="sbt.Project">Project</a>, <a title="String" id="70438">action</a>: <span title="String">String</span>): <span title="Boolean">Boolean</span> =
	{
		<span class="keyword">def</span> <a title="(Option[String])Boolean" id="70460">show</a>(<a title="Option[String]" id="70463">result</a>: <span title="Option[String]">Option</span>[String]): <span title="Boolean">Boolean</span> = <a href="#68759" title="(Option[String],sbt.Logger)Boolean">showResult</a>(<a href="#70463" title="Option[String]">result</a>, <a href="#70437" title="sbt.Project">project</a>.<a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>)
		<span class="keyword">val</span> <a title="Long" id="70461">startTime</a> = <span title="object java.lang.System">System</span>.<span title="()Long">currentTimeMillis</span>
		<span class="keyword">val</span> <a title="Boolean" id="70462">result</a> = <a href="#68761" title="(sbt.Project,String)((String, Array[String]) =&gt; Boolean)((String) =&gt; Boolean)Boolean">withAction</a>(<a href="#70437" title="sbt.Project">project</a>, <a href="#70438" title="String">action</a>)( (<a title="String" id="70469">name</a>, <a title="Array[String]" id="70470">params</a>) =&gt; <a href="#70460" title="(Option[String])Boolean">show</a>(<a href="#70437" title="sbt.Project">project</a>.<a href="Project.scala.html#53871" title="(String,Array[String])Option[String]">call</a>(<a href="#70469" title="String">name</a>, <a href="#70470" title="Array[String]">params</a>)))( <a title="String" id="70474">name</a> =&gt; <a href="#70460" title="(Option[String])Boolean">show</a>(<a href="#70437" title="sbt.Project">project</a>.<a href="Project.scala.html#53873" title="(String)Option[String]">act</a>(<a href="#70474" title="String">name</a>)))
		<a href="#68765" title="(sbt.Project,Long,String)Unit">printTime</a>(<a href="#70437" title="sbt.Project">project</a>, <a href="#70461" title="Long">startTime</a>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>)
		<a href="#70462" title="Boolean">result</a>
	}
	<span class="comment">// returns true if it succeeded</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(Option[String],sbt.Logger)Boolean" id="68759">showResult</a>(<a title="Option[String]" id="70284">result</a>: <span title="Option[String]">Option</span>[String], <a title="sbt.Logger" id="70285">log</a>: <a href="Logger.scala.html#13532" title="sbt.Logger">Logger</a>): <span title="Boolean">Boolean</span> =
	{
		<a href="#70284" title="Option[String]">result</a> <span title="Boolean" class="keyword">match</span>
		{
			<span title="Boolean" class="keyword">case</span> Some(<a title="String" id="70476">errorMessage</a>) =&gt; <a href="#70285" title="sbt.Logger">log</a>.<a href="Logger.scala.html#52377" title="(=&gt; String)Unit">error</a>(<a href="#70476" title="String">errorMessage</a>); <span title="Boolean(false)" class="keyword">false</span>
			<span title="Boolean" class="keyword">case</span> <span title="object None">None</span> =&gt; <a href="#70285" title="sbt.Logger">log</a>.<a href="Logger.scala.html#52378" title="(=&gt; String)Unit">success</a>(<span title="java.lang.String(&quot;Successful.&quot;)" class="string">&quot;Successful.&quot;</span>); <span title="Boolean(true)" class="keyword">true</span>
		}
	}
	<span class="comment">// true if the action exists</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project,String)Boolean" id="68760">checkAction</a>(<a title="sbt.Project" id="69332">project</a>: <a href="Project.scala.html#9290" title="sbt.Project">Project</a>, <a title="String" id="69333">actionString</a>: <span title="String">String</span>): <span title="Boolean">Boolean</span> =
		<a href="#68761" title="(sbt.Project,String)((String, Array[String]) =&gt; Boolean)((String) =&gt; Boolean)Boolean">withAction</a>(<a href="#69332" title="sbt.Project">project</a>, <a href="#69333" title="String">actionString</a>)(  (<a title="String" id="70479">n</a>,<a title="Array[String]" id="70480">p</a>) =&gt; <span title="Boolean(true)" class="keyword">true</span>)( <a title="String" id="70482">n</a> =&gt; <span title="Boolean(true)" class="keyword">true</span>)
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project,String)((String, Array[String]) =&gt; Boolean)((String) =&gt; Boolean)Boolean" id="68761">withAction</a>(<a title="sbt.Project" id="70464">project</a>: <a href="Project.scala.html#9290" title="sbt.Project">Project</a>, <a title="String" id="70465">actionString</a>: <span title="String">String</span>)(<a title="(String, Array[String]) =&gt; Boolean" id="70466">ifMethod</a>: (String, Array[String]) =&gt; Boolean)(<a title="(String) =&gt; Boolean" id="70467">ifAction</a>: String =&gt; Boolean): <span title="Boolean">Boolean</span> =
	{
		<span class="keyword">def</span> <a title="(String,String)Boolean" id="70483">didNotExist</a>(<a title="String" id="70484">taskType</a>: <span title="String">String</span>, <a title="String" id="70485">name</a>: <span title="String">String</span>) =
		{
			<a href="#70464" title="sbt.Project">project</a>.<a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#52377" title="(=&gt; String)Unit">error</a>(<span title="java.lang.String(&quot;No &quot;)" class="string">&quot;No &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#70484" title="String">taskType</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; named '&quot;)" class="string">&quot; named '&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#70485" title="String">name</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;' exists.&quot;)" class="string">&quot;' exists.&quot;</span>)
			<a href="#70464" title="sbt.Project">project</a>.<a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#52375" title="(=&gt; String)Unit">info</a>(<span title="java.lang.String(&quot;Execute 'help' for a list of commands or 'actions' for a list of available project actions and methods.&quot;)" class="string">&quot;Execute 'help' for a list of commands or 'actions' for a list of available project actions and methods.&quot;</span>)
			<span title="Boolean(false)" class="keyword">false</span>
		}
		impl.<a href="impl/CommandParser.scala.html#14627" title="object sbt.impl.CommandParser">CommandParser</a>.<a href="impl/CommandParser.scala.html#70794" title="(String)Either[String,(String, List[String])]">parse</a>(<a href="#70465" title="String">actionString</a>) <span title="Boolean" class="keyword">match</span>
		{
			<span title="Boolean" class="keyword">case</span> Left(<a title="String" id="70813">errMsg</a>) =&gt; <a href="#70464" title="sbt.Project">project</a>.<a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#52377" title="(=&gt; String)Unit">error</a>(<a href="#70813" title="String">errMsg</a>); <span title="Boolean(false)" class="keyword">false</span>
			<span title="Boolean" class="keyword">case</span> Right((<a title="String" id="70815">name</a>, <a title="List[String]" id="70816">parameters</a>)) =&gt;
				<span title="Boolean" class="keyword">if</span>(<a href="#70464" title="sbt.Project">project</a>.<a href="Project.scala.html#53855" title="=&gt; scala.collection.Map[String,project.MethodTask]">methods</a>.<span title="(String)Boolean">contains</span>(<a href="#70815" title="String">name</a>))
					<a href="#70466" title="(String,Array[String])Boolean" id="19795">ifMethod</a>(<a href="#70815" title="String">name</a>, <a href="#70816" title="List[String]">parameters</a>.<a title="Array[String]" id="16030">toArray</a>)
				<span class="keyword">else</span> <span title="Boolean" class="keyword">if</span>(<span title="=&gt; Boolean">!</span><a href="#70816" title="List[String]">parameters</a>.<span title="=&gt; Boolean">isEmpty</span>)
					<a href="#70483" title="(String,String)Boolean">didNotExist</a>(<span title="java.lang.String(&quot;method&quot;)" class="string">&quot;method&quot;</span>, <a href="#70815" title="String">name</a>)
				<span class="keyword">else</span> <span title="Boolean" class="keyword">if</span>(<a href="#70464" title="sbt.Project">project</a>.<a href="Project.scala.html#53865" title="=&gt; scala.collection.Map[String,sbt.Project#Task]">deepTasks</a>.<span title="(String)Boolean">contains</span>(<a href="#70815" title="String">name</a>))
					<a href="#70467" title="(String)Boolean" id="16113">ifAction</a>(<a href="#70815" title="String">name</a>)
				<span class="keyword">else</span>
					<a href="#70483" title="(String,String)Boolean">didNotExist</a>(<span title="java.lang.String(&quot;action&quot;)" class="string">&quot;action&quot;</span>, <a href="#70815" title="String">name</a>)
		}
	}

	<span class="comment">/** Toggles whether stack traces are enabled.*/</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project,String)Boolean" id="68762">setTrace</a>(<a title="sbt.Project" id="70332">project</a>: <a href="Project.scala.html#9290" title="sbt.Project">Project</a>, <a title="String" id="70333">value</a>: <span title="String">String</span>): <span title="Boolean">Boolean</span> =
	{
		<span class="keyword">try</span>
		{
			<span class="keyword">val</span> <a title="Int" id="70826">newValue</a> = <span title="Int" class="keyword">if</span>(<a href="#70333" title="String">value</a> <span title="(AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;on&quot;)" class="string">&quot;on&quot;</span>) <a href="#68673" title="=&gt; Int">MaxInt</a> <span class="keyword">else</span> <span title="Int" class="keyword">if</span>(<a href="#70333" title="String">value</a> <span title="(AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;off&quot;)" class="string">&quot;off&quot;</span>) -<span title="Int(-1)" class="int">1</span> <span class="keyword">else</span> <span title="Int" class="keyword">if</span>(<a href="#70333" title="String">value</a> <span title="(AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;nosbt&quot;)" class="string">&quot;nosbt&quot;</span>) <span title="Int(0)" class="int">0</span> <span class="keyword">else</span> <a href="#70333" title="implicit scala.Predef.stringWrapper : (String)scala.runtime.RichString">value</a>.<span title="=&gt; Int">toInt</span>
			<a href="#70332" title="sbt.Project">project</a>.<a href="Project.scala.html#53870" title="=&gt; List[sbt.Project]">projectClosure</a>.<span title="((sbt.Project) =&gt; Unit)Unit">foreach</span>(<a href="#70836" title="sbt.Project">_</a>.<a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#52367" title="(Int)Unit">setTrace</a>(<a href="#70826" title="Int">newValue</a>))
			<a href="#68763" title="(sbt.Project)Unit">printTraceEnabled</a>(<a href="#70332" title="sbt.Project">project</a>)
			<span title="Boolean(true)" class="keyword">true</span>
		}
		<span class="keyword">catch</span> { <span title="Boolean" class="keyword">case</span> _: <span title="NumberFormatException">NumberFormatException</span> =&gt; <a href="#68777" title="(sbt.Logger)Boolean">setTraceError</a>(<a href="#70332" title="sbt.Project">project</a>.<a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>) }
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project)Unit" id="68763">printTraceEnabled</a>(<a title="sbt.Project" id="70382">project</a>: <a href="Project.scala.html#9290" title="sbt.Project">Project</a>)
	{
		<span class="keyword">def</span> <a title="(Int)java.lang.String" id="70837">traceLevel</a>(<a title="Int" id="70838">level</a>: <span title="Int">Int</span>) = <span title="java.lang.String" class="keyword">if</span>(<a href="#70838" title="Int">level</a> <span title="(Int)Boolean">==</span> <span title="Int(0)" class="int">0</span>) <span title="java.lang.String(&quot; (no sbt stack elements)&quot;)" class="string">&quot; (no sbt stack elements)&quot;</span> <span class="keyword">else</span> <span title="java.lang.String" class="keyword">if</span>(<a href="#70838" title="Int">level</a> <span title="(Int)Boolean">==</span> <a href="#68673" title="=&gt; Int">MaxInt</a>) <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot; (maximum &quot;)" class="string">&quot; (maximum &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#70838" title="Int">level</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; stack elements per exception)&quot;)" class="string">&quot; stack elements per exception)&quot;</span>
		<span title="object Console">Console</span>.<span title="(Any)Unit">println</span>(<span title="java.lang.String(&quot;Stack traces are &quot;)" class="string">&quot;Stack traces are &quot;</span> <span title="(Any)java.lang.String">+</span> (<span title="Any" class="keyword">if</span>(<a href="#70382" title="sbt.Project">project</a>.<a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#52369" title="=&gt; Boolean">traceEnabled</a>) <span title="java.lang.String(&quot;enabled&quot;)" class="string">&quot;enabled&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#70837" title="(Int)java.lang.String">traceLevel</a>(<a href="#70382" title="sbt.Project">project</a>.<a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#52368" title="=&gt; Int">getTrace</a>) <span class="keyword">else</span> <span title="java.lang.String(&quot;disabled&quot;)" class="string">&quot;disabled&quot;</span>))
	}
	<span class="comment">/** Sets the logging level on the given project.*/</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project,sbt.Level.Value)Unit" id="68764">setLevel</a>(<a title="sbt.Project" id="70386">project</a>: <a href="Project.scala.html#9290" title="sbt.Project">Project</a>, <a title="sbt.Level.Value" id="70387">level</a>: Level.<a title="sbt.Level.Value" id="34036">Value</a>)
	{
		<a href="#70386" title="sbt.Project">project</a>.<a href="Project.scala.html#53870" title="=&gt; List[sbt.Project]">projectClosure</a>.<span title="((sbt.Project) =&gt; Unit)Unit">foreach</span>(<a href="#70844" title="sbt.Project">_</a>.<a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#52366" title="(sbt.Level.Value)Unit">setLevel</a>(<a href="#70387" title="sbt.Level.Value">level</a>))
		<span title="object Console">Console</span>.<span title="(Any)Unit">println</span>(<span title="java.lang.String(&quot;Set log level to &quot;)" class="string">&quot;Set log level to &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#70386" title="sbt.Project">project</a>.<a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#52365" title="=&gt; sbt.Level.Value">getLevel</a>)
	}
	<span class="comment">/** Prints the elapsed time to the given project's log using the given
	* initial time and the label 's'.*/</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project,Long,String)Unit" id="68765">printTime</a>(<a title="sbt.Project" id="68938">project</a>: <a href="Project.scala.html#9290" title="sbt.Project">Project</a>, <a title="Long" id="68939">startTime</a>: <span title="Long">Long</span>, <a title="String" id="68940">s</a>: <span title="String">String</span>)
	{
		<span class="keyword">val</span> <a title="Long" id="70846">endTime</a> = <span title="object java.lang.System">System</span>.<span title="()Long">currentTimeMillis</span>()
		<a href="#68938" title="sbt.Project">project</a>.<a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#52375" title="(=&gt; String)Unit">info</a>(<span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>)
		<span class="keyword">val</span> <a title="java.lang.String" id="70847">ss</a> = <span title="java.lang.String" class="keyword">if</span>(<a href="#68940" title="String">s</a>.<span title="()Boolean">isEmpty</span>) <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <a href="#68940" title="String">s</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span>
		<a href="#68938" title="sbt.Project">project</a>.<a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#52375" title="(=&gt; String)Unit">info</a>(<span title="java.lang.String(&quot;Total &quot;)" class="string">&quot;Total &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#70847" title="java.lang.String">ss</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;time: &quot;)" class="string">&quot;time: &quot;</span> <span title="(Any)java.lang.String">+</span> (<a href="#70846" title="Long">endTime</a> <a title="(Long)Long" id="3210">-</a> <a href="#68939" title="Long">startTime</a> <a title="(Int)Long" id="3195">+</a> <span title="Int(500)" class="int">500</span>) <a title="(Int)Long" id="3198">/</a> <span title="Int(1000)" class="int">1000</span> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; s, completed &quot;)" class="string">&quot; s, completed &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#68766" title="=&gt; java.lang.String">nowString</a>)
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68766">nowString</a> =
	{
		<span class="keyword">import</span> java.text.DateFormat
		<span class="keyword">val</span> <a title="java.text.DateFormat" id="70856">format</a> = <a title="object java.text.DateFormat" id="41661">DateFormat</a>.<a title="(Int,Int)java.text.DateFormat" id="70901">getDateTimeInstance</a>(DateFormat.<span title="Int(2)">MEDIUM</span>, DateFormat.<span title="Int(2)">MEDIUM</span>)
		<a href="#70856" title="java.text.DateFormat">format</a>.<a title="(java.util.Date)java.lang.String" id="70890">format</a>(<span title="java.util.Date" class="keyword">new</span> java.util.<a title="java.util.Date" id="5501">Date</a>)
	}
	<span class="comment">/** Provides a partial message describing why the given property is undefined. */</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project#UserProperty[_])String" id="68767">undefinedMessage</a>(<a title="sbt.Project#UserProperty[_]" id="71071">property</a>: <a href="Environment.scala.html#54288" title="sbt.Project#UserProperty[_]">Project</a>#UserProperty[_]): <span title="String">String</span> =
	{
		<a href="#71071" title="sbt.Project#UserProperty[_]">property</a>.<a href="Environment.scala.html#62728" title="=&gt; sbt.PropertyResolution[Any]">resolve</a> <span title="String" class="keyword">match</span>
		{
			<span title="java.lang.String(&quot; is not defined.&quot;)" class="keyword">case</span> <a title="sbt.UndefinedValue" id="71083">vu</a>: <a href="Environment.scala.html#13343" title="sbt.UndefinedValue">UndefinedValue</a> =&gt; <span title="java.lang.String(&quot; is not defined.&quot;)" class="string">&quot; is not defined.&quot;</span>
			<span title="java.lang.String" class="keyword">case</span> <a title="sbt.ResolutionException" id="71084">e</a>: <a href="Environment.scala.html#8519" title="sbt.ResolutionException">ResolutionException</a> =&gt; <span title="java.lang.String(&quot; has invalid value: &quot;)" class="string">&quot; has invalid value: &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#71084" title="sbt.ResolutionException">e</a>.<span title="()java.lang.String">toString</span>
			<span title="java.lang.String(&quot;&quot;)" class="keyword">case</span> _ =&gt; <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
		}
	}
	<span class="comment">/** Prompts the user for the value of undefined properties.  'first' is true if this is the first time
	* that the current property has been prompted.*/</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project,List[(String, sbt.Project#Property[_])],Boolean)Boolean" id="68768">fillUndefinedProperties</a>(<a title="sbt.Project" id="71085">project</a>: <a href="Project.scala.html#9290" title="sbt.Project">Project</a>, <a title="List[(String, sbt.Project#Property[_])]" id="71086">properties</a>: <span title="List[(String, sbt.Project#Property[_])]">List</span>[(String, Project#Property[_])], <a title="Boolean" id="71087">first</a>: <span title="Boolean">Boolean</span>): <span title="Boolean">Boolean</span> =
	{
		<a href="#71086" title="List[(String, sbt.Project#Property[_])]">properties</a> <span title="Boolean" class="keyword">match</span>
		{
			<span title="Boolean" class="keyword">case</span> (<a title="String" id="71095">name</a>, <a title="sbt.Project#Property[?]" id="71096">variable</a>) :: <a title="List[(String, sbt.Project#Property[_])]" id="71098">tail</a> =&gt;
			{
				<span class="keyword">val</span> <a title="Option[Boolean]" id="71099">shouldAdvanceOrQuit</a> =
					<a href="#71096" title="sbt.Project#Property[?]">variable</a> <span title="Option[Boolean]" class="keyword">match</span>
					{
						<span title="Option[Boolean]" class="keyword">case</span> <a title="sbt.Project#UserProperty[_]" id="71101">property</a>: Project#<a href="Environment.scala.html#54288" title="sbt.Project#UserProperty[_]">UserProperty</a>[_] =&gt;
							<span title="Unit" class="keyword">if</span>(<a href="#71087" title="Boolean">first</a>)
								<a href="#71085" title="sbt.Project">project</a>.<a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#52377" title="(=&gt; String)Unit">error</a>(<span title="java.lang.String(&quot; Property '&quot;)" class="string">&quot; Property '&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#71095" title="String">name</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;' &quot;)" class="string">&quot;' &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#68767" title="(sbt.Project#UserProperty[_])String">undefinedMessage</a>(<a href="#71101" title="sbt.Project#UserProperty[_]">property</a>))
							<span class="keyword">for</span>(<a title="((java.lang.String) =&gt; Boolean)Option[Boolean]" id="71116">newValue</a> &lt;- <a href="LineReader.scala.html#9582" title="object sbt.SimpleReader">SimpleReader</a>.<a href="LineReader.scala.html#60215" title="(String)Option[java.lang.String]">readLine</a>(<span title="java.lang.String(&quot;  Enter new value for &quot;)" class="string">&quot;  Enter new value for &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#71095" title="String">name</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; : &quot;)" class="string">&quot; : &quot;</span>)) <span class="keyword">yield</span>
							{
								<span class="keyword">try</span>
								{
									<a href="#71101" title="sbt.Project#UserProperty[_]">property</a>.<a href="Environment.scala.html#62740" title="(String)Unit">setStringValue</a>(<a href="#71116" title="java.lang.String">newValue</a>)
									<span title="Boolean(true)" class="keyword">true</span>
								}
								<span class="keyword">catch</span>
								{
									<span title="Boolean" class="keyword">case</span> <a title="java.lang.Throwable" id="71117">e</a> =&gt;
										<a href="#71085" title="sbt.Project">project</a>.<a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#52377" title="(=&gt; String)Unit">error</a>(<span title="java.lang.String(&quot;Invalid value: &quot;)" class="string">&quot;Invalid value: &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#71117" title="java.lang.Throwable">e</a>.<span title="()java.lang.String">getMessage</span>)
										<span title="Boolean(false)" class="keyword">false</span>
								}
							}
						<span title="Some[Boolean]" class="keyword">case</span> _ =&gt; <span title="(Boolean)Some[Boolean]">Some</span>(<span title="Boolean(true)" class="keyword">true</span>)
					}
				<a href="#71099" title="Option[Boolean]">shouldAdvanceOrQuit</a> <span title="Boolean" class="keyword">match</span>
				{
					<span title="Boolean" class="keyword">case</span> Some(<a title="Boolean" id="71120">shouldAdvance</a>) =&gt; <a href="#68768" title="(sbt.Project,List[(String, sbt.Project#Property[_])],Boolean)Boolean">fillUndefinedProperties</a>(<a href="#71085" title="sbt.Project">project</a>, <span title="List[(String, sbt.Project#Property[_])]" class="keyword">if</span>(<a href="#71120" title="Boolean">shouldAdvance</a>) <a href="#71098" title="List[(String, sbt.Project#Property[_])]">tail</a> <span class="keyword">else</span> <a href="#71086" title="List[(String, sbt.Project#Property[_])]">properties</a>, <a href="#71120" title="Boolean">shouldAdvance</a>)
					<span title="Boolean(false)" class="keyword">case</span> <span title="object None">None</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
				}
			}
			<span title="Boolean(true)" class="keyword">case</span> <span title="object Nil">Nil</span> =&gt; <span title="Boolean(true)" class="keyword">true</span>
		}
	}
	<span class="comment">/** Iterates over the undefined properties in the given projects, prompting the user for the value of each undefined
	* property.*/</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(List[sbt.Project])Boolean" id="68769">fillUndefinedProjectProperties</a>(<a title="List[sbt.Project]" id="68908">projects</a>: <span title="List[sbt.Project]">List</span>[Project]): <span title="Boolean">Boolean</span> =
	{
		<a href="#68908" title="List[sbt.Project]">projects</a> <span title="Boolean" class="keyword">match</span>
		{
			<span title="Boolean" class="keyword">case</span> <a title="sbt.Project" id="71121">project</a> :: <a title="List[sbt.Project]" id="71122">remaining</a> =&gt;
				<span class="keyword">val</span> <a title="List[(String, project.Property[_])]" id="71123">uninitialized</a> = <a href="#71121" title="sbt.Project">project</a>.<a href="Environment.scala.html#54319" title="=&gt; Iterable[(String, project.Property[_])]">uninitializedProperties</a>.<span title="=&gt; List[(String, project.Property[_])]">toList</span>
				<span title="Boolean" class="keyword">if</span>(<a href="#71123" title="List[(String, project.Property[_])]">uninitialized</a>.<span title="=&gt; Boolean">isEmpty</span>)
					<a href="#68769" title="(List[sbt.Project])Boolean">fillUndefinedProjectProperties</a>(<a href="#71122" title="List[sbt.Project]">remaining</a>)
				<span class="keyword">else</span>
				{
					<a href="#71121" title="sbt.Project">project</a>.<a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#52377" title="(=&gt; String)Unit">error</a>(<span title="java.lang.String(&quot;Project in &quot;)" class="string">&quot;Project in &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#71121" title="sbt.Project">project</a>.<a href="Project.scala.html#53847" title="=&gt; sbt.ProjectInfo">info</a>.<a href="ProjectInfo.scala.html#55130" title="=&gt; java.io.File">projectDirectory</a>.<span title="()java.lang.String">getAbsolutePath</span> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; has undefined properties.&quot;)" class="string">&quot; has undefined properties.&quot;</span>)
					<span class="keyword">val</span> <a title="Boolean" id="71124">result</a> = <a href="#68768" title="(sbt.Project,List[(String, sbt.Project#Property[_])],Boolean)Boolean">fillUndefinedProperties</a>(<a href="#71121" title="sbt.Project">project</a>, <a href="#71123" title="List[(String, project.Property[_])]">uninitialized</a>, <span title="Boolean(true)" class="keyword">true</span>) <span title="(Boolean)Boolean">&amp;&amp;</span> <a href="#68769" title="(List[sbt.Project])Boolean">fillUndefinedProjectProperties</a>(<a href="#71122" title="List[sbt.Project]">remaining</a>)
					<a href="#71121" title="sbt.Project">project</a>.<a href="Environment.scala.html#54318" title="()Option[String]">saveEnvironment</a>()
					<a href="#71124" title="Boolean">result</a>
				}
			<span title="Boolean(true)" class="keyword">case</span> <span title="object Nil">Nil</span> =&gt; <span title="Boolean(true)" class="keyword">true</span>
		}
	}
	<span class="comment">/** Prints the value of the property with the given name in the given project. */</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project,String)Boolean" id="68770">getProperty</a>(<a title="sbt.Project" id="70310">project</a>: <a href="Project.scala.html#9290" title="sbt.Project">Project</a>, <a title="String" id="70311">propertyName</a>: <span title="String">String</span>): <span title="Boolean">Boolean</span> =
	{
		<span title="Boolean" class="keyword">if</span>(<a href="#70311" title="String">propertyName</a>.<span title="()Boolean">isEmpty</span>)
		{
			<a href="#70310" title="sbt.Project">project</a>.<a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#52377" title="(=&gt; String)Unit">error</a>(<span title="java.lang.String(&quot;No property name specified.&quot;)" class="string">&quot;No property name specified.&quot;</span>)
			<span title="Boolean(false)" class="keyword">false</span>
		}
		<span class="keyword">else</span>
		{
			<a href="#70310" title="sbt.Project">project</a>.<a href="Environment.scala.html#54316" title="(String)Option[project.UserProperty[_]]">getPropertyNamed</a>(<a href="#70311" title="String">propertyName</a>) <span title="Boolean" class="keyword">match</span>
			{
				<span title="Boolean" class="keyword">case</span> Some(<a title="project.UserProperty[?]" id="71128">property</a>) =&gt;
					<a href="#71128" title="project.UserProperty[?]">property</a>.<a href="Environment.scala.html#62728" title="=&gt; sbt.PropertyResolution[?]">resolve</a> <span title="Boolean" class="keyword">match</span>
					{
						<span title="Boolean" class="keyword">case</span> <a title="sbt.UndefinedValue" id="71130">u</a>: <a href="Environment.scala.html#13343" title="sbt.UndefinedValue">UndefinedValue</a> =&gt; <a href="#70310" title="sbt.Project">project</a>.<a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#52377" title="(=&gt; String)Unit">error</a>(<span title="java.lang.String(&quot;Value of property '&quot;)" class="string">&quot;Value of property '&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#70311" title="String">propertyName</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;' is undefined.&quot;)" class="string">&quot;' is undefined.&quot;</span>); <span title="Boolean(false)" class="keyword">false</span>
						<span title="Boolean" class="keyword">case</span> ResolutionException(<a title="String" id="71132">m</a>, <a title="Option[Throwable]" id="71133">e</a>) =&gt; <a href="#70310" title="sbt.Project">project</a>.<a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#52377" title="(=&gt; String)Unit">error</a>(<a href="#71132" title="String">m</a>); <span title="Boolean(false)" class="keyword">false</span>
						<span title="Boolean" class="keyword">case</span> DefinedValue(<a title="Any" id="71135">value</a>, <a title="Boolean" id="71136">isInherited</a>, <a title="Boolean" id="71137">isDefault</a>) =&gt; <span title="object Console">Console</span>.<span title="(Any)Unit">println</span>(<a href="#71135" title="Any">value</a>.<span title="()java.lang.String">toString</span>); <span title="Boolean(true)" class="keyword">true</span>
					}
				<span title="Boolean" class="keyword">case</span> <span title="object None">None</span> =&gt;
					<span class="keyword">val</span> <a title="java.lang.String" id="71139">value</a> = <span title="object java.lang.System">System</span>.<a title="(java.lang.String)java.lang.String" id="18317">getProperty</a>(<a href="#70311" title="String">propertyName</a>)
					<span title="Unit" class="keyword">if</span>(<a href="#71139" title="java.lang.String">value</a> <span title="(AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span>)
						<a href="#70310" title="sbt.Project">project</a>.<a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#52377" title="(=&gt; String)Unit">error</a>(<span title="java.lang.String(&quot;No property named '&quot;)" class="string">&quot;No property named '&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#70311" title="String">propertyName</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;' is defined.&quot;)" class="string">&quot;' is defined.&quot;</span>)
					<span class="keyword">else</span>
						<span title="object Console">Console</span>.<span title="(Any)Unit">println</span>(<a href="#71139" title="java.lang.String">value</a>)
					<a href="#71139" title="java.lang.String">value</a> <span title="(AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span>
			}
		}
	}
	<span class="comment">/** Separates the space separated property name/value pair and stores the value in the user-defined property
	* with the given name in the given project.  If no such property exists, the value is stored in a system
	* property. */</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project,String)Boolean" id="68771">setProperty</a>(<a title="sbt.Project" id="70288">project</a>: <a href="Project.scala.html#9290" title="sbt.Project">Project</a>, <a title="String" id="70289">propertyNameAndValue</a>: <span title="String">String</span>): <span title="Boolean">Boolean</span> =
	{
		<span class="keyword">val</span> <a title="java.util.regex.Matcher" id="71145">m</a> = <span title="implicit scala.Predef.stringWrapper : (String)scala.runtime.RichString" class="string">&quot;&quot;&quot;(\S+)(\s+\S.*)?&quot;&quot;&quot;</span>.<a title="=&gt; scala.util.matching.Regex" id="17519">r</a>.<a title="=&gt; java.util.regex.Pattern" id="71186">pattern</a>.<span title="(java.lang.CharSequence)java.util.regex.Matcher">matcher</span>(<a href="#70289" title="String">propertyNameAndValue</a>)
		<span title="Boolean" class="keyword">if</span>(<a href="#71145" title="java.util.regex.Matcher">m</a>.<span title="()Boolean">matches</span>())
		{
			<span class="keyword">val</span> <a title="java.lang.String" id="71263">name</a> = <a href="#71145" title="java.util.regex.Matcher">m</a>.<span title="(Int)java.lang.String">group</span>(<span title="Int(1)" class="int">1</span>)
			<span class="keyword">val</span> <a title="java.lang.String" id="71264">newValue</a> =
			{
				<span class="keyword">val</span> <a title="java.lang.String" id="71267">v</a> = <a href="#71145" title="java.util.regex.Matcher">m</a>.<span title="(Int)java.lang.String">group</span>(<span title="Int(2)" class="int">2</span>)
				<span title="java.lang.String" class="keyword">if</span>(<a href="#71267" title="java.lang.String">v</a> <span title="(AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span>) <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <a href="#71267" title="java.lang.String">v</a>.<span title="()java.lang.String">trim</span>
			}
			<span class="keyword">def</span> <a title="(String)Unit" id="71265">notePending</a>(<a title="String" id="71270">changed</a>: <span title="String">String</span>): <span title="Unit">Unit</span> = <span title="object Console">Console</span>.<span title="(Any)Unit">println</span>(<span title="java.lang.String(&quot; Build will use &quot;)" class="string">&quot; Build will use &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#71270" title="String">changed</a> <span title="(Any)java.lang.String">+</span> <a href="#71264" title="java.lang.String">newValue</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; after running 'reload' command or restarting sbt.&quot;)" class="string">&quot; after running 'reload' command or restarting sbt.&quot;</span>)
			<a href="#70288" title="sbt.Project">project</a>.<a href="Environment.scala.html#54316" title="(String)Option[project.UserProperty[_]]">getPropertyNamed</a>(<a href="#71263" title="java.lang.String">name</a>) <span title="Boolean" class="keyword">match</span>
			{
				<span title="Boolean" class="keyword">case</span> Some(<a title="project.UserProperty[?]" id="71272">property</a>) =&gt;
				{
					<span class="keyword">try</span>
					{
						<a href="#71272" title="project.UserProperty[?]">property</a>.<a href="Environment.scala.html#62740" title="(String)Unit">setStringValue</a>(<a href="#71264" title="java.lang.String">newValue</a>)
						<a href="#71272" title="project.UserProperty[?]">property</a> <span title="Unit" class="keyword">match</span>
						{
							<span title="Unit" class="keyword">case</span> <a href="#70288" title="sbt.Project">project</a>.<a href="Project.scala.html#53902" title="=&gt; project.Property[String]">defScalaVersion</a> | <a href="#70288" title="sbt.Project">project</a>.<a href="Project.scala.html#53912" title="=&gt; project.Property[String]">buildScalaVersions</a> =&gt; <a href="#71265" title="(String)Unit">notePending</a>(<span title="java.lang.String(&quot;Scala &quot;)" class="string">&quot;Scala &quot;</span>)
							<span title="Unit" class="keyword">case</span> <a href="#70288" title="sbt.Project">project</a>.<a href="Project.scala.html#53904" title="=&gt; project.Property[String]">sbtVersion</a> =&gt; <a href="#71265" title="(String)Unit">notePending</a>(<span title="java.lang.String(&quot;sbt &quot;)" class="string">&quot;sbt &quot;</span>)
							<span title="Unit" class="keyword">case</span> _ =&gt;  <span title="object Console">Console</span>.<span title="(Any)Unit">println</span>(<span title="java.lang.String(&quot; Set property '&quot;)" class="string">&quot; Set property '&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#71263" title="java.lang.String">name</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;' = '&quot;)" class="string">&quot;' = '&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#71264" title="java.lang.String">newValue</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;'&quot;)" class="string">&quot;'&quot;</span>)
						}
						<span title="Boolean(true)" class="keyword">true</span>
					}
					<span class="keyword">catch</span> { <span title="Boolean" class="keyword">case</span> <a title="java.lang.Throwable" id="71279">e</a> =&gt;
						<a href="#70288" title="sbt.Project">project</a>.<a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#52377" title="(=&gt; String)Unit">error</a>(<span title="java.lang.String(&quot;Error setting property '&quot;)" class="string">&quot;Error setting property '&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#71263" title="java.lang.String">name</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;' in &quot;)" class="string">&quot;' in &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#70288" title="sbt.Project">project</a>.<a href="Environment.scala.html#54268" title="=&gt; String">environmentLabel</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#71279" title="java.lang.Throwable">e</a>.<span title="()java.lang.String">toString</span>)
						<span title="Boolean(false)" class="keyword">false</span>
					}
					<span class="keyword">finally</span> { <a href="#70288" title="sbt.Project">project</a>.<a href="Environment.scala.html#54318" title="()Option[String]">saveEnvironment</a>().<a title="((String) =&gt; Unit)Unit" id="30538">foreach</a>(<a title="String" id="71282">msg</a> =&gt; <a href="#70288" title="sbt.Project">project</a>.<a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#52377" title="(=&gt; String)Unit">error</a>(<span title="java.lang.String(&quot;Error saving environment: &quot;)" class="string">&quot;Error saving environment: &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#71282" title="String">msg</a>)) }
				}
				<span title="Boolean" class="keyword">case</span> <span title="object None">None</span> =&gt;
				{
					<span title="object java.lang.System">System</span>.<a title="(java.lang.String,java.lang.String)java.lang.String" id="18319">setProperty</a>(<a href="#71263" title="java.lang.String">name</a>, <a href="#71264" title="java.lang.String">newValue</a>)
					<a href="#70288" title="sbt.Project">project</a>.<a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#52375" title="(=&gt; String)Unit">info</a>(<span title="java.lang.String(&quot; Set system property '&quot;)" class="string">&quot; Set system property '&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#71263" title="java.lang.String">name</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;' = '&quot;)" class="string">&quot;' = '&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#71264" title="java.lang.String">newValue</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;'&quot;)" class="string">&quot;'&quot;</span>)
					<span title="Boolean(true)" class="keyword">true</span>
				}
			}
		}
		<span class="keyword">else</span>
			<a href="#68778" title="(sbt.Logger)Boolean">setArgumentError</a>(<a href="#70288" title="sbt.Project">project</a>.<a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>)
	}

	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project)Boolean" id="68772">compileContinuously</a>(<a title="sbt.Project" id="70388">project</a>: <a href="Project.scala.html#9290" title="sbt.Project">Project</a>) = <a href="#68773" title="(sbt.Project,String)Boolean">executeContinuously</a>(<a href="#70388" title="sbt.Project">project</a>, <span title="java.lang.String(&quot;test-compile&quot;)" class="string">&quot;test-compile&quot;</span>)
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project,String)Boolean" id="68773">executeContinuously</a>(<a title="sbt.Project" id="70390">project</a>: <a href="Project.scala.html#9290" title="sbt.Project">Project</a>, <a title="String" id="70391">action</a>: <span title="String">String</span>) =
	{
		<span class="keyword">def</span> <a title="=&gt; Boolean" id="70393">shouldTerminate</a>: <span title="Boolean">Boolean</span> = (<span title="object java.lang.System">System</span>.<span title="java.io.InputStream">in</span>.<span title="()Int">available</span> <span title="(Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span>) <span title="(Boolean)Boolean">&amp;&amp;</span> (<a href="#70390" title="sbt.Project">project</a>.<a href="Project.scala.html#53937" title="(Int)Boolean">terminateWatch</a>(<span title="object java.lang.System">System</span>.<span title="java.io.InputStream">in</span>.<span title="()Int">read</span>()) <span title="(Boolean)Boolean">||</span> <a href="#70393" title="=&gt; Boolean">shouldTerminate</a>)
		<span class="keyword">val</span> <a title="Boolean" id="70394">actionValid</a> = <a href="#68760" title="(sbt.Project,String)Boolean">checkAction</a>(<a href="#70390" title="sbt.Project">project</a>, <a href="#70391" title="String">action</a>)
		<span title="Unit" class="keyword">if</span>(<a href="#70394" title="Boolean">actionValid</a>)
		{
			<span class="keyword">var</span> <a title="Int" id="70408">count</a> = <span title="Int(0)" class="int">0</span>
			<a href="SourceModificationWatch.scala.html#8457" title="object sbt.SourceModificationWatch">SourceModificationWatch</a>.<a href="SourceModificationWatch.scala.html#70410" title="(sbt.Project,Int)(=&gt; Boolean)(=&gt; Unit)Unit">watchUntil</a>(<a href="#70390" title="sbt.Project">project</a>, <a href="#68743" title="=&gt; Int">ContinuousCompilePollDelaySeconds</a>)(<a href="#70393" title="=&gt; Boolean">shouldTerminate</a>)
			{
				<a href="#70408" title="Int">count</a> <span title="(Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
				<a href="#68758" title="(sbt.Project,String)Boolean">handleAction</a>(<a href="#70390" title="sbt.Project">project</a>, <a href="#70391" title="String">action</a>)
				<span title="object Console">Console</span>.<span title="(Any)Unit">println</span>(<a href="#70408" title="Int">count</a> <a title="(java.lang.String)java.lang.String" id="3028">+</a> <span title="java.lang.String(&quot;. Waiting for source changes... (press enter to interrupt)&quot;)" class="string">&quot;. Waiting for source changes... (press enter to interrupt)&quot;</span>)
			}
			<a href="#70441" title="Unit" class="keyword">while</a> (<span title="object java.lang.System">System</span>.<span title="java.io.InputStream">in</span>.<span title="()Int">available</span>() <span title="(Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span>) <span title="object java.lang.System">System</span>.<span title="java.io.InputStream">in</span>.<span title="()Int">read</span>()
		}
		<a href="#70394" title="Boolean">actionValid</a>
	}

	<span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68774">validTraceArguments</a> = <span title="java.lang.String(&quot;'on', 'nosbt', 'off', or &lt;integer&gt;&quot;)" class="string">&quot;'on', 'nosbt', 'off', or &lt;integer&gt;&quot;</span>
	<span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68775">traceExplanation</a> = <span title="java.lang.String(&quot;'nosbt' prints stack traces up to the first sbt frame.  An integer gives the number of frames to show per exception.&quot;)" class="string">&quot;'nosbt' prints stack traces up to the first sbt frame.  An integer gives the number of frames to show per exception.&quot;</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(String)Boolean" id="68776">isTerminateAction</a>(<a title="String" id="68892">s</a>: <span title="String">String</span>) = <a href="#68717" title="=&gt; Iterable[String]">TerminateActions</a>.<span title="=&gt; Iterator[String]">elements</span>.<a title="(Any)Boolean" id="19855">contains</a>(<a href="#68892" title="String">s</a>.<a title="()java.lang.String" id="6396">toLowerCase</a>)
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Logger)Boolean" id="68777">setTraceError</a>(<a title="sbt.Logger" id="70378">log</a>: <a href="Logger.scala.html#13532" title="sbt.Logger">Logger</a>) = <a href="#68781" title="(sbt.Logger)(String)Boolean">logError</a>(<a href="#70378" title="sbt.Logger">log</a>)(<span title="java.lang.String(&quot;Invalid arguments for 'trace': expected &quot;)" class="string">&quot;Invalid arguments for 'trace': expected &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#68774" title="=&gt; java.lang.String">validTraceArguments</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span>)
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Logger)Boolean" id="68778">setArgumentError</a>(<a title="sbt.Logger" id="70374">log</a>: <a href="Logger.scala.html#13532" title="sbt.Logger">Logger</a>) = <a href="#68781" title="(sbt.Logger)(String)Boolean">logError</a>(<a href="#70374" title="sbt.Logger">log</a>)(<span title="java.lang.String(&quot;Invalid arguments for 'set': expected property name and new value.&quot;)" class="string">&quot;Invalid arguments for 'set': expected property name and new value.&quot;</span>)
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Logger)Boolean" id="68779">getArgumentError</a>(<a title="sbt.Logger" id="70368">log</a>: <a href="Logger.scala.html#13532" title="sbt.Logger">Logger</a>) = <a href="#68781" title="(sbt.Logger)(String)Boolean">logError</a>(<a href="#70368" title="sbt.Logger">log</a>)(<span title="java.lang.String(&quot;Invalid arguments for 'get': expected property name.&quot;)" class="string">&quot;Invalid arguments for 'get': expected property name.&quot;</span>)
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Logger)Boolean" id="68780">setProjectError</a>(<a title="sbt.Logger" id="70376">log</a>: <a href="Logger.scala.html#13532" title="sbt.Logger">Logger</a>) = <a href="#68781" title="(sbt.Logger)(String)Boolean">logError</a>(<a href="#70376" title="sbt.Logger">log</a>)(<span title="java.lang.String(&quot;Invalid arguments for 'project': expected project name.&quot;)" class="string">&quot;Invalid arguments for 'project': expected project name.&quot;</span>)
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Logger)(String)Boolean" id="68781">logError</a>(<a title="sbt.Logger" id="70370">log</a>: <a href="Logger.scala.html#13532" title="sbt.Logger">Logger</a>)(<a title="String" id="70371">s</a>: <span title="String">String</span>) = { <a href="#70370" title="sbt.Logger">log</a>.<a href="Logger.scala.html#52377" title="(=&gt; String)Unit">error</a>(<a href="#70371" title="String">s</a>); <span title="Boolean(false)" class="keyword">false</span> }

	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Logger,Throwable)Unit" id="68782">logCommandError</a>(<a title="sbt.Logger" id="69067">log</a>: <a href="Logger.scala.html#13532" title="sbt.Logger">Logger</a>, <a title="Throwable" id="69068">e</a>: <a title="Throwable" id="2079">Throwable</a>) =
		<a href="#69068" title="Throwable">e</a> <span title="Unit" class="keyword">match</span>
		{
			<span title="Unit" class="keyword">case</span> <a title="sbt.processor.ProcessorException" id="69070">pe</a>: processor.<a href="processor/Processor.scala.html#14885" title="sbt.processor.ProcessorException">ProcessorException</a> =&gt;
				<span title="Unit" class="keyword">if</span>(<a href="#69070" title="sbt.processor.ProcessorException">pe</a>.<span title="()java.lang.Throwable">getCause</span> <a title="(AnyRef)Boolean" id="6014">ne</a> <span title="Null(null)" class="keyword">null</span>) <a href="#69067" title="sbt.Logger">log</a>.<a href="Logger.scala.html#52372" title="(=&gt; Throwable)Unit">trace</a>(<a href="#69070" title="sbt.processor.ProcessorException">pe</a>.<span title="()java.lang.Throwable">getCause</span>)
				<a href="#69067" title="sbt.Logger">log</a>.<a href="Logger.scala.html#52377" title="(=&gt; String)Unit">error</a>(<a href="#69068" title="Throwable">e</a>.<span title="()java.lang.String">getMessage</span>)
			<span title="Unit" class="keyword">case</span> <a title="Throwable" id="69080">e</a> =&gt;
				<a href="#69067" title="sbt.Logger">log</a>.<a href="Logger.scala.html#52372" title="(=&gt; Throwable)Unit">trace</a>(<a href="#69080" title="Throwable">e</a>)
				<a href="#69067" title="sbt.Logger">log</a>.<a href="Logger.scala.html#52377" title="(=&gt; String)Unit">error</a>(<a href="#69080" title="Throwable">e</a>.<span title="()java.lang.String">toString</span>)
		}
}

        </pre>
    </body>
</html>