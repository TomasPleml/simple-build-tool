<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>sbt/IntegrationTesting.scala</title>
        <script type="text/javascript" src="../jquery-all.js"></script>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* sbt -- Simple Build Tool
 * Copyright 2009  Steven Blundy, Mark Harrah, Josh Cough
 */</span>
<span class="keyword">package</span> sbt

<span class="keyword">import</span> ScalaProject.{optionsAsString, javaOptionsAsString}

<span class="keyword">trait</span> <a title="trait IntegrationTesting extends java.lang.Object with NotNull with ScalaObject" id="9266">IntegrationTesting</a> <span class="keyword">extends</span> <a title="NotNull" id="189">NotNull</a>
{
	<span class="comment">/** Override to provide pre-test setup. */</span>
	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; Option[String]" id="66460">pretests</a>: <span title="Option[String]">Option</span>[String] = <span title="object None">None</span>
	<span class="comment">/** Override to provide post-test cleanup. */</span>
	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; Option[String]" id="66461">posttests</a>: <span title="Option[String]">Option</span>[String] = <span title="object None">None</span>
}
<span class="keyword">trait</span> <a title="trait ScalaIntegrationTesting extends java.lang.Object with sbt.IntegrationTesting with ScalaObject" id="9593">ScalaIntegrationTesting</a> <span class="keyword">extends</span> <a href="#9266" title="sbt.IntegrationTesting">IntegrationTesting</a>
{ self: ScalaProject =&gt;

	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="(Seq[sbt.TestFramework],sbt.PathFinder,sbt.CompileAnalysis,=&gt; Seq[ScalaIntegrationTesting.this.TestOption])ScalaIntegrationTesting.this.Task" id="66468">integrationTestTask</a>(<a title="Seq[sbt.TestFramework]" id="66472">frameworks</a>: <span title="Seq[sbt.TestFramework]">Seq</span>[TestFramework], <a title="sbt.PathFinder" id="66473">classpath</a>: <a href="Path.scala.html#10418" title="sbt.PathFinder">PathFinder</a>, <a title="sbt.CompileAnalysis" id="66474">analysis</a>: <a href="Analysis.scala.html#8627" title="sbt.CompileAnalysis">CompileAnalysis</a>, <a title="=&gt; Seq[ScalaIntegrationTesting.this.TestOption]" id="66475">options</a>: =&gt; Seq[TestOption]) =
		<a href="ScalaProject.scala.html#54043" title="(Seq[sbt.TestFramework],sbt.PathFinder,sbt.CompileAnalysis,=&gt; Seq[ScalaIntegrationTesting.this.TestOption])ScalaIntegrationTesting.this.Task">testTask</a>(<a href="#66472" title="Seq[sbt.TestFramework]">frameworks</a>, <a href="#66473" title="sbt.PathFinder">classpath</a>, <a href="#66474" title="sbt.CompileAnalysis">analysis</a>, <a href="#66475" title="=&gt; Seq[ScalaIntegrationTesting.this.TestOption]">options</a>)
}

<span class="keyword">trait</span> <a title="trait BasicScalaIntegrationTesting extends java.lang.Object with sbt.BasicIntegrationTesting with sbt.MavenStyleIntegrationTestPaths" id="12497">BasicScalaIntegrationTesting</a> <span class="keyword">extends</span> <a href="#9173" title="sbt.BasicIntegrationTesting">BasicIntegrationTesting</a> <span class="keyword">with</span> <a href="ProjectPaths.scala.html#13526" title="sbt.MavenStyleIntegrationTestPaths">MavenStyleIntegrationTestPaths</a>
{ self: BasicScalaProject =&gt; }
<span class="comment">/** A fully featured integration testing that may be mixed in with any subclass of &lt;code&gt;BasicScalaProject&lt;/code&gt;.
 * Pre-suite setup and post-suite cleanup are provide by overriding &lt;code&gt;pretests&lt;/code&gt; and &lt;code&gt;posttests&lt;/code&gt; respectively.*/</span>
<span class="keyword">trait</span> <a title="trait BasicIntegrationTesting extends java.lang.Object with sbt.ScalaIntegrationTesting with sbt.IntegrationTestPaths with sbt.BasicDependencyProject with ScalaObject" id="9173">BasicIntegrationTesting</a> <span class="keyword">extends</span> <a href="#9593" title="sbt.ScalaIntegrationTesting">ScalaIntegrationTesting</a> <span class="keyword">with</span> <a href="ProjectPaths.scala.html#10589" title="sbt.IntegrationTestPaths">IntegrationTestPaths</a> <span class="keyword">with</span> <a href="BasicProjectTypes.scala.html#12785" title="sbt.BasicDependencyProject">BasicDependencyProject</a>
{
	self: BasicScalaProject =&gt;

	<span class="keyword">import</span> BasicScalaIntegrationTesting._

	<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="BasicIntegrationTesting.this.Task" id="66482">integrationTestCompile</a> = <a href="#66488" title="=&gt; BasicIntegrationTesting.this.Task">integrationTestCompileAction</a>
	<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="BasicIntegrationTesting.this.Task" id="66484">integrationTest</a> = <a href="#66487" title="=&gt; BasicIntegrationTesting.this.Task">integrationTestAction</a>

	<span class="keyword">val</span> <a title="sbt.CompileConditional" id="66485">integrationTestCompileConditional</a> = <span title="sbt.CompileConditional" class="keyword">new</span> <a href="Conditional.scala.html#9677" title="sbt.CompileConditional">CompileConditional</a>(<a href="#66496" title="=&gt; BasicIntegrationTesting.this.IntegrationTestCompileConfig">integrationTestCompileConfiguration</a>, <a href="Project.scala.html#53927" title="=&gt; xsbt.AnalyzingCompiler">buildCompiler</a>)

	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; BasicIntegrationTesting.this.Task" id="66487">integrationTestAction</a> = <a href="#66468" title="(Seq[sbt.TestFramework],sbt.PathFinder,sbt.CompileAnalysis,=&gt; Seq[BasicIntegrationTesting.this.TestOption])BasicIntegrationTesting.this.Task">integrationTestTask</a>(<a href="#66498" title="=&gt; Seq[sbt.TestFramework]">integrationTestFrameworks</a>, <a href="#66494" title="=&gt; sbt.PathFinder">integrationTestClasspath</a>, <a href="#66485" title="=&gt; sbt.CompileConditional">integrationTestCompileConditional</a>.<a href="Conditional.scala.html#56716" title="=&gt; BasicIntegrationTesting.this.integrationTestCompileConditional.AnalysisType">analysis</a>, <a href="#66490" title="=&gt; Seq[BasicIntegrationTesting.this.TestOption]">integrationTestOptions</a>) <a href="TaskManager.scala.html#55208" title="(BasicIntegrationTesting.this.ManagedTask*)BasicIntegrationTesting.this.Task">dependsOn</a> <a href="#66481" title="=&gt; BasicIntegrationTesting.this.Task">integrationTestCompile</a> <a href="TaskManager.scala.html#55210" title="(String)BasicIntegrationTesting.this.Task">describedAs</a> <a href="#66529" title="=&gt; java.lang.String">IntegrationTestCompileDescription</a>
	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; BasicIntegrationTesting.this.Task" id="66488">integrationTestCompileAction</a> = <a href="#66489" title="()BasicIntegrationTesting.this.Task">integrationTestCompileTask</a>() <a href="TaskManager.scala.html#55208" title="(BasicIntegrationTesting.this.ManagedTask*)BasicIntegrationTesting.this.Task">dependsOn</a> <a href="DefaultProject.scala.html#54163" title="=&gt; BasicIntegrationTesting.this.Task">compile</a> <a href="TaskManager.scala.html#55210" title="(String)BasicIntegrationTesting.this.Task">describedAs</a> <a href="#66531" title="=&gt; java.lang.String">IntegrationTestDescription</a>

	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="()BasicIntegrationTesting.this.Task" id="66489">integrationTestCompileTask</a>() = <a href="TaskManager.scala.html#53827" title="(=&gt; Option[String])BasicIntegrationTesting.this.Task">task</a>{ <a href="#66485" title="=&gt; sbt.CompileConditional">integrationTestCompileConditional</a>.<a href="Conditional.scala.html#56733" title="=&gt; Option[String]">run</a> }

	<span class="keyword">def</span> <a title="=&gt; Seq[BasicIntegrationTesting.this.TestOption]" id="66490">integrationTestOptions</a>: <span title="Seq[BasicIntegrationTesting.this.TestOption]">Seq</span>[TestOption] =
		<a href="ScalaProject.scala.html#66563" title="(() =&gt; Option[String])BasicIntegrationTesting.this.TestSetup">TestSetup</a>(() =&gt; <a href="#66460" title="=&gt; Option[String]">pretests</a>) <a href="#66561" title="(BasicIntegrationTesting.this.TestOption)List[BasicIntegrationTesting.this.TestOption]">::</a>
		<a href="ScalaProject.scala.html#66589" title="(() =&gt; Option[String])BasicIntegrationTesting.this.TestCleanup">TestCleanup</a>(() =&gt; <a href="#66461" title="=&gt; Option[String]">posttests</a>) <a href="#66587" title="(BasicIntegrationTesting.this.TestOption)List[BasicIntegrationTesting.this.TestOption]">::</a>
		<a href="DefaultProject.scala.html#54089" title="=&gt; Seq[BasicIntegrationTesting.this.TestOption]">testOptions</a>.<a title="=&gt; List[BasicIntegrationTesting.this.TestOption]" id="16171">toList</a>
	<span class="keyword">def</span> <a title="=&gt; Seq[BasicIntegrationTesting.this.CompileOption]" id="66491">integrationTestCompileOptions</a> = <a href="DefaultProject.scala.html#54085" title="=&gt; Seq[BasicIntegrationTesting.this.CompileOption]">testCompileOptions</a>
	<span class="keyword">def</span> <a title="=&gt; Seq[BasicIntegrationTesting.this.JavaCompileOption]" id="66492">javaIntegrationTestCompileOptions</a>: <span title="Seq[BasicIntegrationTesting.this.JavaCompileOption]">Seq</span>[JavaCompileOption] = <a href="DefaultProject.scala.html#54086" title="=&gt; Seq[BasicIntegrationTesting.this.JavaCompileOption]">testJavaCompileOptions</a>

	<span class="keyword">def</span> <a title="=&gt; sbt.Configuration" id="66493">integrationTestConfiguration</a> = <span title="sbt.Configuration" class="keyword">if</span>(<a href="#66499" title="=&gt; Boolean">useIntegrationTestConfiguration</a>) <a href="../IvyInterface.scala.html#10977" title="object sbt.Configurations">Configurations</a>.<a href="../IvyInterface.scala.html#44889" title="=&gt; sbt.Configuration">IntegrationTest</a> <span class="keyword">else</span> <a href="../IvyInterface.scala.html#10977" title="object sbt.Configurations">Configurations</a>.<a href="../IvyInterface.scala.html#44897" title="=&gt; sbt.Configuration">Test</a>
	<span class="keyword">def</span> <a title="=&gt; sbt.PathFinder" id="66494">integrationTestClasspath</a> = <a href="BasicProjectTypes.scala.html#54348" title="(sbt.Configuration)sbt.PathFinder">fullClasspath</a>(<a href="#66493" title="=&gt; sbt.Configuration">integrationTestConfiguration</a>) <a href="Path.scala.html#52316" title="(sbt.PathFinder)sbt.PathFinder">+++</a> <a href="DefaultProject.scala.html#54104" title="=&gt; sbt.PathFinder">optionalClasspath</a>

	<span class="keyword">def</span> <a title="=&gt; java.lang.String" id="66495">integrationTestLabel</a> = <span title="java.lang.String(&quot;integration-test&quot;)" class="string">&quot;integration-test&quot;</span>
	<span class="keyword">def</span> <a title="=&gt; BasicIntegrationTesting.this.IntegrationTestCompileConfig" id="66496">integrationTestCompileConfiguration</a> = <span title="BasicIntegrationTesting.this.IntegrationTestCompileConfig" class="keyword">new</span> <a href="#66502" title="BasicIntegrationTesting.this.IntegrationTestCompileConfig">IntegrationTestCompileConfig</a>

	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; sbt.LibraryDependencies" id="66497">integrationTestDependencies</a> = <span title="sbt.LibraryDependencies" class="keyword">new</span> <a href="DefaultProject.scala.html#12419" title="sbt.LibraryDependencies">LibraryDependencies</a>(<a href="#9173" title="&lt;refinement&gt; extends sbt.BasicIntegrationTesting with sbt.BasicScalaProject" class="keyword">this</a>, <a href="#66485" title="=&gt; sbt.CompileConditional">integrationTestCompileConditional</a>)

	<span class="keyword">def</span> <a title="=&gt; Seq[sbt.TestFramework]" id="66498">integrationTestFrameworks</a> = <a href="DefaultProject.scala.html#54114" title="=&gt; Seq[sbt.TestFramework]">testFrameworks</a>
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="66499">useIntegrationTestConfiguration</a> = <span title="Boolean(false)" class="keyword">false</span>
	<span class="keyword">abstract</span> <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[sbt.Configuration]" id="66500">extraDefaultConfigurations</a> =
	{
		<span class="keyword">val</span> <a title="List[sbt.Configuration]" id="66624">superConfigurations</a> = <span class="keyword">super</span>.<a href="BasicProjectTypes.scala.html#54394" title="=&gt; List[sbt.Configuration]">extraDefaultConfigurations</a>
		<span title="List[sbt.Configuration]" class="keyword">if</span>(<a href="#66499" title="=&gt; Boolean">useIntegrationTestConfiguration</a>)
			<a href="#66493" title="=&gt; sbt.Configuration">integrationTestConfiguration</a> <a href="#66626" title="(sbt.Configuration)List[sbt.Configuration]">::</a> <a href="#66624" title="List[sbt.Configuration]">superConfigurations</a>
		<span class="keyword">else</span>
			<a href="#66624" title="List[sbt.Configuration]">superConfigurations</a>
	}
	<span class="keyword">abstract</span> <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sbt.Configuration)sbt.PathFinder" id="66501">fullUnmanagedClasspath</a>(<a title="sbt.Configuration" id="66629">config</a>: <a href="../IvyInterface.scala.html#13319" title="sbt.Configuration">Configuration</a>) =
	{
		<span class="keyword">val</span> <a title="sbt.PathFinder" id="66631">superClasspath</a> = <span class="keyword">super</span>.<a href="BasicProjectTypes.scala.html#54500" title="(sbt.Configuration)sbt.PathFinder">fullUnmanagedClasspath</a>(<a href="#66629" title="sbt.Configuration">config</a>)
		<span title="sbt.PathFinder" class="keyword">if</span>(<a href="#66629" title="sbt.Configuration">config</a> <a title="(AnyRef)Boolean" id="3448">==</a> <a href="#66493" title="=&gt; sbt.Configuration">integrationTestConfiguration</a>)
			<a href="ProjectPaths.scala.html#66508" title="=&gt; sbt.Path">integrationTestCompilePath</a> <a href="Path.scala.html#52316" title="(sbt.PathFinder)sbt.PathFinder">+++</a> <a href="ProjectPaths.scala.html#66507" title="=&gt; sbt.Path">integrationTestResourcesPath</a> <a href="Path.scala.html#52316" title="(sbt.PathFinder)sbt.PathFinder">+++</a> <a href="#66631" title="sbt.PathFinder">superClasspath</a>
		<span class="keyword">else</span>
			<a href="#66631" title="sbt.PathFinder">superClasspath</a>
	}

	<span class="keyword">class</span> <a title="class IntegrationTestCompileConfig extends BasicIntegrationTesting.this.BaseCompileConfig with ScalaObject" id="66502">IntegrationTestCompileConfig</a> <span class="keyword">extends</span> <a href="DefaultProject.scala.html#54120" title="BasicIntegrationTesting.this.BaseCompileConfig">BaseCompileConfig</a>
	{
		<span class="keyword">def</span> <a title="=&gt; java.lang.String" id="66536">label</a> = <a href="#66495" title="=&gt; java.lang.String">integrationTestLabel</a>
		<span class="keyword">def</span> <a title="=&gt; sbt.PathFinder" id="66537">sourceRoots</a> = <a href="ProjectPaths.scala.html#66506" title="=&gt; sbt.PathFinder">integrationTestScalaSourceRoots</a>
		<span class="keyword">def</span> <a title="=&gt; sbt.PathFinder" id="66538">sources</a> = <a href="ProjectPaths.scala.html#66505" title="=&gt; sbt.PathFinder">integrationTestSources</a>
		<span class="keyword">def</span> <a title="=&gt; sbt.Path" id="66539">outputDirectory</a> = <a href="ProjectPaths.scala.html#66508" title="=&gt; sbt.Path">integrationTestCompilePath</a>
		<span class="keyword">def</span> <a title="=&gt; sbt.PathFinder" id="66540">classpath</a> = <a href="#66494" title="=&gt; sbt.PathFinder">integrationTestClasspath</a>
		<span class="keyword">def</span> <a title="=&gt; sbt.Path" id="66541">analysisPath</a> = <a href="ProjectPaths.scala.html#66509" title="=&gt; sbt.Path">integrationTestAnalysisPath</a>
		<span class="keyword">def</span> <a title="=&gt; Seq[BasicIntegrationTesting.this.CompileOption]" id="66542">baseCompileOptions</a> = <a href="#66491" title="=&gt; Seq[BasicIntegrationTesting.this.CompileOption]">integrationTestCompileOptions</a>
		<span class="keyword">def</span> <a title="=&gt; Seq[String]" id="66543">javaOptions</a> = <a href="ScalaProject.scala.html#54647" title="(Seq[sbt.ScalaProject#JavaCompileOption])Seq[String]">javaOptionsAsString</a>(<a href="DefaultProject.scala.html#54084" title="=&gt; Seq[BasicIntegrationTesting.this.JavaCompileOption]">javaCompileOptions</a>)
		<span class="keyword">def</span> <a title="=&gt; sbt.Fingerprints" id="66544">fingerprints</a> = <a href="DefaultProject.scala.html#61074" title="(Seq[sbt.TestFramework])sbt.Fingerprints">getFingerprints</a>(<a href="#66498" title="=&gt; Seq[sbt.TestFramework]">integrationTestFrameworks</a>)
	}
}

<span class="keyword">object</span> <a title="object sbt.BasicScalaIntegrationTesting" id="12498">BasicScalaIntegrationTesting</a>
{
	<span class="keyword">val</span> <a title="java.lang.String" id="66529">IntegrationTestCompileDescription</a> = <span title="java.lang.String(&quot;Compiles integration test sources.&quot;)" class="string">&quot;Compiles integration test sources.&quot;</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="66531">IntegrationTestDescription</a> = <span title="java.lang.String(&quot;Runs all integration tests detected during compilation.&quot;)" class="string">&quot;Runs all integration tests detected during compilation.&quot;</span>
}

        </pre>
    </body>
</html>