<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>sbt/TaskManager.scala</title>
        <script type="text/javascript" src="../jquery-all.js"></script>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* sbt -- Simple Build Tool
 * Copyright 2008 David MacIver, Mark Harrah
 */</span>
<span class="keyword">package</span> sbt

<span class="keyword">import</span> TaskManager._

<span class="keyword">trait</span> <a title="trait Described extends java.lang.Object with NotNull" id="11255">Described</a> <span class="keyword">extends</span> <a title="NotNull" id="189">NotNull</a>
{
	<span class="keyword">def</span> <a title="=&gt; Option[String]" id="55168">description</a>: <span title="Option[String]">Option</span>[String]
}
<span class="keyword">trait</span> <a title="trait TaskManager extends java.lang.Object with ScalaObject" id="8672">TaskManager</a>{
	<span class="keyword">type</span> <a title="&gt;: TaskManager.this.type &lt;: sbt.TaskManager" id="53825">ManagerType</a> &gt;: <span class="keyword">this</span>.<span class="keyword">type</span> &lt;: TaskManager
	<span class="keyword">type</span> <a title="&gt;: TaskManager.this.Task &lt;: sbt.TaskManager#Task with sbt.Dag[TaskManager.this.ManagedTask]" id="53826">ManagedTask</a> &gt;: Task &lt;: TaskManager#Task <span class="keyword">with</span> Dag[ManagedTask]
	<span class="comment">/** Creates a task that executes the given action when invoked.*/</span>
	<span class="keyword">def</span> <a title="(=&gt; Option[String])TaskManager.this.Task" id="53827">task</a>(<a title="=&gt; Option[String]" id="55218">action</a> : =&gt; Option[String]) = <a href="#55202" title="(Option[String],List[TaskManager.this.ManagedTask],Boolean,=&gt; Option[String])TaskManager.this.Task" class="keyword">new</a> <a href="#53833" title="TaskManager.this.Task">Task</a>(<span title="object None">None</span>, <span title="object Nil">Nil</span>, <span title="Boolean(false)" class="keyword">false</span>, <a href="#55218" title="=&gt; Option[String]">action</a>)
	<span class="comment">/** An interactive task is one that is not executed across all dependent projects when
	* it is called directly.  The dependencies of the task are still invoked across all dependent
	* projects, however. */</span>
	<span class="keyword">def</span> <a title="(=&gt; Option[String])TaskManager.this.Task" id="53828">interactiveTask</a>(<a title="=&gt; Option[String]" id="77294">action</a>: =&gt; Option[String]) = <a href="#55202" title="(Option[String],List[TaskManager.this.ManagedTask],Boolean,=&gt; Option[String])TaskManager.this.Task" class="keyword">new</a> <a href="#53833" title="TaskManager.this.Task">Task</a>(<span title="object None">None</span>, <span title="object Nil">Nil</span>, <span title="Boolean(true)" class="keyword">true</span>, <a href="#77294" title="=&gt; Option[String]">action</a>)
	<span class="comment">/** Creates a method task that executes the given action when invoked. */</span>
	<span class="keyword">def</span> <a title="((Array[String]) =&gt; TaskManager.this.ManagedTask)TaskManager.this.MethodTask" id="53829">task</a>(<a title="(Array[String]) =&gt; TaskManager.this.ManagedTask" id="55163">action</a>: Array[String] =&gt; ManagedTask) = <span title="TaskManager.this.MethodTask" class="keyword">new</span> <a href="#53832" title="TaskManager.this.MethodTask">MethodTask</a>(<span title="object None">None</span>, <a href="#55163" title="(Array[String]) =&gt; TaskManager.this.ManagedTask">action</a>, <span title="object Nil">Nil</span>)
	
	<span class="keyword">def</span> <a title="(TaskManager.this.Task)Option[String]" id="53830">taskName</a>(<a title="TaskManager.this.Task" id="75022">t</a>: <a href="#53833" title="TaskManager.this.Task">Task</a>): <span title="Option[String]">Option</span>[String]
	<span class="keyword">final</span> <span class="keyword">def</span> <a title="(TaskManager.this.Task)String" id="53831">taskNameString</a>(<a title="TaskManager.this.Task" id="78246">task</a>: <a href="#53833" title="TaskManager.this.Task">Task</a>): <span title="String">String</span> = <a href="#53830" title="(TaskManager.this.Task)Option[String]">taskName</a>(<a href="#78246" title="TaskManager.this.Task">task</a>).<span title="(=&gt; String)String">getOrElse</span>(<a href="#55166" title="=&gt; java.lang.String">UnnamedName</a>)
	
	<span class="comment">/** A method task is an action that has parameters.  Note that it is not a Task, though,
	* because it requires arguments to perform its work.  It therefore cannot be a dependency of
	* a Task..*/</span>
	<span class="keyword">final</span> <span class="keyword">class</span> <a title="class MethodTask extends java.lang.Object with sbt.Described with ScalaObject" id="53832">MethodTask</a>(<span class="keyword">val</span> <a title="Option[String]" id="55182">description</a>: <span title="Option[String]">Option</span>[String], <a title="(Array[String]) =&gt; TaskManager.this.ManagedTask" id="55183">action</a>: Array[String] =&gt; ManagedTask, <a title="=&gt; Seq[String]" id="55184">getCompletions</a>: =&gt; Seq[String]) <span class="keyword">extends</span> <a href="#11255" title="sbt.Described">Described</a>
	{
		<span class="comment">/** Creates a new method task, identical to this method task, except with thE[String]e given description.*/</span>
		<span class="keyword">def</span> <a title="(String)TaskManager.this.MethodTask" id="55177">describedAs</a>(<a title="String" id="61461">description</a> : <span title="String">String</span>) = <span title="TaskManager.this.MethodTask" class="keyword">new</span> <a href="#53832" title="TaskManager.this.MethodTask">MethodTask</a>(<span title="(String)Some[String]">Some</span>(<a href="#61461" title="String">description</a>), <a href="#55183" title="(Array[String]) =&gt; TaskManager.this.ManagedTask">action</a>, <a href="#55184" title="=&gt; Seq[String]">getCompletions</a>)
		<span class="comment">/** Invokes this method task with the given arguments.*/</span>
		<span class="keyword">def</span> <a title="(Array[String])TaskManager.this.ManagedTask" id="55178">apply</a>(<a title="Array[String]" id="75308">arguments</a>: <a title="Array[String]" id="1032">Array</a>[String]) = <a href="#55183" title="(Array[String])TaskManager.this.ManagedTask" id="16113">action</a>(<a href="#75308" title="Array[String]">arguments</a>)
		<span class="keyword">def</span> <a title="=&gt; TaskManager.this.ManagerType" id="55179">manager</a>: <a href="#53825" title="TaskManager.this.ManagerType">ManagerType</a> = <a href="#8672" title="TaskManager.this.type">TaskManager</a>.<span class="keyword">this</span>
		<span class="keyword">def</span> <a title="(=&gt; Seq[String])TaskManager.this.MethodTask" id="55180">completeWith</a>(<a title="=&gt; Seq[String]" id="61690">add</a>: =&gt; Seq[String]) = <span title="TaskManager.this.MethodTask" class="keyword">new</span> <a href="#53832" title="TaskManager.this.MethodTask">MethodTask</a>(<a href="#55182" title="=&gt; Option[String]">description</a>, <a href="#55183" title="(Array[String]) =&gt; TaskManager.this.ManagedTask">action</a>, <a href="#61690" title="=&gt; Seq[String]">add</a>)
		<span class="keyword">def</span> <a title="=&gt; Seq[String]" id="55181">completions</a> = <a href="#55184" title="=&gt; Seq[String]">getCompletions</a>
	}
	
	<span class="keyword">sealed</span> <span class="keyword">class</span> <a title="class Task extends java.lang.Object with sbt.Dag[TaskManager.this.ManagedTask] with sbt.Described with ScalaObject" id="53833">Task</a>(<span class="keyword">val</span> <a title="Option[String]" id="55225">explicitName</a>: <span title="Option[String]">Option</span>[String], <span class="keyword">val</span> <a title="Option[String]" id="55226">description</a> : <span title="Option[String]">Option</span>[String], <span class="keyword">val</span> <a title="List[TaskManager.this.ManagedTask]" id="55227">dependencies</a> : <span title="List[TaskManager.this.ManagedTask]">List</span>[ManagedTask],
		 <span class="keyword">val</span> <a title="Boolean" id="55228">interactive</a>: <span title="Boolean">Boolean</span>, <a title="=&gt; Option[String]" id="55229">action</a> : =&gt; Option[String]) <span class="keyword">extends</span> <a href="Dag.scala.html#8732" title="sbt.Dag[TaskManager.this.ManagedTask]">Dag</a>[ManagedTask] <span class="keyword">with</span> <a href="#11255" title="sbt.Described">Described</a>
	{
		<span class="keyword">def</span> <a title="(Option[String],List[TaskManager.this.ManagedTask],Boolean,=&gt; Option[String])TaskManager.this.Task" id="55202" class="keyword">this</a>(<a title="Option[String]" id="55221">description</a> : <span title="Option[String]">Option</span>[String], <a title="List[TaskManager.this.ManagedTask]" id="55222">dependencies</a> : <span title="List[TaskManager.this.ManagedTask]">List</span>[ManagedTask], <a title="Boolean" id="55223">interactive</a>: <span title="Boolean">Boolean</span>, <a title="=&gt; Option[String]" id="55224">action</a> : =&gt; Option[String]) =
			<a href="#53833" title="Task.this.type" class="keyword">this</a>(<span title="object None">None</span>, <a href="#55221" title="Option[String]">description</a>, <a href="#55222" title="List[TaskManager.this.ManagedTask]">dependencies</a>, <a href="#55223" title="Boolean">interactive</a>, <a href="#55224" title="=&gt; Option[String]">action</a>)
		<a href="#53838" title="(List[TaskManager.this.ManagedTask])Unit">checkTaskDependencies</a>(<a href="#55227" title="=&gt; List[TaskManager.this.ManagedTask]">dependencies</a>)
		<span class="keyword">def</span> <a title="=&gt; TaskManager.this.ManagerType" id="55203">manager</a>: <a href="#53825" title="TaskManager.this.ManagerType">ManagerType</a> = <a href="#8672" title="TaskManager.this.type">TaskManager</a>.<span class="keyword">this</span>
		<span class="keyword">def</span> <a title="=&gt; String" id="55204">name</a> = <a href="#55225" title="=&gt; Option[String]">explicitName</a>.<span title="(=&gt; String)String">getOrElse</span>(<a href="#53831" title="(TaskManager.this.Task)String">taskNameString</a>(<a href="#53833" title="TaskManager.this.Task" class="keyword">this</a>))
		<span class="keyword">private</span>[sbt] <span class="keyword">def</span> <a title="=&gt; Option[String]" id="55205">implicitName</a> = <a href="#53830" title="(TaskManager.this.Task)Option[String]">taskName</a>(<a href="#53833" title="TaskManager.this.Task" class="keyword">this</a>)
		<span class="keyword">def</span> <a title="(String)TaskManager.this.Task" id="55206">named</a>(<a title="String" id="77486">name</a>: <span title="String">String</span>) = <a href="#55217" title="(Option[String],Option[String],List[TaskManager.this.ManagedTask],Boolean,=&gt; Option[String])TaskManager.this.Task">construct</a>(<span title="(String)Some[String]">Some</span>(<a href="#77486" title="String">name</a>), <a href="#55226" title="=&gt; Option[String]">description</a>,<a href="#55227" title="=&gt; List[TaskManager.this.ManagedTask]">dependencies</a>, <a href="#55228" title="=&gt; Boolean">interactive</a>, <a href="#55229" title="=&gt; Option[String]">action</a>)
		<span class="keyword">override</span> <span class="keyword">def</span> <a title="()java.lang.String" id="55207">toString</a> = <span title="java.lang.String(&quot;Task &quot;)" class="string">&quot;Task &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#55204" title="=&gt; String">name</a>
		
		<span class="comment">/** Creates a new task, identical to this task, except with the additional dependencies specified.*/</span>
		<span class="keyword">def</span> <a title="(TaskManager.this.ManagedTask*)TaskManager.this.Task" id="55208">dependsOn</a>(<a title="TaskManager.this.ManagedTask*" id="55834">tasks</a> : <a title="TaskManager.this.ManagedTask*" id="2680">ManagedTask</a>*) = <a href="#55209" title="(List[TaskManager.this.ManagedTask])TaskManager.this.Task">setDependencies</a>(<a href="#55834" title="TaskManager.this.ManagedTask*">tasks</a>.<a title="=&gt; List[TaskManager.this.ManagedTask]" id="16171">toList</a> <a href="#55840" title="(List[TaskManager.this.ManagedTask])List[TaskManager.this.ManagedTask]">:::</a> <a href="#55227" title="=&gt; List[TaskManager.this.ManagedTask]">dependencies</a>)
		<span class="keyword">private</span>[sbt] <span class="keyword">def</span> <a title="(List[TaskManager.this.ManagedTask])TaskManager.this.Task" id="55209">setDependencies</a>(<a title="List[TaskManager.this.ManagedTask]" id="55836">dependencyList</a>: <span title="List[TaskManager.this.ManagedTask]">List</span>[ManagedTask]) =
		{
			<a href="#53838" title="(List[TaskManager.this.ManagedTask])Unit">checkTaskDependencies</a>(<a href="#55836" title="List[TaskManager.this.ManagedTask]">dependencyList</a>)
			<a href="#55217" title="(Option[String],Option[String],List[TaskManager.this.ManagedTask],Boolean,=&gt; Option[String])TaskManager.this.Task">construct</a>(<a href="#55225" title="=&gt; Option[String]">explicitName</a>, <a href="#55226" title="=&gt; Option[String]">description</a>, <a href="#55836" title="List[TaskManager.this.ManagedTask]">dependencyList</a>, <a href="#55228" title="=&gt; Boolean">interactive</a>, <a href="#55229" title="=&gt; Option[String]">action</a>)
		}
		<span class="comment">/** Creates a new task, identical to this task, except with the given description.*/</span>
		<span class="keyword">def</span> <a title="(String)TaskManager.this.Task" id="55210">describedAs</a>(<a title="String" id="55751">description</a> : <span title="String">String</span>) = <a href="#55217" title="(Option[String],Option[String],List[TaskManager.this.ManagedTask],Boolean,=&gt; Option[String])TaskManager.this.Task">construct</a>(<a href="#55225" title="=&gt; Option[String]">explicitName</a>, <span title="(String)Some[String]">Some</span>(<a href="#55751" title="String">description</a>), <a href="#55227" title="=&gt; List[TaskManager.this.ManagedTask]">dependencies</a>, <a href="#55228" title="=&gt; Boolean">interactive</a>, <a href="#55229" title="=&gt; Option[String]">action</a>);
		<span class="keyword">private</span>[sbt] <span class="keyword">def</span> <a title="=&gt; Option[String]" id="55211">invoke</a> = <a href="#55229" title="=&gt; Option[String]">action</a>;
	
		<span class="keyword">final</span> <span class="keyword">def</span> <a title="=&gt; TaskManager.this.Task" id="55212">setInteractive</a> = <a href="#55217" title="(Option[String],Option[String],List[TaskManager.this.ManagedTask],Boolean,=&gt; Option[String])TaskManager.this.Task">construct</a>(<a href="#55225" title="=&gt; Option[String]">explicitName</a>, <a href="#55226" title="=&gt; Option[String]">description</a>, <a href="#55227" title="=&gt; List[TaskManager.this.ManagedTask]">dependencies</a>, <span title="Boolean(true)" class="keyword">true</span>, <a href="#55229" title="=&gt; Option[String]">action</a>)
		<span class="keyword">final</span> <span class="keyword">def</span> <a title="=&gt; Option[String]" id="55213">run</a> = <a href="#55215" title="(List[TaskManager.this.ManagedTask])Option[String]">runSequentially</a>(<a href="Dag.scala.html#54236" title="=&gt; List[TaskManager.this.ManagedTask]">topologicalSort</a>)
		<span class="keyword">final</span> <span class="keyword">def</span> <a title="=&gt; Option[String]" id="55214">runDependenciesOnly</a> = <a href="#55215" title="(List[TaskManager.this.ManagedTask])Option[String]">runSequentially</a>(<a href="Dag.scala.html#54236" title="=&gt; List[TaskManager.this.ManagedTask]">topologicalSort</a>.<a title="(Int)List[TaskManager.this.ManagedTask]" id="15720">dropRight</a>(<span title="Int(1)" class="int">1</span>))
		<span class="keyword">private</span> <span class="keyword">def</span> <a title="(List[TaskManager.this.ManagedTask])Option[String]" id="55215">runSequentially</a>(<a title="List[TaskManager.this.ManagedTask]" id="57639">tasks</a>: <span title="List[TaskManager.this.ManagedTask]">List</span>[ManagedTask]) = <a href="Control.scala.html#13545" title="object sbt.Control">Control</a>.<a href="Control.scala.html#53237" title="(List[TaskManager.this.ManagedTask])((TaskManager.this.ManagedTask) =&gt; Option[String])Option[String]">lazyFold</a>(<a href="#57639" title="List[TaskManager.this.ManagedTask]">tasks</a>)(<a href="#57647" title="TaskManager.this.ManagedTask">_</a>.<a href="#55211" title="=&gt; Option[String]">invoke</a>)
	
		<span class="keyword">def</span> <a title="(TaskManager.this.Task)TaskManager.this.Task" id="55216">&amp;&amp;</a>(<a title="TaskManager.this.Task" id="61603">that</a> : <a href="#53833" title="TaskManager.this.Task">Task</a>) =
			<a href="#55217" title="(Option[String],Option[String],List[TaskManager.this.ManagedTask],Boolean,=&gt; Option[String])TaskManager.this.Task">construct</a>(<a href="#55225" title="=&gt; Option[String]">explicitName</a>, <span title="object None">None</span>, <a href="#55227" title="=&gt; List[TaskManager.this.ManagedTask]">dependencies</a> <a href="#61605" title="(List[TaskManager.this.ManagedTask])List[TaskManager.this.ManagedTask]">:::</a> <a href="#61603" title="TaskManager.this.Task">that</a>.<a href="#55227" title="=&gt; List[TaskManager.this.ManagedTask]">dependencies</a>, <a href="#55228" title="=&gt; Boolean">interactive</a> <a title="(Boolean)Boolean" id="2689">||</a> <a href="#61603" title="TaskManager.this.Task">that</a>.<a href="#55228" title="=&gt; Boolean">interactive</a>, <a href="#53833" title="Task.this.type" class="keyword">this</a>.<a href="#55211" title="=&gt; Option[String]">invoke</a>.<a title="(=&gt; Option[String])Option[String]" id="30539">orElse</a>(<a href="#61603" title="TaskManager.this.Task">that</a>.<a href="#55211" title="=&gt; Option[String]">invoke</a>))
		
		<span class="keyword">protected</span> <span class="keyword">def</span> <a title="(Option[String],Option[String],List[TaskManager.this.ManagedTask],Boolean,=&gt; Option[String])TaskManager.this.Task" id="55217">construct</a>(<a title="Option[String]" id="55753">explicitName</a>: <span title="Option[String]">Option</span>[String], <a title="Option[String]" id="55754">description</a>: <span title="Option[String]">Option</span>[String], <a title="List[TaskManager.this.ManagedTask]" id="55755">dependencies</a>: <span title="List[TaskManager.this.ManagedTask]">List</span>[ManagedTask], <a title="Boolean" id="55756">interactive</a>: <span title="Boolean">Boolean</span>,
			<a title="=&gt; Option[String]" id="55757">action</a> : =&gt; Option[String]): <a href="#53833" title="TaskManager.this.Task">Task</a> = <span title="TaskManager.this.Task" class="keyword">new</span> <a href="#53833" title="TaskManager.this.Task">Task</a>(<a href="#55753" title="Option[String]">explicitName</a>, <a href="#55754" title="Option[String]">description</a>, <a href="#55755" title="List[TaskManager.this.ManagedTask]">dependencies</a>, <a href="#55756" title="Boolean">interactive</a>, <a href="#55757" title="=&gt; Option[String]">action</a>)
	}
	<span class="keyword">final</span> <span class="keyword">class</span> <a title="class CompoundTask extends TaskManager.this.Task with sbt.CompoundWork[sbt.Project#Task] with ScalaObject" id="53834">CompoundTask</a> <span class="keyword">private</span> (<a title="Option[String]" id="78292">explicitName</a>: <span title="Option[String]">Option</span>[String], <a title="Option[String]" id="78293">description</a> : <span title="Option[String]">Option</span>[String], <a title="List[TaskManager.this.ManagedTask]" id="78294">dependencies</a> : <span title="List[TaskManager.this.ManagedTask]">List</span>[ManagedTask], <a title="Boolean" id="78295">interactive</a>: <span title="Boolean">Boolean</span>,
		<a title="=&gt; Option[String]" id="78296">action</a> : =&gt; Option[String], <a title="=&gt; sbt.SubWork[sbt.Project#Task]" id="78297">createWork</a>: =&gt; SubWork[Project#Task]) <span class="keyword">extends</span> <a href="#53833" title="TaskManager.this.Task">Task</a>(<a href="#78293" title="Option[String]">description</a>, <a href="#78294" title="List[TaskManager.this.ManagedTask]">dependencies</a>, <a href="#78295" title="Boolean">interactive</a>, <a href="#78296" title="=&gt; Option[String]">action</a>)
		<span class="keyword">with</span> <a href="ParallelRunner.scala.html#8393" title="sbt.CompoundWork[sbt.Project#Task]">CompoundWork</a>[Project#Task]
	{
		<span class="keyword">def</span> <a title="(=&gt; sbt.SubWork[sbt.Project#Task])TaskManager.this.CompoundTask" id="77549" class="keyword">this</a>(<a title="=&gt; sbt.SubWork[sbt.Project#Task]" id="77553">createWork</a>: =&gt; SubWork[Project#Task]) = <a href="#53834" title="CompoundTask.this.type" class="keyword">this</a>(<span title="object None">None</span>, <span title="object None">None</span>, <span title="object Nil">Nil</span>, <span title="Boolean(false)" class="keyword">false</span>, <span title="object None">None</span>, <a href="#77553" title="=&gt; sbt.SubWork[sbt.Project#Task]">createWork</a>)
		<span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(Option[String],Option[String],List[TaskManager.this.ManagedTask],Boolean,=&gt; Option[String])TaskManager.this.CompoundTask" id="77550">construct</a>(<a title="Option[String]" id="78330">explicitName</a>: <span title="Option[String]">Option</span>[String], <a title="Option[String]" id="78331">description</a>: <span title="Option[String]">Option</span>[String], <a title="List[TaskManager.this.ManagedTask]" id="78332">dependencies</a>: <span title="List[TaskManager.this.ManagedTask]">List</span>[ManagedTask],
			<a title="Boolean" id="78333">interactive</a>: <span title="Boolean">Boolean</span>, <a title="=&gt; Option[String]" id="78334">action</a> : =&gt; Option[String]) = <span title="TaskManager.this.CompoundTask" class="keyword">new</span> <a href="#53834" title="TaskManager.this.CompoundTask">CompoundTask</a>(<a href="#78330" title="Option[String]">explicitName</a>, <a href="#78331" title="Option[String]">description</a>, <a href="#78332" title="List[TaskManager.this.ManagedTask]">dependencies</a>, <a href="#78333" title="Boolean">interactive</a>, <a href="#78334" title="=&gt; Option[String]">action</a>, <a href="#78297" title="=&gt; sbt.SubWork[sbt.Project#Task]">createWork</a>)
		<span class="keyword">def</span> <a title="=&gt; sbt.SubWork[sbt.Project#Task]" id="77551">work</a> = <a href="#78297" title="=&gt; sbt.SubWork[sbt.Project#Task]">createWork</a>
	}
	<span class="keyword">def</span> <a title="(=&gt; sbt.Project#Task)TaskManager.this.CompoundTask" id="53835">dynamic</a>(<a title="=&gt; sbt.Project#Task" id="78358">createTask</a>: =&gt; Project#Task) = <a href="#77549" title="(=&gt; sbt.SubWork[sbt.Project#Task])TaskManager.this.CompoundTask" class="keyword">new</a> <a href="#53834" title="TaskManager.this.CompoundTask">CompoundTask</a>(<a href="ParallelRunner.scala.html#73506" title="(sbt.Project#Task)sbt.SubWork[sbt.Project#Task]">SubWork</a>[Project#<a href="#53833" title="sbt.Project#Task">Task</a>](<a href="#53837" title="(sbt.Project#Task)sbt.Project#Task">checkDynamic</a>(<a href="#78358" title="=&gt; sbt.Project#Task">createTask</a>)))
	@<a title="deprecated" id="201">deprecated</a> <span class="keyword">def</span> <a title="(=&gt; sbt.Project#Task)TaskManager.this.CompoundTask" id="53836">compoundTask</a>(<a title="=&gt; sbt.Project#Task" id="78396">createTask</a>: =&gt; Project#Task) = <a href="#53835" title="(=&gt; sbt.Project#Task)TaskManager.this.CompoundTask">dynamic</a>(<a href="#78396" title="=&gt; sbt.Project#Task">createTask</a>)
	<span class="comment">/** Verifies that the given dynamically created task does not depend on any statically defined tasks.
	* Returns the task if it is valid.*/</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project#Task)sbt.Project#Task" id="53837">checkDynamic</a>(<a title="sbt.Project#Task" id="78376">task</a>: Project#<a href="#53833" title="sbt.Project#Task">Task</a>) =
	{
		<span class="keyword">for</span>(<a title="((sbt.Project#ManagedTask) =&gt; Unit)Unit" id="78389">t</a> &lt;- <a href="#78376" title="sbt.Project#Task">task</a>.<a href="Dag.scala.html#54236" title="=&gt; List[sbt.Project#ManagedTask]">topologicalSort</a> <span class="keyword">if</span> <a title="=&gt; Boolean" id="2686">!</a>(<a href="#78389" title="sbt.Project#ManagedTask">t</a> <a title="(AnyRef)Boolean" id="6013">eq</a> <a href="#78376" title="sbt.Project#Task">task</a>); <a title="((String) =&gt; Unit)Unit" id="78391">staticName</a> &lt;- <a href="#78389" title="sbt.Project#ManagedTask">t</a>.<a href="#55205" title="=&gt; Option[String]">implicitName</a>)
			<a title="(String)Nothing" id="6472">error</a>(<span title="java.lang.String(&quot;Dynamic task &quot;)" class="string">&quot;Dynamic task &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#78376" title="sbt.Project#Task">task</a>.<a href="#55204" title="=&gt; String">name</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; depends on static task &quot;)" class="string">&quot; depends on static task &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#78391" title="String">staticName</a>)
		<a href="#78376" title="sbt.Project#Task">task</a>
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(List[TaskManager.this.ManagedTask])Unit" id="53838">checkTaskDependencies</a>(<a title="List[TaskManager.this.ManagedTask]" id="55838">dependencyList</a>: <span title="List[TaskManager.this.ManagedTask]">List</span>[ManagedTask])
	{
		<span class="keyword">val</span> <a title="Int" id="78404">nullDependencyIndex</a> = <a href="#55838" title="List[TaskManager.this.ManagedTask]">dependencyList</a>.<span title="((TaskManager.this.ManagedTask) =&gt; Boolean)Int">findIndexOf</span>(<a href="#78407" title="TaskManager.this.ManagedTask">_</a> <a title="(AnyRef)Boolean" id="3448">==</a> <span title="Null(null)" class="keyword">null</span>)
		<span title="(Boolean,Any)Unit">require</span>(<a href="#78404" title="Int">nullDependencyIndex</a> <span title="(Int)Boolean">&lt;</span> <span title="Int(0)" class="int">0</span>, <span title="java.lang.String(&quot;Dependency (at index &quot;)" class="string">&quot;Dependency (at index &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#78404" title="Int">nullDependencyIndex</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;) is null.  This may be an initialization issue or a circular dependency.&quot;)" class="string">&quot;) is null.  This may be an initialization issue or a circular dependency.&quot;</span>)
		<span class="keyword">val</span> <a title="Int" id="78405">interactiveDependencyIndex</a> = <a href="#55838" title="List[TaskManager.this.ManagedTask]">dependencyList</a>.<span title="((TaskManager.this.ManagedTask) =&gt; Boolean)Int">findIndexOf</span>(<a href="#78422" title="TaskManager.this.ManagedTask">_</a>.<a href="#55228" title="=&gt; Boolean">interactive</a>)
		<span title="(Boolean,Any)Unit">require</span>(<a href="#78405" title="Int">interactiveDependencyIndex</a> <span title="(Int)Boolean">&lt;</span> <span title="Int(0)" class="int">0</span>, <span title="java.lang.String(&quot;Dependency (at index &quot;)" class="string">&quot;Dependency (at index &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#78405" title="Int">interactiveDependencyIndex</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;) is interactive.  Interactive tasks cannot be dependencies.&quot;)" class="string">&quot;) is interactive.  Interactive tasks cannot be dependencies.&quot;</span>)
	}
	<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="TaskManager.this.Task" id="53840">Empty</a> = <a href="#53827" title="(=&gt; Option[String])TaskManager.this.Task">task</a> { <span title="object None">None</span>}
}
<span class="keyword">object</span> <a title="object sbt.TaskManager" id="8673">TaskManager</a>
{
	<span class="keyword">val</span> <a title="java.lang.String" id="55166">UnnamedName</a> = <span title="java.lang.String(&quot;&lt;anonymous&gt;&quot;)" class="string">&quot;&lt;anonymous&gt;&quot;</span>
}
        </pre>
    </body>
</html>