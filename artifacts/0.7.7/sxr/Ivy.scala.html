<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>Ivy.scala</title>
        <script type="text/javascript" src="jquery-all.js"></script>
        <script type="text/javascript" src="linked.js"></script>
        <link rel="stylesheet" type="text/css" href="style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* sbt -- Simple Build Tool
 * Copyright 2008, 2009, 2010 Mark Harrah
 */</span>
<span class="keyword">package</span> sbt

<span class="keyword">import</span> Artifact.{defaultExtension, defaultType}

<span class="keyword">import</span> java.io.File
<span class="keyword">import</span> java.util.concurrent.Callable

<span class="keyword">import</span> org.apache.ivy.{core, plugins, util, Ivy}
<span class="keyword">import</span> core.IvyPatternHelper
<span class="keyword">import</span> core.cache.DefaultRepositoryCacheManager
<span class="keyword">import</span> core.module.descriptor.{DefaultArtifact, DefaultDependencyArtifactDescriptor, MDArtifact}
<span class="keyword">import</span> core.module.descriptor.{DefaultDependencyDescriptor, DefaultModuleDescriptor,  ModuleDescriptor}
<span class="keyword">import</span> core.module.id.{ArtifactId,ModuleId, ModuleRevisionId}
<span class="keyword">import</span> core.settings.IvySettings
<span class="keyword">import</span> plugins.matcher.PatternMatcher
<span class="keyword">import</span> plugins.parser.m2.PomModuleDescriptorParser
<span class="keyword">import</span> plugins.resolver.ChainResolver
<span class="keyword">import</span> util.Message

<span class="keyword">import</span> scala.xml.NodeSeq

<span class="keyword">final</span> <span class="keyword">class</span> <a title="class IvySbt extends java.lang.Object with ScalaObject" id="9389">IvySbt</a>(<a title="sbt.IvyConfiguration" id="43595">configuration</a>: <a href="IvyConfigurations.scala.html#12788" title="sbt.IvyConfiguration">IvyConfiguration</a>)
{
	<span class="keyword">import</span> configuration.{log, baseDirectory}
	<span class="comment">/** ========== Configuration/Setup ============
	* This part configures the Ivy instance by first creating the logger interface to ivy, then IvySettings, and then the Ivy instance.
	* These are lazy so that they are loaded within the right context.  This is important so that no Ivy XML configuration needs to be loaded,
	* saving some time.  This is necessary because Ivy has global state (IvyContext, Message, DocumentBuilder, ...).
	*/</span>
	<span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="sbt.IvyLoggerInterface" id="43574">logger</a> = <span title="sbt.IvyLoggerInterface" class="keyword">new</span> <a href="IvyLogger.scala.html#13442" title="sbt.IvyLoggerInterface">IvyLoggerInterface</a>(<a href="IvyConfigurations.scala.html#43593" title="=&gt; sbt.IvyLogger">log</a>)
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="[T](=&gt; T)T" id="43575">withDefaultLogger</a>[<a title="&gt;: Nothing &lt;: Any" id="43577">T</a>](<a title="=&gt; T" id="43643">f</a>: =&gt; T): <a href="#43577" title="T">T</a> =
	{
		<span class="keyword">def</span> <a title="()T" id="43644">action</a>() =
			<a href="#9390" title="object sbt.IvySbt">IvySbt</a>.<a title="(T)T" id="6015">synchronized</a> 
			{
				<span class="keyword">val</span> <a title="org.apache.ivy.util.MessageLogger" id="43676">originalLogger</a> = <span title="object org.apache.ivy.util.Message">Message</span>.<a title="()org.apache.ivy.util.MessageLogger" id="43682">getDefaultLogger</a>
				<span title="object org.apache.ivy.util.Message">Message</span>.<span title="(org.apache.ivy.util.MessageLogger)Unit">setDefaultLogger</span>(<a href="#43573" title="=&gt; sbt.IvyLoggerInterface">logger</a>)
				<span class="keyword">try</span> { <a href="#43643" title="=&gt; T">f</a> }
				<span class="keyword">finally</span> { <span title="object org.apache.ivy.util.Message">Message</span>.<span title="(org.apache.ivy.util.MessageLogger)Unit">setDefaultLogger</span>(<a href="#43676" title="org.apache.ivy.util.MessageLogger">originalLogger</a>) }
			}
		<span class="comment">// Ivy is not thread-safe nor can the cache be used concurrently.</span>
		<span class="comment">// If provided a GlobalLock, we can use that to ensure safe access to the cache.</span>
		<span class="comment">// Otherwise, we can at least synchronize within the JVM.</span>
		<span class="comment">//   For thread-safety In particular, Ivy uses a static DocumentBuilder, which is not thread-safe.</span>
		<a href="#43595" title="sbt.IvyConfiguration">configuration</a>.<a href="IvyConfigurations.scala.html#43591" title="=&gt; Option[xsbti.GlobalLock]">lock</a> <span title="T" class="keyword">match</span>
		{
			<span title="T" class="keyword">case</span> Some(<a title="xsbti.GlobalLock" id="43702">lock</a>) =&gt; <a href="xsbti/GlobalLock.java.html#39375" title="(java.io.File,java.util.concurrent.Callable[T])T">lock</a>(<a href="#43582" title="=&gt; java.io.File">ivyLockFile</a>, <a title="template $anon extends java.lang.Object with java.util.concurrent.Callable[T]" id="43788" class="keyword">new</a> <a title="java.util.concurrent.Callable[T]" id="15255">Callable</a>[T] { <span class="keyword">def</span> <a title="()T" id="43790">call</a> = <a href="#43644" title="()T">action</a>() })
			<span title="T" class="keyword">case</span> <span title="object None">None</span> =&gt; <a href="#43644" title="()T">action</a>()
		}
	}
	<span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="org.apache.ivy.core.settings.IvySettings" id="43579">settings</a> =
	{
		<span class="keyword">val</span> <a title="org.apache.ivy.core.settings.IvySettings" id="43719">is</a> = <span title="org.apache.ivy.core.settings.IvySettings" class="keyword">new</span> <span title="org.apache.ivy.core.settings.IvySettings">IvySettings</span>
		<a href="#43719" title="org.apache.ivy.core.settings.IvySettings">is</a>.<a title="(java.io.File)Unit" id="42822">setBaseDir</a>(<a href="IvyConfigurations.scala.html#43592" title="=&gt; java.io.File">baseDirectory</a>)
		<a href="#43595" title="sbt.IvyConfiguration">configuration</a> <span title="Unit" class="keyword">match</span>
		{
			<span title="Unit" class="keyword">case</span> <a title="sbt.ExternalIvyConfiguration" id="43726">e</a>: <a href="IvyConfigurations.scala.html#9965" title="sbt.ExternalIvyConfiguration">ExternalIvyConfiguration</a> =&gt; <a href="#43719" title="org.apache.ivy.core.settings.IvySettings">is</a>.<a title="(java.io.File)Unit" id="42766">load</a>(<a href="#43726" title="sbt.ExternalIvyConfiguration">e</a>.<a href="IvyConfigurations.scala.html#43733" title="=&gt; java.io.File">file</a>)
			<span title="Unit" class="keyword">case</span> <a title="sbt.InlineIvyConfiguration" id="43743">i</a>: <a href="IvyConfigurations.scala.html#12917" title="sbt.InlineIvyConfiguration">InlineIvyConfiguration</a> =&gt; 
				<a href="#9390" title="object sbt.IvySbt">IvySbt</a>.<a href="#43658" title="(org.apache.ivy.core.settings.IvySettings,Option[java.io.File],Boolean)Unit">configureCache</a>(<a href="#43719" title="org.apache.ivy.core.settings.IvySettings">is</a>, <a href="#43743" title="sbt.InlineIvyConfiguration">i</a>.<a href="IvyConfigurations.scala.html#43751" title="=&gt; sbt.IvyPaths">paths</a>.<a href="IvyConfigurations.scala.html#43777" title="=&gt; Option[java.io.File]">cacheDirectory</a>, <a href="#43743" title="sbt.InlineIvyConfiguration">i</a>.<a href="IvyConfigurations.scala.html#43759" title="=&gt; Boolean">localOnly</a>)
				<a href="#9390" title="object sbt.IvySbt">IvySbt</a>.<a href="#43655" title="(org.apache.ivy.core.settings.IvySettings,Seq[sbt.Resolver],Seq[sbt.Resolver],Boolean,sbt.IvyLogger)Unit">setResolvers</a>(<a href="#43719" title="org.apache.ivy.core.settings.IvySettings">is</a>, <a href="#43743" title="sbt.InlineIvyConfiguration">i</a>.<a href="IvyConfigurations.scala.html#43753" title="=&gt; Seq[sbt.Resolver]">resolvers</a>, <a href="#43743" title="sbt.InlineIvyConfiguration">i</a>.<a href="IvyConfigurations.scala.html#43755" title="=&gt; Seq[sbt.Resolver]">otherResolvers</a>, <a href="#43743" title="sbt.InlineIvyConfiguration">i</a>.<a href="IvyConfigurations.scala.html#43759" title="=&gt; Boolean">localOnly</a>, <a href="IvyConfigurations.scala.html#43593" title="=&gt; sbt.IvyLogger">log</a>)
				<a href="#9390" title="object sbt.IvySbt">IvySbt</a>.<a href="#43657" title="(org.apache.ivy.core.settings.IvySettings,Seq[sbt.ModuleConfiguration])Unit">setModuleConfigurations</a>(<a href="#43719" title="org.apache.ivy.core.settings.IvySettings">is</a>, <a href="#43743" title="sbt.InlineIvyConfiguration">i</a>.<a href="IvyConfigurations.scala.html#43757" title="=&gt; Seq[sbt.ModuleConfiguration]">moduleConfigurations</a>)
		}
		<a href="#43719" title="org.apache.ivy.core.settings.IvySettings">is</a>
	}
	<span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="&lt;refinement&gt; extends org.apache.ivy.Ivy" id="43581">ivy</a> =
	{
		<span class="keyword">val</span> <a title="&lt;refinement&gt; extends org.apache.ivy.Ivy" id="43795">i</a> = <a title="template $anon extends org.apache.ivy.Ivy" id="43796" class="keyword">new</a> <a title="org.apache.ivy.Ivy" id="20940">Ivy</a>() { <span class="keyword">private</span> <span class="keyword">val</span> <a title="sbt.SbtMessageLoggerEngine" id="43885">loggerEngine</a> = <span title="sbt.SbtMessageLoggerEngine" class="keyword">new</span> <a href="IvyLogger.scala.html#13547" title="sbt.SbtMessageLoggerEngine">SbtMessageLoggerEngine</a>; <span class="keyword">override</span> <span class="keyword">def</span> <a title="()sbt.SbtMessageLoggerEngine" id="43887">getLoggerEngine</a> = <a href="#43885" title="=&gt; sbt.SbtMessageLoggerEngine">loggerEngine</a> }
		<a href="#43795" title="&lt;refinement&gt; extends org.apache.ivy.Ivy">i</a>.<a title="(org.apache.ivy.core.settings.IvySettings)Unit" id="43879">setSettings</a>(<a href="#43578" title="=&gt; org.apache.ivy.core.settings.IvySettings">settings</a>)
		<a href="#43795" title="&lt;refinement&gt; extends org.apache.ivy.Ivy">i</a>.<a title="()Unit" id="43809">bind</a>()
		<a href="#43795" title="&lt;refinement&gt; extends org.apache.ivy.Ivy">i</a>.<a href="#43921" title="()sbt.SbtMessageLoggerEngine">getLoggerEngine</a>.<a title="(org.apache.ivy.util.MessageLogger)Unit" id="43891">pushLogger</a>(<a href="#43573" title="=&gt; sbt.IvyLoggerInterface">logger</a>)
		<a href="#43795" title="&lt;refinement&gt; extends org.apache.ivy.Ivy">i</a>
	}
	<span class="comment">// Must be the same file as is used in Update in the launcher</span>
	<span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="java.io.File" id="43583">ivyLockFile</a> = <span title="(java.io.File,java.lang.String)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span>(<a href="#43578" title="=&gt; org.apache.ivy.core.settings.IvySettings">settings</a>.<a title="()java.io.File" id="42824">getDefaultIvyUserDir</a>, <span title="java.lang.String(&quot;.sbt.ivy.lock&quot;)" class="string">&quot;.sbt.ivy.lock&quot;</span>)
	<span class="comment">/** ========== End Configuration/Setup ============*/</span>

	<span class="comment">/** Uses the configured Ivy instance within a safe context.*/</span>
	<span class="keyword">def</span> <a title="[T]((org.apache.ivy.Ivy) =&gt; T)T" id="43584">withIvy</a>[<a title="&gt;: Nothing &lt;: Any" id="43586">T</a>](<a title="(org.apache.ivy.Ivy) =&gt; T" id="43923">f</a>: Ivy =&gt; T): <a href="#43586" title="T">T</a> =
		<a href="#43575" title="(=&gt; T)T">withDefaultLogger</a>
		{
			<a href="#43580" title="=&gt; &lt;refinement&gt; extends org.apache.ivy.Ivy">ivy</a>.<a title="()Unit" id="43811">pushContext</a>()
			<span class="keyword">try</span> { <a href="#43923" title="(org.apache.ivy.Ivy)T" id="16113">f</a>(<a href="#43580" title="=&gt; &lt;refinement&gt; extends org.apache.ivy.Ivy">ivy</a>) }
			<span class="keyword">finally</span> { <a href="#43580" title="=&gt; &lt;refinement&gt; extends org.apache.ivy.Ivy">ivy</a>.<a title="()Unit" id="43812">popContext</a>() }
		}

	<span class="keyword">final</span> <span class="keyword">class</span> <a title="class Module extends java.lang.Object with NotNull with ScalaObject" id="43587">Module</a>(<span class="keyword">val</span> <a title="sbt.ModuleSettings" id="43950">moduleSettings</a>: <a href="IvyConfigurations.scala.html#9455" title="sbt.ModuleSettings">ModuleSettings</a>) <span class="keyword">extends</span> <a title="NotNull" id="189">NotNull</a>
	{
		<span class="keyword">def</span> <a title="=&gt; sbt.IvyLogger" id="43929">logger</a> = <a href="#43595" title="sbt.IvyConfiguration">configuration</a>.<a href="IvyConfigurations.scala.html#43593" title="=&gt; sbt.IvyLogger">log</a>
		<span class="keyword">def</span> <a title="[T]((org.apache.ivy.Ivy, org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String) =&gt; T)T" id="43930">withModule</a>[<a title="&gt;: Nothing &lt;: Any" id="43932">T</a>](<a title="(org.apache.ivy.Ivy, org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String) =&gt; T" id="43953">f</a>: (Ivy,DefaultModuleDescriptor,String) =&gt; T): <a href="#43932" title="T">T</a> =
			<a href="#43584" title="((org.apache.ivy.Ivy) =&gt; T)T">withIvy</a>[<a href="#43932" title="T">T</a>] { <a title="org.apache.ivy.Ivy" id="43955">ivy</a> =&gt; <a href="#43953" title="(org.apache.ivy.Ivy,org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,String)T" id="42248">f</a>(<a href="#43955" title="org.apache.ivy.Ivy">ivy</a>, <a href="#43935" title="=&gt; org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleDescriptor</a>, <a href="#43937" title="=&gt; String">defaultConfig</a>) }

		<span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a href="#43936" title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, java.lang.String)" id="43934">(</a><a href="#43933" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="43936">moduleDescriptor</a>: <span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">DefaultModuleDescriptor</span>, <a href="#43933" title="java.lang.String" id="43938">defaultConfig</a>: <span title="String">String</span>) =
		{
			<span class="keyword">val</span> <a href="#43957" title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String)">(</a><a href="#43956" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="43957">baseModule</a>, <a href="#43956" title="String" id="43958">baseConfiguration</a>) =
				<a href="#43950" title="=&gt; sbt.ModuleSettings">moduleSettings</a> <span title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String)" class="keyword">match</span>
				{
					<span title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String)" class="keyword">case</span> <a title="sbt.InlineConfiguration" id="43959">ic</a>: <a href="IvyConfigurations.scala.html#10559" title="sbt.InlineConfiguration">InlineConfiguration</a> =&gt; <a href="#43939" title="(sbt.InlineConfiguration)(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String)">configureInline</a>(<a href="#43959" title="sbt.InlineConfiguration">ic</a>)
					<span title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, java.lang.String)" class="keyword">case</span> <a title="sbt.EmptyConfiguration" id="45281">ec</a>: <a href="IvyConfigurations.scala.html#8852" title="sbt.EmptyConfiguration">EmptyConfiguration</a> =&gt; <a href="#43944" title="(sbt.ModuleID)(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, java.lang.String)">configureEmpty</a>(<a href="#45281" title="sbt.EmptyConfiguration">ec</a>.<a href="IvyConfigurations.scala.html#45285" title="=&gt; sbt.ModuleID">module</a>)
					<span title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, java.lang.String)" class="keyword">case</span> <a title="sbt.PomConfiguration" id="45300">pc</a>: <a href="IvyConfigurations.scala.html#7994" title="sbt.PomConfiguration">PomConfiguration</a> =&gt; <a href="#43941" title="(java.io.File,Boolean)(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, java.lang.String)">readPom</a>(<a href="#45300" title="sbt.PomConfiguration">pc</a>.<a href="IvyConfigurations.scala.html#45304" title="=&gt; java.io.File">file</a>, <a href="#45300" title="sbt.PomConfiguration">pc</a>.<a href="IvyConfigurations.scala.html#45308" title="=&gt; Boolean">validate</a>)
					<span title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String)" class="keyword">case</span> <a title="sbt.IvyFileConfiguration" id="45334">ifc</a>: <a href="IvyConfigurations.scala.html#12926" title="sbt.IvyFileConfiguration">IvyFileConfiguration</a> =&gt; <a href="#43942" title="(java.io.File,Boolean)(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String)">readIvyFile</a>(<a href="#45334" title="sbt.IvyFileConfiguration">ifc</a>.<a href="IvyConfigurations.scala.html#45338" title="=&gt; java.io.File">file</a>, <a href="#45334" title="sbt.IvyFileConfiguration">ifc</a>.<a href="IvyConfigurations.scala.html#45342" title="=&gt; Boolean">validate</a>)
				}
			<a href="#43950" title="=&gt; sbt.ModuleSettings">moduleSettings</a>.<a href="IvyConfigurations.scala.html#43948" title="=&gt; Option[sbt.IvyScala]">ivyScala</a>.<span title="((sbt.IvyScala) =&gt; Unit)Unit">foreach</span>(<a href="IvyScala.scala.html#8925" title="object sbt.IvyScala">IvyScala</a>.<a href="IvyScala.scala.html#45360" title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,String)(sbt.IvyScala)Unit">checkModule</a>(<a href="#43957" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">baseModule</a>, <a href="#43958" title="String">baseConfiguration</a>))
			<a href="#43957" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">baseModule</a>.<a title="()java.util.Map[_, _]" id="43304">getExtraAttributesNamespaces</a>.<a title="java.util.Map[String,String]" id="3442">asInstanceOf</a>[java.util.<span title="java.util.Map[String,String]">Map</span>[String,String]].<a title="(String,String)String" id="40429">put</a>(<span title="java.lang.String(&quot;e&quot;)" class="string">&quot;e&quot;</span>, <span title="java.lang.String(&quot;http://ant.apache.org/ivy/extra&quot;)" class="string">&quot;http://ant.apache.org/ivy/extra&quot;</span>)
			<span title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,String)(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String)">(</span><a href="#43957" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">baseModule</a>, <a href="#43958" title="String">baseConfiguration</a>)
		}
		<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.InlineConfiguration)(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String)" id="43939">configureInline</a>(<a title="sbt.InlineConfiguration" id="43984">ic</a>: <a href="IvyConfigurations.scala.html#10559" title="sbt.InlineConfiguration">InlineConfiguration</a>) =
		{
			<span class="keyword">import</span> ic._
			<span class="keyword">val</span> <a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="43987">moduleID</a> = <a href="#43940" title="(sbt.ModuleID,Iterable[sbt.Configuration])org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">newConfiguredModuleID</a>(<a href="IvyConfigurations.scala.html#43967" title="=&gt; sbt.ModuleID">module</a>, <a href="IvyConfigurations.scala.html#43973" title="=&gt; Iterable[sbt.Configuration]">configurations</a>)
			<span class="keyword">val</span> <a title="sbt.Configuration" id="43988">defaultConf</a> = <a href="IvyConfigurations.scala.html#43975" title="=&gt; Option[sbt.Configuration]">defaultConfiguration</a> <span title="(=&gt; sbt.Configuration)sbt.Configuration">getOrElse</span> <a href="IvyInterface.scala.html#10977" title="object sbt.Configurations">Configurations</a>.<a href="IvyInterface.scala.html#44883" title="(String)sbt.Configuration">config</a>(ModuleDescriptor.<span title="java.lang.String(&quot;default&quot;)">DEFAULT_CONFIGURATION</span>)
			<a href="IvyConfigurations.scala.html#43593" title="=&gt; sbt.IvyLogger">log</a>.<a href="IvyLogger.scala.html#21067" title="(=&gt; String)Unit">debug</a>(<span title="java.lang.String(&quot;Using inline dependencies specified in Scala&quot;)" class="string">&quot;Using inline dependencies specified in Scala&quot;</span> <span title="(Any)java.lang.String">+</span> (<span title="Any" class="keyword">if</span>(<a href="IvyConfigurations.scala.html#43971" title="=&gt; scala.xml.NodeSeq">ivyXML</a>.<span title="=&gt; Boolean">isEmpty</span>) <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot; and XML.&quot;)" class="string">&quot; and XML.&quot;</span>))

			<span class="keyword">val</span> <a title="sbt.CustomXmlParser.CustomParser" id="43989">parser</a> = <a href="#9390" title="object sbt.IvySbt">IvySbt</a>.<a href="#43669" title="(org.apache.ivy.core.settings.IvySettings,scala.xml.NodeSeq,org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,String,Boolean)sbt.CustomXmlParser.CustomParser">parseIvyXML</a>(<a href="#43580" title="=&gt; &lt;refinement&gt; extends org.apache.ivy.Ivy">ivy</a>.<a title="()org.apache.ivy.core.settings.IvySettings" id="43858">getSettings</a>, <a href="#9390" title="object sbt.IvySbt">IvySbt</a>.<a href="#43667" title="(sbt.ModuleID,scala.xml.NodeSeq)scala.xml.Elem">wrapped</a>(<a href="IvyConfigurations.scala.html#43967" title="=&gt; sbt.ModuleID">module</a>, <a href="IvyConfigurations.scala.html#43971" title="=&gt; scala.xml.NodeSeq">ivyXML</a>), <a href="#43987" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>, <a href="#43988" title="sbt.Configuration">defaultConf</a>.<a href="IvyInterface.scala.html#44809" title="=&gt; String">name</a>, <a href="IvyConfigurations.scala.html#43979" title="=&gt; Boolean">validate</a>)

			<a href="#9390" title="object sbt.IvySbt">IvySbt</a>.<a href="#43671" title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,Iterable[sbt.ModuleID],sbt.CustomXmlParser.CustomParser)Unit">addDependencies</a>(<a href="#43987" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>, <a href="IvyConfigurations.scala.html#43969" title="=&gt; Iterable[sbt.ModuleID]">dependencies</a>, <a href="#43989" title="sbt.CustomXmlParser.CustomParser">parser</a>)
			<a href="#9390" title="object sbt.IvySbt">IvySbt</a>.<a href="#43660" title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor)Unit">addMainArtifact</a>(<a href="#43987" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>)
			<span title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,String)(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String)">(</span><a href="#43987" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>, <a href="#43989" title="sbt.CustomXmlParser.CustomParser">parser</a>.<a href="CustomXmlParser.scala.html#42550" title="()String">getDefaultConf</a>)
		}
		<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.ModuleID,Iterable[sbt.Configuration])org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="43940">newConfiguredModuleID</a>(<a title="sbt.ModuleID" id="43990">module</a>: <a href="IvyInterface.scala.html#13007" title="sbt.ModuleID">ModuleID</a>, <a title="Iterable[sbt.Configuration]" id="43991">configurations</a>: <span title="Iterable[sbt.Configuration]">Iterable</span>[Configuration]) =
		{
			<span class="keyword">val</span> <a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="43993">mod</a> = <span title="(org.apache.ivy.core.module.id.ModuleRevisionId,java.lang.String,java.util.Date,Boolean)org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" class="keyword">new</span> <span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">DefaultModuleDescriptor</span>(<a href="#9390" title="object sbt.IvySbt">IvySbt</a>.<a href="#43661" title="(sbt.ModuleID)org.apache.ivy.core.module.id.ModuleRevisionId">toID</a>(<a href="#43990" title="sbt.ModuleID">module</a>), <span title="java.lang.String(&quot;release&quot;)" class="string">&quot;release&quot;</span>, <span title="Null(null)" class="keyword">null</span>, <span title="Boolean(false)" class="keyword">false</span>)
			<a href="#43993" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">mod</a>.<span title="(Long)Unit">setLastModified</span>(<span title="object java.lang.System">System</span>.<span title="()Long">currentTimeMillis</span>)
			<a href="#43991" title="Iterable[sbt.Configuration]">configurations</a>.<span title="((sbt.Configuration) =&gt; Unit)Unit">foreach</span>(<a title="sbt.Configuration" id="44803">config</a> =&gt; <a href="#43993" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">mod</a>.<span title="(org.apache.ivy.core.module.descriptor.Configuration)Unit">addConfiguration</span>(<a href="#9390" title="object sbt.IvySbt">IvySbt</a>.<a href="#43659" title="(sbt.Configuration)org.apache.ivy.core.module.descriptor.Configuration">toIvyConfiguration</a>(<a href="#44803" title="sbt.Configuration">config</a>)))
			<a href="#9390" title="object sbt.IvySbt">IvySbt</a>.<a href="#43672" title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,Iterable[sbt.Artifact])Unit">addArtifacts</a>(<a href="#43993" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">mod</a>, <a href="#43990" title="sbt.ModuleID">module</a>.<a href="IvyInterface.scala.html#40260" title="=&gt; Seq[sbt.Artifact]">explicitArtifacts</a>)
			<a href="#43993" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">mod</a>
		}

		<span class="comment">/** Parses the given Maven pom 'pomFile'.*/</span>
		<span class="keyword">private</span> <span class="keyword">def</span> <a title="(java.io.File,Boolean)(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, java.lang.String)" id="43941">readPom</a>(<a title="java.io.File" id="45312">pomFile</a>: <span title="java.io.File">File</span>, <a title="Boolean" id="45313">validate</a>: <span title="Boolean">Boolean</span>) =
		{
			<span class="keyword">val</span> <a title="org.apache.ivy.core.module.descriptor.ModuleDescriptor" id="45315">md</a> = <a title="object org.apache.ivy.plugins.parser.m2.PomModuleDescriptorParser" id="43558">PomModuleDescriptorParser</a>.<a title="()org.apache.ivy.plugins.parser.m2.PomModuleDescriptorParser" id="45316">getInstance</a>.<a title="(org.apache.ivy.plugins.parser.ParserSettings,java.net.URL,Boolean)org.apache.ivy.core.module.descriptor.ModuleDescriptor" id="45322">parseDescriptor</a>(<a href="#43578" title="=&gt; org.apache.ivy.core.settings.IvySettings">settings</a>, <a href="#43943" title="(java.io.File)java.net.URL">toURL</a>(<a href="#45312" title="java.io.File">pomFile</a>), <a href="#45313" title="Boolean">validate</a>)
			<span title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,java.lang.String)(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, java.lang.String)">(</span><a href="#9390" title="object sbt.IvySbt">IvySbt</a>.<a href="#43673" title="(org.apache.ivy.core.module.descriptor.ModuleDescriptor)org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">toDefaultModuleDescriptor</a>(<a href="#45315" title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">md</a>), <span title="java.lang.String(&quot;compile&quot;)" class="string">&quot;compile&quot;</span>)
		}
		<span class="comment">/** Parses the given Ivy file 'ivyFile'.*/</span>
		<span class="keyword">private</span> <span class="keyword">def</span> <a title="(java.io.File,Boolean)(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String)" id="43942">readIvyFile</a>(<a title="java.io.File" id="45346">ivyFile</a>: <span title="java.io.File">File</span>, <a title="Boolean" id="45347">validate</a>: <span title="Boolean">Boolean</span>) =
		{
			<span class="keyword">val</span> <a title="java.net.URL" id="45349">url</a> = <a href="#43943" title="(java.io.File)java.net.URL">toURL</a>(<a href="#45346" title="java.io.File">ivyFile</a>)
			<span class="keyword">val</span> <a title="sbt.CustomXmlParser.CustomParser" id="45350">parser</a> = <span title="sbt.CustomXmlParser.CustomParser" class="keyword">new</span> <a href="CustomXmlParser.scala.html#13431" title="object sbt.CustomXmlParser">CustomXmlParser</a>.<a href="CustomXmlParser.scala.html#42353" title="sbt.CustomXmlParser.CustomParser">CustomParser</a>(<a href="#43578" title="=&gt; org.apache.ivy.core.settings.IvySettings">settings</a>, <span title="object None">None</span>)
			<a href="#45350" title="sbt.CustomXmlParser.CustomParser">parser</a>.<span title="(Boolean)Unit">setValidate</span>(<a href="#45347" title="Boolean">validate</a>)
			<a href="#45350" title="sbt.CustomXmlParser.CustomParser">parser</a>.<a href="CustomXmlParser.scala.html#42545" title="(java.net.URL)Unit">setSource</a>(<a href="#45349" title="java.net.URL">url</a>)
			<a href="#45350" title="sbt.CustomXmlParser.CustomParser">parser</a>.<span title="()Unit">parse</span>()
			<span class="keyword">val</span> <a title="org.apache.ivy.core.module.descriptor.ModuleDescriptor" id="45351">md</a> = <a href="#45350" title="sbt.CustomXmlParser.CustomParser">parser</a>.<a title="()org.apache.ivy.core.module.descriptor.ModuleDescriptor" id="42618">getModuleDescriptor</a>()
			<span title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,String)(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String)">(</span><a href="#9390" title="object sbt.IvySbt">IvySbt</a>.<a href="#43673" title="(org.apache.ivy.core.module.descriptor.ModuleDescriptor)org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">toDefaultModuleDescriptor</a>(<a href="#45351" title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">md</a>), <a href="#45350" title="sbt.CustomXmlParser.CustomParser">parser</a>.<a href="CustomXmlParser.scala.html#42550" title="()String">getDefaultConf</a>)
		}
		<span class="keyword">private</span> <span class="keyword">def</span> <a title="(java.io.File)java.net.URL" id="43943">toURL</a>(<a title="java.io.File" id="45327">file</a>: <span title="java.io.File">File</span>) = <a href="#45327" title="java.io.File">file</a>.<a title="()java.net.URI" id="16965">toURI</a>.<a title="()java.net.URL" id="19502">toURL</a>
		<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.ModuleID)(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, java.lang.String)" id="43944">configureEmpty</a>(<a title="sbt.ModuleID" id="45293">module</a>: <a href="IvyInterface.scala.html#13007" title="sbt.ModuleID">ModuleID</a>) =
		{
			<span class="keyword">val</span> <a title="java.lang.String" id="45295">defaultConf</a> = ModuleDescriptor.<span title="java.lang.String(&quot;default&quot;)">DEFAULT_CONFIGURATION</span>
			<span class="keyword">val</span> <a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="45296">moduleID</a> = <span title="(org.apache.ivy.core.module.id.ModuleRevisionId,java.lang.String,java.util.Date,Boolean)org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" class="keyword">new</span> <span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">DefaultModuleDescriptor</span>(<a href="#9390" title="object sbt.IvySbt">IvySbt</a>.<a href="#43661" title="(sbt.ModuleID)org.apache.ivy.core.module.id.ModuleRevisionId">toID</a>(<a href="#45293" title="sbt.ModuleID">module</a>), <span title="java.lang.String(&quot;release&quot;)" class="string">&quot;release&quot;</span>, <span title="Null(null)" class="keyword">null</span>, <span title="Boolean(false)" class="keyword">false</span>)
			<a href="#45296" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>.<span title="(Long)Unit">setLastModified</span>(<span title="object java.lang.System">System</span>.<span title="()Long">currentTimeMillis</span>)
			<a href="#45296" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>.<span title="(org.apache.ivy.core.module.descriptor.Configuration)Unit">addConfiguration</span>(<a href="#9390" title="object sbt.IvySbt">IvySbt</a>.<a href="#43659" title="(sbt.Configuration)org.apache.ivy.core.module.descriptor.Configuration">toIvyConfiguration</a>(<a href="IvyInterface.scala.html#10977" title="object sbt.Configurations">Configurations</a>.<a href="IvyInterface.scala.html#44885" title="=&gt; sbt.Configuration">Default</a>))
			<a href="#9390" title="object sbt.IvySbt">IvySbt</a>.<a href="#43672" title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,Iterable[sbt.Artifact])Unit">addArtifacts</a>(<a href="#45296" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>, <a href="#45293" title="sbt.ModuleID">module</a>.<a href="IvyInterface.scala.html#40260" title="=&gt; Seq[sbt.Artifact]">explicitArtifacts</a>)
			<a href="#9390" title="object sbt.IvySbt">IvySbt</a>.<a href="#43660" title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor)Unit">addMainArtifact</a>(<a href="#45296" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>)
			<span title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,java.lang.String)(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, java.lang.String)">(</span><a href="#45296" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>, <a href="#45295" title="java.lang.String">defaultConf</a>)
		}
	}
}

<span class="keyword">private</span> <span class="keyword">object</span> <a title="object sbt.IvySbt" id="9390">IvySbt</a>
{
	<span class="keyword">val</span> <a title="java.lang.String" id="43646">DefaultIvyConfigFilename</a> = <span title="java.lang.String(&quot;ivysettings.xml&quot;)" class="string">&quot;ivysettings.xml&quot;</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="43648">DefaultIvyFilename</a> = <span title="java.lang.String(&quot;ivy.xml&quot;)" class="string">&quot;ivy.xml&quot;</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="43650">DefaultMavenFilename</a> = <span title="java.lang.String(&quot;pom.xml&quot;)" class="string">&quot;pom.xml&quot;</span>

	<span class="keyword">def</span> <a title="(java.io.File)java.io.File" id="43652">defaultIvyFile</a>(<a title="java.io.File" id="45399">project</a>: <span title="java.io.File">File</span>) = <span title="(java.io.File,java.lang.String)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span>(<a href="#45399" title="java.io.File">project</a>, <a href="#43648" title="=&gt; java.lang.String">DefaultIvyFilename</a>)
	<span class="keyword">def</span> <a title="(java.io.File)java.io.File" id="43653">defaultIvyConfiguration</a>(<a title="java.io.File" id="45415">project</a>: <span title="java.io.File">File</span>) = <span title="(java.io.File,java.lang.String)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span>(<a href="#45415" title="java.io.File">project</a>, <a href="#43646" title="=&gt; java.lang.String">DefaultIvyConfigFilename</a>)
	<span class="keyword">def</span> <a title="(java.io.File)java.io.File" id="43654">defaultPOM</a>(<a title="java.io.File" id="45431">project</a>: <span title="java.io.File">File</span>) = <span title="(java.io.File,java.lang.String)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span>(<a href="#45431" title="java.io.File">project</a>, <a href="#43650" title="=&gt; java.lang.String">DefaultMavenFilename</a>)

	<span class="comment">/** Sets the resolvers for 'settings' to 'resolvers'.  This is done by creating a new chain and making it the default.
	* 'other' is for resolvers that should be in a different chain.  These are typically used for publishing or other actions. */</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(org.apache.ivy.core.settings.IvySettings,Seq[sbt.Resolver],Seq[sbt.Resolver],Boolean,sbt.IvyLogger)Unit" id="43655">setResolvers</a>(<a title="org.apache.ivy.core.settings.IvySettings" id="43781">settings</a>: <span title="org.apache.ivy.core.settings.IvySettings">IvySettings</span>, <a title="Seq[sbt.Resolver]" id="43782">resolvers</a>: <span title="Seq[sbt.Resolver]">Seq</span>[Resolver], <a title="Seq[sbt.Resolver]" id="43783">other</a>: <span title="Seq[sbt.Resolver]">Seq</span>[Resolver], <a title="Boolean" id="43784">localOnly</a>: <span title="Boolean">Boolean</span>, <a title="sbt.IvyLogger" id="43785">log</a>: <a href="IvyLogger.scala.html#11567" title="sbt.IvyLogger">IvyLogger</a>)
	{
		<span class="keyword">def</span> <a title="(String,String,Seq[sbt.Resolver])org.apache.ivy.plugins.resolver.ChainResolver" id="45447">makeChain</a>(<a title="String" id="45450">label</a>: <span title="String">String</span>, <a title="String" id="45451">name</a>: <span title="String">String</span>, <a title="Seq[sbt.Resolver]" id="45452">rs</a>: <span title="Seq[sbt.Resolver]">Seq</span>[Resolver]) = {
			<a href="#43785" title="sbt.IvyLogger">log</a>.<a href="IvyLogger.scala.html#21067" title="(=&gt; String)Unit">debug</a>(<a href="#45450" title="String">label</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; repositories:&quot;)" class="string">&quot; repositories:&quot;</span>)
			<span class="keyword">val</span> <a title="org.apache.ivy.plugins.resolver.ChainResolver" id="45453">chain</a> = <a href="#43656" title="(String,Seq[sbt.Resolver],Boolean,sbt.IvyLogger)org.apache.ivy.plugins.resolver.ChainResolver">resolverChain</a>(<a href="#45451" title="String">name</a>, <a href="#45452" title="Seq[sbt.Resolver]">rs</a>, <a href="#43784" title="Boolean">localOnly</a>, <a href="#43785" title="sbt.IvyLogger">log</a>)
			<a href="#43781" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<span title="(org.apache.ivy.plugins.resolver.DependencyResolver)Unit">addResolver</span>(<a href="#45453" title="org.apache.ivy.plugins.resolver.ChainResolver">chain</a>)
			<a href="#45453" title="org.apache.ivy.plugins.resolver.ChainResolver">chain</a>
		}
		<span class="keyword">val</span> <a title="org.apache.ivy.plugins.resolver.ChainResolver" id="45448">otherChain</a> = <a href="#45447" title="(String,String,Seq[sbt.Resolver])org.apache.ivy.plugins.resolver.ChainResolver">makeChain</a>(<span title="java.lang.String(&quot;Other&quot;)" class="string">&quot;Other&quot;</span>, <span title="java.lang.String(&quot;sbt-other&quot;)" class="string">&quot;sbt-other&quot;</span>, <a href="#43783" title="Seq[sbt.Resolver]">other</a>)
		<span class="keyword">val</span> <a title="org.apache.ivy.plugins.resolver.ChainResolver" id="45449">mainChain</a> = <a href="#45447" title="(String,String,Seq[sbt.Resolver])org.apache.ivy.plugins.resolver.ChainResolver">makeChain</a>(<span title="java.lang.String(&quot;Default&quot;)" class="string">&quot;Default&quot;</span>, <span title="java.lang.String(&quot;sbt-chain&quot;)" class="string">&quot;sbt-chain&quot;</span>, <a href="#43782" title="Seq[sbt.Resolver]">resolvers</a>)
		<a href="#43781" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<a title="(java.lang.String)Unit" id="42817">setDefaultResolver</a>(<a href="#45449" title="org.apache.ivy.plugins.resolver.ChainResolver">mainChain</a>.<a title="()java.lang.String" id="41752">getName</a>)
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(String,Seq[sbt.Resolver],Boolean,sbt.IvyLogger)org.apache.ivy.plugins.resolver.ChainResolver" id="43656">resolverChain</a>(<a title="String" id="45454">name</a>: <span title="String">String</span>, <a title="Seq[sbt.Resolver]" id="45455">resolvers</a>: <span title="Seq[sbt.Resolver]">Seq</span>[Resolver], <a title="Boolean" id="45456">localOnly</a>: <span title="Boolean">Boolean</span>, <a title="sbt.IvyLogger" id="45457">log</a>: <a href="IvyLogger.scala.html#11567" title="sbt.IvyLogger">IvyLogger</a>): <span title="org.apache.ivy.plugins.resolver.ChainResolver">ChainResolver</span> =
	{
		<span class="keyword">val</span> <a title="org.apache.ivy.plugins.resolver.ChainResolver" id="45487">newDefault</a> = <span title="org.apache.ivy.plugins.resolver.ChainResolver" class="keyword">new</span> <span title="org.apache.ivy.plugins.resolver.ChainResolver">ChainResolver</span>
		<a href="#45487" title="org.apache.ivy.plugins.resolver.ChainResolver">newDefault</a>.<a title="(java.lang.String)Unit" id="41753">setName</a>(<a href="#45454" title="String">name</a>)
		<a href="#45487" title="org.apache.ivy.plugins.resolver.ChainResolver">newDefault</a>.<a title="(Boolean)Unit" id="45480">setReturnFirst</a>(<span title="Boolean(true)" class="keyword">true</span>)
		<a href="#45487" title="org.apache.ivy.plugins.resolver.ChainResolver">newDefault</a>.<a title="(Boolean)Unit" id="41865">setCheckmodified</a>(<span title="=&gt; Boolean">!</span><a href="#45456" title="Boolean">localOnly</a>)
		<span class="keyword">for</span>(<a title="((sbt.Resolver) =&gt; Unit)Unit" id="45489">sbtResolver</a> &lt;- <a href="#45455" title="Seq[sbt.Resolver]">resolvers</a>) {
			<a href="#45457" title="sbt.IvyLogger">log</a>.<a href="IvyLogger.scala.html#21067" title="(=&gt; String)Unit">debug</a>(<span title="java.lang.String(&quot;\011&quot;)" class="string">&quot;\t&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#45489" title="sbt.Resolver">sbtResolver</a>)
			<a href="#45487" title="org.apache.ivy.plugins.resolver.ChainResolver">newDefault</a>.<a title="(org.apache.ivy.plugins.resolver.DependencyResolver)Unit" id="45462">add</a>(<a href="ConvertResolver.scala.html#41195" title="(sbt.Resolver)org.apache.ivy.plugins.resolver.RepositoryResolver">ConvertResolver</a>(<a href="#45489" title="sbt.Resolver">sbtResolver</a>))
		}
		<a href="#45487" title="org.apache.ivy.plugins.resolver.ChainResolver">newDefault</a>
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(org.apache.ivy.core.settings.IvySettings,Seq[sbt.ModuleConfiguration])Unit" id="43657">setModuleConfigurations</a>(<a title="org.apache.ivy.core.settings.IvySettings" id="43786">settings</a>: <span title="org.apache.ivy.core.settings.IvySettings">IvySettings</span>, <a title="Seq[sbt.ModuleConfiguration]" id="43787">moduleConfigurations</a>: <span title="Seq[sbt.ModuleConfiguration]">Seq</span>[ModuleConfiguration])
	{
		<span class="keyword">val</span> <a title="java.util.Collection[_]" id="45490">existing</a> = <a href="#43786" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<a title="()java.util.Collection[_]" id="43077">getResolverNames</a>
		<span class="keyword">for</span>(<a title="((sbt.ModuleConfiguration) =&gt; Unit)Unit" id="45494">moduleConf</a> &lt;- <a href="#43787" title="Seq[sbt.ModuleConfiguration]">moduleConfigurations</a>)
		{
			<span class="keyword">import</span> moduleConf._
			<span class="keyword">import</span> IvyPatternHelper._
			<span class="keyword">import</span> PatternMatcher._
			<span title="Unit" class="keyword">if</span>(<span title="=&gt; Boolean">!</span><a href="#45490" title="java.util.Collection[_]">existing</a>.<a title="(Any)Boolean" id="40717">contains</a>(<a href="IvyInterface.scala.html#45505" title="=&gt; sbt.Resolver">resolver</a>.<a href="IvyInterface.scala.html#41204" title="=&gt; String">name</a>))
				<a href="#43786" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<span title="(org.apache.ivy.plugins.resolver.DependencyResolver)Unit">addResolver</span>(<a href="ConvertResolver.scala.html#41195" title="(sbt.Resolver)org.apache.ivy.plugins.resolver.RepositoryResolver">ConvertResolver</a>(<a href="IvyInterface.scala.html#45505" title="=&gt; sbt.Resolver">resolver</a>))
			<span class="keyword">val</span> <a title="java.util.Map[String,String]" id="45511">attributes</a> = <a href="#43664" title="(Map[String,String])java.util.Map[String,String]">javaMap</a>(<a title="((java.lang.String, String)*)scala.collection.immutable.Map[java.lang.String,String]" id="6468">Map</a>(<span title="(java.lang.String)ArrowAssoc[java.lang.String]">MODULE_KEY</span> <span title="(String)(java.lang.String, String)">-&gt;</span> <a href="IvyInterface.scala.html#45501" title="=&gt; String">name</a>, <span title="(java.lang.String)ArrowAssoc[java.lang.String]">ORGANISATION_KEY</span> <span title="(String)(java.lang.String, String)">-&gt;</span> <a href="IvyInterface.scala.html#45499" title="=&gt; String">organization</a>, <span title="(java.lang.String)ArrowAssoc[java.lang.String]">REVISION_KEY</span> <span title="(String)(java.lang.String, String)">-&gt;</span> <a href="IvyInterface.scala.html#45503" title="=&gt; String">revision</a>))
			<a href="#43786" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<a title="(java.util.Map[_, _],org.apache.ivy.plugins.matcher.PatternMatcher,java.lang.String,java.lang.String,java.lang.String,java.lang.String)Unit" id="42820">addModuleConfiguration</a>(<a href="#45511" title="java.util.Map[String,String]">attributes</a>, <a href="#43786" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<a title="(java.lang.String)org.apache.ivy.plugins.matcher.PatternMatcher" id="42917">getMatcher</a>(<span title="java.lang.String(&quot;exactOrRegexp&quot;)">EXACT_OR_REGEXP</span>), <a href="IvyInterface.scala.html#45505" title="=&gt; sbt.Resolver">resolver</a>.<a href="IvyInterface.scala.html#41204" title="=&gt; String">name</a>, <span title="Null(null)" class="keyword">null</span>, <span title="Null(null)" class="keyword">null</span>, <span title="Null(null)" class="keyword">null</span>)
		}
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(org.apache.ivy.core.settings.IvySettings,Option[java.io.File],Boolean)Unit" id="43658">configureCache</a>(<a title="org.apache.ivy.core.settings.IvySettings" id="43770">settings</a>: <span title="org.apache.ivy.core.settings.IvySettings">IvySettings</span>, <a title="Option[java.io.File]" id="43771">dir</a>: <span title="Option[java.io.File]">Option</span>[File], <a title="Boolean" id="43772">localOnly</a>: <span title="Boolean">Boolean</span>)
	{
		<span class="keyword">val</span> <a title="java.io.File" id="45610">cacheDir</a> = <a href="#43771" title="Option[java.io.File]">dir</a>.<span title="(=&gt; java.io.File)java.io.File">getOrElse</span>(<a href="#43770" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<a title="()java.io.File" id="42829">getDefaultRepositoryCacheBasedir</a>())
		<span class="keyword">val</span> <a title="org.apache.ivy.core.cache.DefaultRepositoryCacheManager" id="45611">manager</a> = <a title="(java.lang.String,org.apache.ivy.core.settings.IvySettings,java.io.File)org.apache.ivy.core.cache.DefaultRepositoryCacheManager" id="45621" class="keyword">new</a> <a title="org.apache.ivy.core.cache.DefaultRepositoryCacheManager" id="39461">DefaultRepositoryCacheManager</a>(<span title="java.lang.String(&quot;default-cache&quot;)" class="string">&quot;default-cache&quot;</span>, <a href="#43770" title="org.apache.ivy.core.settings.IvySettings">settings</a>, <a href="#45610" title="java.io.File">cacheDir</a>)
		<a href="#45611" title="org.apache.ivy.core.cache.DefaultRepositoryCacheManager">manager</a>.<a title="(Boolean)Unit" id="45653">setUseOrigin</a>(<span title="Boolean(true)" class="keyword">true</span>)
		<span title="Unit" class="keyword">if</span>(<a href="#43772" title="Boolean">localOnly</a>)
			<a href="#45611" title="org.apache.ivy.core.cache.DefaultRepositoryCacheManager">manager</a>.<a title="(Long)Unit" id="45631">setDefaultTTL</a>(java.lang.Long.<span title="Long(9223372036854775807L)">MAX_VALUE</span>);
		<span class="keyword">else</span>
		{
			<a href="#45611" title="org.apache.ivy.core.cache.DefaultRepositoryCacheManager">manager</a>.<a title="(java.lang.String)Unit" id="45639">setChangingMatcher</a>(PatternMatcher.<span title="java.lang.String(&quot;regexp&quot;)">REGEXP</span>);
			<a href="#45611" title="org.apache.ivy.core.cache.DefaultRepositoryCacheManager">manager</a>.<a title="(java.lang.String)Unit" id="45641">setChangingPattern</a>(<span title="java.lang.String(&quot;.*-SNAPSHOT&quot;)" class="string">&quot;.*-SNAPSHOT&quot;</span>);
		}
		<a href="#43770" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<a title="(org.apache.ivy.core.cache.RepositoryCacheManager)Unit" id="42921">addRepositoryCacheManager</a>(<a href="#45611" title="org.apache.ivy.core.cache.DefaultRepositoryCacheManager">manager</a>)
		<a href="#43770" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<a title="(org.apache.ivy.core.cache.RepositoryCacheManager)Unit" id="43047">setDefaultRepositoryCacheManager</a>(<a href="#45611" title="org.apache.ivy.core.cache.DefaultRepositoryCacheManager">manager</a>)
		<a href="#43771" title="Option[java.io.File]">dir</a>.<span title="((java.io.File) =&gt; Unit)Unit">foreach</span>(<a title="java.io.File" id="45689">dir</a> =&gt; <a href="#43770" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<a title="(java.lang.String)Unit" id="42828">setDefaultResolutionCacheBasedir</a>(<a href="#45689" title="java.io.File">dir</a>.<a title="()java.lang.String" id="16960">getAbsolutePath</a>))
	}
	<span class="keyword">def</span> <a title="(sbt.Configuration)org.apache.ivy.core.module.descriptor.Configuration" id="43659">toIvyConfiguration</a>(<a title="sbt.Configuration" id="44846">configuration</a>: <a href="IvyInterface.scala.html#13319" title="sbt.Configuration">Configuration</a>) =
	{
		<span class="keyword">import</span> org.apache.ivy.core.module.descriptor.{Configuration =&gt; IvyConfig}
		<span class="keyword">import</span> IvyConfig.Visibility._
		<span class="keyword">import</span> configuration._
		<a title="(java.lang.String,org.apache.ivy.core.module.descriptor.Configuration.Visibility,java.lang.String,Array[java.lang.String],Boolean,java.lang.String)org.apache.ivy.core.module.descriptor.Configuration" id="44834" class="keyword">new</a> <a title="org.apache.ivy.core.module.descriptor.Configuration" id="39536">IvyConfig</a>(<a href="IvyInterface.scala.html#44809" title="=&gt; String">name</a>, <span title="org.apache.ivy.core.module.descriptor.Configuration.Visibility" class="keyword">if</span>(<a href="IvyInterface.scala.html#44813" title="=&gt; Boolean">isPublic</a>) <a title="org.apache.ivy.core.module.descriptor.Configuration.Visibility" id="44851">PUBLIC</a> <span class="keyword">else</span> <a title="org.apache.ivy.core.module.descriptor.Configuration.Visibility" id="44852">PRIVATE</a>, <a href="IvyInterface.scala.html#44811" title="=&gt; String">description</a>, <a href="IvyInterface.scala.html#44815" title="=&gt; List[sbt.Configuration]">extendsConfigs</a>.<a title="((sbt.Configuration) =&gt; String)List[String]" id="15727">map</a>(<a href="#44872" title="sbt.Configuration">_</a>.<a href="IvyInterface.scala.html#44809" title="=&gt; String">name</a>).<span title="Array[String]">toArray</span>, <a href="IvyInterface.scala.html#44817" title="=&gt; Boolean">transitive</a>, <span title="Null(null)" class="keyword">null</span>)
	}
	<span class="comment">/** Adds the ivy.xml main artifact. */</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor)Unit" id="43660">addMainArtifact</a>(<a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="45278">moduleID</a>: <span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">DefaultModuleDescriptor</span>)
	{
		<span class="keyword">val</span> <a title="org.apache.ivy.core.module.descriptor.Artifact" id="45690">artifact</a> = <a title="object org.apache.ivy.core.module.descriptor.DefaultArtifact" id="39576">DefaultArtifact</a>.<a title="(org.apache.ivy.core.module.id.ModuleRevisionId,java.util.Date)org.apache.ivy.core.module.descriptor.Artifact" id="45691">newIvyArtifact</a>(<a href="#45278" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>.<a title="()org.apache.ivy.core.module.id.ModuleRevisionId" id="43251">getResolvedModuleRevisionId</a>, <a href="#45278" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>.<a title="()java.util.Date" id="43239">getPublicationDate</a>)
		<a href="#45278" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>.<a title="(org.apache.ivy.core.module.descriptor.Artifact)Unit" id="43236">setModuleArtifact</a>(<a href="#45690" title="org.apache.ivy.core.module.descriptor.Artifact">artifact</a>)
		<a href="#45278" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>.<a title="()Unit" id="43281">check</a>()
	}
	<span class="comment">/** Converts the given sbt module id into an Ivy ModuleRevisionId.*/</span>
	<span class="keyword">def</span> <a title="(sbt.ModuleID)org.apache.ivy.core.module.id.ModuleRevisionId" id="43661">toID</a>(<a title="sbt.ModuleID" id="44090">m</a>: <a href="IvyInterface.scala.html#13007" title="sbt.ModuleID">ModuleID</a>) =
	{
		<span class="keyword">import</span> m._
		<a title="object org.apache.ivy.core.module.id.ModuleRevisionId" id="41186">ModuleRevisionId</a>.<a title="(java.lang.String,java.lang.String,java.lang.String,java.util.Map[_, _])org.apache.ivy.core.module.id.ModuleRevisionId" id="41975">newInstance</a>(<a href="IvyInterface.scala.html#40248" title="=&gt; String">organization</a>, <a href="IvyInterface.scala.html#40250" title="=&gt; String">name</a>, <a href="IvyInterface.scala.html#40252" title="=&gt; String">revision</a>, <a href="#43664" title="(Map[String,String])java.util.Map[String,String]">javaMap</a>(<a href="IvyInterface.scala.html#40262" title="=&gt; Map[String,String]">extraAttributes</a>))
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(org.apache.ivy.core.module.descriptor.ModuleDescriptor,sbt.Artifact,Iterable[String])org.apache.ivy.core.module.descriptor.MDArtifact" id="43662">toIvyArtifact</a>(<a title="org.apache.ivy.core.module.descriptor.ModuleDescriptor" id="45725">moduleID</a>: <span title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">ModuleDescriptor</span>, <a title="sbt.Artifact" id="45726">a</a>: <a href="IvyInterface.scala.html#9086" title="sbt.Artifact">Artifact</a>, <a title="Iterable[String]" id="45727">configurations</a>: <span title="Iterable[String]">Iterable</span>[String]): <span title="org.apache.ivy.core.module.descriptor.MDArtifact">MDArtifact</span> =
	{
		<span class="keyword">val</span> <a title="org.apache.ivy.core.module.descriptor.MDArtifact" id="45744">artifact</a> = <a title="(org.apache.ivy.core.module.descriptor.ModuleDescriptor,java.lang.String,java.lang.String,java.lang.String,java.net.URL,java.util.Map[_, _])org.apache.ivy.core.module.descriptor.MDArtifact" id="45733" class="keyword">new</a> <span title="org.apache.ivy.core.module.descriptor.MDArtifact">MDArtifact</span>(<a href="#45725" title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">moduleID</a>, <a href="#45726" title="sbt.Artifact">a</a>.<a href="IvyInterface.scala.html#43483" title="=&gt; String">name</a>, <a href="#45726" title="sbt.Artifact">a</a>.<a href="IvyInterface.scala.html#43485" title="=&gt; String">`type`</a>, <a href="#45726" title="sbt.Artifact">a</a>.<a href="IvyInterface.scala.html#43487" title="=&gt; String">extension</a>, <span title="Null(null)" class="keyword">null</span>, <a href="#43663" title="(sbt.Artifact)java.util.Map[String,String]">extra</a>(<a href="#45726" title="sbt.Artifact">a</a>))
		<a href="#45727" title="Iterable[String]">configurations</a>.<span title="((String) =&gt; Unit)Unit">foreach</span>(<a href="#45744" title="org.apache.ivy.core.module.descriptor.MDArtifact">artifact</a>.<a href="#45863" title="(java.lang.String)Unit" id="45741">addConfiguration</a>)
		<a href="#45744" title="org.apache.ivy.core.module.descriptor.MDArtifact">artifact</a>
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Artifact)java.util.Map[String,String]" id="43663">extra</a>(<a title="sbt.Artifact" id="45761">artifact</a>: <a href="IvyInterface.scala.html#9086" title="sbt.Artifact">Artifact</a>) =
	{
		<span class="keyword">val</span> <a title="sbt.Artifact" id="45763">ea</a> = <a href="#45761" title="sbt.Artifact">artifact</a>.<a href="IvyInterface.scala.html#43489" title="=&gt; Option[String]">classifier</a> <span title="sbt.Artifact" class="keyword">match</span> { <span title="sbt.Artifact" class="keyword">case</span> Some(<a title="String" id="45764">c</a>) =&gt; <a href="#45761" title="sbt.Artifact">artifact</a>.<a href="IvyInterface.scala.html#43498" title="((String, String)*)sbt.Artifact">extra</a>(<span title="(java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;e:classifier&quot;</span> <span title="(String)(java.lang.String, String)">-&gt;</span> <a href="#45764" title="String">c</a>); <span title="sbt.Artifact" class="keyword">case</span> <span title="object None">None</span> =&gt; <a href="#45761" title="sbt.Artifact">artifact</a> }
		<a href="#43664" title="(Map[String,String])java.util.Map[String,String]">javaMap</a>(<a href="#45763" title="sbt.Artifact">ea</a>.<a href="IvyInterface.scala.html#43495" title="=&gt; Map[String,String]">extraAttributes</a>)
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(Map[String,String])java.util.Map[String,String]" id="43664">javaMap</a>(<a title="Map[String,String]" id="44106">map</a>: <a title="Map[String,String]" id="16401">Map</a>[String,String]) =
		<span title="java.util.Map[String,String]" class="keyword">if</span>(<a href="#44106" title="Map[String,String]">map</a>.<a title="=&gt; Boolean" id="38040">isEmpty</a>) <span title="Null(null)" class="keyword">null</span>
		<span class="keyword">else</span>
		{
			<span class="keyword">val</span> <a title="&lt;refinement&gt; extends java.lang.Object with scala.collection.jcl.MapWrapper[String,String]" id="44108">wrap</a> = scala.collection.jcl.<a title="(java.util.Map[String,String])java.lang.Object with scala.collection.jcl.MapWrapper[String,String]" id="44146">Map</a>(<span title="()java.util.HashMap[String,String]" class="keyword">new</span> java.util.<span title="java.util.HashMap[String,String]">HashMap</span>[String,String])
			<a href="#44108" title="&lt;refinement&gt; extends java.lang.Object with scala.collection.jcl.MapWrapper[String,String]">wrap</a> <a title="(Iterable[(String, String)])Unit" id="44610">++=</a> <a href="#44106" title="Map[String,String]">map</a>
			<a href="#44108" title="&lt;refinement&gt; extends java.lang.Object with scala.collection.jcl.MapWrapper[String,String]">wrap</a>.<a title="=&gt; java.util.Map[String,String]" id="44604">underlying</a>
		}

	<span class="keyword">private</span> <span class="keyword">object</span> <a title="object sbt.IvySbt.javaMap" id="43665">javaMap</a>
	{
		<span class="keyword">import</span> java.util.{HashMap, Map}
		<span class="keyword">def</span> <a title="[K, V]((K, V)*)java.util.Map[K,V]" id="44098">apply</a>[<a title="&gt;: Nothing &lt;: Any" id="44101">K</a>,<a title="&gt;: Nothing &lt;: Any" id="44102">V</a>](<a title="(K, V)*" id="44103">pairs</a>: <a title="(K, V)*" id="2680">(</a>K,V)*): <span title="java.util.Map[K,V]">Map</span>[K,V] =
		{
			<span class="keyword">val</span> <a title="java.util.HashMap[K,V]" id="45865">map</a> = <span title="()java.util.HashMap[K,V]" class="keyword">new</span> <span title="java.util.HashMap[K,V]">HashMap</span>[K,V]
			<a href="#44103" title="(K, V)*">pairs</a>.<span title="(((K, V)) =&gt; Unit)Unit">foreach</span> <a href="#45872" title="Unit">{</a> <span title="Unit" class="keyword">case</span> (<a title="K" id="45873">key</a>, <a title="V" id="45874">value</a>) =&gt; <a href="#45865" title="java.util.HashMap[K,V]">map</a>.<a title="(K,V)V" id="44692">put</a>(<a href="#45873" title="K">key</a>, <a href="#45874" title="V">value</a>) }
			<a href="#45865" title="java.util.HashMap[K,V]">map</a>
		}
	}
	<span class="comment">/** Creates a full ivy file for 'module' using the 'dependencies' XML as the part after the &amp;lt;info&amp;gt;...&amp;lt;/info&amp;gt; section. */</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.ModuleID,scala.xml.NodeSeq)scala.xml.Elem" id="43667">wrapped</a>(<a title="sbt.ModuleID" id="44953">module</a>: <a href="IvyInterface.scala.html#13007" title="sbt.ModuleID">ModuleID</a>, <a title="scala.xml.NodeSeq" id="44954">dependencies</a>: <span title="scala.xml.NodeSeq">NodeSeq</span>) =
	{
		<span class="keyword">import</span> module._
		&lt;ivy-module version=<a title="scala.xml.Text" id="39924" class="string">&quot;2.0&quot;</a>&gt;
			{ <span title="Any" class="keyword">if</span>(<a href="#43668" title="(scala.xml.NodeSeq)Boolean">hasInfo</a>(<a href="#44954" title="scala.xml.NodeSeq">dependencies</a>))
				<span title="object scala.xml.NodeSeq">NodeSeq</span>.<span title="=&gt; &lt;refinement&gt; extends scala.xml.NodeSeq">Empty</span>
			<span class="keyword">else</span>
				&lt;info organisation={<a href="IvyInterface.scala.html#40248" title="=&gt; String">organization</a>} module={<a href="IvyInterface.scala.html#40250" title="=&gt; String">name</a>} revision={<a href="IvyInterface.scala.html#40252" title="=&gt; String">revision</a>}/&gt;
			}
			{<a href="#44954" title="scala.xml.NodeSeq">dependencies</a>}
			{
				<span class="comment">// this is because Ivy adds a default artifact if none are specified.</span>
				<span title="Any" class="keyword">if</span>(<a href="#44954" title="scala.xml.NodeSeq">dependencies</a> <a title="(String)scala.xml.NodeSeq" id="44935">\\</a> <span title="java.lang.String(&quot;publications&quot;)" class="string">&quot;publications&quot;</span> <span title="=&gt; Boolean">isEmpty</span>) &lt;publications/&gt; <span class="keyword">else</span> <span title="object scala.xml.NodeSeq">NodeSeq</span>.<span title="=&gt; &lt;refinement&gt; extends scala.xml.NodeSeq">Empty</span>
			}
		&lt;/ivy-module&gt;
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(scala.xml.NodeSeq)Boolean" id="43668">hasInfo</a>(<a title="scala.xml.NodeSeq" id="45265">x</a>: scala.xml.<span title="scala.xml.NodeSeq">NodeSeq</span>) = <span title="=&gt; Boolean">!</span>(&lt;g&gt;{<a href="#45265" title="scala.xml.NodeSeq">x</a>}&lt;/g&gt; <a title="(String)scala.xml.NodeSeq" id="44934">\</a> <span title="java.lang.String(&quot;info&quot;)" class="string">&quot;info&quot;</span>).<span title="=&gt; Boolean">isEmpty</span>
	<span class="comment">/** Parses the given in-memory Ivy file 'xml', using the existing 'moduleID' and specifying the given 'defaultConfiguration'. */</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(org.apache.ivy.core.settings.IvySettings,scala.xml.NodeSeq,org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,String,Boolean)sbt.CustomXmlParser.CustomParser" id="43669">parseIvyXML</a>(<a title="org.apache.ivy.core.settings.IvySettings" id="44948">settings</a>: <span title="org.apache.ivy.core.settings.IvySettings">IvySettings</span>, <a title="scala.xml.NodeSeq" id="44949">xml</a>: scala.xml.<span title="scala.xml.NodeSeq">NodeSeq</span>, <a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="44950">moduleID</a>: <span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">DefaultModuleDescriptor</span>, <a title="String" id="44951">defaultConfiguration</a>: <span title="String">String</span>, <a title="Boolean" id="44952">validate</a>: <span title="Boolean">Boolean</span>): CustomXmlParser.<a href="CustomXmlParser.scala.html#42353" title="sbt.CustomXmlParser.CustomParser">CustomParser</a> =
		<a href="#43670" title="(org.apache.ivy.core.settings.IvySettings,String,org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,String,Boolean)sbt.CustomXmlParser.CustomParser">parseIvyXML</a>(<a href="#44948" title="org.apache.ivy.core.settings.IvySettings">settings</a>,  <a href="#44949" title="scala.xml.NodeSeq">xml</a>.<a title="()String" id="44936">toString</a>, <a href="#44950" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>, <a href="#44951" title="String">defaultConfiguration</a>, <a href="#44952" title="Boolean">validate</a>)
	<span class="comment">/** Parses the given in-memory Ivy file 'xml', using the existing 'moduleID' and specifying the given 'defaultConfiguration'. */</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(org.apache.ivy.core.settings.IvySettings,String,org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,String,Boolean)sbt.CustomXmlParser.CustomParser" id="43670">parseIvyXML</a>(<a title="org.apache.ivy.core.settings.IvySettings" id="44943">settings</a>: <span title="org.apache.ivy.core.settings.IvySettings">IvySettings</span>, <a title="String" id="44944">xml</a>: <span title="String">String</span>, <a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="44945">moduleID</a>: <span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">DefaultModuleDescriptor</span>, <a title="String" id="44946">defaultConfiguration</a>: <span title="String">String</span>, <a title="Boolean" id="44947">validate</a>: <span title="Boolean">Boolean</span>): CustomXmlParser.<a href="CustomXmlParser.scala.html#42353" title="sbt.CustomXmlParser.CustomParser">CustomParser</a> =
	{
		<span class="keyword">val</span> <a title="sbt.CustomXmlParser.CustomParser" id="45876">parser</a> = <span title="sbt.CustomXmlParser.CustomParser" class="keyword">new</span> <a href="CustomXmlParser.scala.html#13431" title="object sbt.CustomXmlParser">CustomXmlParser</a>.<a href="CustomXmlParser.scala.html#42353" title="sbt.CustomXmlParser.CustomParser">CustomParser</a>(<a href="#44943" title="org.apache.ivy.core.settings.IvySettings">settings</a>, <a title="(String)Some[String]" id="286">Some</a>(<a href="#44946" title="String">defaultConfiguration</a>))
		<a href="#45876" title="sbt.CustomXmlParser.CustomParser">parser</a>.<a href="CustomXmlParser.scala.html#42548" title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor)Unit">setMd</a>(<a href="#44945" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>)
		<a href="#45876" title="sbt.CustomXmlParser.CustomParser">parser</a>.<span title="(Boolean)Unit">setValidate</span>(<a href="#44947" title="Boolean">validate</a>)
		<a href="#45876" title="sbt.CustomXmlParser.CustomParser">parser</a>.<a href="CustomXmlParser.scala.html#42546" title="(Array[Byte])Unit">setInput</a>(<a href="#44944" title="String">xml</a>.<a title="()Array[Byte]" id="6360">getBytes</a>)
		<a href="#45876" title="sbt.CustomXmlParser.CustomParser">parser</a>.<span title="()Unit">parse</span>()
		<a href="#45876" title="sbt.CustomXmlParser.CustomParser">parser</a>
	}

	<span class="comment">/** This method is used to add inline dependencies to the provided module. */</span>
	<span class="keyword">def</span> <a title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,Iterable[sbt.ModuleID],sbt.CustomXmlParser.CustomParser)Unit" id="43671">addDependencies</a>(<a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="45275">moduleID</a>: <span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">DefaultModuleDescriptor</span>, <a title="Iterable[sbt.ModuleID]" id="45276">dependencies</a>: <span title="Iterable[sbt.ModuleID]">Iterable</span>[ModuleID], <a title="sbt.CustomXmlParser.CustomParser" id="45277">parser</a>: CustomXmlParser.<a href="CustomXmlParser.scala.html#42353" title="sbt.CustomXmlParser.CustomParser">CustomParser</a>)
	{
		<span class="keyword">for</span>(<a title="((sbt.ModuleID) =&gt; Unit)Unit" id="45917">dependency</a> &lt;- <a href="#45276" title="Iterable[sbt.ModuleID]">dependencies</a>)
		{
			<span class="keyword">val</span> <a title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor" id="45918">dependencyDescriptor</a> = <span title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor" class="keyword">new</span> <a title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor" id="39560">DefaultDependencyDescriptor</a>(<a href="#45275" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>, <a href="#43661" title="(sbt.ModuleID)org.apache.ivy.core.module.id.ModuleRevisionId">toID</a>(<a href="#45917" title="sbt.ModuleID">dependency</a>), <span title="Boolean(false)" class="keyword">false</span>, <a href="#45917" title="sbt.ModuleID">dependency</a>.<a href="IvyInterface.scala.html#40256" title="=&gt; Boolean">isChanging</a>, <a href="#45917" title="sbt.ModuleID">dependency</a>.<a href="IvyInterface.scala.html#40258" title="=&gt; Boolean">isTransitive</a>)
			<a href="#45917" title="sbt.ModuleID">dependency</a>.<a href="IvyInterface.scala.html#40254" title="=&gt; Option[String]">configurations</a> <span title="Unit" class="keyword">match</span>
			{
				<span title="Unit" class="keyword">case</span> <span title="object None">None</span> =&gt; <span class="comment">// The configuration for this dependency was not explicitly specified, so use the default</span>
					<a href="#45277" title="sbt.CustomXmlParser.CustomParser">parser</a>.<a href="CustomXmlParser.scala.html#42549" title="(String,org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor)Unit">parseDepsConfs</a>(<a href="#45277" title="sbt.CustomXmlParser.CustomParser">parser</a>.<a href="CustomXmlParser.scala.html#42550" title="()String">getDefaultConf</a>, <a href="#45918" title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor">dependencyDescriptor</a>)
				<span title="Unit" class="keyword">case</span> Some(<a title="String" id="45921">confs</a>) =&gt; <span class="comment">// The configuration mapping (looks like: test-&gt;default) was specified for this dependency</span>
					<a href="#45277" title="sbt.CustomXmlParser.CustomParser">parser</a>.<a href="CustomXmlParser.scala.html#42549" title="(String,org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor)Unit">parseDepsConfs</a>(<a href="#45921" title="String">confs</a>, <a href="#45918" title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor">dependencyDescriptor</a>)
			}
			<span class="keyword">for</span>(<a title="((sbt.Artifact) =&gt; Unit)Unit" id="45924">artifact</a> &lt;- <a href="#45917" title="sbt.ModuleID">dependency</a>.<a href="IvyInterface.scala.html#40260" title="=&gt; Seq[sbt.Artifact]">explicitArtifacts</a>)
			{
				<span class="keyword">import</span> artifact.{name, classifier, `type`, extension, url}
				<span class="keyword">val</span> <a title="java.util.Map[String,String]" id="45926">extraMap</a> = <a href="#43663" title="(sbt.Artifact)java.util.Map[String,String]">extra</a>(<a href="#45924" title="sbt.Artifact">artifact</a>)
				<span class="keyword">val</span> <a title="org.apache.ivy.core.module.descriptor.DefaultDependencyArtifactDescriptor" id="45927">ivyArtifact</a> = <span title="org.apache.ivy.core.module.descriptor.DefaultDependencyArtifactDescriptor" class="keyword">new</span> <a title="org.apache.ivy.core.module.descriptor.DefaultDependencyArtifactDescriptor" id="39551">DefaultDependencyArtifactDescriptor</a>(<a href="#45918" title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor">dependencyDescriptor</a>, <a href="IvyInterface.scala.html#43483" title="=&gt; String">name</a>, <a href="IvyInterface.scala.html#43485" title="=&gt; String">`type`</a>, <a href="IvyInterface.scala.html#43487" title="=&gt; String">extension</a>, <a href="IvyInterface.scala.html#43493" title="=&gt; Option[java.net.URL]">url</a>.<span title="(=&gt; java.net.URL)java.net.URL">getOrElse</span>(<span title="Null(null)" class="keyword">null</span>), <a href="#45926" title="java.util.Map[String,String]">extraMap</a>)
				<span class="keyword">for</span>(<a title="((java.lang.String) =&gt; Unit)Unit" id="45952">conf</a> &lt;- <a href="#45918" title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor">dependencyDescriptor</a>.<a title="()Array[java.lang.String]" id="43324">getModuleConfigurations</a>)
					<a href="#45918" title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor">dependencyDescriptor</a>.<a title="(java.lang.String,org.apache.ivy.core.module.descriptor.DependencyArtifactDescriptor)Unit" id="43341">addDependencyArtifact</a>(<a href="#45952" title="java.lang.String">conf</a>, <a href="#45927" title="org.apache.ivy.core.module.descriptor.DefaultDependencyArtifactDescriptor">ivyArtifact</a>)
			}
			<a href="#45275" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>.<a title="(org.apache.ivy.core.module.descriptor.DependencyDescriptor)Unit" id="43247">addDependency</a>(<a href="#45918" title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor">dependencyDescriptor</a>)
		}
	}
	<span class="comment">/** This method is used to add inline artifacts to the provided module. */</span>
	<span class="keyword">def</span> <a title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,Iterable[sbt.Artifact])Unit" id="43672">addArtifacts</a>(<a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="44878">moduleID</a>: <span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">DefaultModuleDescriptor</span>, <a title="Iterable[sbt.Artifact]" id="44879">artifacts</a>: <span title="Iterable[sbt.Artifact]">Iterable</span>[Artifact])
	{
		<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Array[java.lang.String]" id="45954">allConfigurations</a> = <a href="#44878" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>.<a title="()Array[java.lang.String]" id="43256">getPublicConfigurationsNames</a>
		<span class="keyword">for</span>(<a title="((sbt.Artifact) =&gt; Unit)Unit" id="45956">artifact</a> &lt;- <a href="#44879" title="Iterable[sbt.Artifact]">artifacts</a>)
		{
			<span class="keyword">val</span> <a title="Iterable[String]" id="45957">configurationStrings</a> =
			{
				<span class="keyword">val</span> <a title="Iterable[sbt.Configuration]" id="45959">artifactConfigurations</a> = <a href="#45956" title="sbt.Artifact">artifact</a>.<a href="IvyInterface.scala.html#43491" title="=&gt; Iterable[sbt.Configuration]">configurations</a>
				<span title="Iterable[String]" class="keyword">if</span>(<a href="#45959" title="Iterable[sbt.Configuration]">artifactConfigurations</a>.<a title="=&gt; Boolean" id="16182">isEmpty</a>)
					<a href="#45953" title="=&gt; Array[java.lang.String]">allConfigurations</a>
				<span class="keyword">else</span>
					<a href="#45959" title="Iterable[sbt.Configuration]">artifactConfigurations</a>.<span title="((sbt.Configuration) =&gt; String)Iterable[String]">map</span>(<a href="#45962" title="sbt.Configuration">_</a>.<a href="IvyInterface.scala.html#44809" title="=&gt; String">name</a>)
			}
			<span class="keyword">val</span> <a title="org.apache.ivy.core.module.descriptor.MDArtifact" id="45958">ivyArtifact</a> = <a href="#43662" title="(org.apache.ivy.core.module.descriptor.ModuleDescriptor,sbt.Artifact,Iterable[String])org.apache.ivy.core.module.descriptor.MDArtifact">toIvyArtifact</a>(<a href="#44878" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>, <a href="#45956" title="sbt.Artifact">artifact</a>, <a href="#45957" title="Iterable[String]">configurationStrings</a>)
			<a href="#45957" title="Iterable[String]">configurationStrings</a>.<span title="((String) =&gt; Unit)Unit">foreach</span>(<a title="String" id="45964">configuration</a> =&gt; <a href="#44878" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>.<a title="(java.lang.String,org.apache.ivy.core.module.descriptor.Artifact)Unit" id="43249">addArtifact</a>(<a href="#45964" title="String">configuration</a>, <a href="#45958" title="org.apache.ivy.core.module.descriptor.MDArtifact">ivyArtifact</a>))
		}
	}
	<span class="comment">/** This code converts the given ModuleDescriptor to a DefaultModuleDescriptor by casting or generating an error.
	* Ivy 2.0.0 always produces a DefaultModuleDescriptor. */</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(org.apache.ivy.core.module.descriptor.ModuleDescriptor)org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="43673">toDefaultModuleDescriptor</a>(<a title="org.apache.ivy.core.module.descriptor.ModuleDescriptor" id="45331">md</a>: <span title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">ModuleDescriptor</span>) =
		<a href="#45331" title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">md</a> <span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" class="keyword">match</span>
		{
			<span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" class="keyword">case</span> <a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="45333">dmd</a>: <span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">DefaultModuleDescriptor</span> =&gt; <a href="#45333" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">dmd</a>
			<span title="Nothing" class="keyword">case</span> _ =&gt; <a title="(String)Nothing" id="6472">error</a>(<span title="java.lang.String(&quot;Unknown ModuleDescriptor type.&quot;)" class="string">&quot;Unknown ModuleDescriptor type.&quot;</span>)
		}
	<span class="keyword">def</span> <a title="(org.apache.ivy.core.module.descriptor.ModuleDescriptor,Option[Iterable[sbt.Configuration]])Array[String]" id="43674">getConfigurations</a>(<a title="org.apache.ivy.core.module.descriptor.ModuleDescriptor" id="45965">module</a>: <span title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">ModuleDescriptor</span>, <a title="Option[Iterable[sbt.Configuration]]" id="45966">configurations</a>: <span title="Option[Iterable[sbt.Configuration]]">Option</span>[Iterable[Configuration]]) =
		<a href="#45966" title="Option[Iterable[sbt.Configuration]]">configurations</a> <span title="Array[String]" class="keyword">match</span>
		{
			<span title="Array[String]" class="keyword">case</span> Some(<a title="Iterable[sbt.Configuration]" id="45968">confs</a>) =&gt; <a href="#45968" title="Iterable[sbt.Configuration]">confs</a>.<span title="((sbt.Configuration) =&gt; String)Iterable[String]">map</span>(<a href="#45971" title="sbt.Configuration">_</a>.<a href="IvyInterface.scala.html#44809" title="=&gt; String">name</a>).<a title="=&gt; List[String]" id="16171">toList</a>.<span title="Array[String]">toArray</span>
			<span title="Array[java.lang.String]" class="keyword">case</span> <span title="object None">None</span> =&gt; <a href="#45965" title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">module</a>.<a title="()Array[java.lang.String]" id="44007">getPublicConfigurationsNames</a>
		}
}

        </pre>
    </body>
</html>