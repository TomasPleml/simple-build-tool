<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>Ivy.scala</title>
        <script type="text/javascript" src="jquery-all.js"></script>
        <script type="text/javascript" src="linked.js"></script>
        <link rel="stylesheet" type="text/css" href="style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* sbt -- Simple Build Tool
 * Copyright 2008, 2009, 2010 Mark Harrah
 */</span>
<span class="keyword">package</span> sbt

<span class="keyword">import</span> Artifact.{defaultExtension, defaultType}

<span class="keyword">import</span> java.io.File
<span class="keyword">import</span> java.util.concurrent.Callable

<span class="keyword">import</span> org.apache.ivy.{core, plugins, util, Ivy}
<span class="keyword">import</span> core.IvyPatternHelper
<span class="keyword">import</span> core.cache.DefaultRepositoryCacheManager
<span class="keyword">import</span> core.module.descriptor.{DefaultArtifact, DefaultDependencyArtifactDescriptor, MDArtifact}
<span class="keyword">import</span> core.module.descriptor.{DefaultDependencyDescriptor, DefaultModuleDescriptor,  ModuleDescriptor}
<span class="keyword">import</span> core.module.id.{ArtifactId,ModuleId, ModuleRevisionId}
<span class="keyword">import</span> core.settings.IvySettings
<span class="keyword">import</span> plugins.matcher.PatternMatcher
<span class="keyword">import</span> plugins.parser.m2.PomModuleDescriptorParser
<span class="keyword">import</span> plugins.resolver.ChainResolver
<span class="keyword">import</span> util.Message

<span class="keyword">import</span> scala.xml.NodeSeq

<span class="keyword">final</span> <span class="keyword">class</span> <a title="class IvySbt extends java.lang.Object with ScalaObject" id="9390">IvySbt</a>(<a title="sbt.IvyConfiguration" id="43386">configuration</a>: <a href="IvyConfigurations.scala.html#12789" title="sbt.IvyConfiguration">IvyConfiguration</a>)
{
	<span class="keyword">import</span> configuration.{log, baseDirectory}
	<span class="comment">/** ========== Configuration/Setup ============
	* This part configures the Ivy instance by first creating the logger interface to ivy, then IvySettings, and then the Ivy instance.
	* These are lazy so that they are loaded within the right context.  This is important so that no Ivy XML configuration needs to be loaded,
	* saving some time.  This is necessary because Ivy has global state (IvyContext, Message, DocumentBuilder, ...).
	*/</span>
	<span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="sbt.IvyLoggerInterface" id="43365">logger</a> = <span title="sbt.IvyLoggerInterface" class="keyword">new</span> <a href="IvyLogger.scala.html#13443" title="sbt.IvyLoggerInterface">IvyLoggerInterface</a>(<a href="IvyConfigurations.scala.html#43384" title="=&gt; sbt.IvyLogger">log</a>)
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="[T](=&gt; T)T" id="43366">withDefaultLogger</a>[<a title="&gt;: Nothing &lt;: Any" id="43368">T</a>](<a title="=&gt; T" id="43434">f</a>: =&gt; T): <a href="#43368" title="T">T</a> =
	{
		<span class="keyword">def</span> <a title="()T" id="43435">action</a>() =
			<a href="#9391" title="object sbt.IvySbt">IvySbt</a>.<a title="(T)T" id="6019">synchronized</a> 
			{
				<span class="keyword">val</span> <a title="org.apache.ivy.util.MessageLogger" id="43467">originalLogger</a> = <span title="object org.apache.ivy.util.Message">Message</span>.<a title="()org.apache.ivy.util.MessageLogger" id="43473">getDefaultLogger</a>
				<span title="object org.apache.ivy.util.Message">Message</span>.<span title="(org.apache.ivy.util.MessageLogger)Unit">setDefaultLogger</span>(<a href="#43364" title="=&gt; sbt.IvyLoggerInterface">logger</a>)
				<span class="keyword">try</span> { <a href="#43434" title="=&gt; T">f</a> }
				<span class="keyword">finally</span> { <span title="object org.apache.ivy.util.Message">Message</span>.<span title="(org.apache.ivy.util.MessageLogger)Unit">setDefaultLogger</span>(<a href="#43467" title="org.apache.ivy.util.MessageLogger">originalLogger</a>) }
			}
		<span class="comment">// Ivy is not thread-safe nor can the cache be used concurrently.</span>
		<span class="comment">// If provided a GlobalLock, we can use that to ensure safe access to the cache.</span>
		<span class="comment">// Otherwise, we can at least synchronize within the JVM.</span>
		<span class="comment">//   For thread-safety In particular, Ivy uses a static DocumentBuilder, which is not thread-safe.</span>
		<a href="#43386" title="sbt.IvyConfiguration">configuration</a>.<a href="IvyConfigurations.scala.html#43382" title="=&gt; Option[xsbti.GlobalLock]">lock</a> <span title="T" class="keyword">match</span>
		{
			<span title="T" class="keyword">case</span> Some(<a title="xsbti.GlobalLock" id="43493">lock</a>) =&gt; <a href="xsbti/GlobalLock.java.html#39169" title="(java.io.File,java.util.concurrent.Callable[T])T">lock</a>(<a href="#43373" title="=&gt; java.io.File">ivyLockFile</a>, <a title="template $anon extends java.lang.Object with java.util.concurrent.Callable[T]" id="43579" class="keyword">new</a> <a title="java.util.concurrent.Callable[T]" id="15059">Callable</a>[T] { <span class="keyword">def</span> <a title="()T" id="43581">call</a> = <a href="#43435" title="()T">action</a>() })
			<span title="T" class="keyword">case</span> <span title="object None">None</span> =&gt; <a href="#43435" title="()T">action</a>()
		}
	}
	<span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="org.apache.ivy.core.settings.IvySettings" id="43370">settings</a> =
	{
		<span class="keyword">val</span> <a title="org.apache.ivy.core.settings.IvySettings" id="43510">is</a> = <span title="org.apache.ivy.core.settings.IvySettings" class="keyword">new</span> <span title="org.apache.ivy.core.settings.IvySettings">IvySettings</span>
		<a href="#43510" title="org.apache.ivy.core.settings.IvySettings">is</a>.<a title="(java.io.File)Unit" id="42613">setBaseDir</a>(<a href="IvyConfigurations.scala.html#43383" title="=&gt; java.io.File">baseDirectory</a>)
		<a href="#43386" title="sbt.IvyConfiguration">configuration</a> <span title="Unit" class="keyword">match</span>
		{
			<span title="Unit" class="keyword">case</span> <a title="sbt.ExternalIvyConfiguration" id="43517">e</a>: <a href="IvyConfigurations.scala.html#9966" title="sbt.ExternalIvyConfiguration">ExternalIvyConfiguration</a> =&gt; <a href="#43510" title="org.apache.ivy.core.settings.IvySettings">is</a>.<a title="(java.io.File)Unit" id="42557">load</a>(<a href="#43517" title="sbt.ExternalIvyConfiguration">e</a>.<a href="IvyConfigurations.scala.html#43524" title="=&gt; java.io.File">file</a>)
			<span title="Unit" class="keyword">case</span> <a title="sbt.InlineIvyConfiguration" id="43534">i</a>: <a href="IvyConfigurations.scala.html#12918" title="sbt.InlineIvyConfiguration">InlineIvyConfiguration</a> =&gt; 
				<a href="#9391" title="object sbt.IvySbt">IvySbt</a>.<a href="#43449" title="(org.apache.ivy.core.settings.IvySettings,Option[java.io.File],Boolean)Unit">configureCache</a>(<a href="#43510" title="org.apache.ivy.core.settings.IvySettings">is</a>, <a href="#43534" title="sbt.InlineIvyConfiguration">i</a>.<a href="IvyConfigurations.scala.html#43542" title="=&gt; sbt.IvyPaths">paths</a>.<a href="IvyConfigurations.scala.html#43568" title="=&gt; Option[java.io.File]">cacheDirectory</a>, <a href="#43534" title="sbt.InlineIvyConfiguration">i</a>.<a href="IvyConfigurations.scala.html#43550" title="=&gt; Boolean">localOnly</a>)
				<a href="#9391" title="object sbt.IvySbt">IvySbt</a>.<a href="#43446" title="(org.apache.ivy.core.settings.IvySettings,Seq[sbt.Resolver],Seq[sbt.Resolver],Boolean,sbt.IvyLogger)Unit">setResolvers</a>(<a href="#43510" title="org.apache.ivy.core.settings.IvySettings">is</a>, <a href="#43534" title="sbt.InlineIvyConfiguration">i</a>.<a href="IvyConfigurations.scala.html#43544" title="=&gt; Seq[sbt.Resolver]">resolvers</a>, <a href="#43534" title="sbt.InlineIvyConfiguration">i</a>.<a href="IvyConfigurations.scala.html#43546" title="=&gt; Seq[sbt.Resolver]">otherResolvers</a>, <a href="#43534" title="sbt.InlineIvyConfiguration">i</a>.<a href="IvyConfigurations.scala.html#43550" title="=&gt; Boolean">localOnly</a>, <a href="IvyConfigurations.scala.html#43384" title="=&gt; sbt.IvyLogger">log</a>)
				<a href="#9391" title="object sbt.IvySbt">IvySbt</a>.<a href="#43448" title="(org.apache.ivy.core.settings.IvySettings,Seq[sbt.ModuleConfiguration])Unit">setModuleConfigurations</a>(<a href="#43510" title="org.apache.ivy.core.settings.IvySettings">is</a>, <a href="#43534" title="sbt.InlineIvyConfiguration">i</a>.<a href="IvyConfigurations.scala.html#43548" title="=&gt; Seq[sbt.ModuleConfiguration]">moduleConfigurations</a>)
		}
		<a href="#43510" title="org.apache.ivy.core.settings.IvySettings">is</a>
	}
	<span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="&lt;refinement&gt; extends org.apache.ivy.Ivy" id="43372">ivy</a> =
	{
		<span class="keyword">val</span> <a title="&lt;refinement&gt; extends org.apache.ivy.Ivy" id="43586">i</a> = <a title="template $anon extends org.apache.ivy.Ivy" id="43587" class="keyword">new</a> <a title="org.apache.ivy.Ivy" id="20743">Ivy</a>() { <span class="keyword">private</span> <span class="keyword">val</span> <a title="sbt.SbtMessageLoggerEngine" id="43676">loggerEngine</a> = <span title="sbt.SbtMessageLoggerEngine" class="keyword">new</span> <a href="IvyLogger.scala.html#13548" title="sbt.SbtMessageLoggerEngine">SbtMessageLoggerEngine</a>; <span class="keyword">override</span> <span class="keyword">def</span> <a title="()sbt.SbtMessageLoggerEngine" id="43678">getLoggerEngine</a> = <a href="#43676" title="=&gt; sbt.SbtMessageLoggerEngine">loggerEngine</a> }
		<a href="#43586" title="&lt;refinement&gt; extends org.apache.ivy.Ivy">i</a>.<a title="(org.apache.ivy.core.settings.IvySettings)Unit" id="43670">setSettings</a>(<a href="#43369" title="=&gt; org.apache.ivy.core.settings.IvySettings">settings</a>)
		<a href="#43586" title="&lt;refinement&gt; extends org.apache.ivy.Ivy">i</a>.<a title="()Unit" id="43600">bind</a>()
		<a href="#43586" title="&lt;refinement&gt; extends org.apache.ivy.Ivy">i</a>.<a href="#43712" title="()sbt.SbtMessageLoggerEngine">getLoggerEngine</a>.<a title="(org.apache.ivy.util.MessageLogger)Unit" id="43682">pushLogger</a>(<a href="#43364" title="=&gt; sbt.IvyLoggerInterface">logger</a>)
		<a href="#43586" title="&lt;refinement&gt; extends org.apache.ivy.Ivy">i</a>
	}
	<span class="comment">// Must be the same file as is used in Update in the launcher</span>
	<span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="java.io.File" id="43374">ivyLockFile</a> = <span title="(java.io.File,java.lang.String)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span>(<a href="#43369" title="=&gt; org.apache.ivy.core.settings.IvySettings">settings</a>.<a title="()java.io.File" id="42615">getDefaultIvyUserDir</a>, <span title="java.lang.String(&quot;.sbt.ivy.lock&quot;)" class="string">&quot;.sbt.ivy.lock&quot;</span>)
	<span class="comment">/** ========== End Configuration/Setup ============*/</span>

	<span class="comment">/** Uses the configured Ivy instance within a safe context.*/</span>
	<span class="keyword">def</span> <a title="[T]((org.apache.ivy.Ivy) =&gt; T)T" id="43375">withIvy</a>[<a title="&gt;: Nothing &lt;: Any" id="43377">T</a>](<a title="(org.apache.ivy.Ivy) =&gt; T" id="43714">f</a>: Ivy =&gt; T): <a href="#43377" title="T">T</a> =
		<a href="#43366" title="(=&gt; T)T">withDefaultLogger</a>
		{
			<a href="#43371" title="=&gt; &lt;refinement&gt; extends org.apache.ivy.Ivy">ivy</a>.<a title="()Unit" id="43602">pushContext</a>()
			<span class="keyword">try</span> { <a href="#43714" title="(org.apache.ivy.Ivy)T" id="15917">f</a>(<a href="#43371" title="=&gt; &lt;refinement&gt; extends org.apache.ivy.Ivy">ivy</a>) }
			<span class="keyword">finally</span> { <a href="#43371" title="=&gt; &lt;refinement&gt; extends org.apache.ivy.Ivy">ivy</a>.<a title="()Unit" id="43603">popContext</a>() }
		}

	<span class="keyword">final</span> <span class="keyword">class</span> <a title="class Module extends java.lang.Object with NotNull with ScalaObject" id="43378">Module</a>(<span class="keyword">val</span> <a title="sbt.ModuleSettings" id="43741">moduleSettings</a>: <a href="IvyConfigurations.scala.html#9456" title="sbt.ModuleSettings">ModuleSettings</a>) <span class="keyword">extends</span> <a title="NotNull" id="193">NotNull</a>
	{
		<span class="keyword">def</span> <a title="=&gt; sbt.IvyLogger" id="43720">logger</a> = <a href="#43386" title="sbt.IvyConfiguration">configuration</a>.<a href="IvyConfigurations.scala.html#43384" title="=&gt; sbt.IvyLogger">log</a>
		<span class="keyword">def</span> <a title="[T]((org.apache.ivy.Ivy, org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String) =&gt; T)T" id="43721">withModule</a>[<a title="&gt;: Nothing &lt;: Any" id="43723">T</a>](<a title="(org.apache.ivy.Ivy, org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String) =&gt; T" id="43744">f</a>: (Ivy,DefaultModuleDescriptor,String) =&gt; T): <a href="#43723" title="T">T</a> =
			<a href="#43375" title="((org.apache.ivy.Ivy) =&gt; T)T">withIvy</a>[<a href="#43723" title="T">T</a>] { <a title="org.apache.ivy.Ivy" id="43746">ivy</a> =&gt; <a href="#43744" title="(org.apache.ivy.Ivy,org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,String)T" id="42042">f</a>(<a href="#43746" title="org.apache.ivy.Ivy">ivy</a>, <a href="#43726" title="=&gt; org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleDescriptor</a>, <a href="#43728" title="=&gt; String">defaultConfig</a>) }

		<span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a href="#43727" title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, java.lang.String)" id="43725">(</a><a href="#43724" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="43727">moduleDescriptor</a>: <span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">DefaultModuleDescriptor</span>, <a href="#43724" title="java.lang.String" id="43729">defaultConfig</a>: <span title="String">String</span>) =
		{
			<span class="keyword">val</span> <a href="#43748" title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String)">(</a><a href="#43747" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="43748">baseModule</a>, <a href="#43747" title="String" id="43749">baseConfiguration</a>) =
				<a href="#43741" title="=&gt; sbt.ModuleSettings">moduleSettings</a> <span title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String)" class="keyword">match</span>
				{
					<span title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String)" class="keyword">case</span> <a title="sbt.InlineConfiguration" id="43750">ic</a>: <a href="IvyConfigurations.scala.html#10560" title="sbt.InlineConfiguration">InlineConfiguration</a> =&gt; <a href="#43730" title="(sbt.InlineConfiguration)(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String)">configureInline</a>(<a href="#43750" title="sbt.InlineConfiguration">ic</a>)
					<span title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, java.lang.String)" class="keyword">case</span> <a title="sbt.EmptyConfiguration" id="45072">ec</a>: <a href="IvyConfigurations.scala.html#8853" title="sbt.EmptyConfiguration">EmptyConfiguration</a> =&gt; <a href="#43735" title="(sbt.ModuleID)(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, java.lang.String)">configureEmpty</a>(<a href="#45072" title="sbt.EmptyConfiguration">ec</a>.<a href="IvyConfigurations.scala.html#45076" title="=&gt; sbt.ModuleID">module</a>)
					<span title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, java.lang.String)" class="keyword">case</span> <a title="sbt.PomConfiguration" id="45091">pc</a>: <a href="IvyConfigurations.scala.html#7995" title="sbt.PomConfiguration">PomConfiguration</a> =&gt; <a href="#43732" title="(java.io.File,Boolean)(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, java.lang.String)">readPom</a>(<a href="#45091" title="sbt.PomConfiguration">pc</a>.<a href="IvyConfigurations.scala.html#45095" title="=&gt; java.io.File">file</a>, <a href="#45091" title="sbt.PomConfiguration">pc</a>.<a href="IvyConfigurations.scala.html#45099" title="=&gt; Boolean">validate</a>)
					<span title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String)" class="keyword">case</span> <a title="sbt.IvyFileConfiguration" id="45125">ifc</a>: <a href="IvyConfigurations.scala.html#12927" title="sbt.IvyFileConfiguration">IvyFileConfiguration</a> =&gt; <a href="#43733" title="(java.io.File,Boolean)(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String)">readIvyFile</a>(<a href="#45125" title="sbt.IvyFileConfiguration">ifc</a>.<a href="IvyConfigurations.scala.html#45129" title="=&gt; java.io.File">file</a>, <a href="#45125" title="sbt.IvyFileConfiguration">ifc</a>.<a href="IvyConfigurations.scala.html#45133" title="=&gt; Boolean">validate</a>)
				}
			<a href="#43741" title="=&gt; sbt.ModuleSettings">moduleSettings</a>.<a href="IvyConfigurations.scala.html#43739" title="=&gt; Option[sbt.IvyScala]">ivyScala</a>.<span title="((sbt.IvyScala) =&gt; Unit)Unit">foreach</span>(<a href="IvyScala.scala.html#8926" title="object sbt.IvyScala">IvyScala</a>.<a href="IvyScala.scala.html#45151" title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,String)(sbt.IvyScala)Unit">checkModule</a>(<a href="#43748" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">baseModule</a>, <a href="#43749" title="String">baseConfiguration</a>))
			<a href="#43748" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">baseModule</a>.<a title="()java.util.Map[_, _]" id="43095">getExtraAttributesNamespaces</a>.<a title="java.util.Map[String,String]" id="3446">asInstanceOf</a>[java.util.<span title="java.util.Map[String,String]">Map</span>[String,String]].<a title="(String,String)String" id="40223">put</a>(<span title="java.lang.String(&quot;e&quot;)" class="string">&quot;e&quot;</span>, <span title="java.lang.String(&quot;http://ant.apache.org/ivy/extra&quot;)" class="string">&quot;http://ant.apache.org/ivy/extra&quot;</span>)
			<span title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,String)(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String)">(</span><a href="#43748" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">baseModule</a>, <a href="#43749" title="String">baseConfiguration</a>)
		}
		<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.InlineConfiguration)(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String)" id="43730">configureInline</a>(<a title="sbt.InlineConfiguration" id="43775">ic</a>: <a href="IvyConfigurations.scala.html#10560" title="sbt.InlineConfiguration">InlineConfiguration</a>) =
		{
			<span class="keyword">import</span> ic._
			<span class="keyword">val</span> <a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="43778">moduleID</a> = <a href="#43731" title="(sbt.ModuleID,Iterable[sbt.Configuration])org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">newConfiguredModuleID</a>(<a href="IvyConfigurations.scala.html#43758" title="=&gt; sbt.ModuleID">module</a>, <a href="IvyConfigurations.scala.html#43764" title="=&gt; Iterable[sbt.Configuration]">configurations</a>)
			<span class="keyword">val</span> <a title="sbt.Configuration" id="43779">defaultConf</a> = <a href="IvyConfigurations.scala.html#43766" title="=&gt; Option[sbt.Configuration]">defaultConfiguration</a> <span title="(=&gt; sbt.Configuration)sbt.Configuration">getOrElse</span> <a href="IvyInterface.scala.html#10978" title="object sbt.Configurations">Configurations</a>.<a href="IvyInterface.scala.html#44674" title="(String)sbt.Configuration">config</a>(ModuleDescriptor.<span title="java.lang.String(&quot;default&quot;)">DEFAULT_CONFIGURATION</span>)
			<a href="IvyConfigurations.scala.html#43384" title="=&gt; sbt.IvyLogger">log</a>.<a href="IvyLogger.scala.html#20870" title="(=&gt; String)Unit">debug</a>(<span title="java.lang.String(&quot;Using inline dependencies specified in Scala&quot;)" class="string">&quot;Using inline dependencies specified in Scala&quot;</span> <span title="(Any)java.lang.String">+</span> (<span title="Any" class="keyword">if</span>(<a href="IvyConfigurations.scala.html#43762" title="=&gt; scala.xml.NodeSeq">ivyXML</a>.<span title="=&gt; Boolean">isEmpty</span>) <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot; and XML.&quot;)" class="string">&quot; and XML.&quot;</span>))

			<span class="keyword">val</span> <a title="sbt.CustomXmlParser.CustomParser" id="43780">parser</a> = <a href="#9391" title="object sbt.IvySbt">IvySbt</a>.<a href="#43460" title="(org.apache.ivy.core.settings.IvySettings,scala.xml.NodeSeq,org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,String,Boolean)sbt.CustomXmlParser.CustomParser">parseIvyXML</a>(<a href="#43371" title="=&gt; &lt;refinement&gt; extends org.apache.ivy.Ivy">ivy</a>.<a title="()org.apache.ivy.core.settings.IvySettings" id="43649">getSettings</a>, <a href="#9391" title="object sbt.IvySbt">IvySbt</a>.<a href="#43458" title="(sbt.ModuleID,scala.xml.NodeSeq)scala.xml.Elem">wrapped</a>(<a href="IvyConfigurations.scala.html#43758" title="=&gt; sbt.ModuleID">module</a>, <a href="IvyConfigurations.scala.html#43762" title="=&gt; scala.xml.NodeSeq">ivyXML</a>), <a href="#43778" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>, <a href="#43779" title="sbt.Configuration">defaultConf</a>.<a href="IvyInterface.scala.html#44600" title="=&gt; String">name</a>, <a href="IvyConfigurations.scala.html#43770" title="=&gt; Boolean">validate</a>)

			<a href="#9391" title="object sbt.IvySbt">IvySbt</a>.<a href="#43462" title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,Iterable[sbt.ModuleID],sbt.CustomXmlParser.CustomParser)Unit">addDependencies</a>(<a href="#43778" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>, <a href="IvyConfigurations.scala.html#43760" title="=&gt; Iterable[sbt.ModuleID]">dependencies</a>, <a href="#43780" title="sbt.CustomXmlParser.CustomParser">parser</a>)
			<a href="#9391" title="object sbt.IvySbt">IvySbt</a>.<a href="#43451" title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor)Unit">addMainArtifact</a>(<a href="#43778" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>)
			<span title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,String)(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String)">(</span><a href="#43778" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>, <a href="#43780" title="sbt.CustomXmlParser.CustomParser">parser</a>.<a href="CustomXmlParser.scala.html#42344" title="()String">getDefaultConf</a>)
		}
		<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.ModuleID,Iterable[sbt.Configuration])org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="43731">newConfiguredModuleID</a>(<a title="sbt.ModuleID" id="43781">module</a>: <a href="IvyInterface.scala.html#13008" title="sbt.ModuleID">ModuleID</a>, <a title="Iterable[sbt.Configuration]" id="43782">configurations</a>: <span title="Iterable[sbt.Configuration]">Iterable</span>[Configuration]) =
		{
			<span class="keyword">val</span> <a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="43784">mod</a> = <span title="(org.apache.ivy.core.module.id.ModuleRevisionId,java.lang.String,java.util.Date,Boolean)org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" class="keyword">new</span> <span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">DefaultModuleDescriptor</span>(<a href="#9391" title="object sbt.IvySbt">IvySbt</a>.<a href="#43452" title="(sbt.ModuleID)org.apache.ivy.core.module.id.ModuleRevisionId">toID</a>(<a href="#43781" title="sbt.ModuleID">module</a>), <span title="java.lang.String(&quot;release&quot;)" class="string">&quot;release&quot;</span>, <span title="Null(null)" class="keyword">null</span>, <span title="Boolean(false)" class="keyword">false</span>)
			<a href="#43784" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">mod</a>.<span title="(Long)Unit">setLastModified</span>(<span title="object java.lang.System">System</span>.<span title="()Long">currentTimeMillis</span>)
			<a href="#43782" title="Iterable[sbt.Configuration]">configurations</a>.<span title="((sbt.Configuration) =&gt; Unit)Unit">foreach</span>(<a title="sbt.Configuration" id="44594">config</a> =&gt; <a href="#43784" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">mod</a>.<span title="(org.apache.ivy.core.module.descriptor.Configuration)Unit">addConfiguration</span>(<a href="#9391" title="object sbt.IvySbt">IvySbt</a>.<a href="#43450" title="(sbt.Configuration)org.apache.ivy.core.module.descriptor.Configuration">toIvyConfiguration</a>(<a href="#44594" title="sbt.Configuration">config</a>)))
			<a href="#9391" title="object sbt.IvySbt">IvySbt</a>.<a href="#43463" title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,Iterable[sbt.Artifact])Unit">addArtifacts</a>(<a href="#43784" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">mod</a>, <a href="#43781" title="sbt.ModuleID">module</a>.<a href="IvyInterface.scala.html#40054" title="=&gt; Seq[sbt.Artifact]">explicitArtifacts</a>)
			<a href="#43784" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">mod</a>
		}

		<span class="comment">/** Parses the given Maven pom 'pomFile'.*/</span>
		<span class="keyword">private</span> <span class="keyword">def</span> <a title="(java.io.File,Boolean)(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, java.lang.String)" id="43732">readPom</a>(<a title="java.io.File" id="45103">pomFile</a>: <span title="java.io.File">File</span>, <a title="Boolean" id="45104">validate</a>: <span title="Boolean">Boolean</span>) =
		{
			<span class="keyword">val</span> <a title="org.apache.ivy.core.module.descriptor.ModuleDescriptor" id="45106">md</a> = <a title="object org.apache.ivy.plugins.parser.m2.PomModuleDescriptorParser" id="43349">PomModuleDescriptorParser</a>.<a title="()org.apache.ivy.plugins.parser.m2.PomModuleDescriptorParser" id="45107">getInstance</a>.<a title="(org.apache.ivy.plugins.parser.ParserSettings,java.net.URL,Boolean)org.apache.ivy.core.module.descriptor.ModuleDescriptor" id="45113">parseDescriptor</a>(<a href="#43369" title="=&gt; org.apache.ivy.core.settings.IvySettings">settings</a>, <a href="#43734" title="(java.io.File)java.net.URL">toURL</a>(<a href="#45103" title="java.io.File">pomFile</a>), <a href="#45104" title="Boolean">validate</a>)
			<span title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,java.lang.String)(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, java.lang.String)">(</span><a href="#9391" title="object sbt.IvySbt">IvySbt</a>.<a href="#43464" title="(org.apache.ivy.core.module.descriptor.ModuleDescriptor)org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">toDefaultModuleDescriptor</a>(<a href="#45106" title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">md</a>), <span title="java.lang.String(&quot;compile&quot;)" class="string">&quot;compile&quot;</span>)
		}
		<span class="comment">/** Parses the given Ivy file 'ivyFile'.*/</span>
		<span class="keyword">private</span> <span class="keyword">def</span> <a title="(java.io.File,Boolean)(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String)" id="43733">readIvyFile</a>(<a title="java.io.File" id="45137">ivyFile</a>: <span title="java.io.File">File</span>, <a title="Boolean" id="45138">validate</a>: <span title="Boolean">Boolean</span>) =
		{
			<span class="keyword">val</span> <a title="java.net.URL" id="45140">url</a> = <a href="#43734" title="(java.io.File)java.net.URL">toURL</a>(<a href="#45137" title="java.io.File">ivyFile</a>)
			<span class="keyword">val</span> <a title="sbt.CustomXmlParser.CustomParser" id="45141">parser</a> = <span title="sbt.CustomXmlParser.CustomParser" class="keyword">new</span> <a href="CustomXmlParser.scala.html#13432" title="object sbt.CustomXmlParser">CustomXmlParser</a>.<a href="CustomXmlParser.scala.html#42147" title="sbt.CustomXmlParser.CustomParser">CustomParser</a>(<a href="#43369" title="=&gt; org.apache.ivy.core.settings.IvySettings">settings</a>, <span title="object None">None</span>)
			<a href="#45141" title="sbt.CustomXmlParser.CustomParser">parser</a>.<span title="(Boolean)Unit">setValidate</span>(<a href="#45138" title="Boolean">validate</a>)
			<a href="#45141" title="sbt.CustomXmlParser.CustomParser">parser</a>.<a href="CustomXmlParser.scala.html#42339" title="(java.net.URL)Unit">setSource</a>(<a href="#45140" title="java.net.URL">url</a>)
			<a href="#45141" title="sbt.CustomXmlParser.CustomParser">parser</a>.<span title="()Unit">parse</span>()
			<span class="keyword">val</span> <a title="org.apache.ivy.core.module.descriptor.ModuleDescriptor" id="45142">md</a> = <a href="#45141" title="sbt.CustomXmlParser.CustomParser">parser</a>.<a title="()org.apache.ivy.core.module.descriptor.ModuleDescriptor" id="42409">getModuleDescriptor</a>()
			<span title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,String)(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String)">(</span><a href="#9391" title="object sbt.IvySbt">IvySbt</a>.<a href="#43464" title="(org.apache.ivy.core.module.descriptor.ModuleDescriptor)org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">toDefaultModuleDescriptor</a>(<a href="#45142" title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">md</a>), <a href="#45141" title="sbt.CustomXmlParser.CustomParser">parser</a>.<a href="CustomXmlParser.scala.html#42344" title="()String">getDefaultConf</a>)
		}
		<span class="keyword">private</span> <span class="keyword">def</span> <a title="(java.io.File)java.net.URL" id="43734">toURL</a>(<a title="java.io.File" id="45118">file</a>: <span title="java.io.File">File</span>) = <a href="#45118" title="java.io.File">file</a>.<a title="()java.net.URI" id="16769">toURI</a>.<a title="()java.net.URL" id="19306">toURL</a>
		<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.ModuleID)(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, java.lang.String)" id="43735">configureEmpty</a>(<a title="sbt.ModuleID" id="45084">module</a>: <a href="IvyInterface.scala.html#13008" title="sbt.ModuleID">ModuleID</a>) =
		{
			<span class="keyword">val</span> <a title="java.lang.String" id="45086">defaultConf</a> = ModuleDescriptor.<span title="java.lang.String(&quot;default&quot;)">DEFAULT_CONFIGURATION</span>
			<span class="keyword">val</span> <a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="45087">moduleID</a> = <span title="(org.apache.ivy.core.module.id.ModuleRevisionId,java.lang.String,java.util.Date,Boolean)org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" class="keyword">new</span> <span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">DefaultModuleDescriptor</span>(<a href="#9391" title="object sbt.IvySbt">IvySbt</a>.<a href="#43452" title="(sbt.ModuleID)org.apache.ivy.core.module.id.ModuleRevisionId">toID</a>(<a href="#45084" title="sbt.ModuleID">module</a>), <span title="java.lang.String(&quot;release&quot;)" class="string">&quot;release&quot;</span>, <span title="Null(null)" class="keyword">null</span>, <span title="Boolean(false)" class="keyword">false</span>)
			<a href="#45087" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>.<span title="(Long)Unit">setLastModified</span>(<span title="object java.lang.System">System</span>.<span title="()Long">currentTimeMillis</span>)
			<a href="#45087" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>.<span title="(org.apache.ivy.core.module.descriptor.Configuration)Unit">addConfiguration</span>(<a href="#9391" title="object sbt.IvySbt">IvySbt</a>.<a href="#43450" title="(sbt.Configuration)org.apache.ivy.core.module.descriptor.Configuration">toIvyConfiguration</a>(<a href="IvyInterface.scala.html#10978" title="object sbt.Configurations">Configurations</a>.<a href="IvyInterface.scala.html#44676" title="=&gt; sbt.Configuration">Default</a>))
			<a href="#9391" title="object sbt.IvySbt">IvySbt</a>.<a href="#43463" title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,Iterable[sbt.Artifact])Unit">addArtifacts</a>(<a href="#45087" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>, <a href="#45084" title="sbt.ModuleID">module</a>.<a href="IvyInterface.scala.html#40054" title="=&gt; Seq[sbt.Artifact]">explicitArtifacts</a>)
			<a href="#9391" title="object sbt.IvySbt">IvySbt</a>.<a href="#43451" title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor)Unit">addMainArtifact</a>(<a href="#45087" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>)
			<span title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,java.lang.String)(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, java.lang.String)">(</span><a href="#45087" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>, <a href="#45086" title="java.lang.String">defaultConf</a>)
		}
	}
}

<span class="keyword">private</span> <span class="keyword">object</span> <a title="object sbt.IvySbt" id="9391">IvySbt</a>
{
	<span class="keyword">val</span> <a title="java.lang.String" id="43437">DefaultIvyConfigFilename</a> = <span title="java.lang.String(&quot;ivysettings.xml&quot;)" class="string">&quot;ivysettings.xml&quot;</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="43439">DefaultIvyFilename</a> = <span title="java.lang.String(&quot;ivy.xml&quot;)" class="string">&quot;ivy.xml&quot;</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="43441">DefaultMavenFilename</a> = <span title="java.lang.String(&quot;pom.xml&quot;)" class="string">&quot;pom.xml&quot;</span>

	<span class="keyword">def</span> <a title="(java.io.File)java.io.File" id="43443">defaultIvyFile</a>(<a title="java.io.File" id="45190">project</a>: <span title="java.io.File">File</span>) = <span title="(java.io.File,java.lang.String)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span>(<a href="#45190" title="java.io.File">project</a>, <a href="#43439" title="=&gt; java.lang.String">DefaultIvyFilename</a>)
	<span class="keyword">def</span> <a title="(java.io.File)java.io.File" id="43444">defaultIvyConfiguration</a>(<a title="java.io.File" id="45206">project</a>: <span title="java.io.File">File</span>) = <span title="(java.io.File,java.lang.String)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span>(<a href="#45206" title="java.io.File">project</a>, <a href="#43437" title="=&gt; java.lang.String">DefaultIvyConfigFilename</a>)
	<span class="keyword">def</span> <a title="(java.io.File)java.io.File" id="43445">defaultPOM</a>(<a title="java.io.File" id="45222">project</a>: <span title="java.io.File">File</span>) = <span title="(java.io.File,java.lang.String)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span>(<a href="#45222" title="java.io.File">project</a>, <a href="#43441" title="=&gt; java.lang.String">DefaultMavenFilename</a>)

	<span class="comment">/** Sets the resolvers for 'settings' to 'resolvers'.  This is done by creating a new chain and making it the default.
	* 'other' is for resolvers that should be in a different chain.  These are typically used for publishing or other actions. */</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(org.apache.ivy.core.settings.IvySettings,Seq[sbt.Resolver],Seq[sbt.Resolver],Boolean,sbt.IvyLogger)Unit" id="43446">setResolvers</a>(<a title="org.apache.ivy.core.settings.IvySettings" id="43572">settings</a>: <span title="org.apache.ivy.core.settings.IvySettings">IvySettings</span>, <a title="Seq[sbt.Resolver]" id="43573">resolvers</a>: <span title="Seq[sbt.Resolver]">Seq</span>[Resolver], <a title="Seq[sbt.Resolver]" id="43574">other</a>: <span title="Seq[sbt.Resolver]">Seq</span>[Resolver], <a title="Boolean" id="43575">localOnly</a>: <span title="Boolean">Boolean</span>, <a title="sbt.IvyLogger" id="43576">log</a>: <a href="IvyLogger.scala.html#11568" title="sbt.IvyLogger">IvyLogger</a>)
	{
		<span class="keyword">def</span> <a title="(String,String,Seq[sbt.Resolver])org.apache.ivy.plugins.resolver.ChainResolver" id="45238">makeChain</a>(<a title="String" id="45241">label</a>: <span title="String">String</span>, <a title="String" id="45242">name</a>: <span title="String">String</span>, <a title="Seq[sbt.Resolver]" id="45243">rs</a>: <span title="Seq[sbt.Resolver]">Seq</span>[Resolver]) = {
			<a href="#43576" title="sbt.IvyLogger">log</a>.<a href="IvyLogger.scala.html#20870" title="(=&gt; String)Unit">debug</a>(<a href="#45241" title="String">label</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; repositories:&quot;)" class="string">&quot; repositories:&quot;</span>)
			<span class="keyword">val</span> <a title="org.apache.ivy.plugins.resolver.ChainResolver" id="45244">chain</a> = <a href="#43447" title="(String,Seq[sbt.Resolver],Boolean,sbt.IvyLogger)org.apache.ivy.plugins.resolver.ChainResolver">resolverChain</a>(<a href="#45242" title="String">name</a>, <a href="#45243" title="Seq[sbt.Resolver]">rs</a>, <a href="#43575" title="Boolean">localOnly</a>, <a href="#43576" title="sbt.IvyLogger">log</a>)
			<a href="#43572" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<span title="(org.apache.ivy.plugins.resolver.DependencyResolver)Unit">addResolver</span>(<a href="#45244" title="org.apache.ivy.plugins.resolver.ChainResolver">chain</a>)
			<a href="#45244" title="org.apache.ivy.plugins.resolver.ChainResolver">chain</a>
		}
		<span class="keyword">val</span> <a title="org.apache.ivy.plugins.resolver.ChainResolver" id="45239">otherChain</a> = <a href="#45238" title="(String,String,Seq[sbt.Resolver])org.apache.ivy.plugins.resolver.ChainResolver">makeChain</a>(<span title="java.lang.String(&quot;Other&quot;)" class="string">&quot;Other&quot;</span>, <span title="java.lang.String(&quot;sbt-other&quot;)" class="string">&quot;sbt-other&quot;</span>, <a href="#43574" title="Seq[sbt.Resolver]">other</a>)
		<span class="keyword">val</span> <a title="org.apache.ivy.plugins.resolver.ChainResolver" id="45240">mainChain</a> = <a href="#45238" title="(String,String,Seq[sbt.Resolver])org.apache.ivy.plugins.resolver.ChainResolver">makeChain</a>(<span title="java.lang.String(&quot;Default&quot;)" class="string">&quot;Default&quot;</span>, <span title="java.lang.String(&quot;sbt-chain&quot;)" class="string">&quot;sbt-chain&quot;</span>, <a href="#43573" title="Seq[sbt.Resolver]">resolvers</a>)
		<a href="#43572" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<a title="(java.lang.String)Unit" id="42608">setDefaultResolver</a>(<a href="#45240" title="org.apache.ivy.plugins.resolver.ChainResolver">mainChain</a>.<a title="()java.lang.String" id="41546">getName</a>)
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(String,Seq[sbt.Resolver],Boolean,sbt.IvyLogger)org.apache.ivy.plugins.resolver.ChainResolver" id="43447">resolverChain</a>(<a title="String" id="45245">name</a>: <span title="String">String</span>, <a title="Seq[sbt.Resolver]" id="45246">resolvers</a>: <span title="Seq[sbt.Resolver]">Seq</span>[Resolver], <a title="Boolean" id="45247">localOnly</a>: <span title="Boolean">Boolean</span>, <a title="sbt.IvyLogger" id="45248">log</a>: <a href="IvyLogger.scala.html#11568" title="sbt.IvyLogger">IvyLogger</a>): <span title="org.apache.ivy.plugins.resolver.ChainResolver">ChainResolver</span> =
	{
		<span class="keyword">val</span> <a title="org.apache.ivy.plugins.resolver.ChainResolver" id="45278">newDefault</a> = <span title="org.apache.ivy.plugins.resolver.ChainResolver" class="keyword">new</span> <span title="org.apache.ivy.plugins.resolver.ChainResolver">ChainResolver</span>
		<a href="#45278" title="org.apache.ivy.plugins.resolver.ChainResolver">newDefault</a>.<a title="(java.lang.String)Unit" id="41547">setName</a>(<a href="#45245" title="String">name</a>)
		<a href="#45278" title="org.apache.ivy.plugins.resolver.ChainResolver">newDefault</a>.<a title="(Boolean)Unit" id="45271">setReturnFirst</a>(<span title="Boolean(true)" class="keyword">true</span>)
		<a href="#45278" title="org.apache.ivy.plugins.resolver.ChainResolver">newDefault</a>.<a title="(Boolean)Unit" id="41659">setCheckmodified</a>(<span title="=&gt; Boolean">!</span><a href="#45247" title="Boolean">localOnly</a>)
		<span class="keyword">for</span>(<a title="((sbt.Resolver) =&gt; Unit)Unit" id="45280">sbtResolver</a> &lt;- <a href="#45246" title="Seq[sbt.Resolver]">resolvers</a>) {
			<a href="#45248" title="sbt.IvyLogger">log</a>.<a href="IvyLogger.scala.html#20870" title="(=&gt; String)Unit">debug</a>(<span title="java.lang.String(&quot;\011&quot;)" class="string">&quot;\t&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#45280" title="sbt.Resolver">sbtResolver</a>)
			<a href="#45278" title="org.apache.ivy.plugins.resolver.ChainResolver">newDefault</a>.<a title="(org.apache.ivy.plugins.resolver.DependencyResolver)Unit" id="45253">add</a>(<a href="ConvertResolver.scala.html#40989" title="(sbt.Resolver)org.apache.ivy.plugins.resolver.RepositoryResolver">ConvertResolver</a>(<a href="#45280" title="sbt.Resolver">sbtResolver</a>))
		}
		<a href="#45278" title="org.apache.ivy.plugins.resolver.ChainResolver">newDefault</a>
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(org.apache.ivy.core.settings.IvySettings,Seq[sbt.ModuleConfiguration])Unit" id="43448">setModuleConfigurations</a>(<a title="org.apache.ivy.core.settings.IvySettings" id="43577">settings</a>: <span title="org.apache.ivy.core.settings.IvySettings">IvySettings</span>, <a title="Seq[sbt.ModuleConfiguration]" id="43578">moduleConfigurations</a>: <span title="Seq[sbt.ModuleConfiguration]">Seq</span>[ModuleConfiguration])
	{
		<span class="keyword">val</span> <a title="java.util.Collection[_]" id="45281">existing</a> = <a href="#43577" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<a title="()java.util.Collection[_]" id="42868">getResolverNames</a>
		<span class="keyword">for</span>(<a title="((sbt.ModuleConfiguration) =&gt; Unit)Unit" id="45285">moduleConf</a> &lt;- <a href="#43578" title="Seq[sbt.ModuleConfiguration]">moduleConfigurations</a>)
		{
			<span class="keyword">import</span> moduleConf._
			<span class="keyword">import</span> IvyPatternHelper._
			<span class="keyword">import</span> PatternMatcher._
			<span title="Unit" class="keyword">if</span>(<span title="=&gt; Boolean">!</span><a href="#45281" title="java.util.Collection[_]">existing</a>.<a title="(Any)Boolean" id="40511">contains</a>(<a href="IvyInterface.scala.html#45296" title="=&gt; sbt.Resolver">resolver</a>.<a href="IvyInterface.scala.html#40998" title="=&gt; String">name</a>))
				<a href="#43577" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<span title="(org.apache.ivy.plugins.resolver.DependencyResolver)Unit">addResolver</span>(<a href="ConvertResolver.scala.html#40989" title="(sbt.Resolver)org.apache.ivy.plugins.resolver.RepositoryResolver">ConvertResolver</a>(<a href="IvyInterface.scala.html#45296" title="=&gt; sbt.Resolver">resolver</a>))
			<span class="keyword">val</span> <a title="java.util.Map[String,String]" id="45302">attributes</a> = <a href="#43455" title="(Map[String,String])java.util.Map[String,String]">javaMap</a>(<a title="((java.lang.String, String)*)scala.collection.immutable.Map[java.lang.String,String]" id="6472">Map</a>(<span title="(java.lang.String)ArrowAssoc[java.lang.String]">MODULE_KEY</span> <span title="(String)(java.lang.String, String)">-&gt;</span> <a href="IvyInterface.scala.html#45292" title="=&gt; String">name</a>, <span title="(java.lang.String)ArrowAssoc[java.lang.String]">ORGANISATION_KEY</span> <span title="(String)(java.lang.String, String)">-&gt;</span> <a href="IvyInterface.scala.html#45290" title="=&gt; String">organization</a>, <span title="(java.lang.String)ArrowAssoc[java.lang.String]">REVISION_KEY</span> <span title="(String)(java.lang.String, String)">-&gt;</span> <a href="IvyInterface.scala.html#45294" title="=&gt; String">revision</a>))
			<a href="#43577" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<a title="(java.util.Map[_, _],org.apache.ivy.plugins.matcher.PatternMatcher,java.lang.String,java.lang.String,java.lang.String,java.lang.String)Unit" id="42611">addModuleConfiguration</a>(<a href="#45302" title="java.util.Map[String,String]">attributes</a>, <a href="#43577" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<a title="(java.lang.String)org.apache.ivy.plugins.matcher.PatternMatcher" id="42708">getMatcher</a>(<span title="java.lang.String(&quot;exactOrRegexp&quot;)">EXACT_OR_REGEXP</span>), <a href="IvyInterface.scala.html#45296" title="=&gt; sbt.Resolver">resolver</a>.<a href="IvyInterface.scala.html#40998" title="=&gt; String">name</a>, <span title="Null(null)" class="keyword">null</span>, <span title="Null(null)" class="keyword">null</span>, <span title="Null(null)" class="keyword">null</span>)
		}
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(org.apache.ivy.core.settings.IvySettings,Option[java.io.File],Boolean)Unit" id="43449">configureCache</a>(<a title="org.apache.ivy.core.settings.IvySettings" id="43561">settings</a>: <span title="org.apache.ivy.core.settings.IvySettings">IvySettings</span>, <a title="Option[java.io.File]" id="43562">dir</a>: <span title="Option[java.io.File]">Option</span>[File], <a title="Boolean" id="43563">localOnly</a>: <span title="Boolean">Boolean</span>)
	{
		<span class="keyword">val</span> <a title="java.io.File" id="45401">cacheDir</a> = <a href="#43562" title="Option[java.io.File]">dir</a>.<span title="(=&gt; java.io.File)java.io.File">getOrElse</span>(<a href="#43561" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<a title="()java.io.File" id="42620">getDefaultRepositoryCacheBasedir</a>())
		<span class="keyword">val</span> <a title="org.apache.ivy.core.cache.DefaultRepositoryCacheManager" id="45402">manager</a> = <a title="(java.lang.String,org.apache.ivy.core.settings.IvySettings,java.io.File)org.apache.ivy.core.cache.DefaultRepositoryCacheManager" id="45412" class="keyword">new</a> <a title="org.apache.ivy.core.cache.DefaultRepositoryCacheManager" id="39255">DefaultRepositoryCacheManager</a>(<span title="java.lang.String(&quot;default-cache&quot;)" class="string">&quot;default-cache&quot;</span>, <a href="#43561" title="org.apache.ivy.core.settings.IvySettings">settings</a>, <a href="#45401" title="java.io.File">cacheDir</a>)
		<a href="#45402" title="org.apache.ivy.core.cache.DefaultRepositoryCacheManager">manager</a>.<a title="(Boolean)Unit" id="45444">setUseOrigin</a>(<span title="Boolean(true)" class="keyword">true</span>)
		<span title="Unit" class="keyword">if</span>(<a href="#43563" title="Boolean">localOnly</a>)
			<a href="#45402" title="org.apache.ivy.core.cache.DefaultRepositoryCacheManager">manager</a>.<a title="(Long)Unit" id="45422">setDefaultTTL</a>(java.lang.Long.<span title="Long(9223372036854775807L)">MAX_VALUE</span>);
		<span class="keyword">else</span>
		{
			<a href="#45402" title="org.apache.ivy.core.cache.DefaultRepositoryCacheManager">manager</a>.<a title="(java.lang.String)Unit" id="45430">setChangingMatcher</a>(PatternMatcher.<span title="java.lang.String(&quot;regexp&quot;)">REGEXP</span>);
			<a href="#45402" title="org.apache.ivy.core.cache.DefaultRepositoryCacheManager">manager</a>.<a title="(java.lang.String)Unit" id="45432">setChangingPattern</a>(<span title="java.lang.String(&quot;.*-SNAPSHOT&quot;)" class="string">&quot;.*-SNAPSHOT&quot;</span>);
		}
		<a href="#43561" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<a title="(org.apache.ivy.core.cache.RepositoryCacheManager)Unit" id="42712">addRepositoryCacheManager</a>(<a href="#45402" title="org.apache.ivy.core.cache.DefaultRepositoryCacheManager">manager</a>)
		<a href="#43561" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<a title="(org.apache.ivy.core.cache.RepositoryCacheManager)Unit" id="42838">setDefaultRepositoryCacheManager</a>(<a href="#45402" title="org.apache.ivy.core.cache.DefaultRepositoryCacheManager">manager</a>)
		<a href="#43562" title="Option[java.io.File]">dir</a>.<span title="((java.io.File) =&gt; Unit)Unit">foreach</span>(<a title="java.io.File" id="45480">dir</a> =&gt; <a href="#43561" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<a title="(java.lang.String)Unit" id="42619">setDefaultResolutionCacheBasedir</a>(<a href="#45480" title="java.io.File">dir</a>.<a title="()java.lang.String" id="16764">getAbsolutePath</a>))
	}
	<span class="keyword">def</span> <a title="(sbt.Configuration)org.apache.ivy.core.module.descriptor.Configuration" id="43450">toIvyConfiguration</a>(<a title="sbt.Configuration" id="44637">configuration</a>: <a href="IvyInterface.scala.html#13320" title="sbt.Configuration">Configuration</a>) =
	{
		<span class="keyword">import</span> org.apache.ivy.core.module.descriptor.{Configuration =&gt; IvyConfig}
		<span class="keyword">import</span> IvyConfig.Visibility._
		<span class="keyword">import</span> configuration._
		<a title="(java.lang.String,org.apache.ivy.core.module.descriptor.Configuration.Visibility,java.lang.String,Array[java.lang.String],Boolean,java.lang.String)org.apache.ivy.core.module.descriptor.Configuration" id="44625" class="keyword">new</a> <a title="org.apache.ivy.core.module.descriptor.Configuration" id="39330">IvyConfig</a>(<a href="IvyInterface.scala.html#44600" title="=&gt; String">name</a>, <span title="org.apache.ivy.core.module.descriptor.Configuration.Visibility" class="keyword">if</span>(<a href="IvyInterface.scala.html#44604" title="=&gt; Boolean">isPublic</a>) <a title="org.apache.ivy.core.module.descriptor.Configuration.Visibility" id="44642">PUBLIC</a> <span class="keyword">else</span> <a title="org.apache.ivy.core.module.descriptor.Configuration.Visibility" id="44643">PRIVATE</a>, <a href="IvyInterface.scala.html#44602" title="=&gt; String">description</a>, <a href="IvyInterface.scala.html#44606" title="=&gt; List[sbt.Configuration]">extendsConfigs</a>.<a title="((sbt.Configuration) =&gt; String)List[String]" id="15531">map</a>(<a href="#44663" title="sbt.Configuration">_</a>.<a href="IvyInterface.scala.html#44600" title="=&gt; String">name</a>).<span title="Array[String]">toArray</span>, <a href="IvyInterface.scala.html#44608" title="=&gt; Boolean">transitive</a>, <span title="Null(null)" class="keyword">null</span>)
	}
	<span class="comment">/** Adds the ivy.xml main artifact. */</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor)Unit" id="43451">addMainArtifact</a>(<a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="45069">moduleID</a>: <span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">DefaultModuleDescriptor</span>)
	{
		<span class="keyword">val</span> <a title="org.apache.ivy.core.module.descriptor.Artifact" id="45481">artifact</a> = <a title="object org.apache.ivy.core.module.descriptor.DefaultArtifact" id="39370">DefaultArtifact</a>.<a title="(org.apache.ivy.core.module.id.ModuleRevisionId,java.util.Date)org.apache.ivy.core.module.descriptor.Artifact" id="45482">newIvyArtifact</a>(<a href="#45069" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>.<a title="()org.apache.ivy.core.module.id.ModuleRevisionId" id="43042">getResolvedModuleRevisionId</a>, <a href="#45069" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>.<a title="()java.util.Date" id="43030">getPublicationDate</a>)
		<a href="#45069" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>.<a title="(org.apache.ivy.core.module.descriptor.Artifact)Unit" id="43027">setModuleArtifact</a>(<a href="#45481" title="org.apache.ivy.core.module.descriptor.Artifact">artifact</a>)
		<a href="#45069" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>.<a title="()Unit" id="43072">check</a>()
	}
	<span class="comment">/** Converts the given sbt module id into an Ivy ModuleRevisionId.*/</span>
	<span class="keyword">def</span> <a title="(sbt.ModuleID)org.apache.ivy.core.module.id.ModuleRevisionId" id="43452">toID</a>(<a title="sbt.ModuleID" id="43881">m</a>: <a href="IvyInterface.scala.html#13008" title="sbt.ModuleID">ModuleID</a>) =
	{
		<span class="keyword">import</span> m._
		<a title="object org.apache.ivy.core.module.id.ModuleRevisionId" id="40980">ModuleRevisionId</a>.<a title="(java.lang.String,java.lang.String,java.lang.String,java.util.Map[_, _])org.apache.ivy.core.module.id.ModuleRevisionId" id="41769">newInstance</a>(<a href="IvyInterface.scala.html#40042" title="=&gt; String">organization</a>, <a href="IvyInterface.scala.html#40044" title="=&gt; String">name</a>, <a href="IvyInterface.scala.html#40046" title="=&gt; String">revision</a>, <a href="#43455" title="(Map[String,String])java.util.Map[String,String]">javaMap</a>(<a href="IvyInterface.scala.html#40056" title="=&gt; Map[String,String]">extraAttributes</a>))
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(org.apache.ivy.core.module.descriptor.ModuleDescriptor,sbt.Artifact,Iterable[String])org.apache.ivy.core.module.descriptor.MDArtifact" id="43453">toIvyArtifact</a>(<a title="org.apache.ivy.core.module.descriptor.ModuleDescriptor" id="45516">moduleID</a>: <span title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">ModuleDescriptor</span>, <a title="sbt.Artifact" id="45517">a</a>: <a href="IvyInterface.scala.html#9087" title="sbt.Artifact">Artifact</a>, <a title="Iterable[String]" id="45518">configurations</a>: <span title="Iterable[String]">Iterable</span>[String]): <span title="org.apache.ivy.core.module.descriptor.MDArtifact">MDArtifact</span> =
	{
		<span class="keyword">val</span> <a title="org.apache.ivy.core.module.descriptor.MDArtifact" id="45535">artifact</a> = <a title="(org.apache.ivy.core.module.descriptor.ModuleDescriptor,java.lang.String,java.lang.String,java.lang.String,java.net.URL,java.util.Map[_, _])org.apache.ivy.core.module.descriptor.MDArtifact" id="45524" class="keyword">new</a> <span title="org.apache.ivy.core.module.descriptor.MDArtifact">MDArtifact</span>(<a href="#45516" title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">moduleID</a>, <a href="#45517" title="sbt.Artifact">a</a>.<a href="IvyInterface.scala.html#43274" title="=&gt; String">name</a>, <a href="#45517" title="sbt.Artifact">a</a>.<a href="IvyInterface.scala.html#43276" title="=&gt; String">`type`</a>, <a href="#45517" title="sbt.Artifact">a</a>.<a href="IvyInterface.scala.html#43278" title="=&gt; String">extension</a>, <span title="Null(null)" class="keyword">null</span>, <a href="#43454" title="(sbt.Artifact)java.util.Map[String,String]">extra</a>(<a href="#45517" title="sbt.Artifact">a</a>))
		<a href="#45518" title="Iterable[String]">configurations</a>.<span title="((String) =&gt; Unit)Unit">foreach</span>(<a href="#45535" title="org.apache.ivy.core.module.descriptor.MDArtifact">artifact</a>.<a href="#45654" title="(java.lang.String)Unit" id="45532">addConfiguration</a>)
		<a href="#45535" title="org.apache.ivy.core.module.descriptor.MDArtifact">artifact</a>
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Artifact)java.util.Map[String,String]" id="43454">extra</a>(<a title="sbt.Artifact" id="45552">artifact</a>: <a href="IvyInterface.scala.html#9087" title="sbt.Artifact">Artifact</a>) =
	{
		<span class="keyword">val</span> <a title="sbt.Artifact" id="45554">ea</a> = <a href="#45552" title="sbt.Artifact">artifact</a>.<a href="IvyInterface.scala.html#43280" title="=&gt; Option[String]">classifier</a> <span title="sbt.Artifact" class="keyword">match</span> { <span title="sbt.Artifact" class="keyword">case</span> Some(<a title="String" id="45555">c</a>) =&gt; <a href="#45552" title="sbt.Artifact">artifact</a>.<a href="IvyInterface.scala.html#43289" title="((String, String)*)sbt.Artifact">extra</a>(<span title="(java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;e:classifier&quot;</span> <span title="(String)(java.lang.String, String)">-&gt;</span> <a href="#45555" title="String">c</a>); <span title="sbt.Artifact" class="keyword">case</span> <span title="object None">None</span> =&gt; <a href="#45552" title="sbt.Artifact">artifact</a> }
		<a href="#43455" title="(Map[String,String])java.util.Map[String,String]">javaMap</a>(<a href="#45554" title="sbt.Artifact">ea</a>.<a href="IvyInterface.scala.html#43286" title="=&gt; Map[String,String]">extraAttributes</a>)
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(Map[String,String])java.util.Map[String,String]" id="43455">javaMap</a>(<a title="Map[String,String]" id="43897">map</a>: <a title="Map[String,String]" id="16205">Map</a>[String,String]) =
		<span title="java.util.Map[String,String]" class="keyword">if</span>(<a href="#43897" title="Map[String,String]">map</a>.<a title="=&gt; Boolean" id="37834">isEmpty</a>) <span title="Null(null)" class="keyword">null</span>
		<span class="keyword">else</span>
		{
			<span class="keyword">val</span> <a title="&lt;refinement&gt; extends java.lang.Object with scala.collection.jcl.MapWrapper[String,String]" id="43899">wrap</a> = scala.collection.jcl.<a title="(java.util.Map[String,String])java.lang.Object with scala.collection.jcl.MapWrapper[String,String]" id="43937">Map</a>(<span title="()java.util.HashMap[String,String]" class="keyword">new</span> java.util.<span title="java.util.HashMap[String,String]">HashMap</span>[String,String])
			<a href="#43899" title="&lt;refinement&gt; extends java.lang.Object with scala.collection.jcl.MapWrapper[String,String]">wrap</a> <a title="(Iterable[(String, String)])Unit" id="44401">++=</a> <a href="#43897" title="Map[String,String]">map</a>
			<a href="#43899" title="&lt;refinement&gt; extends java.lang.Object with scala.collection.jcl.MapWrapper[String,String]">wrap</a>.<a title="=&gt; java.util.Map[String,String]" id="44395">underlying</a>
		}

	<span class="keyword">private</span> <span class="keyword">object</span> <a title="object sbt.IvySbt.javaMap" id="43456">javaMap</a>
	{
		<span class="keyword">import</span> java.util.{HashMap, Map}
		<span class="keyword">def</span> <a title="[K, V]((K, V)*)java.util.Map[K,V]" id="43889">apply</a>[<a title="&gt;: Nothing &lt;: Any" id="43892">K</a>,<a title="&gt;: Nothing &lt;: Any" id="43893">V</a>](<a title="(K, V)*" id="43894">pairs</a>: <a title="(K, V)*" id="2684">(</a>K,V)*): <span title="java.util.Map[K,V]">Map</span>[K,V] =
		{
			<span class="keyword">val</span> <a title="java.util.HashMap[K,V]" id="45656">map</a> = <span title="()java.util.HashMap[K,V]" class="keyword">new</span> <span title="java.util.HashMap[K,V]">HashMap</span>[K,V]
			<a href="#43894" title="(K, V)*">pairs</a>.<span title="(((K, V)) =&gt; Unit)Unit">foreach</span> <a href="#45663" title="Unit">{</a> <span title="Unit" class="keyword">case</span> (<a title="K" id="45664">key</a>, <a title="V" id="45665">value</a>) =&gt; <a href="#45656" title="java.util.HashMap[K,V]">map</a>.<a title="(K,V)V" id="44483">put</a>(<a href="#45664" title="K">key</a>, <a href="#45665" title="V">value</a>) }
			<a href="#45656" title="java.util.HashMap[K,V]">map</a>
		}
	}
	<span class="comment">/** Creates a full ivy file for 'module' using the 'dependencies' XML as the part after the &amp;lt;info&amp;gt;...&amp;lt;/info&amp;gt; section. */</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.ModuleID,scala.xml.NodeSeq)scala.xml.Elem" id="43458">wrapped</a>(<a title="sbt.ModuleID" id="44744">module</a>: <a href="IvyInterface.scala.html#13008" title="sbt.ModuleID">ModuleID</a>, <a title="scala.xml.NodeSeq" id="44745">dependencies</a>: <span title="scala.xml.NodeSeq">NodeSeq</span>) =
	{
		<span class="keyword">import</span> module._
		&lt;ivy-module version=<a title="scala.xml.Text" id="39718" class="string">&quot;2.0&quot;</a>&gt;
			{ <span title="Any" class="keyword">if</span>(<a href="#43459" title="(scala.xml.NodeSeq)Boolean">hasInfo</a>(<a href="#44745" title="scala.xml.NodeSeq">dependencies</a>))
				<span title="object scala.xml.NodeSeq">NodeSeq</span>.<span title="=&gt; &lt;refinement&gt; extends scala.xml.NodeSeq">Empty</span>
			<span class="keyword">else</span>
				&lt;info organisation={<a href="IvyInterface.scala.html#40042" title="=&gt; String">organization</a>} module={<a href="IvyInterface.scala.html#40044" title="=&gt; String">name</a>} revision={<a href="IvyInterface.scala.html#40046" title="=&gt; String">revision</a>}/&gt;
			}
			{<a href="#44745" title="scala.xml.NodeSeq">dependencies</a>}
			{
				<span class="comment">// this is because Ivy adds a default artifact if none are specified.</span>
				<span title="Any" class="keyword">if</span>(<a href="#44745" title="scala.xml.NodeSeq">dependencies</a> <a title="(String)scala.xml.NodeSeq" id="44726">\\</a> <span title="java.lang.String(&quot;publications&quot;)" class="string">&quot;publications&quot;</span> <span title="=&gt; Boolean">isEmpty</span>) &lt;publications/&gt; <span class="keyword">else</span> <span title="object scala.xml.NodeSeq">NodeSeq</span>.<span title="=&gt; &lt;refinement&gt; extends scala.xml.NodeSeq">Empty</span>
			}
		&lt;/ivy-module&gt;
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(scala.xml.NodeSeq)Boolean" id="43459">hasInfo</a>(<a title="scala.xml.NodeSeq" id="45056">x</a>: scala.xml.<span title="scala.xml.NodeSeq">NodeSeq</span>) = <span title="=&gt; Boolean">!</span>(&lt;g&gt;{<a href="#45056" title="scala.xml.NodeSeq">x</a>}&lt;/g&gt; <a title="(String)scala.xml.NodeSeq" id="44725">\</a> <span title="java.lang.String(&quot;info&quot;)" class="string">&quot;info&quot;</span>).<span title="=&gt; Boolean">isEmpty</span>
	<span class="comment">/** Parses the given in-memory Ivy file 'xml', using the existing 'moduleID' and specifying the given 'defaultConfiguration'. */</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(org.apache.ivy.core.settings.IvySettings,scala.xml.NodeSeq,org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,String,Boolean)sbt.CustomXmlParser.CustomParser" id="43460">parseIvyXML</a>(<a title="org.apache.ivy.core.settings.IvySettings" id="44739">settings</a>: <span title="org.apache.ivy.core.settings.IvySettings">IvySettings</span>, <a title="scala.xml.NodeSeq" id="44740">xml</a>: scala.xml.<span title="scala.xml.NodeSeq">NodeSeq</span>, <a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="44741">moduleID</a>: <span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">DefaultModuleDescriptor</span>, <a title="String" id="44742">defaultConfiguration</a>: <span title="String">String</span>, <a title="Boolean" id="44743">validate</a>: <span title="Boolean">Boolean</span>): CustomXmlParser.<a href="CustomXmlParser.scala.html#42147" title="sbt.CustomXmlParser.CustomParser">CustomParser</a> =
		<a href="#43461" title="(org.apache.ivy.core.settings.IvySettings,String,org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,String,Boolean)sbt.CustomXmlParser.CustomParser">parseIvyXML</a>(<a href="#44739" title="org.apache.ivy.core.settings.IvySettings">settings</a>,  <a href="#44740" title="scala.xml.NodeSeq">xml</a>.<a title="()String" id="44727">toString</a>, <a href="#44741" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>, <a href="#44742" title="String">defaultConfiguration</a>, <a href="#44743" title="Boolean">validate</a>)
	<span class="comment">/** Parses the given in-memory Ivy file 'xml', using the existing 'moduleID' and specifying the given 'defaultConfiguration'. */</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(org.apache.ivy.core.settings.IvySettings,String,org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,String,Boolean)sbt.CustomXmlParser.CustomParser" id="43461">parseIvyXML</a>(<a title="org.apache.ivy.core.settings.IvySettings" id="44734">settings</a>: <span title="org.apache.ivy.core.settings.IvySettings">IvySettings</span>, <a title="String" id="44735">xml</a>: <span title="String">String</span>, <a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="44736">moduleID</a>: <span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">DefaultModuleDescriptor</span>, <a title="String" id="44737">defaultConfiguration</a>: <span title="String">String</span>, <a title="Boolean" id="44738">validate</a>: <span title="Boolean">Boolean</span>): CustomXmlParser.<a href="CustomXmlParser.scala.html#42147" title="sbt.CustomXmlParser.CustomParser">CustomParser</a> =
	{
		<span class="keyword">val</span> <a title="sbt.CustomXmlParser.CustomParser" id="45667">parser</a> = <span title="sbt.CustomXmlParser.CustomParser" class="keyword">new</span> <a href="CustomXmlParser.scala.html#13432" title="object sbt.CustomXmlParser">CustomXmlParser</a>.<a href="CustomXmlParser.scala.html#42147" title="sbt.CustomXmlParser.CustomParser">CustomParser</a>(<a href="#44734" title="org.apache.ivy.core.settings.IvySettings">settings</a>, <a title="(String)Some[String]" id="290">Some</a>(<a href="#44737" title="String">defaultConfiguration</a>))
		<a href="#45667" title="sbt.CustomXmlParser.CustomParser">parser</a>.<a href="CustomXmlParser.scala.html#42342" title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor)Unit">setMd</a>(<a href="#44736" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>)
		<a href="#45667" title="sbt.CustomXmlParser.CustomParser">parser</a>.<span title="(Boolean)Unit">setValidate</span>(<a href="#44738" title="Boolean">validate</a>)
		<a href="#45667" title="sbt.CustomXmlParser.CustomParser">parser</a>.<a href="CustomXmlParser.scala.html#42340" title="(Array[Byte])Unit">setInput</a>(<a href="#44735" title="String">xml</a>.<a title="()Array[Byte]" id="6364">getBytes</a>)
		<a href="#45667" title="sbt.CustomXmlParser.CustomParser">parser</a>.<span title="()Unit">parse</span>()
		<a href="#45667" title="sbt.CustomXmlParser.CustomParser">parser</a>
	}

	<span class="comment">/** This method is used to add inline dependencies to the provided module. */</span>
	<span class="keyword">def</span> <a title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,Iterable[sbt.ModuleID],sbt.CustomXmlParser.CustomParser)Unit" id="43462">addDependencies</a>(<a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="45066">moduleID</a>: <span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">DefaultModuleDescriptor</span>, <a title="Iterable[sbt.ModuleID]" id="45067">dependencies</a>: <span title="Iterable[sbt.ModuleID]">Iterable</span>[ModuleID], <a title="sbt.CustomXmlParser.CustomParser" id="45068">parser</a>: CustomXmlParser.<a href="CustomXmlParser.scala.html#42147" title="sbt.CustomXmlParser.CustomParser">CustomParser</a>)
	{
		<span class="keyword">for</span>(<a title="((sbt.ModuleID) =&gt; Unit)Unit" id="45708">dependency</a> &lt;- <a href="#45067" title="Iterable[sbt.ModuleID]">dependencies</a>)
		{
			<span class="keyword">val</span> <a title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor" id="45709">dependencyDescriptor</a> = <span title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor" class="keyword">new</span> <a title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor" id="39354">DefaultDependencyDescriptor</a>(<a href="#45066" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>, <a href="#43452" title="(sbt.ModuleID)org.apache.ivy.core.module.id.ModuleRevisionId">toID</a>(<a href="#45708" title="sbt.ModuleID">dependency</a>), <span title="Boolean(false)" class="keyword">false</span>, <a href="#45708" title="sbt.ModuleID">dependency</a>.<a href="IvyInterface.scala.html#40050" title="=&gt; Boolean">isChanging</a>, <a href="#45708" title="sbt.ModuleID">dependency</a>.<a href="IvyInterface.scala.html#40052" title="=&gt; Boolean">isTransitive</a>)
			<a href="#45708" title="sbt.ModuleID">dependency</a>.<a href="IvyInterface.scala.html#40048" title="=&gt; Option[String]">configurations</a> <span title="Unit" class="keyword">match</span>
			{
				<span title="Unit" class="keyword">case</span> <span title="object None">None</span> =&gt; <span class="comment">// The configuration for this dependency was not explicitly specified, so use the default</span>
					<a href="#45068" title="sbt.CustomXmlParser.CustomParser">parser</a>.<a href="CustomXmlParser.scala.html#42343" title="(String,org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor)Unit">parseDepsConfs</a>(<a href="#45068" title="sbt.CustomXmlParser.CustomParser">parser</a>.<a href="CustomXmlParser.scala.html#42344" title="()String">getDefaultConf</a>, <a href="#45709" title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor">dependencyDescriptor</a>)
				<span title="Unit" class="keyword">case</span> Some(<a title="String" id="45712">confs</a>) =&gt; <span class="comment">// The configuration mapping (looks like: test-&gt;default) was specified for this dependency</span>
					<a href="#45068" title="sbt.CustomXmlParser.CustomParser">parser</a>.<a href="CustomXmlParser.scala.html#42343" title="(String,org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor)Unit">parseDepsConfs</a>(<a href="#45712" title="String">confs</a>, <a href="#45709" title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor">dependencyDescriptor</a>)
			}
			<span class="keyword">for</span>(<a title="((sbt.Artifact) =&gt; Unit)Unit" id="45715">artifact</a> &lt;- <a href="#45708" title="sbt.ModuleID">dependency</a>.<a href="IvyInterface.scala.html#40054" title="=&gt; Seq[sbt.Artifact]">explicitArtifacts</a>)
			{
				<span class="keyword">import</span> artifact.{name, classifier, `type`, extension, url}
				<span class="keyword">val</span> <a title="java.util.Map[String,String]" id="45717">extraMap</a> = <a href="#43454" title="(sbt.Artifact)java.util.Map[String,String]">extra</a>(<a href="#45715" title="sbt.Artifact">artifact</a>)
				<span class="keyword">val</span> <a title="org.apache.ivy.core.module.descriptor.DefaultDependencyArtifactDescriptor" id="45718">ivyArtifact</a> = <span title="org.apache.ivy.core.module.descriptor.DefaultDependencyArtifactDescriptor" class="keyword">new</span> <a title="org.apache.ivy.core.module.descriptor.DefaultDependencyArtifactDescriptor" id="39345">DefaultDependencyArtifactDescriptor</a>(<a href="#45709" title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor">dependencyDescriptor</a>, <a href="IvyInterface.scala.html#43274" title="=&gt; String">name</a>, <a href="IvyInterface.scala.html#43276" title="=&gt; String">`type`</a>, <a href="IvyInterface.scala.html#43278" title="=&gt; String">extension</a>, <a href="IvyInterface.scala.html#43284" title="=&gt; Option[java.net.URL]">url</a>.<span title="(=&gt; java.net.URL)java.net.URL">getOrElse</span>(<span title="Null(null)" class="keyword">null</span>), <a href="#45717" title="java.util.Map[String,String]">extraMap</a>)
				<span class="keyword">for</span>(<a title="((java.lang.String) =&gt; Unit)Unit" id="45743">conf</a> &lt;- <a href="#45709" title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor">dependencyDescriptor</a>.<a title="()Array[java.lang.String]" id="43115">getModuleConfigurations</a>)
					<a href="#45709" title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor">dependencyDescriptor</a>.<a title="(java.lang.String,org.apache.ivy.core.module.descriptor.DependencyArtifactDescriptor)Unit" id="43132">addDependencyArtifact</a>(<a href="#45743" title="java.lang.String">conf</a>, <a href="#45718" title="org.apache.ivy.core.module.descriptor.DefaultDependencyArtifactDescriptor">ivyArtifact</a>)
			}
			<a href="#45066" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>.<a title="(org.apache.ivy.core.module.descriptor.DependencyDescriptor)Unit" id="43038">addDependency</a>(<a href="#45709" title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor">dependencyDescriptor</a>)
		}
	}
	<span class="comment">/** This method is used to add inline artifacts to the provided module. */</span>
	<span class="keyword">def</span> <a title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,Iterable[sbt.Artifact])Unit" id="43463">addArtifacts</a>(<a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="44669">moduleID</a>: <span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">DefaultModuleDescriptor</span>, <a title="Iterable[sbt.Artifact]" id="44670">artifacts</a>: <span title="Iterable[sbt.Artifact]">Iterable</span>[Artifact])
	{
		<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Array[java.lang.String]" id="45745">allConfigurations</a> = <a href="#44669" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>.<a title="()Array[java.lang.String]" id="43047">getPublicConfigurationsNames</a>
		<span class="keyword">for</span>(<a title="((sbt.Artifact) =&gt; Unit)Unit" id="45747">artifact</a> &lt;- <a href="#44670" title="Iterable[sbt.Artifact]">artifacts</a>)
		{
			<span class="keyword">val</span> <a title="Iterable[String]" id="45748">configurationStrings</a> =
			{
				<span class="keyword">val</span> <a title="Iterable[sbt.Configuration]" id="45750">artifactConfigurations</a> = <a href="#45747" title="sbt.Artifact">artifact</a>.<a href="IvyInterface.scala.html#43282" title="=&gt; Iterable[sbt.Configuration]">configurations</a>
				<span title="Iterable[String]" class="keyword">if</span>(<a href="#45750" title="Iterable[sbt.Configuration]">artifactConfigurations</a>.<a title="=&gt; Boolean" id="15986">isEmpty</a>)
					<a href="#45744" title="=&gt; Array[java.lang.String]">allConfigurations</a>
				<span class="keyword">else</span>
					<a href="#45750" title="Iterable[sbt.Configuration]">artifactConfigurations</a>.<span title="((sbt.Configuration) =&gt; String)Iterable[String]">map</span>(<a href="#45753" title="sbt.Configuration">_</a>.<a href="IvyInterface.scala.html#44600" title="=&gt; String">name</a>)
			}
			<span class="keyword">val</span> <a title="org.apache.ivy.core.module.descriptor.MDArtifact" id="45749">ivyArtifact</a> = <a href="#43453" title="(org.apache.ivy.core.module.descriptor.ModuleDescriptor,sbt.Artifact,Iterable[String])org.apache.ivy.core.module.descriptor.MDArtifact">toIvyArtifact</a>(<a href="#44669" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>, <a href="#45747" title="sbt.Artifact">artifact</a>, <a href="#45748" title="Iterable[String]">configurationStrings</a>)
			<a href="#45748" title="Iterable[String]">configurationStrings</a>.<span title="((String) =&gt; Unit)Unit">foreach</span>(<a title="String" id="45755">configuration</a> =&gt; <a href="#44669" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>.<a title="(java.lang.String,org.apache.ivy.core.module.descriptor.Artifact)Unit" id="43040">addArtifact</a>(<a href="#45755" title="String">configuration</a>, <a href="#45749" title="org.apache.ivy.core.module.descriptor.MDArtifact">ivyArtifact</a>))
		}
	}
	<span class="comment">/** This code converts the given ModuleDescriptor to a DefaultModuleDescriptor by casting or generating an error.
	* Ivy 2.0.0 always produces a DefaultModuleDescriptor. */</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(org.apache.ivy.core.module.descriptor.ModuleDescriptor)org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="43464">toDefaultModuleDescriptor</a>(<a title="org.apache.ivy.core.module.descriptor.ModuleDescriptor" id="45122">md</a>: <span title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">ModuleDescriptor</span>) =
		<a href="#45122" title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">md</a> <span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" class="keyword">match</span>
		{
			<span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" class="keyword">case</span> <a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="45124">dmd</a>: <span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">DefaultModuleDescriptor</span> =&gt; <a href="#45124" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">dmd</a>
			<span title="Nothing" class="keyword">case</span> _ =&gt; <a title="(String)Nothing" id="6476">error</a>(<span title="java.lang.String(&quot;Unknown ModuleDescriptor type.&quot;)" class="string">&quot;Unknown ModuleDescriptor type.&quot;</span>)
		}
	<span class="keyword">def</span> <a title="(org.apache.ivy.core.module.descriptor.ModuleDescriptor,Option[Iterable[sbt.Configuration]])Array[String]" id="43465">getConfigurations</a>(<a title="org.apache.ivy.core.module.descriptor.ModuleDescriptor" id="45756">module</a>: <span title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">ModuleDescriptor</span>, <a title="Option[Iterable[sbt.Configuration]]" id="45757">configurations</a>: <span title="Option[Iterable[sbt.Configuration]]">Option</span>[Iterable[Configuration]]) =
		<a href="#45757" title="Option[Iterable[sbt.Configuration]]">configurations</a> <span title="Array[String]" class="keyword">match</span>
		{
			<span title="Array[String]" class="keyword">case</span> Some(<a title="Iterable[sbt.Configuration]" id="45759">confs</a>) =&gt; <a href="#45759" title="Iterable[sbt.Configuration]">confs</a>.<span title="((sbt.Configuration) =&gt; String)Iterable[String]">map</span>(<a href="#45762" title="sbt.Configuration">_</a>.<a href="IvyInterface.scala.html#44600" title="=&gt; String">name</a>).<a title="=&gt; List[String]" id="15975">toList</a>.<span title="Array[String]">toArray</span>
			<span title="Array[java.lang.String]" class="keyword">case</span> <span title="object None">None</span> =&gt; <a href="#45756" title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">module</a>.<a title="()Array[java.lang.String]" id="43798">getPublicConfigurationsNames</a>
		}
}

        </pre>
    </body>
</html>