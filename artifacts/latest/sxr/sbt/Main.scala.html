<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>sbt/Main.scala</title>
        <script type="text/javascript" src="../jquery-all.js"></script>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* sbt -- Simple Build Tool
 * Copyright 2008, 2009, 2010  Steven Blundy, Mark Harrah, David MacIver, Mikko Peltonen
 */</span>
<span class="keyword">package</span> sbt

<span class="keyword">import</span> java.io.File
<span class="keyword">import</span> scala.collection.immutable.TreeSet

<span class="comment">/** This class is the entry point for sbt.  If it is given any arguments, it interprets them
* as actions, executes the corresponding actions, and exits.  If there were no arguments provided,
* sbt enters interactive mode.*/</span>
<span class="keyword">object</span> <a title="object sbt.Main" id="8977">Main</a>
{
	<span class="keyword">val</span> <a title="Int" id="82220">NormalExitCode</a> = <span title="Int(0)" class="int">0</span>
	<span class="keyword">val</span> <a title="Int" id="82222">SetupErrorExitCode</a> = <span title="Int(1)" class="int">1</span>
	<span class="keyword">val</span> <a title="Int" id="82224">SetupDeclinedExitCode</a> = <span title="Int(2)" class="int">2</span>
	<span class="keyword">val</span> <a title="Int" id="82226">LoadErrorExitCode</a> = <span title="Int(3)" class="int">3</span>
	<span class="keyword">val</span> <a title="Int" id="82228">UsageErrorExitCode</a> = <span title="Int(4)" class="int">4</span>
	<span class="keyword">val</span> <a title="Int" id="82230">BuildErrorExitCode</a> = <span title="Int(5)" class="int">5</span>
	<span class="keyword">val</span> <a title="Int" id="82232">ProgramErrorExitCode</a> = <span title="Int(6)" class="int">6</span>
	<span class="keyword">val</span> <a title="Int" id="82234">MaxInt</a> = java.lang.Integer.<span title="Int(2147483647)">MAX_VALUE</span>
}

<span class="keyword">import</span> Main._

<span class="keyword">class</span> <a title="class xMain extends java.lang.Object with xsbti.AppMain with ScalaObject" id="8322">xMain</a> <span class="keyword">extends</span> xsbti.<a href="../xsbti/AppMain.java.html#5881" title="xsbti.AppMain">AppMain</a>
{
	<span class="keyword">final</span> <span class="keyword">def</span> <a title="(xsbti.AppConfiguration)xsbti.MainResult" id="82240">run</a>(<a title="xsbti.AppConfiguration" id="82341">configuration</a>: xsbti.<a href="../xsbti/AppConfiguration.java.html#5857" title="xsbti.AppConfiguration">AppConfiguration</a>): xsbti.<a href="../xsbti/MainResult.java.html#5884" title="xsbti.MainResult">MainResult</a> =
	{
		<span class="keyword">def</span> <a title="(List[String],Option[String])xsbti.MainResult" id="82346">run0</a>(<a title="List[String]" id="82347">remainingArguments</a>: <span title="List[String]">List</span>[String], <a title="Option[String]" id="82348">buildScalaVersion</a>: <span title="Option[String]">Option</span>[String]): xsbti.<a href="../xsbti/MainResult.java.html#5884" title="xsbti.MainResult">MainResult</a> =
		{
			<span class="comment">// done this way because in Scala 2.7.7, tail recursion in catch blocks is not optimized</span>
			<span class="keyword">val</span> <a title="&lt;refinement&gt; extends Either[sbt.ReloadException,xsbti.MainResult] with Product" id="82349">result</a> = <span class="keyword">try</span> { <span title="(xsbti.MainResult)Right[Nothing,xsbti.MainResult]">Right</span>(<a href="#82241" title="(xsbti.AppConfiguration,List[String],Option[String])xsbti.MainResult">run</a>(<a href="#82341" title="xsbti.AppConfiguration">configuration</a>, <a href="#82347" title="List[String]">remainingArguments</a>, <a href="#82348" title="Option[String]">buildScalaVersion</a>)) } <span class="keyword">catch</span> { <span title="Left[sbt.ReloadException,Nothing]" class="keyword">case</span> <a title="sbt.ReloadException" id="82362">re</a>: <a href="MainControl.scala.html#10245" title="sbt.ReloadException">ReloadException</a> =&gt; <span title="(sbt.ReloadException)Left[sbt.ReloadException,Nothing]">Left</span>(<a href="#82362" title="sbt.ReloadException">re</a>) }
			<a href="#82349" title="&lt;refinement&gt; extends Either[sbt.ReloadException,xsbti.MainResult] with Product">result</a> <span title="xsbti.MainResult" class="keyword">match</span>
			{
				<span title="xsbti.MainResult" class="keyword">case</span> Left(<a title="sbt.ReloadException" id="82377">re</a>) =&gt; <a href="#82346" title="(List[String],Option[String])xsbti.MainResult">run0</a>(<a href="#82377" title="sbt.ReloadException">re</a>.<a href="MainControl.scala.html#30686" title="=&gt; List[String]">remainingArguments</a>, <a href="#82377" title="sbt.ReloadException">re</a>.<a href="MainControl.scala.html#30688" title="=&gt; Option[String]">buildScalaVersion</a>)
				<span title="xsbti.MainResult" class="keyword">case</span> Right(<a title="xsbti.MainResult" id="82378">r</a>) =&gt; <a href="#82378" title="xsbti.MainResult">r</a>
			}
		}
		<a href="#82346" title="(List[String],Option[String])xsbti.MainResult">run0</a>(<a href="#82341" title="xsbti.AppConfiguration">configuration</a>.<a href="../xsbti/AppConfiguration.java.html#82343" title="()Array[java.lang.String]">arguments</a>.<a title="((java.lang.String) =&gt; java.lang.String)Array[java.lang.String]" id="17108">map</a>(<a href="#82382" title="java.lang.String">_</a>.<span title="()java.lang.String">trim</span>).<span title="=&gt; List[java.lang.String]">toList</span>, <span title="object None">None</span>)
	}
	<span class="keyword">final</span> <span class="keyword">def</span> <a title="(xsbti.AppConfiguration,List[String],Option[String])xsbti.MainResult" id="82241">run</a>(<a title="xsbti.AppConfiguration" id="82354">configuration</a>: xsbti.<a href="../xsbti/AppConfiguration.java.html#5857" title="xsbti.AppConfiguration">AppConfiguration</a>, <a title="List[String]" id="82355">remainingArguments</a>: <span title="List[String]">List</span>[String], <a title="Option[String]" id="82356">buildScalaVersion</a>: <span title="Option[String]">Option</span>[String]): xsbti.<a href="../xsbti/MainResult.java.html#5884" title="xsbti.MainResult">MainResult</a> =
	{
		<span class="keyword">val</span> <a title="Long" id="82383">startTime</a> = <span title="object java.lang.System">System</span>.<span title="()Long">currentTimeMillis</span>
		<a href="Project.scala.html#7648" title="object sbt.Project">Project</a>.<a href="Project.scala.html#16285" title="(xsbti.AppProvider,Option[String])sbt.LoadResult">loadProject</a>(<a href="#82354" title="xsbti.AppConfiguration">configuration</a>.<a href="../xsbti/AppConfiguration.java.html#82345" title="()xsbti.AppProvider">provider</a>, <a href="#82356" title="Option[String]">buildScalaVersion</a>) <span title="xsbti.MainResult" class="keyword">match</span>
		{
			<span title="sbt.Exit" class="keyword">case</span> <a title="sbt.LoadSetupError" id="82390">err</a>: <a href="Project.scala.html#7272" title="sbt.LoadSetupError">LoadSetupError</a> =&gt;
				<span title="(Any)Unit">println</span>(<span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#82390" title="sbt.LoadSetupError">err</a>.<a href="Project.scala.html#67936" title="=&gt; String">message</a>)
				<a href="ExitHook.scala.html#8341" title="object sbt.ExitHooks">ExitHooks</a>.<a href="ExitHook.scala.html#61434" title="(sbt.Logger)Unit">runExitHooks</a>(<a href="Project.scala.html#7648" title="object sbt.Project">Project</a>.<a href="Project.scala.html#16282" title="=&gt; sbt.ConsoleLogger">bootLogger</a>)
				<a href="MainControl.scala.html#30600" title="(Int)sbt.Exit">Exit</a>(<a href="#82222" title="=&gt; Int">SetupErrorExitCode</a>)
			<span title="sbt.Exit" class="keyword">case</span> <a href="Project.scala.html#10159" title="object sbt.LoadSetupDeclined">LoadSetupDeclined</a> =&gt;
				<a href="ExitHook.scala.html#8341" title="object sbt.ExitHooks">ExitHooks</a>.<a href="ExitHook.scala.html#61434" title="(sbt.Logger)Unit">runExitHooks</a>(<a href="Project.scala.html#7648" title="object sbt.Project">Project</a>.<a href="Project.scala.html#16282" title="=&gt; sbt.ConsoleLogger">bootLogger</a>)
				<a href="MainControl.scala.html#30600" title="(Int)sbt.Exit">Exit</a>(<a href="#82224" title="=&gt; Int">SetupDeclinedExitCode</a>)
			<span title="xsbti.MainResult" class="keyword">case</span> <a title="sbt.LoadError" id="82392">err</a>: <a href="Project.scala.html#8091" title="sbt.LoadError">LoadError</a> =&gt;
			{
				<span class="keyword">val</span> <a title="sbt.ConsoleLogger" id="82393">log</a> = <a href="Project.scala.html#7648" title="object sbt.Project">Project</a>.<a href="Project.scala.html#16282" title="=&gt; sbt.ConsoleLogger">bootLogger</a>
				<span title="(Any)Unit">println</span>(<a href="#82392" title="sbt.LoadError">err</a>.<a href="Project.scala.html#67941" title="=&gt; String">message</a>)
				<a href="ExitHook.scala.html#8341" title="object sbt.ExitHooks">ExitHooks</a>.<a href="ExitHook.scala.html#61434" title="(sbt.Logger)Unit">runExitHooks</a>(<a href="#82393" title="sbt.ConsoleLogger">log</a>)
				<span class="comment">// Because this is an error that can probably be corrected, prompt user to try again.</span>
				<span class="keyword">val</span> <a title="Option[java.lang.String]" id="82394">line</a> =
					<span class="keyword">try</span> { <a href="LineReader.scala.html#7936" title="object sbt.SimpleReader">SimpleReader</a>.<a href="LineReader.scala.html#43687" title="(String)Option[java.lang.String]">readLine</a>(<span title="java.lang.String(&quot;\012 Hit enter to retry or 'exit' to quit: &quot;)" class="string">&quot;\n Hit enter to retry or 'exit' to quit: &quot;</span>) }
					<span class="keyword">catch</span>
					{
						<span title="None.type" class="keyword">case</span> <a title="java.lang.Throwable" id="82396">e</a> =&gt;
							<a href="#82393" title="sbt.ConsoleLogger">log</a>.<a href="Logger.scala.html#68073" title="(=&gt; Throwable)Unit">trace</a>(<a href="#82396" title="java.lang.Throwable">e</a>)
							<a href="#82393" title="sbt.ConsoleLogger">log</a>.<a href="Logger.scala.html#19519" title="(=&gt; String)Unit">error</a>(<a href="#82396" title="java.lang.Throwable">e</a>.<span title="()java.lang.String">toString</span>)
							<span title="object None">None</span>
					}
				<a href="#82394" title="Option[java.lang.String]">line</a> <span title="xsbti.MainResult" class="keyword">match</span>
				{
					<span title="xsbti.MainResult" class="keyword">case</span> Some(<a title="java.lang.String" id="82399">l</a>) =&gt; <span title="xsbti.MainResult" class="keyword">if</span>(<span title="=&gt; Boolean">!</span><a href="#82333" title="(String)Boolean">isTerminateAction</a>(<a href="#82399" title="java.lang.String">l</a>)) <a href="#82241" title="(xsbti.AppConfiguration,List[String],Option[String])xsbti.MainResult">run</a>(<a href="#82354" title="xsbti.AppConfiguration">configuration</a>, <a href="#82355" title="List[String]">remainingArguments</a>, <a href="#82356" title="Option[String]">buildScalaVersion</a>) <span class="keyword">else</span> <a href="MainControl.scala.html#30600" title="(Int)sbt.Exit">Exit</a>(<a href="#82220" title="=&gt; Int">NormalExitCode</a>)
					<span title="sbt.Exit" class="keyword">case</span> <span title="object None">None</span> =&gt; <a href="MainControl.scala.html#30600" title="(Int)sbt.Exit">Exit</a>(<a href="#82226" title="=&gt; Int">LoadErrorExitCode</a>)
				}
			}
			<span title="xsbti.MainResult" class="keyword">case</span> <a title="sbt.LoadSuccess" id="82408">success</a>: <a href="Project.scala.html#6345" title="sbt.LoadSuccess">LoadSuccess</a> =&gt;
			{
				<span class="keyword">import</span> success.project
				<span class="keyword">try</span>
				{
					<span class="comment">// in interactive mode, fill all undefined properties</span>
					<span title="xsbti.MainResult" class="keyword">if</span>(<a href="#82354" title="xsbti.AppConfiguration">configuration</a>.<a href="../xsbti/AppConfiguration.java.html#82343" title="()Array[java.lang.String]">arguments</a>.<a title="=&gt; Int" id="17100">length</a> <span title="(Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span> <span title="(Boolean)Boolean">||</span> <a href="#82326" title="(List[sbt.Project])Boolean">fillUndefinedProjectProperties</a>(<a href="Project.scala.html#67946" title="=&gt; sbt.Project">project</a>.<a href="Project.scala.html#14640" title="=&gt; List[sbt.Project]">projectClosure</a>.<a title="=&gt; List[sbt.Project]" id="17738">toList</a>.<a title="=&gt; List[sbt.Project]" id="17775">reverse</a>))
						<a href="#82243" title="(sbt.Project,xsbti.AppConfiguration,List[String],Long)xsbti.MainResult">startProject</a>(<a href="Project.scala.html#67946" title="=&gt; sbt.Project">project</a>, <a href="#82354" title="xsbti.AppConfiguration">configuration</a>, <a href="#82355" title="List[String]">remainingArguments</a>, <a href="#82383" title="Long">startTime</a>)
					<span class="keyword">else</span>
						<a href="MainControl.scala.html#30600" title="(Int)sbt.Exit">Exit</a>(<a href="#82220" title="=&gt; Int">NormalExitCode</a>)
				}
				<span class="keyword">finally</span> { <a href="ExitHook.scala.html#8341" title="object sbt.ExitHooks">ExitHooks</a>.<a href="ExitHook.scala.html#61434" title="(sbt.Logger)Unit">runExitHooks</a>(<a href="Project.scala.html#67946" title="=&gt; sbt.Project">project</a>.<a href="Project.scala.html#14612" title="=&gt; sbt.Logger">log</a>) }
			}
		}
	}
	<span class="comment">/** If no arguments are provided, drop to interactive prompt.
	* If the user wants to run commands before dropping to the interactive prompt,
	*   make dropping to the interactive prompt the action to perform on failure */</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(List[String])List[String]" id="82242">initialize</a>(<a title="List[String]" id="82419">args</a>: <span title="List[String]">List</span>[String]): <span title="List[String]">List</span>[String] =
		<a href="#82419" title="List[String]">args</a>.<a title="=&gt; Option[String]" id="16526">lastOption</a> <span title="List[String]" class="keyword">match</span>
		{
			<span title="List[java.lang.String]" class="keyword">case</span> <span title="object None">None</span> =&gt; <a href="#82271" title="=&gt; java.lang.String">InteractiveCommand</a> <a href="#82420" title="(java.lang.String)List[java.lang.String]">::</a> <span title="object Nil">Nil</span>
			<span title="List[String]" class="keyword">case</span> Some(<a href="#82271" title="=&gt; java.lang.String">InteractiveCommand</a>) =&gt; (<a href="#82295" title="=&gt; java.lang.String">FailureHandlerPrefix</a> <span title="(Any)java.lang.String">+</span> <a href="#82271" title="=&gt; java.lang.String">InteractiveCommand</a>) <a href="#82423" title="(String)List[String]">::</a> <a href="#82419" title="List[String]">args</a>
			<span title="List[String]" class="keyword">case</span> Some(<a href="#82267" title="=&gt; java.lang.String">ExitCommand</a> | <a href="#82269" title="=&gt; java.lang.String">QuitCommand</a>) =&gt; <a href="#82419" title="List[String]">args</a>
			<span title="List[java.lang.String]" class="keyword">case</span> _ =&gt; <a href="#82419" title="List[String]">args</a> <a href="#82426" title="(List[java.lang.String])List[java.lang.String]">:::</a> <a href="#82267" title="=&gt; java.lang.String">ExitCommand</a> <a href="#82427" title="(java.lang.String)List[java.lang.String]">::</a> <span title="object Nil">Nil</span>
		}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project,xsbti.AppConfiguration,List[String],Long)xsbti.MainResult" id="82243">startProject</a>(<a title="sbt.Project" id="82415">project</a>: <a href="Project.scala.html#7647" title="sbt.Project">Project</a>, <a title="xsbti.AppConfiguration" id="82416">configuration</a>: xsbti.<a href="../xsbti/AppConfiguration.java.html#5857" title="xsbti.AppConfiguration">AppConfiguration</a>, <a title="List[String]" id="82417">remainingArguments</a>: <span title="List[String]">List</span>[String], <a title="Long" id="82418">startTime</a>: <span title="Long">Long</span>): xsbti.<a href="../xsbti/MainResult.java.html#5884" title="xsbti.MainResult">MainResult</a> =
	{
		<a href="#82415" title="sbt.Project">project</a>.<a href="Project.scala.html#14612" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#19517" title="(=&gt; String)Unit">info</a>(<span title="java.lang.String(&quot;Building project &quot;)" class="string">&quot;Building project &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#82415" title="sbt.Project">project</a>.<a href="Project.scala.html#14618" title="=&gt; String">name</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#82415" title="sbt.Project">project</a>.<a href="Project.scala.html#14619" title="=&gt; sbt.Version">version</a>.<span title="()java.lang.String">toString</span> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; against Scala &quot;)" class="string">&quot; against Scala &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#82415" title="sbt.Project">project</a>.<a href="Project.scala.html#14682" title="=&gt; String">buildScalaVersion</a>)
		<a href="#82415" title="sbt.Project">project</a>.<a href="Project.scala.html#14612" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#19517" title="(=&gt; String)Unit">info</a>(<span title="java.lang.String(&quot;   using &quot;)" class="string">&quot;   using &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#82415" title="sbt.Project">project</a>.<a title="()java.lang.Class[_ &lt;: java.lang.Object]" id="3459">getClass</a>.<a title="()java.lang.String" id="3899">getName</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; with sbt &quot;)" class="string">&quot; with sbt &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="../ComponentManager.scala.html#8746" title="object sbt.ComponentManager">ComponentManager</a>.<a href="../ComponentManager.scala.html#82439" title="=&gt; java.lang.String">version</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; and Scala &quot;)" class="string">&quot; and Scala &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#82415" title="sbt.Project">project</a>.<a href="Project.scala.html#14672" title="=&gt; project.Property[String]">defScalaVersion</a>.<a href="Environment.scala.html#18938" title="=&gt; String">value</a>)
		<a href="#82244" title="(sbt.Project,List[String],xsbti.AppConfiguration,Long)xsbti.MainResult">processArguments</a>(<a href="#82415" title="sbt.Project">project</a>, <a href="#82242" title="(List[String])List[String]">initialize</a>(<a href="#82417" title="List[String]">remainingArguments</a>), <a href="#82416" title="xsbti.AppConfiguration">configuration</a>, <a href="#82418" title="Long">startTime</a>) <span title="xsbti.MainResult" class="keyword">match</span>
		{
			<span title="xsbti.Exit" class="keyword">case</span> <a title="xsbti.Exit" id="82468">e</a>: xsbti.<a href="../xsbti/Exit.java.html#5845" title="xsbti.Exit">Exit</a> =&gt;
				<a href="#82322" title="(sbt.Project,Long,String)Unit">printTime</a>(<a href="#82415" title="sbt.Project">project</a>, <a href="#82418" title="Long">startTime</a>, <span title="java.lang.String(&quot;session&quot;)" class="string">&quot;session&quot;</span>)
				<span title="Unit" class="keyword">if</span>(<a href="#82468" title="xsbti.Exit">e</a>.<a href="../xsbti/Exit.java.html#30584" title="()Int">code</a> <span title="(Int)Boolean">==</span> <a href="#82220" title="=&gt; Int">NormalExitCode</a>)
					<a href="#82415" title="sbt.Project">project</a>.<a href="Project.scala.html#14612" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#19520" title="(=&gt; String)Unit">success</a>(<span title="java.lang.String(&quot;Build completed successfully.&quot;)" class="string">&quot;Build completed successfully.&quot;</span>)
				<span class="keyword">else</span>
					<a href="#82415" title="sbt.Project">project</a>.<a href="Project.scala.html#14612" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#19519" title="(=&gt; String)Unit">error</a>(<span title="java.lang.String(&quot;Error during build.&quot;)" class="string">&quot;Error during build.&quot;</span>)
				<a href="#82468" title="xsbti.Exit">e</a>
			<span title="xsbti.MainResult" class="keyword">case</span> <a title="xsbti.MainResult" id="82475">r</a> =&gt; <a href="#82475" title="xsbti.MainResult">r</a>
		}
	}
	<span class="comment">/** This is the top-level command processing method. */</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project,List[String],xsbti.AppConfiguration,Long)xsbti.MainResult" id="82244">processArguments</a>(<a title="sbt.Project" id="82464">baseProject</a>: <a href="Project.scala.html#7647" title="sbt.Project">Project</a>, <a title="List[String]" id="82465">arguments</a>: <span title="List[String]">List</span>[String], <a title="xsbti.AppConfiguration" id="82466">configuration</a>: xsbti.<a href="../xsbti/AppConfiguration.java.html#5857" title="xsbti.AppConfiguration">AppConfiguration</a>, <a title="Long" id="82467">startTime</a>: <span title="Long">Long</span>): xsbti.<a href="../xsbti/MainResult.java.html#5884" title="xsbti.MainResult">MainResult</a> =
	{
		<span class="keyword">type</span> <a title="Option[String]" id="82476">OnFailure</a> = <span title="Option[String]">Option</span>[String]
		<span class="keyword">def</span> <a title="=&gt; object None" id="82477">ExitOnFailure</a> = <span title="object None">None</span>
		<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Some[java.lang.String]" id="82479">interactiveContinue</a> = <span title="(java.lang.String)Some[java.lang.String]">Some</span>( <a href="#82271" title="=&gt; java.lang.String">InteractiveCommand</a> )
		<span class="keyword">def</span> <a title="(Int)Some[java.lang.String]" id="82480">remoteContinue</a>(<a title="Int" id="82491">port</a>: <span title="Int">Int</span>) = <span title="(java.lang.String)Some[java.lang.String]">Some</span>( <a href="#82293" title="=&gt; java.lang.String">FileCommandsPrefix</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;-&quot;)" class="string">&quot;-&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#82491" title="Int">port</a> )
		<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="sbt.processor.Handler" id="82482">PHandler</a> = <span title="sbt.processor.Handler" class="keyword">new</span> processor.<a href="processor/Handler.scala.html#11984" title="sbt.processor.Handler">Handler</a>(<a href="#82464" title="sbt.Project">baseProject</a>)
		
		<span class="comment">// replace in 2.8</span>
		<span class="keyword">trait</span> <a title="trait Trampoline extends java.lang.Object" id="2110">Trampoline</a>
		<span class="keyword">class</span> <a title="class Done extends java.lang.Object with Trampoline with ScalaObject" id="82484">Done</a>(<span class="keyword">val</span> <a title="xsbti.MainResult" id="82523">r</a>: xsbti.<a href="../xsbti/MainResult.java.html#5884" title="xsbti.MainResult">MainResult</a>) <span class="keyword">extends</span> <a href="#2110" title="Trampoline">Trampoline</a>
		<span class="keyword">class</span> <a title="class Continue extends java.lang.Object with Trampoline with ScalaObject" id="82485">Continue</a>(<a title="sbt.Project" id="82536">project</a>: <a href="Project.scala.html#7647" title="sbt.Project">Project</a>, <a title="List[String]" id="82537">arguments</a>: <span title="List[String]">List</span>[String], <a title="OnFailure" id="82538">failAction</a>: <span title="OnFailure">OnFailure</span>) <span class="keyword">extends</span> <a href="#2110" title="Trampoline">Trampoline</a> {
			<span class="keyword">def</span> <a title="()Trampoline" id="82531">apply</a>() = <a href="#82489" title="(sbt.Project,List[String],OnFailure)Trampoline">process</a>(<a href="#82536" title="sbt.Project">project</a>, <a href="#82537" title="List[String]">arguments</a>, <a href="#82538" title="OnFailure">failAction</a>)
		}
		<span class="keyword">def</span> <a title="(sbt.Project,List[String],OnFailure)Continue" id="82486">continue</a>(<a title="sbt.Project" id="82543">project</a>: <a href="Project.scala.html#7647" title="sbt.Project">Project</a>, <a title="List[String]" id="82544">arguments</a>: <span title="List[String]">List</span>[String], <a title="OnFailure" id="82545">failAction</a>: <span title="OnFailure">OnFailure</span>) = <span title="Continue" class="keyword">new</span> <a href="#82485" title="Continue">Continue</a>(<a href="#82543" title="sbt.Project">project</a>, <a href="#82544" title="List[String]">arguments</a>, <a href="#82545" title="OnFailure">failAction</a>)
		<span class="keyword">def</span> <a title="(xsbti.MainResult)Done" id="82487">result</a>(<a title="xsbti.MainResult" id="82546">r</a>: xsbti.<a href="../xsbti/MainResult.java.html#5884" title="xsbti.MainResult">MainResult</a>) = <span title="Done" class="keyword">new</span> <a href="#82484" title="Done">Done</a>(<a href="#82546" title="xsbti.MainResult">r</a>)
		<span class="keyword">def</span> <a title="(Trampoline)xsbti.MainResult" id="82488">run</a>(<a title="Trampoline" id="82547">t</a>: <a href="#2110" title="Trampoline">Trampoline</a>): xsbti.<a href="../xsbti/MainResult.java.html#5884" title="xsbti.MainResult">MainResult</a> = <a href="#82547" title="Trampoline">t</a> <span title="xsbti.MainResult" class="keyword">match</span> { <span title="xsbti.MainResult" class="keyword">case</span> <a title="Done" id="82548">d</a>: <a href="#82484" title="Done">Done</a> =&gt; <a href="#82548" title="Done">d</a>.<a href="#82523" title="=&gt; xsbti.MainResult">r</a>; <span title="xsbti.MainResult" class="keyword">case</span> <a title="Continue" id="82549">c</a>: <a href="#82485" title="Continue">Continue</a> =&gt; <a href="#82488" title="(Trampoline)xsbti.MainResult">run</a>(<a href="#82531" title="()Trampoline">c</a>()) }

		<span class="keyword">def</span> <a title="(sbt.Project,List[String],OnFailure)Trampoline" id="82489">process</a>(<a title="sbt.Project" id="82540">project</a>: <a href="Project.scala.html#7647" title="sbt.Project">Project</a>, <a title="List[String]" id="82541">arguments</a>: <span title="List[String]">List</span>[String], <a title="OnFailure" id="82542">failAction</a>: <span title="OnFailure">OnFailure</span>): <a href="#2110" title="Trampoline">Trampoline</a> =
		{
			<a href="#82540" title="sbt.Project">project</a>.<a href="Project.scala.html#14612" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#19516" title="(=&gt; String)Unit">debug</a>(<span title="java.lang.String(&quot;commands &quot;)" class="string">&quot;commands &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#82542" title="OnFailure">failAction</a>.<a title="(Option[java.lang.String])Iterable[java.lang.String]" id="898">map</a>(<span title="java.lang.String(&quot;(on failure: &quot;)" class="string">&quot;(on failure: &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#82559" title="String">_</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;): &quot;)" class="string">&quot;): &quot;</span>).<a title="=&gt; String" id="16098">mkString</a> <span title="(Any)java.lang.String">+</span> <a href="#82541" title="List[String]">arguments</a>.<span title="(String)String">mkString</span>(<span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>))
			<span class="keyword">def</span> <a title="(List[String])List[String]" id="82550">rememberCurrent</a>(<a title="List[String]" id="82580">newArgs</a>: <span title="List[String]">List</span>[String]) = <a href="#82551" title="(List[String])List[String]">rememberProject</a>(<a href="#82552" title="(List[String])List[String]">rememberFail</a>(<a href="#82580" title="List[String]">newArgs</a>))
			<span class="keyword">def</span> <a title="(List[String])List[String]" id="82551">rememberProject</a>(<a title="List[String]" id="82581">newArgs</a>: <span title="List[String]">List</span>[String]) = <span title="List[String]" class="keyword">if</span>(<a href="#82464" title="sbt.Project">baseProject</a>.<a href="Project.scala.html#14618" title="=&gt; String">name</a> <span title="(AnyRef)Boolean">!=</span> <a href="#82540" title="sbt.Project">project</a>.<a href="Project.scala.html#14618" title="=&gt; String">name</a>) (<a href="#82263" title="=&gt; java.lang.String">ProjectAction</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#82540" title="sbt.Project">project</a>.<a href="Project.scala.html#14618" title="=&gt; String">name</a>) <a href="#82584" title="(String)List[String]">::</a> <a href="#82581" title="List[String]">newArgs</a> <span class="keyword">else</span> <a href="#82581" title="List[String]">newArgs</a>
			<span class="keyword">def</span> <a title="(List[String])List[String]" id="82552">rememberFail</a>(<a title="List[String]" id="82587">newArgs</a>: <span title="List[String]">List</span>[String]) = <a href="#82542" title="OnFailure">failAction</a>.<span title="((String) =&gt; java.lang.String)Option[java.lang.String]">map</span>(<a title="String" id="82591">f</a> =&gt; (<a href="#82295" title="=&gt; java.lang.String">FailureHandlerPrefix</a> <span title="(Any)java.lang.String">+</span> <a href="#82591" title="String">f</a>)).<a title="=&gt; List[java.lang.String]" id="19026">toList</a> <a href="#82588" title="(List[String])List[String]">:::</a>  <a href="#82587" title="List[String]">newArgs</a>

			<span class="keyword">def</span> <a title="(=&gt; Trampoline)Trampoline" id="82553">tryOrFail</a>(<a title="=&gt; Trampoline" id="82594">action</a>: =&gt; Trampoline)  =  <span class="keyword">try</span> { <a href="#82594" title="=&gt; Trampoline">action</a> } <span class="keyword">catch</span> { <span title="&lt;refinement&gt; extends ScalaObject with Trampoline" class="keyword">case</span> <a title="Exception" id="82595">e</a>: <span title="Exception">Exception</span> =&gt; <a href="#82339" title="(sbt.Logger,Throwable)Unit">logCommandError</a>(<a href="#82540" title="sbt.Project">project</a>.<a href="Project.scala.html#14612" title="=&gt; sbt.Logger">log</a>, <a href="#82595" title="Exception">e</a>); <a href="#82555" title="(Int)ScalaObject with Trampoline">failed</a>(<a href="#82230" title="=&gt; Int">BuildErrorExitCode</a>) }
			<span class="keyword">def</span> <a title="(List[String])Done" id="82554">reload</a>(<a title="List[String]" id="82622">args</a>: <span title="List[String]">List</span>[String]) =
			{
				<span class="keyword">val</span> <a title="sbt.ApplicationID" id="82623">newID</a> = <span title="sbt.ApplicationID" class="keyword">new</span> <a href="MainControl.scala.html#8178" title="sbt.ApplicationID">ApplicationID</a>(<a href="#82466" title="xsbti.AppConfiguration">configuration</a>.<a href="../xsbti/AppConfiguration.java.html#82345" title="()xsbti.AppProvider">provider</a>.<a href="../xsbti/AppProvider.java.html#22816" title="()xsbti.ApplicationID">id</a>, <a href="#82464" title="sbt.Project">baseProject</a>.<a href="Project.scala.html#14674" title="=&gt; baseProject.Property[String]">sbtVersion</a>.<a href="Environment.scala.html#18938" title="=&gt; String">value</a>)
				<a href="#82487" title="(xsbti.MainResult)Done">result</a>( <span title="sbt.Reboot" class="keyword">new</span> <a href="MainControl.scala.html#7311" title="sbt.Reboot">Reboot</a>(<a href="#82540" title="sbt.Project">project</a>.<a href="Project.scala.html#14672" title="=&gt; project.Property[String]">defScalaVersion</a>.<a href="Environment.scala.html#18938" title="=&gt; String">value</a>, <a href="#82550" title="(List[String])List[String]">rememberCurrent</a>(<a href="#82622" title="List[String]">args</a>), <a href="#82623" title="sbt.ApplicationID">newID</a>, <a href="#82466" title="xsbti.AppConfiguration">configuration</a>.<a href="../xsbti/AppConfiguration.java.html#82344" title="()java.io.File">baseDirectory</a>) )
			}
			<span class="keyword">def</span> <a title="(Int)ScalaObject with Trampoline" id="82555">failed</a>(<a title="Int" id="82605">code</a>: <span title="Int">Int</span>) =
				<a href="#82542" title="OnFailure">failAction</a> <span title="&lt;refinement&gt; extends ScalaObject with Trampoline" class="keyword">match</span>
				{
					<span title="Continue" class="keyword">case</span> Some(<a title="String" id="82606">c</a>) =&gt; <a href="#82486" title="(sbt.Project,List[String],OnFailure)Continue">continue</a>(<a href="#82540" title="sbt.Project">project</a>, <a href="#82606" title="String">c</a> <a href="#82607" title="(String)List[String]">::</a> <span title="object Nil">Nil</span>, <a href="#82477" title="=&gt; object None">ExitOnFailure</a>)
					<span title="Done" class="keyword">case</span> <span title="object None">None</span> =&gt; <a href="#82487" title="(xsbti.MainResult)Done">result</a>( <a href="MainControl.scala.html#30600" title="(Int)sbt.Exit">Exit</a>(<a href="#82605" title="Int">code</a>) )
				}
				
			<a href="#82541" title="List[String]">arguments</a> <span title="Trampoline" class="keyword">match</span>
			{
				<span title="Continue" class="keyword">case</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> :: <a title="List[String]" id="82624">tail</a> =&gt; <a href="#82486" title="(sbt.Project,List[String],OnFailure)Continue">continue</a>(<a href="#82540" title="sbt.Project">project</a>, <a href="#82624" title="List[String]">tail</a>, <a href="#82542" title="OnFailure">failAction</a>)
				<span title="Continue" class="keyword">case</span> <a title="String" id="82625">x</a> :: <a title="List[String]" id="82626">tail</a> <span class="keyword">if</span> <a href="#82625" title="String">x</a>.<span title="(java.lang.String)Boolean">startsWith</span>(<span title="java.lang.String(&quot;;&quot;)" class="string">&quot;;&quot;</span>) =&gt; <a href="#82486" title="(sbt.Project,List[String],OnFailure)Continue">continue</a>(<a href="#82540" title="sbt.Project">project</a>, <a href="#82625" title="String">x</a>.<a title="(java.lang.String)Array[java.lang.String]" id="5810">split</a>(<span title="java.lang.String(&quot;;&quot;)" class="string">&quot;;&quot;</span>).<span title="=&gt; List[java.lang.String]">toList</span> <a href="#82628" title="(List[String])List[String]">:::</a> <a href="#82626" title="List[String]">tail</a>, <a href="#82542" title="OnFailure">failAction</a>)
				<span title="Done" class="keyword">case</span> (<a href="#82267" title="=&gt; java.lang.String">ExitCommand</a> | <a href="#82269" title="=&gt; java.lang.String">QuitCommand</a>) :: _ =&gt; <a href="#82487" title="(xsbti.MainResult)Done">result</a>( <a href="MainControl.scala.html#30600" title="(Int)sbt.Exit">Exit</a>(<a href="#82220" title="=&gt; Int">NormalExitCode</a>) )
				<span title="Done" class="keyword">case</span> <a href="#82281" title="=&gt; java.lang.String">RebootCommand</a> :: <a title="List[String]" id="82632">tail</a> =&gt; <a href="#82554" title="(List[String])Done">reload</a>( <a href="#82632" title="List[String]">tail</a> )
				<span title="Continue" class="keyword">case</span> <a href="#82271" title="=&gt; java.lang.String">InteractiveCommand</a> :: _ =&gt; <a href="#82486" title="(sbt.Project,List[String],OnFailure)Continue">continue</a>(<a href="#82540" title="sbt.Project">project</a>, <a href="#82256" title="(sbt.Project,sbt.Project)String">prompt</a>(<a href="#82464" title="sbt.Project">baseProject</a>, <a href="#82540" title="sbt.Project">project</a>) <a href="#82633" title="(String)List[String]">::</a> <a href="#82541" title="List[String]">arguments</a>, <a href="#82478" title="=&gt; Some[java.lang.String]">interactiveContinue</a>)
				<span title="Trampoline" class="keyword">case</span> <a href="#82642" title="(String)Option[(java.lang.String, java.lang.String)]">SpecificBuild</a>(<a title="java.lang.String" id="82673">version</a>, <a title="java.lang.String" id="82674">action</a>) :: <a title="List[String]" id="82675">tail</a> =&gt;
					<span title="Trampoline" class="keyword">if</span>(<span title="(java.lang.String)Some[java.lang.String]">Some</span>(<a href="#82673" title="java.lang.String">version</a>) <span title="(AnyRef)Boolean">!=</span> <a href="#82464" title="sbt.Project">baseProject</a>.<a href="Project.scala.html#14617" title="=&gt; sbt.ProjectInfo">info</a>.<a href="ProjectInfo.scala.html#18959" title="=&gt; Option[String]">buildScalaVersion</a>)
					{
						<span title="Trampoline" class="keyword">if</span>(<a href="#82252" title="(sbt.Project,String)Boolean">checkVersion</a>(<a href="#82464" title="sbt.Project">baseProject</a>, <a href="#82673" title="java.lang.String">version</a>))
							<span title="Nothing" class="keyword">throw</span> <span title="sbt.ReloadException" class="keyword">new</span> <a href="MainControl.scala.html#10245" title="sbt.ReloadException">ReloadException</a>(<a href="#82550" title="(List[String])List[String]">rememberCurrent</a>(<a href="#82674" title="java.lang.String">action</a> <a href="#82684" title="(String)List[String]">::</a> <a href="#82675" title="List[String]">tail</a>), <span title="(java.lang.String)Some[java.lang.String]">Some</span>(<a href="#82673" title="java.lang.String">version</a>))
						<span class="keyword">else</span>
							<a href="#82555" title="(Int)ScalaObject with Trampoline">failed</a>(<a href="#82228" title="=&gt; Int">UsageErrorExitCode</a>)
					}
					<span class="keyword">else</span>
						<a href="#82486" title="(sbt.Project,List[String],OnFailure)Continue">continue</a>(<a href="#82540" title="sbt.Project">project</a>, <a href="#82674" title="java.lang.String">action</a> <a href="#82688" title="(String)List[String]">::</a> <a href="#82675" title="List[String]">tail</a>, <a href="#82542" title="OnFailure">failAction</a>)

				<span title="Trampoline" class="keyword">case</span> <a href="#82692" title="(String)Option[java.lang.String]">CrossBuild</a>(<a title="java.lang.String" id="82719">action</a>) :: <a title="List[String]" id="82720">tail</a> =&gt;
					<span title="Trampoline" class="keyword">if</span>(<a href="#82317" title="(sbt.Project,String)Boolean">checkAction</a>(<a href="#82540" title="sbt.Project">project</a>, <a href="#82719" title="java.lang.String">action</a>))
					{
						<a href="#82693" title="(sbt.Project,String)Option[List[String]]">CrossBuild</a>(<a href="#82540" title="sbt.Project">project</a>, <a href="#82719" title="java.lang.String">action</a>) <span title="Trampoline" class="keyword">match</span>
						{
							<span title="Continue" class="keyword">case</span> Some(<a title="List[String]" id="82725">actions</a>) =&gt; <a href="#82486" title="(sbt.Project,List[String],OnFailure)Continue">continue</a>(<a href="#82540" title="sbt.Project">project</a>, <a href="#82725" title="List[String]">actions</a> <a href="#82726" title="(List[String])List[String]">:::</a> <a href="#82720" title="List[String]">tail</a>, <a href="#82542" title="OnFailure">failAction</a>)
							<span title="&lt;refinement&gt; extends ScalaObject with Trampoline" class="keyword">case</span> <span title="object None">None</span> =&gt; <a href="#82555" title="(Int)ScalaObject with Trampoline">failed</a>(<a href="#82228" title="=&gt; Int">UsageErrorExitCode</a>)
						}
					}
					<span class="keyword">else</span>
						<a href="#82555" title="(Int)ScalaObject with Trampoline">failed</a>(<a href="#82228" title="=&gt; Int">UsageErrorExitCode</a>)

				<span title="Trampoline" class="keyword">case</span> <a href="#82730" title="(String)Option[java.lang.String]">SetProject</a>(<a title="java.lang.String" id="82775">name</a>) :: <a title="List[String]" id="82776">tail</a> =&gt;
					<a href="#82731" title="(sbt.Project,String,sbt.Project)Option[sbt.Project]">SetProject</a>(<a href="#82464" title="sbt.Project">baseProject</a>, <a href="#82775" title="java.lang.String">name</a>, <a href="#82540" title="sbt.Project">project</a>) <span title="Trampoline" class="keyword">match</span>
					{
						<span title="Continue" class="keyword">case</span> Some(<a title="sbt.Project" id="82791">newProject</a>) =&gt; <a href="#82486" title="(sbt.Project,List[String],OnFailure)Continue">continue</a>(<a href="#82791" title="sbt.Project">newProject</a>, <a href="#82776" title="List[String]">tail</a>, <a href="#82542" title="OnFailure">failAction</a>)
						<span title="&lt;refinement&gt; extends ScalaObject with Trampoline" class="keyword">case</span> <span title="object None">None</span> =&gt; <a href="#82555" title="(Int)ScalaObject with Trampoline">failed</a>(<a href="#82230" title="=&gt; Int">BuildErrorExitCode</a>)
					}
					
				<span title="Trampoline" class="keyword">case</span> <a title="String" id="82792">action</a> :: <a title="List[String]" id="82793">tail</a> <span class="keyword">if</span> <a href="#82792" title="String">action</a>.<span title="(java.lang.String)Boolean">startsWith</span>(<a href="#82293" title="=&gt; java.lang.String">FileCommandsPrefix</a>) =&gt;
					<a href="#82246" title="(String,java.io.File)Either[Int,java.io.File] with Product">getSource</a>(<a href="#82792" title="String">action</a>.<span title="(Int)java.lang.String">substring</span>(<a href="#82293" title="=&gt; java.lang.String">FileCommandsPrefix</a>.<span title="()Int">length</span>).<span title="()java.lang.String">trim</span>, <a href="#82464" title="sbt.Project">baseProject</a>.<a href="Project.scala.html#14617" title="=&gt; sbt.ProjectInfo">info</a>.<a href="ProjectInfo.scala.html#18950" title="=&gt; java.io.File">projectDirectory</a>) <span title="Trampoline" class="keyword">match</span>
					{
						<span title="Trampoline" class="keyword">case</span> Left(<a title="Int" id="82833">portAndSuccess</a>) =&gt;
							<span class="keyword">val</span> <a title="Int" id="82834">port</a> = <a title="object Math" id="574">Math</a>.<a title="(Int)Int" id="69663">abs</a>(<a href="#82833" title="Int">portAndSuccess</a>)
							<span class="keyword">val</span> <a title="Boolean" id="82835">previousSuccess</a> = <a href="#82833" title="Int">portAndSuccess</a> <a title="(Int)Boolean" id="3094">&gt;=</a> <span title="Int(0)" class="int">0</span>
							<a href="#82247" title="(Int,Boolean)Option[String]">readMessage</a>(<a href="#82834" title="Int">port</a>, <a href="#82835" title="Boolean">previousSuccess</a>) <span title="Trampoline" class="keyword">match</span>
							{
								<span title="Continue" class="keyword">case</span> Some(<a title="String" id="82840">message</a>) =&gt; <a href="#82486" title="(sbt.Project,List[String],OnFailure)Continue">continue</a>(<a href="#82540" title="sbt.Project">project</a>, <a href="#82840" title="String">message</a> <a href="#82841" title="(java.lang.String)List[java.lang.String]">::</a> (<a href="#82293" title="=&gt; java.lang.String">FileCommandsPrefix</a> <span title="(Any)java.lang.String">+</span> <a href="#82834" title="Int">port</a>) <a href="#82842" title="(java.lang.String)List[java.lang.String]">::</a> <span title="object Nil">Nil</span>, <a href="#82480" title="(Int)Some[java.lang.String]">remoteContinue</a>(<a href="#82834" title="Int">port</a>))
								<span title="&lt;refinement&gt; extends ScalaObject with Trampoline" class="keyword">case</span> <span title="object None">None</span> =&gt;
									<a href="#82540" title="sbt.Project">project</a>.<a href="Project.scala.html#14612" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#19519" title="(=&gt; String)Unit">error</a>(<span title="java.lang.String(&quot;Connection closed.&quot;)" class="string">&quot;Connection closed.&quot;</span>)
									<a href="#82555" title="(Int)ScalaObject with Trampoline">failed</a>(<a href="#82230" title="=&gt; Int">BuildErrorExitCode</a>)
							}
							
						<span title="Trampoline" class="keyword">case</span> Right(<a title="java.io.File" id="82848">file</a>) =&gt;
							<a href="#82255" title="(sbt.Project,java.io.File)Option[List[String]]">readLines</a>(<a href="#82540" title="sbt.Project">project</a>, <a href="#82848" title="java.io.File">file</a>) <span title="Trampoline" class="keyword">match</span>
							{
								<span title="Continue" class="keyword">case</span> Some(<a title="List[String]" id="82851">lines</a>) =&gt; <a href="#82486" title="(sbt.Project,List[String],OnFailure)Continue">continue</a>(<a href="#82540" title="sbt.Project">project</a>, <a href="#82851" title="List[String]">lines</a> <a href="#82852" title="(List[String])List[String]">:::</a> <a href="#82793" title="List[String]">tail</a> , <a href="#82542" title="OnFailure">failAction</a>)
								<span title="&lt;refinement&gt; extends ScalaObject with Trampoline" class="keyword">case</span> <span title="object None">None</span> =&gt; <a href="#82555" title="(Int)ScalaObject with Trampoline">failed</a>(<a href="#82228" title="=&gt; Int">UsageErrorExitCode</a>)
							}
					}
					
				<span title="Continue" class="keyword">case</span> <a title="String" id="82855">action</a> :: <a title="List[String]" id="82856">tail</a> <span class="keyword">if</span> <a href="#82855" title="String">action</a>.<span title="(java.lang.String)Boolean">startsWith</span>(<a href="#82295" title="=&gt; java.lang.String">FailureHandlerPrefix</a>) =&gt;
					<span class="keyword">val</span> <a title="java.lang.String" id="82858">errorAction</a> = <a href="#82855" title="String">action</a>.<span title="(Int)java.lang.String">substring</span>(<a href="#82295" title="=&gt; java.lang.String">FailureHandlerPrefix</a>.<span title="()Int">length</span>).<span title="()java.lang.String">trim</span>
					<a href="#82486" title="(sbt.Project,List[String],OnFailure)Continue">continue</a>(<a href="#82540" title="sbt.Project">project</a>, <a href="#82856" title="List[String]">tail</a>, <span title="OnFailure" class="keyword">if</span>(<a href="#82858" title="implicit scala.Predef.stringWrapper : (String)scala.runtime.RichString">errorAction</a>.<span title="=&gt; Boolean">isEmpty</span>) <span title="object None">None</span> <span class="keyword">else</span> <span title="(java.lang.String)Some[java.lang.String]">Some</span>(<a href="#82858" title="java.lang.String">errorAction</a>) )

				<span title="Trampoline" class="keyword">case</span> <a title="String" id="82868">action</a> :: <a title="List[String]" id="82869">tail</a> <span class="keyword">if</span> <a href="#82868" title="String">action</a>.<span title="(java.lang.String)Boolean">startsWith</span>(<a href="#82297" title="=&gt; java.lang.String">ProcessorPrefix</a>) =&gt;
					<span class="keyword">val</span> <a title="java.lang.String" id="82871">processorCommand</a> = <a href="#82868" title="String">action</a>.<span title="(Int)java.lang.String">substring</span>(<a href="#82297" title="=&gt; java.lang.String">ProcessorPrefix</a>.<span title="()Int">length</span>).<span title="()java.lang.String">trim</span>
					<span class="keyword">val</span> <a title="sbt.processor.CommandRunner" id="82872">runner</a> = processor.<a href="processor/CommandRunner.scala.html#65958" title="(sbt.processor.Manager,sbt.processor.DefinitionParser,String,sbt.Logger)sbt.processor.CommandRunner">CommandRunner</a>(<a href="#82481" title="=&gt; sbt.processor.Handler">PHandler</a>.<a href="processor/Handler.scala.html#82513" title="=&gt; sbt.processor.ManagerImpl">manager</a>, <a href="#82481" title="=&gt; sbt.processor.Handler">PHandler</a>.<a href="processor/Handler.scala.html#82511" title="=&gt; sbt.processor.DefinitionParser">defParser</a>, <a href="#82297" title="=&gt; java.lang.String">ProcessorPrefix</a>, <a href="#82540" title="sbt.Project">project</a>.<a href="Project.scala.html#14612" title="=&gt; sbt.Logger">log</a>)
					<a href="#82553" title="(=&gt; Trampoline)Trampoline">tryOrFail</a> {
						<a href="processor/CommandRunner.scala.html#65947" title="(String)Unit">runner</a>(<a href="#82871" title="java.lang.String">processorCommand</a>)
						<a href="#82486" title="(sbt.Project,List[String],OnFailure)Continue">continue</a>(<a href="#82540" title="sbt.Project">project</a>, <a href="#82869" title="List[String]">tail</a>, <a href="#82542" title="OnFailure">failAction</a>)
					}

				<span title="Trampoline" class="keyword">case</span> <a href="processor/Handler.scala.html#82496" title="(String)Option[sbt.processor.ParsedProcessor]">PHandler</a>(<a title="sbt.processor.ParsedProcessor" id="82902">parsed</a>) :: <a title="List[String]" id="82903">tail</a> =&gt;
					 <a href="#82553" title="(=&gt; Trampoline)Trampoline">tryOrFail</a> {
						<a href="#82902" title="sbt.processor.ParsedProcessor">parsed</a>.<a href="processor/Processor.scala.html#31412" title="(String,sbt.Project,Option[String],String)sbt.processor.ProcessorResult">processor</a>(<a href="#82902" title="sbt.processor.ParsedProcessor">parsed</a>.<a href="processor/Handler.scala.html#82895" title="=&gt; String">label</a>, <a href="#82540" title="sbt.Project">project</a>, <a href="#82542" title="OnFailure">failAction</a>, <a href="#82902" title="sbt.processor.ParsedProcessor">parsed</a>.<a href="processor/Handler.scala.html#82899" title="=&gt; String">arguments</a>) <span title="Trampoline" class="keyword">match</span>
						{
							<span title="Continue" class="keyword">case</span> <a title="sbt.processor.Success" id="82904">s</a>: processor.<a href="processor/Processor.scala.html#11906" title="sbt.processor.Success">Success</a> =&gt; <a href="#82486" title="(sbt.Project,List[String],OnFailure)Continue">continue</a>(<a href="#82904" title="sbt.processor.Success">s</a>.<a href="processor/Processor.scala.html#31432" title="=&gt; sbt.Project">project</a>, <a href="#82904" title="sbt.processor.Success">s</a>.<a href="processor/Processor.scala.html#31438" title="=&gt; List[String]">insertArguments</a> <a href="#82905" title="(List[String])List[String]">:::</a> <a href="#82903" title="List[String]">tail</a>, <a href="#82904" title="sbt.processor.Success">s</a>.<a href="processor/Processor.scala.html#31434" title="=&gt; Option[String]">onFailure</a>)
							<span title="Done" class="keyword">case</span> <a title="sbt.processor.Exit" id="82908">e</a>: processor.<a href="processor/Processor.scala.html#11951" title="sbt.processor.Exit">Exit</a> =&gt; <a href="#82487" title="(xsbti.MainResult)Done">result</a>( <a href="MainControl.scala.html#30600" title="(Int)sbt.Exit">Exit</a>(<a href="#82908" title="sbt.processor.Exit">e</a>.<a href="processor/Processor.scala.html#31449" title="=&gt; Int">code</a>) )
							<span title="Done" class="keyword">case</span> <a title="sbt.processor.Reload" id="82909">r</a>: processor.<a href="processor/Processor.scala.html#11867" title="sbt.processor.Reload">Reload</a> =&gt; <a href="#82554" title="(List[String])Done">reload</a>( <a href="#82909" title="sbt.processor.Reload">r</a>.<a href="processor/Processor.scala.html#31458" title="=&gt; List[String]">insertArguments</a> <a href="#82910" title="(List[String])List[String]">:::</a> <a href="#82903" title="List[String]">tail</a> )
						}
					 }
		
				<span title="Trampoline" class="keyword">case</span> <a title="String" id="82913">action</a> :: <a title="List[String]" id="82914">tail</a> =&gt;
					<span class="keyword">val</span> <a title="Boolean" id="82915">success</a> = <a href="#82304" title="(sbt.Project,sbt.Project,String,Boolean)Boolean">processAction</a>(<a href="#82464" title="sbt.Project">baseProject</a>, <a href="#82540" title="sbt.Project">project</a>, <a href="#82913" title="String">action</a>, <a href="#82542" title="OnFailure">failAction</a> <span title="(AnyRef)Boolean">==</span> <a href="#82478" title="=&gt; Some[java.lang.String]">interactiveContinue</a>)
					<span title="Trampoline" class="keyword">if</span>(<a href="#82915" title="Boolean">success</a>) <a href="#82486" title="(sbt.Project,List[String],OnFailure)Continue">continue</a>(<a href="#82540" title="sbt.Project">project</a>, <a href="#82914" title="List[String]">tail</a>, <a href="#82542" title="OnFailure">failAction</a>)
					<span class="keyword">else</span> <a href="#82555" title="(Int)ScalaObject with Trampoline">failed</a>(<a href="#82230" title="=&gt; Int">BuildErrorExitCode</a>)
						
				<span title="Done" class="keyword">case</span> <span title="object Nil">Nil</span> =&gt;
					<a href="#82540" title="sbt.Project">project</a>.<a href="Project.scala.html#14612" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#19519" title="(=&gt; String)Unit">error</a>(<span title="java.lang.String(&quot;Invalid internal sbt state: no arguments&quot;)" class="string">&quot;Invalid internal sbt state: no arguments&quot;</span>)
					<a href="#82487" title="(xsbti.MainResult)Done">result</a>( <a href="MainControl.scala.html#30600" title="(Int)sbt.Exit">Exit</a>(<a href="#82232" title="=&gt; Int">ProgramErrorExitCode</a>) )
			}
		}
		<a href="#82488" title="(Trampoline)xsbti.MainResult">run</a>(<a href="#82489" title="(sbt.Project,List[String],OnFailure)Trampoline">process</a>(<a href="#82464" title="sbt.Project">baseProject</a>, <a href="#82465" title="List[String]">arguments</a>, <a href="#82477" title="=&gt; object None">ExitOnFailure</a>))
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(Option[List[String]])Boolean" id="82245">isInteractive</a>(<a title="Option[List[String]]" id="82922">failureActions</a>: <span title="Option[List[String]]">Option</span>[List[String]]) = <a href="#82922" title="Option[List[String]]">failureActions</a> <span title="(AnyRef)Boolean">==</span> <span title="(List[java.lang.String])Some[List[java.lang.String]]">Some</span>(<a href="#82271" title="=&gt; java.lang.String">InteractiveCommand</a> <a href="#82926" title="(java.lang.String)List[java.lang.String]">::</a> <span title="object Nil">Nil</span>)
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(String,java.io.File)Either[Int,java.io.File] with Product" id="82246">getSource</a>(<a title="String" id="82795">action</a>: <span title="String">String</span>, <a title="java.io.File" id="82796">baseDirectory</a>: <span title="java.io.File">File</span>) =
	{
		<span class="keyword">try</span> { <span title="(Int)Left[Int,Nothing]">Left</span>(<a href="#82795" title="implicit scala.Predef.stringWrapper : (String)scala.runtime.RichString">action</a>.<span title="=&gt; Int">toInt</span>) }
		<span class="keyword">catch</span> { <span title="Right[Nothing,java.io.File]" class="keyword">case</span> _: <span title="NumberFormatException">NumberFormatException</span> =&gt; <span title="(java.io.File)Right[Nothing,java.io.File]">Right</span>(<a title="(java.io.File,java.lang.String)java.io.File" id="16006" class="keyword">new</a> <span title="java.io.File">File</span>(<a href="#82796" title="java.io.File">baseDirectory</a>, <a href="#82795" title="String">action</a>)) }
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(Int,Boolean)Option[String]" id="82247">readMessage</a>(<a title="Int" id="82838">port</a>: <span title="Int">Int</span>, <a title="Boolean" id="82839">previousSuccess</a>: <span title="Boolean">Boolean</span>): <span title="Option[String]">Option</span>[String] =
	{
		<span class="comment">// split into two connections because this first connection ends the previous communication</span>
		xsbt.<a href="../IPC.scala.html#12490" title="object xsbt.IPC">IPC</a>.<a href="../IPC.scala.html#47358" title="(Int)((xsbt.IPC) =&gt; Unit)Unit">client</a>(<a href="#82838" title="Int">port</a>) { <a href="#82931" title="xsbt.IPC">_</a>.<a href="../IPC.scala.html#47602" title="(String)Unit">send</a>(<a href="#82839" title="Boolean">previousSuccess</a>.<span title="()java.lang.String">toString</span>) }
		<span class="comment">//   and this second connection starts the next communication</span>
		xsbt.<a href="../IPC.scala.html#12490" title="object xsbt.IPC">IPC</a>.<a href="../IPC.scala.html#47358" title="(Int)((xsbt.IPC) =&gt; Option[String])Option[String]">client</a>(<a href="#82838" title="Int">port</a>) { <a title="xsbt.IPC" id="82934">ipc</a> =&gt;
			<span class="keyword">val</span> <a title="String" id="82935">message</a> = <a href="#82934" title="xsbt.IPC">ipc</a>.<a href="../IPC.scala.html#47603" title="=&gt; String">receive</a>
			<span title="Option[String]" class="keyword">if</span>(<a href="#82935" title="String">message</a> <a title="(AnyRef)Boolean" id="5739">eq</a> <span title="Null(null)" class="keyword">null</span>) <span title="object None">None</span> <span class="keyword">else</span> <span title="(String)Some[String]">Some</span>(<a href="#82935" title="String">message</a>)
		}
	}
	<span class="keyword">object</span> <a title="object xMain.this.SetProject" id="82248">SetProject</a>
	{
		<span class="keyword">def</span> <a title="(String)Option[java.lang.String]" id="82730">unapply</a>(<a title="String" id="82732">s</a>: <span title="String">String</span>) =
			<span title="Option[java.lang.String]" class="keyword">if</span>(<a href="#82732" title="String">s</a>.<span title="(java.lang.String)Boolean">startsWith</span>(<a href="#82263" title="=&gt; java.lang.String">ProjectAction</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span>))
				<span title="(java.lang.String)Some[java.lang.String]">Some</span>(<a href="#82732" title="String">s</a>.<span title="(Int)java.lang.String">substring</span>(<a href="#82263" title="=&gt; java.lang.String">ProjectAction</a>.<span title="()Int">length</span> <span title="(Int)Int">+</span> <span title="Int(1)" class="int">1</span>))
			<span class="keyword">else</span>
				<span title="object None">None</span>
		<span class="keyword">def</span> <a title="(sbt.Project,String,sbt.Project)Option[sbt.Project]" id="82731">apply</a>(<a title="sbt.Project" id="82777">baseProject</a>: <a href="Project.scala.html#7647" title="sbt.Project">Project</a>, <a title="String" id="82778">projectName</a>: <span title="String">String</span>, <a title="sbt.Project" id="82779">currentProject</a>: <a href="Project.scala.html#7647" title="sbt.Project">Project</a>) =
		{
			<span class="keyword">val</span> <a title="Option[sbt.Project]" id="82781">found</a> = <a href="#82777" title="sbt.Project">baseProject</a>.<a href="Project.scala.html#14640" title="=&gt; List[sbt.Project]">projectClosure</a>.<a title="((sbt.Project) =&gt; Boolean)Option[sbt.Project]" id="17764">find</a>(<a href="#82784" title="sbt.Project">_</a>.<a href="Project.scala.html#14618" title="=&gt; String">name</a> <span title="(AnyRef)Boolean">==</span> <a href="#82778" title="String">projectName</a>)
			<a href="#82781" title="Option[sbt.Project]">found</a> <span title="Unit" class="keyword">match</span>
			{
				<span title="Unit" class="keyword">case</span> Some(<a title="sbt.Project" id="82787">newProject</a>) =&gt; <a href="#82312" title="(String,sbt.Project)Unit">printProject</a>(<span title="java.lang.String(&quot;Set current project to &quot;)" class="string">&quot;Set current project to &quot;</span>, <a href="#82787" title="sbt.Project">newProject</a>)
				<span title="Unit" class="keyword">case</span> <span title="object None">None</span> =&gt; <a href="#82779" title="sbt.Project">currentProject</a>.<a href="Project.scala.html#14612" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#19519" title="(=&gt; String)Unit">error</a>(<span title="java.lang.String(&quot;Invalid project name '&quot;)" class="string">&quot;Invalid project name '&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#82778" title="String">projectName</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;' (type 'projects' to list available projects).&quot;)" class="string">&quot;' (type 'projects' to list available projects).&quot;</span>)
			}
			<a href="#82781" title="Option[sbt.Project]">found</a>
		}
	}
	<span class="keyword">object</span> <a title="object xMain.this.SpecificBuild" id="82250">SpecificBuild</a>
	{
		<span class="keyword">import</span> java.util.regex.Pattern.{compile,quote}
		<span class="keyword">val</span> <a title="java.util.regex.Pattern" id="82640">pattern</a> = <a title="(java.lang.String)java.util.regex.Pattern" id="36578">compile</a>(<a title="(java.lang.String)java.lang.String" id="36587">quote</a>(<a href="#82291" title="=&gt; java.lang.String">SpecificBuildPrefix</a>) <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\s*(\S+)\s*(.*)&quot;)" class="string">&quot;&quot;&quot;\s*(\S+)\s*(.*)&quot;&quot;&quot;</span>)
		<span class="keyword">def</span> <a title="(String)Option[(java.lang.String, java.lang.String)]" id="82642">unapply</a>(<a title="String" id="82643">s</a>: <span title="String">String</span>) =
		{
			<span class="keyword">val</span> <a title="java.util.regex.Matcher" id="82645">m</a> = <a href="#82640" title="=&gt; java.util.regex.Pattern">pattern</a>.<span title="(java.lang.CharSequence)java.util.regex.Matcher">matcher</span>(<a href="#82643" title="String">s</a>)
			<span title="Option[(java.lang.String, java.lang.String)]" class="keyword">if</span>(<a href="#82645" title="java.util.regex.Matcher">m</a>.<span title="()Boolean">matches</span>)
				<a title="((java.lang.String, java.lang.String))Some[(java.lang.String, java.lang.String)]" id="1327">Some</a>(<a href="#82645" title="java.util.regex.Matcher">m</a>.<span title="(Int)java.lang.String">group</span>(<span title="Int(1)" class="int">1</span>).<span title="()java.lang.String">trim</span>, <a href="#82645" title="java.util.regex.Matcher">m</a>.<span title="(Int)java.lang.String">group</span>(<span title="Int(2)" class="int">2</span>).<span title="()java.lang.String">trim</span>)
			<span class="keyword">else</span>
				<span title="object None">None</span>
		}
	}
	<span class="keyword">def</span> <a title="(sbt.Project,String)Boolean" id="82252">checkVersion</a>(<a title="sbt.Project" id="82679">p</a>: <a href="Project.scala.html#7647" title="sbt.Project">Project</a>, <a title="String" id="82680">version</a>: <span title="String">String</span>) =
	{
		<span class="keyword">try</span> { <a href="#82679" title="sbt.Project">p</a>.<a href="Project.scala.html#14691" title="(String)xsbt.ScalaInstance">getScalaInstance</a>(<a href="#82680" title="String">version</a>); <span title="Boolean(true)" class="keyword">true</span> }
		<span class="keyword">catch</span> { <span title="Boolean" class="keyword">case</span> <a title="xsbti.RetrieveException" id="82682">e</a>: xsbti.<a href="../xsbti/RetrieveException.java.html#5878" title="xsbti.RetrieveException">RetrieveException</a> =&gt; <a href="#82679" title="sbt.Project">p</a>.<a href="Project.scala.html#14612" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#19519" title="(=&gt; String)Unit">error</a>(<a href="#82682" title="xsbti.RetrieveException">e</a>.<span title="()java.lang.String">getMessage</span>); <span title="Boolean(false)" class="keyword">false</span> }
	}
	<span class="keyword">object</span> <a title="object xMain.this.CrossBuild" id="82253">CrossBuild</a>
	{
		<span class="keyword">def</span> <a title="(String)Option[java.lang.String]" id="82692">unapply</a>(<a title="String" id="82694">s</a>: <span title="String">String</span>) = <span title="Option[java.lang.String]" class="keyword">if</span>(<a href="#82694" title="String">s</a>.<span title="(java.lang.String)Boolean">startsWith</span>(<a href="#82289" title="=&gt; java.lang.String">CrossBuildPrefix</a>) <span title="(Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#82694" title="String">s</a>.<span title="(java.lang.String)Boolean">startsWith</span>(<a href="#82291" title="=&gt; java.lang.String">SpecificBuildPrefix</a>)) <span title="(java.lang.String)Some[java.lang.String]">Some</span>(<a href="#82694" title="String">s</a>.<span title="(Int)java.lang.String">substring</span>(<span title="Int(1)" class="int">1</span>)) <span class="keyword">else</span> <span title="object None">None</span>
		<span class="keyword">def</span> <a title="(sbt.Project,String)Option[List[String]]" id="82693">apply</a>(<a title="sbt.Project" id="82723">project</a>: <a href="Project.scala.html#7647" title="sbt.Project">Project</a>, <a title="String" id="82724">action</a>: <span title="String">String</span>): <span title="Option[List[String]]">Option</span>[List[String]] =
		{
			<span class="keyword">val</span> <a title="Seq[String]" id="82940">againstScalaVersions</a> = <a href="#82723" title="sbt.Project">project</a>.<a href="Project.scala.html#14703" title="=&gt; Seq[String]">crossScalaVersions</a>
			<span title="Option[List[String]]" class="keyword">if</span>(<a href="#82940" title="Seq[String]">againstScalaVersions</a>.<span title="=&gt; Boolean">isEmpty</span>)
			{
				<span title="object Console">Console</span>.<span title="(Any)Unit">println</span>(<span title="java.lang.String(&quot;Project does not declare any Scala versions to cross-build against, building against current version...&quot;)" class="string">&quot;Project does not declare any Scala versions to cross-build against, building against current version...&quot;</span>)
				<span title="(List[String])Some[List[String]]">Some</span>(<a href="#82724" title="String">action</a> <a href="#82943" title="(String)List[String]">::</a> <span title="object Nil">Nil</span>)
			}
			<span class="keyword">else</span>
			{
				<span title="Option[List[String]]" class="keyword">if</span>( <span title="=&gt; Boolean">!</span><a href="#82940" title="Seq[String]">againstScalaVersions</a>.<a title="((String) =&gt; Boolean)Boolean" id="16071">forall</a>(<a title="String" id="82947">v</a> =&gt; <a href="#82252" title="(sbt.Project,String)Boolean">checkVersion</a>(<a href="#82723" title="sbt.Project">project</a>, <a href="#82947" title="String">v</a>)) )
					<span title="object None">None</span>
				<span class="keyword">else</span>
				{
					<span class="keyword">val</span> <a title="List[java.lang.String]" id="82948">actions</a> = 
						<a href="#82940" title="Seq[String]">againstScalaVersions</a>.<span title="=&gt; List[String]">toList</span>.<span title="((String) =&gt; java.lang.String)List[java.lang.String]">map</span>(<a href="#82291" title="=&gt; java.lang.String">SpecificBuildPrefix</a> <span title="(Any)java.lang.String">+</span> <a href="#82953" title="String">_</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#82724" title="String">action</a>) <a href="#82949" title="(List[java.lang.String])List[java.lang.String]">:::</a> <span class="comment">// build against all versions</span>
							(<a href="#82291" title="=&gt; java.lang.String">SpecificBuildPrefix</a> <span title="(Any)java.lang.String">+</span> <a href="#82723" title="sbt.Project">project</a>.<a href="Project.scala.html#14682" title="=&gt; String">buildScalaVersion</a>) <a href="#82954" title="(java.lang.String)List[java.lang.String]">::</a> <span class="comment">// reset to the version before the cross-build</span>
							<span title="object Nil">Nil</span>
					<span title="(List[java.lang.String])Some[List[java.lang.String]]">Some</span>(<a href="#82948" title="List[java.lang.String]">actions</a>)
				}
			}
		}
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project,java.io.File)Option[List[String]]" id="82255">readLines</a>(<a title="sbt.Project" id="82849">project</a>: <a href="Project.scala.html#7647" title="sbt.Project">Project</a>, <a title="java.io.File" id="82850">file</a>: <span title="java.io.File">File</span>): <span title="Option[List[String]]">Option</span>[List[String]] =
	{
		<span class="keyword">try</span> { <span title="(List[String])Some[List[String]]">Some</span>(xsbt.<a href="../FileUtilities.scala.html#12055" title="object xsbt.FileUtilities">FileUtilities</a>.<a href="../FileUtilities.scala.html#32128" title="(java.io.File)List[String]">readLines</a>(<a href="#82850" title="java.io.File">file</a>)) }
		<span class="keyword">catch</span> { <span title="None.type" class="keyword">case</span> <a title="Exception" id="82962">e</a>: <span title="Exception">Exception</span> =&gt;
			<a href="#82849" title="sbt.Project">project</a>.<a href="Project.scala.html#14612" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#19514" title="(=&gt; Throwable)Unit">trace</a>(<a href="#82962" title="Exception">e</a>)
			<a href="#82849" title="sbt.Project">project</a>.<a href="Project.scala.html#14612" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#19519" title="(=&gt; String)Unit">error</a>(<span title="java.lang.String(&quot;Error reading commands from file &quot;)" class="string">&quot;Error reading commands from file &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#82850" title="java.io.File">file</a>.<span title="()java.lang.String">getAbsolutePath</span> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#82962" title="Exception">e</a>.<span title="()java.lang.String">toString</span>)
			<span title="object None">None</span>
		}
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project,sbt.Project)String" id="82256">prompt</a>(<a title="sbt.Project" id="82634">baseProject</a>: <a href="Project.scala.html#7647" title="sbt.Project">Project</a>, <a title="sbt.Project" id="82635">project</a>: <a href="Project.scala.html#7647" title="sbt.Project">Project</a>): <span title="String">String</span> =
	{
		<span class="comment">// the times for evaluating the lazy vals here are a few hundred ms out of a 2s startup</span>
		<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="List[String]" id="82966">projectNames</a> = <a href="#82634" title="sbt.Project">baseProject</a>.<a href="Project.scala.html#14640" title="=&gt; List[sbt.Project]">projectClosure</a>.<span title="((sbt.Project) =&gt; String)List[String]">map</span>(<a href="#82980" title="sbt.Project">_</a>.<a href="Project.scala.html#14618" title="=&gt; String">name</a>)
		<span class="keyword">val</span> <a title="List[java.lang.String]" id="82967">prefixes</a> = <a href="#82287" title="=&gt; java.lang.String">ContinuousExecutePrefix</a> <a href="#82981" title="(java.lang.String)List[java.lang.String]">::</a> <a href="#82289" title="=&gt; java.lang.String">CrossBuildPrefix</a> <a href="#82982" title="(java.lang.String)List[java.lang.String]">::</a> <span title="object Nil">Nil</span>
		<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Seq[String]" id="82969">scalaVersions</a> = <a href="#82634" title="sbt.Project">baseProject</a>.<a href="Project.scala.html#14703" title="=&gt; Seq[String]">crossScalaVersions</a> <a title="(Iterable[String])Seq[String]" id="16530">++</a> <a title="(String*)Seq[String]" id="730">Seq</a>(<a href="#82634" title="sbt.Project">baseProject</a>.<a href="Project.scala.html#14672" title="=&gt; baseProject.Property[String]">defScalaVersion</a>.<a href="Environment.scala.html#18938" title="=&gt; String">value</a>)
		<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="scala.collection.Map[String,project.MethodTask]" id="82971">methods</a> = <a href="#82635" title="sbt.Project">project</a>.<a href="Project.scala.html#14625" title="=&gt; scala.collection.Map[String,project.MethodTask]">methods</a>
		<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="&lt;refinement&gt; extends java.lang.Object with sbt.ExtraCompletions" id="82973">methodCompletions</a> = <a title="template $anon extends java.lang.Object with sbt.ExtraCompletions" id="82993" class="keyword">new</a> <a href="LineReader.scala.html#10239" title="sbt.ExtraCompletions">ExtraCompletions</a> { <span class="keyword">def</span> <a title="=&gt; List[String]" id="82997">names</a> = <a href="#82970" title="=&gt; scala.collection.Map[String,project.MethodTask]">methods</a>.<a title="=&gt; Iterator[String]" id="24234">keys</a>.<a title="=&gt; List[String]" id="23026">toList</a>; <span class="keyword">def</span> <a title="(String)Seq[String]" id="82998">completions</a>(<a title="String" id="83004">name</a>: <span title="String">String</span>) = <a href="#82970" title="(String)project.MethodTask" id="24231">methods</a>(<a href="#83004" title="String">name</a>).<a href="TaskManager.scala.html#19001" title="=&gt; Seq[String]">completions</a> }
		<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="sbt.Completors" id="82975">completors</a> = <span title="sbt.Completors" class="keyword">new</span> <a href="LineReader.scala.html#9021" title="sbt.Completors">Completors</a>(<a href="#82263" title="=&gt; java.lang.String">ProjectAction</a>, <a href="#82965" title="=&gt; List[String]">projectNames</a>, <a href="#82301" title="=&gt; Iterable[String]">interactiveCommands</a>, <a title="(java.lang.String*)List[java.lang.String]" id="496">List</a>(<a href="#82277" title="=&gt; java.lang.String">GetAction</a>, <a href="#82275" title="=&gt; java.lang.String">SetAction</a>), <a href="#82291" title="=&gt; java.lang.String">SpecificBuildPrefix</a>, <a href="#82968" title="=&gt; Seq[String]">scalaVersions</a>, <a href="#82967" title="List[java.lang.String]">prefixes</a>, <a href="#82635" title="sbt.Project">project</a>.<a href="Project.scala.html#14626" title="=&gt; Iterable[String]">taskNames</a>, <a href="#82635" title="sbt.Project">project</a>.<a href="Environment.scala.html#14798" title="=&gt; Iterable[String]">propertyNames</a>, <a href="#82972" title="=&gt; &lt;refinement&gt; extends java.lang.Object with sbt.ExtraCompletions">methodCompletions</a>)
		<span class="keyword">val</span> <a title="sbt.LazyJLineReader" id="82976">reader</a> = <span title="sbt.LazyJLineReader" class="keyword">new</span> <a href="LineReader.scala.html#6708" title="sbt.LazyJLineReader">LazyJLineReader</a>(<a href="#82634" title="sbt.Project">baseProject</a>.<a href="Project.scala.html#14661" title="=&gt; Option[sbt.Path]">historyPath</a>, <a href="LineReader.scala.html#83079" title="(sbt.Completors)jline.Completor">MainCompletor</a>(<a href="#82974" title="=&gt; sbt.Completors">completors</a>), <a href="#82634" title="sbt.Project">baseProject</a>.<a href="Project.scala.html#14612" title="=&gt; sbt.Logger">log</a>)
		<a href="#82976" title="sbt.LazyJLineReader">reader</a>.<a href="LineReader.scala.html#43687" title="(String)Option[java.lang.String]">readLine</a>(<span title="java.lang.String(&quot;&gt; &quot;)" class="string">&quot;&gt; &quot;</span>).<a title="(=&gt; java.lang.String)java.lang.String" id="19015">getOrElse</a>(<a href="#82267" title="=&gt; java.lang.String">ExitCommand</a>)
	}

	<span class="comment">/** The name of the command that loads a console with access to the current project through the variable 'project'.*/</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="82257">ProjectConsoleAction</a> = <span title="java.lang.String(&quot;console-project&quot;)" class="string">&quot;console-project&quot;</span>
	<span class="comment">/** The name of the command that shows the current project and logging level of that project.*/</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="82259">ShowCurrent</a> = <span title="java.lang.String(&quot;current&quot;)" class="string">&quot;current&quot;</span>
	<span class="comment">/** The name of the command that shows all available actions.*/</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="82261">ShowActions</a> = <span title="java.lang.String(&quot;actions&quot;)" class="string">&quot;actions&quot;</span>
	<span class="comment">/** The name of the command that sets the currently active project.*/</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="82263">ProjectAction</a> = <span title="java.lang.String(&quot;project&quot;)" class="string">&quot;project&quot;</span>
	<span class="comment">/** The name of the command that shows all available projects.*/</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="82265">ShowProjectsAction</a> = <span title="java.lang.String(&quot;projects&quot;)" class="string">&quot;projects&quot;</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="82267">ExitCommand</a> = <span title="java.lang.String(&quot;exit&quot;)" class="string">&quot;exit&quot;</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="82269">QuitCommand</a> = <span title="java.lang.String(&quot;quit&quot;)" class="string">&quot;quit&quot;</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="82271">InteractiveCommand</a> = <span title="java.lang.String(&quot;shell&quot;)" class="string">&quot;shell&quot;</span>
	<span class="comment">/** The list of lowercase command names that may be used to terminate the program.*/</span>
	<span class="keyword">val</span> <a title="Iterable[String]" id="82273">TerminateActions</a>: <span title="Iterable[String]">Iterable</span>[String] = <a href="#82267" title="=&gt; java.lang.String">ExitCommand</a> <a href="#83092" title="(java.lang.String)List[java.lang.String]">::</a> <a href="#82269" title="=&gt; java.lang.String">QuitCommand</a> <a href="#83093" title="(java.lang.String)List[java.lang.String]">::</a> <span title="object Nil">Nil</span>
	<span class="comment">/** The name of the command that sets the value of the property given as its argument.*/</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="82275">SetAction</a> = <span title="java.lang.String(&quot;set&quot;)" class="string">&quot;set&quot;</span>
	<span class="comment">/** The name of the command that gets the value of the property given as its argument.*/</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="82277">GetAction</a> = <span title="java.lang.String(&quot;get&quot;)" class="string">&quot;get&quot;</span>
	<span class="comment">/** The name of the command that displays the help message. */</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="82279">HelpAction</a> = <span title="java.lang.String(&quot;help&quot;)" class="string">&quot;help&quot;</span>
	<span class="comment">/** The command for reloading sbt.*/</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="82281">RebootCommand</a> = <span title="java.lang.String(&quot;reload&quot;)" class="string">&quot;reload&quot;</span>
	<span class="comment">/** The name of the command that toggles logging stacktraces. */</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="82283">TraceCommand</a> = <span title="java.lang.String(&quot;trace&quot;)" class="string">&quot;trace&quot;</span>
	<span class="comment">/** The name of the command that compiles all sources continuously when they are modified. */</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="82285">ContinuousCompileCommand</a> = <span title="java.lang.String(&quot;cc&quot;)" class="string">&quot;cc&quot;</span>
	<span class="comment">/** The prefix used to identify a request to execute the remaining input on source changes.*/</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="82287">ContinuousExecutePrefix</a> = <span title="java.lang.String(&quot;~&quot;)" class="string">&quot;~&quot;</span>
	<span class="comment">/** The prefix used to identify a request to execute the remaining input across multiple Scala versions.*/</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="82289">CrossBuildPrefix</a> = <span title="java.lang.String(&quot;+&quot;)" class="string">&quot;+&quot;</span>
	<span class="comment">/** The prefix used to identify a request to execute the remaining input after the next space against the
	* Scala version between this prefix and the space (i.e. '++version action' means execute 'action' using
	* Scala version 'version'. */</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="82291">SpecificBuildPrefix</a> = <span title="java.lang.String(&quot;++&quot;)" class="string">&quot;++&quot;</span>
	<span class="comment">/** The prefix used to identify a file or local port to read commands from. */</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="82293">FileCommandsPrefix</a> = <span title="java.lang.String(&quot;&lt;&quot;)" class="string">&quot;&lt;&quot;</span>
	<span class="comment">/** The prefix used to identify the action to run after an error*/</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="82295">FailureHandlerPrefix</a> = <span title="java.lang.String(&quot;!&quot;)" class="string">&quot;!&quot;</span>
	<span class="comment">/** The prefix used to identify commands for managing processors.*/</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="82297">ProcessorPrefix</a> = <span title="java.lang.String(&quot;*&quot;)" class="string">&quot;*&quot;</span>

	<span class="comment">/** The number of seconds between polling by the continuous compile command.*/</span>
	<span class="keyword">val</span> <a title="Int" id="82299">ContinuousCompilePollDelaySeconds</a> = <span title="Int(1)" class="int">1</span>

	<span class="comment">/** The list of all available commands at the interactive prompt in addition to the tasks defined
	* by a project.*/</span>
	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; Iterable[String]" id="82301">interactiveCommands</a>: <span title="Iterable[String]">Iterable</span>[String] = <a href="#82303" title="=&gt; Iterable[String]">basicCommands</a>.<span title="=&gt; List[String]">toList</span> <span title="(Iterable[String])List[String]">++</span> <a href="#82302" title="=&gt; Iterable[String]">logLevels</a>.<span title="=&gt; List[String]">toList</span> <span title="(Iterable[String])List[String]">++</span> <a href="#82273" title="=&gt; Iterable[String]">TerminateActions</a>
	<span class="comment">/** The list of logging levels.*/</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Iterable[String]" id="82302">logLevels</a>: <span title="Iterable[String]">Iterable</span>[String] = <span title="object scala.collection.immutable.TreeSet">TreeSet</span>.<a href="#83120" title="(implicit (String) =&gt; Ordered[String])scala.collection.immutable.TreeSet[String]" id="79096">empty</a>[<span title="String">String</span>] <a title="(Iterable[String])scala.collection.immutable.SortedSet[String]" id="79129">++</a> <a href="Logger.scala.html#8242" title="object sbt.Level">Level</a>.<a href="Logger.scala.html#28487" title="=&gt; List[sbt.Level.Value]">levels</a>.<span title="((sbt.Level.Value) =&gt; java.lang.String)List[java.lang.String]">map</span>(<a href="#83130" title="sbt.Level.Value">_</a>.<span title="()java.lang.String">toString</span>)
	<span class="comment">/** The list of all interactive commands other than logging level.*/</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Iterable[String]" id="82303">basicCommands</a>: <span title="Iterable[String]">Iterable</span>[String] = <a href="#83143" title="(java.lang.String*)(implicit (java.lang.String) =&gt; Ordered[java.lang.String])scala.collection.immutable.SortedSet[java.lang.String]" id="79124">TreeSet</a>(<a href="#82265" title="=&gt; java.lang.String">ShowProjectsAction</a>, <a href="#82261" title="=&gt; java.lang.String">ShowActions</a>, <a href="#82259" title="=&gt; java.lang.String">ShowCurrent</a>, <a href="#82279" title="=&gt; java.lang.String">HelpAction</a>,
		<a href="#82281" title="=&gt; java.lang.String">RebootCommand</a>, <a href="#82283" title="=&gt; java.lang.String">TraceCommand</a>, <a href="#82285" title="=&gt; java.lang.String">ContinuousCompileCommand</a>, <a href="#82257" title="=&gt; java.lang.String">ProjectConsoleAction</a>)

	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project,sbt.Project,String,Boolean)Boolean" id="82304">processAction</a>(<a title="sbt.Project" id="82916">baseProject</a>: <a href="Project.scala.html#7647" title="sbt.Project">Project</a>, <a title="sbt.Project" id="82917">currentProject</a>: <a href="Project.scala.html#7647" title="sbt.Project">Project</a>, <a title="String" id="82918">action</a>: <span title="String">String</span>, <a title="Boolean" id="82919">isInteractive</a>: <span title="Boolean">Boolean</span>): <span title="Boolean">Boolean</span> =
		<a href="#82918" title="String">action</a> <span title="Boolean" class="keyword">match</span>
		{
			<span title="Boolean" class="keyword">case</span> <a href="#82279" title="=&gt; java.lang.String">HelpAction</a> =&gt; <a href="#82310" title="(Boolean)Unit">displayHelp</a>(<a href="#82919" title="Boolean">isInteractive</a>); <span title="Boolean(true)" class="keyword">true</span>
			<span title="Boolean" class="keyword">case</span> <a href="#82265" title="=&gt; java.lang.String">ShowProjectsAction</a> =&gt; <a href="#82916" title="sbt.Project">baseProject</a>.<a href="Project.scala.html#14640" title="=&gt; List[sbt.Project]">projectClosure</a>.<span title="((sbt.Project) =&gt; Unit)Unit">foreach</span>(<a href="#82311" title="(sbt.Project)Unit">listProject</a>); <span title="Boolean(true)" class="keyword">true</span>
			<span title="Boolean" class="keyword">case</span> <a href="#82257" title="=&gt; java.lang.String">ProjectConsoleAction</a> =&gt;
				<a href="#82316" title="(Option[String],sbt.Logger)Boolean">showResult</a>(<a href="Run.scala.html#7345" title="object sbt.Run">Run</a>.<a href="Run.scala.html#80113" title="(sbt.Project)Option[String]">projectConsole</a>(<a href="#82917" title="sbt.Project">currentProject</a>), <a href="#82917" title="sbt.Project">currentProject</a>.<a href="Project.scala.html#14612" title="=&gt; sbt.Logger">log</a>)
			<span title="Boolean" class="keyword">case</span> _ =&gt;
				<span title="Boolean" class="keyword">if</span>(<a href="#82918" title="String">action</a>.<span title="(java.lang.String)Boolean">startsWith</span>(<a href="#82275" title="=&gt; java.lang.String">SetAction</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span>))
					<a href="#82328" title="(sbt.Project,String)Boolean">setProperty</a>(<a href="#82917" title="sbt.Project">currentProject</a>, <a href="#82918" title="String">action</a>.<span title="(Int)java.lang.String">substring</span>(<a href="#82275" title="=&gt; java.lang.String">SetAction</a>.<span title="()Int">length</span> <span title="(Int)Int">+</span> <span title="Int(1)" class="int">1</span>))
				<span class="keyword">else</span> <span title="Boolean" class="keyword">if</span>(<a href="#82918" title="String">action</a>.<span title="(java.lang.String)Boolean">startsWith</span>(<a href="#82277" title="=&gt; java.lang.String">GetAction</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span>))
					<a href="#82327" title="(sbt.Project,String)Boolean">getProperty</a>(<a href="#82917" title="sbt.Project">currentProject</a>, <a href="#82918" title="String">action</a>.<span title="(Int)java.lang.String">substring</span>(<a href="#82277" title="=&gt; java.lang.String">GetAction</a>.<span title="()Int">length</span> <span title="(Int)Int">+</span> <span title="Int(1)" class="int">1</span>))
				<span class="keyword">else</span> <span title="Boolean" class="keyword">if</span>(<a href="#82918" title="String">action</a>.<span title="(java.lang.String)Boolean">startsWith</span>(<a href="#82283" title="=&gt; java.lang.String">TraceCommand</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span>))
					<a href="#82319" title="(sbt.Project,String)Boolean">setTrace</a>(<a href="#82917" title="sbt.Project">currentProject</a>, <a href="#82918" title="String">action</a>.<span title="(Int)java.lang.String">substring</span>(<a href="#82283" title="=&gt; java.lang.String">TraceCommand</a>.<span title="()Int">length</span> <span title="(Int)Int">+</span> <span title="Int(1)" class="int">1</span>))
				<span class="keyword">else</span>
					<a href="#82313" title="(sbt.Project,String)Boolean">handleCommand</a>(<a href="#82917" title="sbt.Project">currentProject</a>, <a href="#82918" title="String">action</a>)
		}

	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(String,String)Unit" id="82305">printCmd</a>(<a title="String" id="83221">name</a>:<span title="String">String</span>, <a title="String" id="83222">desc</a>:<span title="String">String</span>) = <span title="object Console">Console</span>.<span title="(Any)Unit">println</span>(<span title="java.lang.String(&quot;   &quot;)" class="string">&quot;   &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#83221" title="String">name</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; : &quot;)" class="string">&quot; : &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#83222" title="String">desc</a>)
	<span class="keyword">val</span> <a title="java.lang.String" id="82306">BatchHelpHeader</a> = <span title="java.lang.String(&quot;You may execute any project action or method or one of the commands described below.&quot;)" class="string">&quot;You may execute any project action or method or one of the commands described below.&quot;</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="82308">InteractiveHelpHeader</a> = <span class="string">&quot;You may execute any project action or one of the commands described below. Only one action &quot;</span> +
			<span class="string">&quot;may be executed at a time in interactive mode and is entered by name, as it would be at the command line.&quot;</span> <span title="java.lang.String(&quot;You may execute any project action or one of the commands described below. Only one action may be executed at a time in interactive mode and is entered by name, as it would be at the command line. Also, tab completion is available.&quot;)">+</span>
			<span class="string">&quot; Also, tab completion is available.&quot;</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(Boolean)Unit" id="82310">displayHelp</a>(<a title="Boolean" id="83144">isInteractive</a>: <span title="Boolean">Boolean</span>)
	{
		<span title="object Console">Console</span>.<span title="(Any)Unit">println</span>(<span title="Any" class="keyword">if</span>(<a href="#83144" title="Boolean">isInteractive</a>) <a href="#82308" title="=&gt; java.lang.String">InteractiveHelpHeader</a> <span class="keyword">else</span> <a href="#82306" title="=&gt; java.lang.String">BatchHelpHeader</a>)
		<span title="object Console">Console</span>.<span title="(Any)Unit">println</span>(<span title="java.lang.String(&quot;Available Commands:&quot;)" class="string">&quot;Available Commands:&quot;</span>)

		<a href="#82305" title="(String,String)Unit">printCmd</a>(<span title="java.lang.String(&quot;&lt;action name&gt;&quot;)" class="string">&quot;&lt;action name&gt;&quot;</span>, <span title="java.lang.String(&quot;Executes the project specified action.&quot;)" class="string">&quot;Executes the project specified action.&quot;</span>)
		<a href="#82305" title="(String,String)Unit">printCmd</a>(<span title="java.lang.String(&quot;&lt;method name&gt; &lt;parameter&gt;*&quot;)" class="string">&quot;&lt;method name&gt; &lt;parameter&gt;*&quot;</span>, <span title="java.lang.String(&quot;Executes the project specified method.&quot;)" class="string">&quot;Executes the project specified method.&quot;</span>)
		<a href="#82305" title="(String,String)Unit">printCmd</a>(<span title="java.lang.String(&quot;&lt;processor label&gt; &lt;arguments&gt;&quot;)" class="string">&quot;&lt;processor label&gt; &lt;arguments&gt;&quot;</span>, <span title="java.lang.String(&quot;Runs the specified processor.&quot;)" class="string">&quot;Runs the specified processor.&quot;</span>)
		<a href="#82305" title="(String,String)Unit">printCmd</a>(<a href="#82287" title="=&gt; java.lang.String">ContinuousExecutePrefix</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &lt;command&gt;&quot;)" class="string">&quot; &lt;command&gt;&quot;</span>, <span title="java.lang.String(&quot;Executes the project specified action or method whenever source files change.&quot;)" class="string">&quot;Executes the project specified action or method whenever source files change.&quot;</span>)
		<a href="#82305" title="(String,String)Unit">printCmd</a>(<a href="#82293" title="=&gt; java.lang.String">FileCommandsPrefix</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; file&quot;)" class="string">&quot; file&quot;</span>, <span title="java.lang.String(&quot;Executes the commands in the given file.  Each command should be on its own line.  Empty lines and lines beginning with '#' are ignored&quot;)" class="string">&quot;Executes the commands in the given file.  Each command should be on its own line.  Empty lines and lines beginning with '#' are ignored&quot;</span>)
		<a href="#82305" title="(String,String)Unit">printCmd</a>(<a href="#82289" title="=&gt; java.lang.String">CrossBuildPrefix</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &lt;command&gt;&quot;)" class="string">&quot; &lt;command&gt;&quot;</span>, <span title="java.lang.String(&quot;Executes the project specified action or method for all versions of Scala defined in crossScalaVersions.&quot;)" class="string">&quot;Executes the project specified action or method for all versions of Scala defined in crossScalaVersions.&quot;</span>)
		<a href="#82305" title="(String,String)Unit">printCmd</a>(<a href="#82291" title="=&gt; java.lang.String">SpecificBuildPrefix</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;&lt;version&gt; &lt;command&gt;&quot;)" class="string">&quot;&lt;version&gt; &lt;command&gt;&quot;</span>, <span title="java.lang.String(&quot;Changes the version of Scala building the project and executes the provided command.  &lt;command&gt; is optional.&quot;)" class="string">&quot;Changes the version of Scala building the project and executes the provided command.  &lt;command&gt; is optional.&quot;</span>)
		<a href="#82305" title="(String,String)Unit">printCmd</a>(<a href="#82297" title="=&gt; java.lang.String">ProcessorPrefix</a>, <span title="java.lang.String(&quot;Prefix for commands for managing processors.  Run '&quot;)" class="string">&quot;Prefix for commands for managing processors.  Run '&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#82297" title="=&gt; java.lang.String">ProcessorPrefix</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;help' for details.&quot;)" class="string">&quot;help' for details.&quot;</span>)
		<a href="#82305" title="(String,String)Unit">printCmd</a>(<a href="#82261" title="=&gt; java.lang.String">ShowActions</a>, <span title="java.lang.String(&quot;Shows all available actions.&quot;)" class="string">&quot;Shows all available actions.&quot;</span>)
		<a href="#82305" title="(String,String)Unit">printCmd</a>(<a href="#82281" title="=&gt; java.lang.String">RebootCommand</a>, <span title="java.lang.String(&quot;Reloads sbt, picking up modifications to sbt.version or scala.version and recompiling modified project definitions.&quot;)" class="string">&quot;Reloads sbt, picking up modifications to sbt.version or scala.version and recompiling modified project definitions.&quot;</span>)
		<a href="#82305" title="(String,String)Unit">printCmd</a>(<a href="#82279" title="=&gt; java.lang.String">HelpAction</a>, <span title="java.lang.String(&quot;Displays this help message.&quot;)" class="string">&quot;Displays this help message.&quot;</span>)
		<a href="#82305" title="(String,String)Unit">printCmd</a>(<a href="#82259" title="=&gt; java.lang.String">ShowCurrent</a>, <span title="java.lang.String(&quot;Shows the current project, Scala version, and logging level.&quot;)" class="string">&quot;Shows the current project, Scala version, and logging level.&quot;</span>)
		<a href="#82305" title="(String,String)Unit">printCmd</a>(<a href="Logger.scala.html#8242" title="object sbt.Level">Level</a>.<a href="Logger.scala.html#28487" title="=&gt; List[sbt.Level.Value]">levels</a>.<span title="(String)String">mkString</span>(<span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>), <span title="java.lang.String(&quot;Set logging for the current project to the specified level.&quot;)" class="string">&quot;Set logging for the current project to the specified level.&quot;</span>)
		<a href="#82305" title="(String,String)Unit">printCmd</a>(<a href="#82283" title="=&gt; java.lang.String">TraceCommand</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#82331" title="=&gt; java.lang.String">validTraceArguments</a>, <span title="java.lang.String(&quot;Configures stack trace logging. &quot;)" class="string">&quot;Configures stack trace logging. &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#82332" title="=&gt; java.lang.String">traceExplanation</a>)
		<a href="#82305" title="(String,String)Unit">printCmd</a>(<a href="#82263" title="=&gt; java.lang.String">ProjectAction</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &lt;project name&gt;&quot;)" class="string">&quot; &lt;project name&gt;&quot;</span>, <span title="java.lang.String(&quot;Sets the currently active project.&quot;)" class="string">&quot;Sets the currently active project.&quot;</span>)
		<a href="#82305" title="(String,String)Unit">printCmd</a>(<a href="#82265" title="=&gt; java.lang.String">ShowProjectsAction</a>, <span title="java.lang.String(&quot;Shows all available projects.&quot;)" class="string">&quot;Shows all available projects.&quot;</span>)
		<a href="#82305" title="(String,String)Unit">printCmd</a>(<a href="#82273" title="=&gt; Iterable[String]">TerminateActions</a>.<span title="=&gt; Iterator[String]">elements</span>.<a title="(String)String" id="23029">mkString</a>(<span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>), <span title="java.lang.String(&quot;Terminates the build.&quot;)" class="string">&quot;Terminates the build.&quot;</span>)
		<a href="#82305" title="(String,String)Unit">printCmd</a>(<a href="#82275" title="=&gt; java.lang.String">SetAction</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &lt;property&gt; &lt;value&gt;&quot;)" class="string">&quot; &lt;property&gt; &lt;value&gt;&quot;</span>, <span title="java.lang.String(&quot;Sets the value of the property given as its argument.&quot;)" class="string">&quot;Sets the value of the property given as its argument.&quot;</span>)
		<a href="#82305" title="(String,String)Unit">printCmd</a>(<a href="#82277" title="=&gt; java.lang.String">GetAction</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &lt;property&gt;&quot;)" class="string">&quot; &lt;property&gt;&quot;</span>, <span title="java.lang.String(&quot;Gets the value of the property given as its argument.&quot;)" class="string">&quot;Gets the value of the property given as its argument.&quot;</span>)
		<a href="#82305" title="(String,String)Unit">printCmd</a>(<a href="#82257" title="=&gt; java.lang.String">ProjectConsoleAction</a>, <span title="java.lang.String(&quot;Enters the Scala interpreter with the current project definition bound to the variable 'current' and all members imported.&quot;)" class="string">&quot;Enters the Scala interpreter with the current project definition bound to the variable 'current' and all members imported.&quot;</span>)
		<span title="Unit" class="keyword">if</span>(<span title="=&gt; Boolean">!</span><a href="#83144" title="Boolean">isInteractive</a>)
			<a href="#82305" title="(String,String)Unit">printCmd</a>(<a href="#82271" title="=&gt; java.lang.String">InteractiveCommand</a>, <span title="java.lang.String(&quot;Enters the sbt interactive shell&quot;)" class="string">&quot;Enters the sbt interactive shell&quot;</span>)
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project)Unit" id="82311">listProject</a>(<a title="sbt.Project" id="83146">p</a>: <a href="Project.scala.html#7647" title="sbt.Project">Project</a>) = <a href="#82312" title="(String,sbt.Project)Unit">printProject</a>(<span title="java.lang.String(&quot;\011&quot;)" class="string">&quot;\t&quot;</span>, <a href="#83146" title="sbt.Project">p</a>)
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(String,sbt.Project)Unit" id="82312">printProject</a>(<a title="String" id="82788">prefix</a>: <span title="String">String</span>, <a title="sbt.Project" id="82789">p</a>: <a href="Project.scala.html#7647" title="sbt.Project">Project</a>): <span title="Unit">Unit</span> =
		<span title="object Console">Console</span>.<span title="(Any)Unit">println</span>(<a href="#82788" title="String">prefix</a> <span title="(Any)java.lang.String">+</span> <a href="#82789" title="sbt.Project">p</a>.<a href="Project.scala.html#14618" title="=&gt; String">name</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#82789" title="sbt.Project">p</a>.<a href="Project.scala.html#14619" title="=&gt; sbt.Version">version</a>)

	<span class="comment">/** Handles the given command string provided at the command line.  Returns false if there was an error*/</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project,String)Boolean" id="82313">handleCommand</a>(<a title="sbt.Project" id="83219">project</a>: <a href="Project.scala.html#7647" title="sbt.Project">Project</a>, <a title="String" id="83220">command</a>: <span title="String">String</span>): <span title="Boolean">Boolean</span> =
	{
		<a href="#83220" title="String">command</a> <span title="Boolean" class="keyword">match</span>
		{
			<span title="Boolean" class="keyword">case</span> <a href="#82277" title="=&gt; java.lang.String">GetAction</a> =&gt; <a href="#82336" title="(sbt.Logger)Boolean">getArgumentError</a>(<a href="#83219" title="sbt.Project">project</a>.<a href="Project.scala.html#14612" title="=&gt; sbt.Logger">log</a>)
			<span title="Boolean" class="keyword">case</span> <a href="#82275" title="=&gt; java.lang.String">SetAction</a> =&gt; <a href="#82335" title="(sbt.Logger)Boolean">setArgumentError</a>(<a href="#83219" title="sbt.Project">project</a>.<a href="Project.scala.html#14612" title="=&gt; sbt.Logger">log</a>)
			<span title="Boolean" class="keyword">case</span> <a href="#82263" title="=&gt; java.lang.String">ProjectAction</a> =&gt; <a href="#82337" title="(sbt.Logger)Boolean">setProjectError</a>(<a href="#83219" title="sbt.Project">project</a>.<a href="Project.scala.html#14612" title="=&gt; sbt.Logger">log</a>)
			<span title="Boolean" class="keyword">case</span> <a href="#82283" title="=&gt; java.lang.String">TraceCommand</a> =&gt; <a href="#82334" title="(sbt.Logger)Boolean">setTraceError</a>(<a href="#83219" title="sbt.Project">project</a>.<a href="Project.scala.html#14612" title="=&gt; sbt.Logger">log</a>); <span title="Boolean(true)" class="keyword">true</span>
			<span title="Boolean" class="keyword">case</span> <a href="#82259" title="=&gt; java.lang.String">ShowCurrent</a> =&gt;
				<a href="#82312" title="(String,sbt.Project)Unit">printProject</a>(<span title="java.lang.String(&quot;Current project is &quot;)" class="string">&quot;Current project is &quot;</span>, <a href="#83219" title="sbt.Project">project</a>)
				<span title="object Console">Console</span>.<span title="(Any)Unit">println</span>(<span title="java.lang.String(&quot;Current Scala version is &quot;)" class="string">&quot;Current Scala version is &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#83219" title="sbt.Project">project</a>.<a href="Project.scala.html#14682" title="=&gt; String">buildScalaVersion</a>)
				<span title="object Console">Console</span>.<span title="(Any)Unit">println</span>(<span title="java.lang.String(&quot;Current log level is &quot;)" class="string">&quot;Current log level is &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#83219" title="sbt.Project">project</a>.<a href="Project.scala.html#14612" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#19507" title="=&gt; sbt.Level.Value">getLevel</a>)
				<a href="#82320" title="(sbt.Project)Unit">printTraceEnabled</a>(<a href="#83219" title="sbt.Project">project</a>)
				<span title="Boolean(true)" class="keyword">true</span>
			<span title="Boolean" class="keyword">case</span> <a href="#82261" title="=&gt; java.lang.String">ShowActions</a> =&gt; <a href="#82314" title="(sbt.Project)Unit">showActions</a>(<a href="#83219" title="sbt.Project">project</a>); <span title="Boolean(true)" class="keyword">true</span>
			<span title="Boolean" class="keyword">case</span> <a href="Logger.scala.html#28489" title="(String)Option[sbt.Level.Value]">Level</a>(<a title="sbt.Level.Value" id="83251">level</a>) =&gt; <a href="#82321" title="(sbt.Project,sbt.Level.Value)Unit">setLevel</a>(<a href="#83219" title="sbt.Project">project</a>, <a href="#83251" title="sbt.Level.Value">level</a>); <span title="Boolean(true)" class="keyword">true</span>
			<span title="Boolean" class="keyword">case</span> <a href="#82285" title="=&gt; java.lang.String">ContinuousCompileCommand</a> =&gt; <a href="#82329" title="(sbt.Project)Boolean">compileContinuously</a>(<a href="#83219" title="sbt.Project">project</a>)
			<span title="Boolean" class="keyword">case</span> <a title="String" id="83289">action</a> <span class="keyword">if</span> <a href="#83289" title="String">action</a>.<span title="(java.lang.String)Boolean">startsWith</span>(<a href="#82287" title="=&gt; java.lang.String">ContinuousExecutePrefix</a>) =&gt; <a href="#82330" title="(sbt.Project,String)Boolean">executeContinuously</a>(<a href="#83219" title="sbt.Project">project</a>, <a href="#83289" title="String">action</a>.<span title="(Int)java.lang.String">substring</span>(<a href="#82287" title="=&gt; java.lang.String">ContinuousExecutePrefix</a>.<span title="()Int">length</span>).<span title="()java.lang.String">trim</span>)
			<span title="Boolean" class="keyword">case</span> <a title="String" id="83292">action</a> =&gt; <a href="#82315" title="(sbt.Project,String)Boolean">handleAction</a>(<a href="#83219" title="sbt.Project">project</a>, <a href="#83292" title="String">action</a>)
		}
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project)Unit" id="82314">showActions</a>(<a title="sbt.Project" id="83249">project</a>: <a href="Project.scala.html#7647" title="sbt.Project">Project</a>): <span title="Unit">Unit</span> = <span title="object Console">Console</span>.<span title="(Any)Unit">println</span>(<a href="#83249" title="sbt.Project">project</a>.<a href="Project.scala.html#14631" title="=&gt; String">taskAndMethodList</a>)

	<span class="comment">// returns true if it succeeded</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project,String)Boolean" id="82315">handleAction</a>(<a title="sbt.Project" id="83273">project</a>: <a href="Project.scala.html#7647" title="sbt.Project">Project</a>, <a title="String" id="83274">action</a>: <span title="String">String</span>): <span title="Boolean">Boolean</span> =
	{
		<span class="keyword">def</span> <a title="(Option[String])Boolean" id="83294">show</a>(<a title="Option[String]" id="83297">result</a>: <span title="Option[String]">Option</span>[String]): <span title="Boolean">Boolean</span> = <a href="#82316" title="(Option[String],sbt.Logger)Boolean">showResult</a>(<a href="#83297" title="Option[String]">result</a>, <a href="#83273" title="sbt.Project">project</a>.<a href="Project.scala.html#14612" title="=&gt; sbt.Logger">log</a>)
		<span class="keyword">val</span> <a title="Long" id="83295">startTime</a> = <span title="object java.lang.System">System</span>.<span title="()Long">currentTimeMillis</span>
		<span class="keyword">val</span> <a title="Boolean" id="83296">result</a> = <a href="#82318" title="(sbt.Project,String)((String, Array[String]) =&gt; Boolean)((String) =&gt; Boolean)Boolean">withAction</a>(<a href="#83273" title="sbt.Project">project</a>, <a href="#83274" title="String">action</a>)( (<a title="String" id="83303">name</a>, <a title="Array[String]" id="83304">params</a>) =&gt; <a href="#83294" title="(Option[String])Boolean">show</a>(<a href="#83273" title="sbt.Project">project</a>.<a href="Project.scala.html#14641" title="(String,Array[String])Option[String]">call</a>(<a href="#83303" title="String">name</a>, <a href="#83304" title="Array[String]">params</a>)))( <a title="String" id="83306">name</a> =&gt; <a href="#83294" title="(Option[String])Boolean">show</a>(<a href="#83273" title="sbt.Project">project</a>.<a href="Project.scala.html#14643" title="(String)Option[String]">act</a>(<a href="#83306" title="String">name</a>)))
		<a href="#82322" title="(sbt.Project,Long,String)Unit">printTime</a>(<a href="#83273" title="sbt.Project">project</a>, <a href="#83295" title="Long">startTime</a>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>)
		<a href="#83296" title="Boolean">result</a>
	}
	<span class="comment">// returns true if it succeeded</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(Option[String],sbt.Logger)Boolean" id="82316">showResult</a>(<a title="Option[String]" id="83150">result</a>: <span title="Option[String]">Option</span>[String], <a title="sbt.Logger" id="83151">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Boolean">Boolean</span> =
	{
		<a href="#83150" title="Option[String]">result</a> <span title="Boolean" class="keyword">match</span>
		{
			<span title="Boolean" class="keyword">case</span> Some(<a title="String" id="83307">errorMessage</a>) =&gt; <a href="#83151" title="sbt.Logger">log</a>.<a href="Logger.scala.html#19519" title="(=&gt; String)Unit">error</a>(<a href="#83307" title="String">errorMessage</a>); <span title="Boolean(false)" class="keyword">false</span>
			<span title="Boolean" class="keyword">case</span> <span title="object None">None</span> =&gt; <a href="#83151" title="sbt.Logger">log</a>.<a href="Logger.scala.html#19520" title="(=&gt; String)Unit">success</a>(<span title="java.lang.String(&quot;Successful.&quot;)" class="string">&quot;Successful.&quot;</span>); <span title="Boolean(true)" class="keyword">true</span>
		}
	}
	<span class="comment">// true if the action exists</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project,String)Boolean" id="82317">checkAction</a>(<a title="sbt.Project" id="82721">project</a>: <a href="Project.scala.html#7647" title="sbt.Project">Project</a>, <a title="String" id="82722">actionString</a>: <span title="String">String</span>): <span title="Boolean">Boolean</span> =
		<a href="#82318" title="(sbt.Project,String)((String, Array[String]) =&gt; Boolean)((String) =&gt; Boolean)Boolean">withAction</a>(<a href="#82721" title="sbt.Project">project</a>, <a href="#82722" title="String">actionString</a>)(  (<a title="String" id="83310">n</a>,<a title="Array[String]" id="83311">p</a>) =&gt; <span title="Boolean(true)" class="keyword">true</span>)( <a title="String" id="83313">n</a> =&gt; <span title="Boolean(true)" class="keyword">true</span>)
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project,String)((String, Array[String]) =&gt; Boolean)((String) =&gt; Boolean)Boolean" id="82318">withAction</a>(<a title="sbt.Project" id="83298">project</a>: <a href="Project.scala.html#7647" title="sbt.Project">Project</a>, <a title="String" id="83299">actionString</a>: <span title="String">String</span>)(<a title="(String, Array[String]) =&gt; Boolean" id="83300">ifMethod</a>: (String, Array[String]) =&gt; Boolean)(<a title="(String) =&gt; Boolean" id="83301">ifAction</a>: String =&gt; Boolean): <span title="Boolean">Boolean</span> =
	{
		<span class="keyword">def</span> <a title="(String,String)Boolean" id="83314">didNotExist</a>(<a title="String" id="83315">taskType</a>: <span title="String">String</span>, <a title="String" id="83316">name</a>: <span title="String">String</span>) =
		{
			<a href="#83298" title="sbt.Project">project</a>.<a href="Project.scala.html#14612" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#19519" title="(=&gt; String)Unit">error</a>(<span title="java.lang.String(&quot;No &quot;)" class="string">&quot;No &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#83315" title="String">taskType</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; named '&quot;)" class="string">&quot; named '&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#83316" title="String">name</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;' exists.&quot;)" class="string">&quot;' exists.&quot;</span>)
			<a href="#83298" title="sbt.Project">project</a>.<a href="Project.scala.html#14612" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#19517" title="(=&gt; String)Unit">info</a>(<span title="java.lang.String(&quot;Execute 'help' for a list of commands or 'actions' for a list of available project actions and methods.&quot;)" class="string">&quot;Execute 'help' for a list of commands or 'actions' for a list of available project actions and methods.&quot;</span>)
			<span title="Boolean(false)" class="keyword">false</span>
		}
		impl.<a href="impl/CommandParser.scala.html#13592" title="object sbt.impl.CommandParser">CommandParser</a>.<a href="impl/CommandParser.scala.html#66320" title="(String)Either[String,(String, List[String])]">parse</a>(<a href="#83299" title="String">actionString</a>) <span title="Boolean" class="keyword">match</span>
		{
			<span title="Boolean" class="keyword">case</span> Left(<a title="String" id="83319">errMsg</a>) =&gt; <a href="#83298" title="sbt.Project">project</a>.<a href="Project.scala.html#14612" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#19519" title="(=&gt; String)Unit">error</a>(<a href="#83319" title="String">errMsg</a>); <span title="Boolean(false)" class="keyword">false</span>
			<span title="Boolean" class="keyword">case</span> Right((<a title="String" id="83321">name</a>, <a title="List[String]" id="83322">parameters</a>)) =&gt;
				<span title="Boolean" class="keyword">if</span>(<a href="#83298" title="sbt.Project">project</a>.<a href="Project.scala.html#14625" title="=&gt; scala.collection.Map[String,project.MethodTask]">methods</a>.<span title="(String)Boolean">contains</span>(<a href="#83321" title="String">name</a>))
					<a href="#83300" title="(String,Array[String])Boolean" id="25590">ifMethod</a>(<a href="#83321" title="String">name</a>, <a href="#83322" title="List[String]">parameters</a>.<a title="Array[String]" id="16552">toArray</a>)
				<span class="keyword">else</span> <span title="Boolean" class="keyword">if</span>(<span title="=&gt; Boolean">!</span><a href="#83322" title="List[String]">parameters</a>.<span title="=&gt; Boolean">isEmpty</span>)
					<a href="#83314" title="(String,String)Boolean">didNotExist</a>(<span title="java.lang.String(&quot;method&quot;)" class="string">&quot;method&quot;</span>, <a href="#83321" title="String">name</a>)
				<span class="keyword">else</span> <span title="Boolean" class="keyword">if</span>(<a href="#83298" title="sbt.Project">project</a>.<a href="Project.scala.html#14635" title="=&gt; scala.collection.Map[String,sbt.Project#Task]">deepTasks</a>.<span title="(String)Boolean">contains</span>(<a href="#83321" title="String">name</a>))
					<a href="#83301" title="(String)Boolean" id="16333">ifAction</a>(<a href="#83321" title="String">name</a>)
				<span class="keyword">else</span>
					<a href="#83314" title="(String,String)Boolean">didNotExist</a>(<span title="java.lang.String(&quot;action&quot;)" class="string">&quot;action&quot;</span>, <a href="#83321" title="String">name</a>)
		}
	}

	<span class="comment">/** Toggles whether stack traces are enabled.*/</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project,String)Boolean" id="82319">setTrace</a>(<a title="sbt.Project" id="83198">project</a>: <a href="Project.scala.html#7647" title="sbt.Project">Project</a>, <a title="String" id="83199">value</a>: <span title="String">String</span>): <span title="Boolean">Boolean</span> =
	{
		<span class="keyword">try</span>
		{
			<span class="keyword">val</span> <a title="Int" id="83327">newValue</a> = <span title="Int" class="keyword">if</span>(<a href="#83199" title="String">value</a> <span title="(AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;on&quot;)" class="string">&quot;on&quot;</span>) <a href="#82234" title="=&gt; Int">MaxInt</a> <span class="keyword">else</span> <span title="Int" class="keyword">if</span>(<a href="#83199" title="String">value</a> <span title="(AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;off&quot;)" class="string">&quot;off&quot;</span>) -<span title="Int(-1)" class="int">1</span> <span class="keyword">else</span> <span title="Int" class="keyword">if</span>(<a href="#83199" title="String">value</a> <span title="(AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;nosbt&quot;)" class="string">&quot;nosbt&quot;</span>) <span title="Int(0)" class="int">0</span> <span class="keyword">else</span> <a href="#83199" title="implicit scala.Predef.stringWrapper : (String)scala.runtime.RichString">value</a>.<span title="=&gt; Int">toInt</span>
			<a href="#83198" title="sbt.Project">project</a>.<a href="Project.scala.html#14640" title="=&gt; List[sbt.Project]">projectClosure</a>.<span title="((sbt.Project) =&gt; Unit)Unit">foreach</span>(<a href="#83337" title="sbt.Project">_</a>.<a href="Project.scala.html#14612" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#19509" title="(Int)Unit">setTrace</a>(<a href="#83327" title="Int">newValue</a>))
			<a href="#82320" title="(sbt.Project)Unit">printTraceEnabled</a>(<a href="#83198" title="sbt.Project">project</a>)
			<span title="Boolean(true)" class="keyword">true</span>
		}
		<span class="keyword">catch</span> { <span title="Boolean" class="keyword">case</span> _: <span title="NumberFormatException">NumberFormatException</span> =&gt; <a href="#82334" title="(sbt.Logger)Boolean">setTraceError</a>(<a href="#83198" title="sbt.Project">project</a>.<a href="Project.scala.html#14612" title="=&gt; sbt.Logger">log</a>) }
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project)Unit" id="82320">printTraceEnabled</a>(<a title="sbt.Project" id="83248">project</a>: <a href="Project.scala.html#7647" title="sbt.Project">Project</a>)
	{
		<span class="keyword">def</span> <a title="(Int)java.lang.String" id="83338">traceLevel</a>(<a title="Int" id="83339">level</a>: <span title="Int">Int</span>) = <span title="java.lang.String" class="keyword">if</span>(<a href="#83339" title="Int">level</a> <span title="(Int)Boolean">==</span> <span title="Int(0)" class="int">0</span>) <span title="java.lang.String(&quot; (no sbt stack elements)&quot;)" class="string">&quot; (no sbt stack elements)&quot;</span> <span class="keyword">else</span> <span title="java.lang.String" class="keyword">if</span>(<a href="#83339" title="Int">level</a> <span title="(Int)Boolean">==</span> <a href="#82234" title="=&gt; Int">MaxInt</a>) <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot; (maximum &quot;)" class="string">&quot; (maximum &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#83339" title="Int">level</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; stack elements per exception)&quot;)" class="string">&quot; stack elements per exception)&quot;</span>
		<span title="object Console">Console</span>.<span title="(Any)Unit">println</span>(<span title="java.lang.String(&quot;Stack traces are &quot;)" class="string">&quot;Stack traces are &quot;</span> <span title="(Any)java.lang.String">+</span> (<span title="Any" class="keyword">if</span>(<a href="#83248" title="sbt.Project">project</a>.<a href="Project.scala.html#14612" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#19511" title="=&gt; Boolean">traceEnabled</a>) <span title="java.lang.String(&quot;enabled&quot;)" class="string">&quot;enabled&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#83338" title="(Int)java.lang.String">traceLevel</a>(<a href="#83248" title="sbt.Project">project</a>.<a href="Project.scala.html#14612" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#19510" title="=&gt; Int">getTrace</a>) <span class="keyword">else</span> <span title="java.lang.String(&quot;disabled&quot;)" class="string">&quot;disabled&quot;</span>))
	}
	<span class="comment">/** Sets the logging level on the given project.*/</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project,sbt.Level.Value)Unit" id="82321">setLevel</a>(<a title="sbt.Project" id="83252">project</a>: <a href="Project.scala.html#7647" title="sbt.Project">Project</a>, <a title="sbt.Level.Value" id="83253">level</a>: Level.<a title="sbt.Level.Value" id="21709">Value</a>)
	{
		<a href="#83252" title="sbt.Project">project</a>.<a href="Project.scala.html#14640" title="=&gt; List[sbt.Project]">projectClosure</a>.<span title="((sbt.Project) =&gt; Unit)Unit">foreach</span>(<a href="#83345" title="sbt.Project">_</a>.<a href="Project.scala.html#14612" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#19508" title="(sbt.Level.Value)Unit">setLevel</a>(<a href="#83253" title="sbt.Level.Value">level</a>))
		<span title="object Console">Console</span>.<span title="(Any)Unit">println</span>(<span title="java.lang.String(&quot;Set log level to &quot;)" class="string">&quot;Set log level to &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#83252" title="sbt.Project">project</a>.<a href="Project.scala.html#14612" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#19507" title="=&gt; sbt.Level.Value">getLevel</a>)
	}
	<span class="comment">/** Prints the elapsed time to the given project's log using the given
	* initial time and the label 's'.*/</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project,Long,String)Unit" id="82322">printTime</a>(<a title="sbt.Project" id="82469">project</a>: <a href="Project.scala.html#7647" title="sbt.Project">Project</a>, <a title="Long" id="82470">startTime</a>: <span title="Long">Long</span>, <a title="String" id="82471">s</a>: <span title="String">String</span>)
	{
		<span class="keyword">val</span> <a title="Long" id="83347">endTime</a> = <span title="object java.lang.System">System</span>.<span title="()Long">currentTimeMillis</span>()
		<a href="#82469" title="sbt.Project">project</a>.<a href="Project.scala.html#14612" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#19517" title="(=&gt; String)Unit">info</a>(<span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>)
		<span class="keyword">val</span> <a title="java.lang.String" id="83348">ss</a> = <span title="java.lang.String" class="keyword">if</span>(<a href="#82471" title="implicit scala.Predef.stringWrapper : (String)scala.runtime.RichString">s</a>.<span title="=&gt; Boolean">isEmpty</span>) <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <a href="#82471" title="String">s</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span>
		<a href="#82469" title="sbt.Project">project</a>.<a href="Project.scala.html#14612" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#19517" title="(=&gt; String)Unit">info</a>(<span title="java.lang.String(&quot;Total &quot;)" class="string">&quot;Total &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#83348" title="java.lang.String">ss</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;time: &quot;)" class="string">&quot;time: &quot;</span> <span title="(Any)java.lang.String">+</span> (<a href="#83347" title="Long">endTime</a> <a title="(Long)Long" id="3219">-</a> <a href="#82470" title="Long">startTime</a> <a title="(Int)Long" id="3204">+</a> <span title="Int(500)" class="int">500</span>) <a title="(Int)Long" id="3207">/</a> <span title="Int(1000)" class="int">1000</span> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; s, completed &quot;)" class="string">&quot; s, completed &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#82323" title="=&gt; java.lang.String">nowString</a>)
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="82323">nowString</a> =
	{
		<span class="keyword">import</span> java.text.DateFormat
		<span class="keyword">val</span> <a title="java.text.DateFormat" id="83364">format</a> = <a title="object java.text.DateFormat" id="20364">DateFormat</a>.<a title="(Int,Int)java.text.DateFormat" id="83406">getDateTimeInstance</a>(DateFormat.<span title="Int(2)">MEDIUM</span>, DateFormat.<span title="Int(2)">MEDIUM</span>)
		<a href="#83364" title="java.text.DateFormat">format</a>.<a title="(java.util.Date)java.lang.String" id="83395">format</a>(<span title="java.util.Date" class="keyword">new</span> java.util.<a title="java.util.Date" id="5298">Date</a>)
	}
	<span class="comment">/** Provides a partial message describing why the given property is undefined. */</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project#UserProperty[_])String" id="82324">undefinedMessage</a>(<a title="sbt.Project#UserProperty[_]" id="83487">property</a>: <a href="Environment.scala.html#14771" title="sbt.Project#UserProperty[_]">Project</a>#UserProperty[_]): <span title="String">String</span> =
	{
		<a href="#83487" title="sbt.Project#UserProperty[_]">property</a>.<a href="Environment.scala.html#55733" title="=&gt; sbt.PropertyResolution[Any]">resolve</a> <span title="String" class="keyword">match</span>
		{
			<span title="java.lang.String(&quot; is not defined.&quot;)" class="keyword">case</span> <a title="sbt.UndefinedValue" id="83499">vu</a>: <a href="Environment.scala.html#11607" title="sbt.UndefinedValue">UndefinedValue</a> =&gt; <span title="java.lang.String(&quot; is not defined.&quot;)" class="string">&quot; is not defined.&quot;</span>
			<span title="java.lang.String" class="keyword">case</span> <a title="sbt.ResolutionException" id="83500">e</a>: <a href="Environment.scala.html#6894" title="sbt.ResolutionException">ResolutionException</a> =&gt; <span title="java.lang.String(&quot; has invalid value: &quot;)" class="string">&quot; has invalid value: &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#83500" title="sbt.ResolutionException">e</a>.<span title="()java.lang.String">toString</span>
			<span title="java.lang.String(&quot;&quot;)" class="keyword">case</span> _ =&gt; <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
		}
	}
	<span class="comment">/** Prompts the user for the value of undefined properties.  'first' is true if this is the first time
	* that the current property has been prompted.*/</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project,List[(String, sbt.Project#Property[_])],Boolean)Boolean" id="82325">fillUndefinedProperties</a>(<a title="sbt.Project" id="83501">project</a>: <a href="Project.scala.html#7647" title="sbt.Project">Project</a>, <a title="List[(String, sbt.Project#Property[_])]" id="83502">properties</a>: <span title="List[(String, sbt.Project#Property[_])]">List</span>[(String, Project#Property[_])], <a title="Boolean" id="83503">first</a>: <span title="Boolean">Boolean</span>): <span title="Boolean">Boolean</span> =
	{
		<a href="#83502" title="List[(String, sbt.Project#Property[_])]">properties</a> <span title="Boolean" class="keyword">match</span>
		{
			<span title="Boolean" class="keyword">case</span> (<a title="String" id="83511">name</a>, <a title="sbt.Project#Property[?]" id="83512">variable</a>) :: <a title="List[(String, sbt.Project#Property[_])]" id="83514">tail</a> =&gt;
			{
				<span class="keyword">val</span> <a title="Option[Boolean]" id="83515">shouldAdvanceOrQuit</a> =
					<a href="#83512" title="sbt.Project#Property[?]">variable</a> <span title="Option[Boolean]" class="keyword">match</span>
					{
						<span title="Option[Boolean]" class="keyword">case</span> <a title="sbt.Project#UserProperty[_]" id="83517">property</a>: Project#<a href="Environment.scala.html#14771" title="sbt.Project#UserProperty[_]">UserProperty</a>[_] =&gt;
							<span title="Unit" class="keyword">if</span>(<a href="#83503" title="Boolean">first</a>)
								<a href="#83501" title="sbt.Project">project</a>.<a href="Project.scala.html#14612" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#19519" title="(=&gt; String)Unit">error</a>(<span title="java.lang.String(&quot; Property '&quot;)" class="string">&quot; Property '&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#83511" title="String">name</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;' &quot;)" class="string">&quot;' &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#82324" title="(sbt.Project#UserProperty[_])String">undefinedMessage</a>(<a href="#83517" title="sbt.Project#UserProperty[_]">property</a>))
							<span class="keyword">for</span>(<a title="((java.lang.String) =&gt; Boolean)Option[Boolean]" id="83532">newValue</a> &lt;- <a href="LineReader.scala.html#7936" title="object sbt.SimpleReader">SimpleReader</a>.<a href="LineReader.scala.html#43687" title="(String)Option[java.lang.String]">readLine</a>(<span title="java.lang.String(&quot;  Enter new value for &quot;)" class="string">&quot;  Enter new value for &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#83511" title="String">name</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; : &quot;)" class="string">&quot; : &quot;</span>)) <span class="keyword">yield</span>
							{
								<span class="keyword">try</span>
								{
									<a href="#83517" title="sbt.Project#UserProperty[_]">property</a>.<a href="Environment.scala.html#55745" title="(String)Unit">setStringValue</a>(<a href="#83532" title="java.lang.String">newValue</a>)
									<span title="Boolean(true)" class="keyword">true</span>
								}
								<span class="keyword">catch</span>
								{
									<span title="Boolean" class="keyword">case</span> <a title="java.lang.Throwable" id="83533">e</a> =&gt;
										<a href="#83501" title="sbt.Project">project</a>.<a href="Project.scala.html#14612" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#19519" title="(=&gt; String)Unit">error</a>(<span title="java.lang.String(&quot;Invalid value: &quot;)" class="string">&quot;Invalid value: &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#83533" title="java.lang.Throwable">e</a>.<span title="()java.lang.String">getMessage</span>)
										<span title="Boolean(false)" class="keyword">false</span>
								}
							}
						<span title="Some[Boolean]" class="keyword">case</span> _ =&gt; <span title="(Boolean)Some[Boolean]">Some</span>(<span title="Boolean(true)" class="keyword">true</span>)
					}
				<a href="#83515" title="Option[Boolean]">shouldAdvanceOrQuit</a> <span title="Boolean" class="keyword">match</span>
				{
					<span title="Boolean" class="keyword">case</span> Some(<a title="Boolean" id="83536">shouldAdvance</a>) =&gt; <a href="#82325" title="(sbt.Project,List[(String, sbt.Project#Property[_])],Boolean)Boolean">fillUndefinedProperties</a>(<a href="#83501" title="sbt.Project">project</a>, <span title="List[(String, sbt.Project#Property[_])]" class="keyword">if</span>(<a href="#83536" title="Boolean">shouldAdvance</a>) <a href="#83514" title="List[(String, sbt.Project#Property[_])]">tail</a> <span class="keyword">else</span> <a href="#83502" title="List[(String, sbt.Project#Property[_])]">properties</a>, <a href="#83536" title="Boolean">shouldAdvance</a>)
					<span title="Boolean(false)" class="keyword">case</span> <span title="object None">None</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
				}
			}
			<span title="Boolean(true)" class="keyword">case</span> <span title="object Nil">Nil</span> =&gt; <span title="Boolean(true)" class="keyword">true</span>
		}
	}
	<span class="comment">/** Iterates over the undefined properties in the given projects, prompting the user for the value of each undefined
	* property.*/</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(List[sbt.Project])Boolean" id="82326">fillUndefinedProjectProperties</a>(<a title="List[sbt.Project]" id="82412">projects</a>: <span title="List[sbt.Project]">List</span>[Project]): <span title="Boolean">Boolean</span> =
	{
		<a href="#82412" title="List[sbt.Project]">projects</a> <span title="Boolean" class="keyword">match</span>
		{
			<span title="Boolean" class="keyword">case</span> <a title="sbt.Project" id="83537">project</a> :: <a title="List[sbt.Project]" id="83538">remaining</a> =&gt;
				<span class="keyword">val</span> <a title="List[(String, project.Property[_])]" id="83539">uninitialized</a> = <a href="#83537" title="sbt.Project">project</a>.<a href="Environment.scala.html#14802" title="=&gt; Iterable[(String, project.Property[_])]">uninitializedProperties</a>.<span title="=&gt; List[(String, project.Property[_])]">toList</span>
				<span title="Boolean" class="keyword">if</span>(<a href="#83539" title="List[(String, project.Property[_])]">uninitialized</a>.<span title="=&gt; Boolean">isEmpty</span>)
					<a href="#82326" title="(List[sbt.Project])Boolean">fillUndefinedProjectProperties</a>(<a href="#83538" title="List[sbt.Project]">remaining</a>)
				<span class="keyword">else</span>
				{
					<a href="#83537" title="sbt.Project">project</a>.<a href="Project.scala.html#14612" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#19519" title="(=&gt; String)Unit">error</a>(<span title="java.lang.String(&quot;Project in &quot;)" class="string">&quot;Project in &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#83537" title="sbt.Project">project</a>.<a href="Project.scala.html#14617" title="=&gt; sbt.ProjectInfo">info</a>.<a href="ProjectInfo.scala.html#18950" title="=&gt; java.io.File">projectDirectory</a>.<span title="()java.lang.String">getAbsolutePath</span> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; has undefined properties.&quot;)" class="string">&quot; has undefined properties.&quot;</span>)
					<span class="keyword">val</span> <a title="Boolean" id="83540">result</a> = <a href="#82325" title="(sbt.Project,List[(String, sbt.Project#Property[_])],Boolean)Boolean">fillUndefinedProperties</a>(<a href="#83537" title="sbt.Project">project</a>, <a href="#83539" title="List[(String, project.Property[_])]">uninitialized</a>, <span title="Boolean(true)" class="keyword">true</span>) <span title="(Boolean)Boolean">&amp;&amp;</span> <a href="#82326" title="(List[sbt.Project])Boolean">fillUndefinedProjectProperties</a>(<a href="#83538" title="List[sbt.Project]">remaining</a>)
					<a href="#83537" title="sbt.Project">project</a>.<a href="Environment.scala.html#14801" title="()Option[String]">saveEnvironment</a>()
					<a href="#83540" title="Boolean">result</a>
				}
			<span title="Boolean(true)" class="keyword">case</span> <span title="object Nil">Nil</span> =&gt; <span title="Boolean(true)" class="keyword">true</span>
		}
	}
	<span class="comment">/** Prints the value of the property with the given name in the given project. */</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project,String)Boolean" id="82327">getProperty</a>(<a title="sbt.Project" id="83176">project</a>: <a href="Project.scala.html#7647" title="sbt.Project">Project</a>, <a title="String" id="83177">propertyName</a>: <span title="String">String</span>): <span title="Boolean">Boolean</span> =
	{
		<span title="Boolean" class="keyword">if</span>(<a href="#83177" title="implicit scala.Predef.stringWrapper : (String)scala.runtime.RichString">propertyName</a>.<span title="=&gt; Boolean">isEmpty</span>)
		{
			<a href="#83176" title="sbt.Project">project</a>.<a href="Project.scala.html#14612" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#19519" title="(=&gt; String)Unit">error</a>(<span title="java.lang.String(&quot;No property name specified.&quot;)" class="string">&quot;No property name specified.&quot;</span>)
			<span title="Boolean(false)" class="keyword">false</span>
		}
		<span class="keyword">else</span>
		{
			<a href="#83176" title="sbt.Project">project</a>.<a href="Environment.scala.html#14799" title="(String)Option[project.UserProperty[_]]">getPropertyNamed</a>(<a href="#83177" title="String">propertyName</a>) <span title="Boolean" class="keyword">match</span>
			{
				<span title="Boolean" class="keyword">case</span> Some(<a title="project.UserProperty[?]" id="83551">property</a>) =&gt;
					<a href="#83551" title="project.UserProperty[?]">property</a>.<a href="Environment.scala.html#55733" title="=&gt; sbt.PropertyResolution[?]">resolve</a> <span title="Boolean" class="keyword">match</span>
					{
						<span title="Boolean" class="keyword">case</span> <a title="sbt.UndefinedValue" id="83553">u</a>: <a href="Environment.scala.html#11607" title="sbt.UndefinedValue">UndefinedValue</a> =&gt; <a href="#83176" title="sbt.Project">project</a>.<a href="Project.scala.html#14612" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#19519" title="(=&gt; String)Unit">error</a>(<span title="java.lang.String(&quot;Value of property '&quot;)" class="string">&quot;Value of property '&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#83177" title="String">propertyName</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;' is undefined.&quot;)" class="string">&quot;' is undefined.&quot;</span>); <span title="Boolean(false)" class="keyword">false</span>
						<span title="Boolean" class="keyword">case</span> ResolutionException(<a title="String" id="83555">m</a>, <a title="Option[Throwable]" id="83556">e</a>) =&gt; <a href="#83176" title="sbt.Project">project</a>.<a href="Project.scala.html#14612" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#19519" title="(=&gt; String)Unit">error</a>(<a href="#83555" title="String">m</a>); <span title="Boolean(false)" class="keyword">false</span>
						<span title="Boolean" class="keyword">case</span> DefinedValue(<a title="Any" id="83558">value</a>, <a title="Boolean" id="83559">isInherited</a>, <a title="Boolean" id="83560">isDefault</a>) =&gt; <span title="object Console">Console</span>.<span title="(Any)Unit">println</span>(<a href="#83558" title="Any">value</a>.<span title="()java.lang.String">toString</span>); <span title="Boolean(true)" class="keyword">true</span>
					}
				<span title="Boolean" class="keyword">case</span> <span title="object None">None</span> =&gt;
					<span class="keyword">val</span> <a title="java.lang.String" id="83562">value</a> = <span title="object java.lang.System">System</span>.<a title="(java.lang.String)java.lang.String" id="34097">getProperty</a>(<a href="#83177" title="String">propertyName</a>)
					<span title="Unit" class="keyword">if</span>(<a href="#83562" title="java.lang.String">value</a> <span title="(AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span>)
						<a href="#83176" title="sbt.Project">project</a>.<a href="Project.scala.html#14612" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#19519" title="(=&gt; String)Unit">error</a>(<span title="java.lang.String(&quot;No property named '&quot;)" class="string">&quot;No property named '&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#83177" title="String">propertyName</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;' is defined.&quot;)" class="string">&quot;' is defined.&quot;</span>)
					<span class="keyword">else</span>
						<span title="object Console">Console</span>.<span title="(Any)Unit">println</span>(<a href="#83562" title="java.lang.String">value</a>)
					<a href="#83562" title="java.lang.String">value</a> <span title="(AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span>
			}
		}
	}
	<span class="comment">/** Separates the space separated property name/value pair and stores the value in the user-defined property
	* with the given name in the given project.  If no such property exists, the value is stored in a system
	* property. */</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project,String)Boolean" id="82328">setProperty</a>(<a title="sbt.Project" id="83154">project</a>: <a href="Project.scala.html#7647" title="sbt.Project">Project</a>, <a title="String" id="83155">propertyNameAndValue</a>: <span title="String">String</span>): <span title="Boolean">Boolean</span> =
	{
		<span class="keyword">val</span> <a title="java.util.regex.Matcher" id="83568">m</a> = <span title="implicit scala.Predef.stringWrapper : (String)scala.runtime.RichString" class="string">&quot;&quot;&quot;(\S+)(\s+\S.*)?&quot;&quot;&quot;</span>.<a title="=&gt; scala.util.matching.Regex" id="17025">r</a>.<a title="=&gt; java.util.regex.Pattern" id="40782">pattern</a>.<span title="(java.lang.CharSequence)java.util.regex.Matcher">matcher</span>(<a href="#83155" title="String">propertyNameAndValue</a>)
		<span title="Boolean" class="keyword">if</span>(<a href="#83568" title="java.util.regex.Matcher">m</a>.<span title="()Boolean">matches</span>())
		{
			<span class="keyword">val</span> <a title="java.lang.String" id="83573">name</a> = <a href="#83568" title="java.util.regex.Matcher">m</a>.<span title="(Int)java.lang.String">group</span>(<span title="Int(1)" class="int">1</span>)
			<span class="keyword">val</span> <a title="java.lang.String" id="83574">newValue</a> =
			{
				<span class="keyword">val</span> <a title="java.lang.String" id="83577">v</a> = <a href="#83568" title="java.util.regex.Matcher">m</a>.<span title="(Int)java.lang.String">group</span>(<span title="Int(2)" class="int">2</span>)
				<span title="java.lang.String" class="keyword">if</span>(<a href="#83577" title="java.lang.String">v</a> <span title="(AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span>) <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <a href="#83577" title="java.lang.String">v</a>.<span title="()java.lang.String">trim</span>
			}
			<span class="keyword">def</span> <a title="(String)Unit" id="83575">notePending</a>(<a title="String" id="83580">changed</a>: <span title="String">String</span>): <span title="Unit">Unit</span> = <span title="object Console">Console</span>.<span title="(Any)Unit">println</span>(<span title="java.lang.String(&quot; Build will use &quot;)" class="string">&quot; Build will use &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#83580" title="String">changed</a> <span title="(Any)java.lang.String">+</span> <a href="#83574" title="java.lang.String">newValue</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; after running 'reload' command or restarting sbt.&quot;)" class="string">&quot; after running 'reload' command or restarting sbt.&quot;</span>)
			<a href="#83154" title="sbt.Project">project</a>.<a href="Environment.scala.html#14799" title="(String)Option[project.UserProperty[_]]">getPropertyNamed</a>(<a href="#83573" title="java.lang.String">name</a>) <span title="Boolean" class="keyword">match</span>
			{
				<span title="Boolean" class="keyword">case</span> Some(<a title="project.UserProperty[?]" id="83582">property</a>) =&gt;
				{
					<span class="keyword">try</span>
					{
						<a href="#83582" title="project.UserProperty[?]">property</a>.<a href="Environment.scala.html#55745" title="(String)Unit">setStringValue</a>(<a href="#83574" title="java.lang.String">newValue</a>)
						<a href="#83582" title="project.UserProperty[?]">property</a> <span title="Unit" class="keyword">match</span>
						{
							<span title="Unit" class="keyword">case</span> <a href="#83154" title="sbt.Project">project</a>.<a href="Project.scala.html#14672" title="=&gt; project.Property[String]">defScalaVersion</a> | <a href="#83154" title="sbt.Project">project</a>.<a href="Project.scala.html#14680" title="=&gt; project.Property[String]">buildScalaVersions</a> =&gt; <a href="#83575" title="(String)Unit">notePending</a>(<span title="java.lang.String(&quot;Scala &quot;)" class="string">&quot;Scala &quot;</span>)
							<span title="Unit" class="keyword">case</span> <a href="#83154" title="sbt.Project">project</a>.<a href="Project.scala.html#14674" title="=&gt; project.Property[String]">sbtVersion</a> =&gt; <a href="#83575" title="(String)Unit">notePending</a>(<span title="java.lang.String(&quot;sbt &quot;)" class="string">&quot;sbt &quot;</span>)
							<span title="Unit" class="keyword">case</span> _ =&gt;  <span title="object Console">Console</span>.<span title="(Any)Unit">println</span>(<span title="java.lang.String(&quot; Set property '&quot;)" class="string">&quot; Set property '&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#83573" title="java.lang.String">name</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;' = '&quot;)" class="string">&quot;' = '&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#83574" title="java.lang.String">newValue</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;'&quot;)" class="string">&quot;'&quot;</span>)
						}
						<span title="Boolean(true)" class="keyword">true</span>
					}
					<span class="keyword">catch</span> { <span title="Boolean" class="keyword">case</span> <a title="java.lang.Throwable" id="83586">e</a> =&gt;
						<a href="#83154" title="sbt.Project">project</a>.<a href="Project.scala.html#14612" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#19519" title="(=&gt; String)Unit">error</a>(<span title="java.lang.String(&quot;Error setting property '&quot;)" class="string">&quot;Error setting property '&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#83573" title="java.lang.String">name</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;' in &quot;)" class="string">&quot;' in &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#83154" title="sbt.Project">project</a>.<a href="Environment.scala.html#14751" title="=&gt; String">environmentLabel</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#83586" title="java.lang.Throwable">e</a>.<span title="()java.lang.String">toString</span>)
						<span title="Boolean(false)" class="keyword">false</span>
					}
					<span class="keyword">finally</span> { <a href="#83154" title="sbt.Project">project</a>.<a href="Environment.scala.html#14801" title="()Option[String]">saveEnvironment</a>().<a title="((String) =&gt; Unit)Unit" id="19022">foreach</a>(<a title="String" id="83589">msg</a> =&gt; <a href="#83154" title="sbt.Project">project</a>.<a href="Project.scala.html#14612" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#19519" title="(=&gt; String)Unit">error</a>(<span title="java.lang.String(&quot;Error saving environment: &quot;)" class="string">&quot;Error saving environment: &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#83589" title="String">msg</a>)) }
				}
				<span title="Boolean" class="keyword">case</span> <span title="object None">None</span> =&gt;
				{
					<span title="object java.lang.System">System</span>.<a title="(java.lang.String,java.lang.String)java.lang.String" id="34099">setProperty</a>(<a href="#83573" title="java.lang.String">name</a>, <a href="#83574" title="java.lang.String">newValue</a>)
					<a href="#83154" title="sbt.Project">project</a>.<a href="Project.scala.html#14612" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#19517" title="(=&gt; String)Unit">info</a>(<span title="java.lang.String(&quot; Set system property '&quot;)" class="string">&quot; Set system property '&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#83573" title="java.lang.String">name</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;' = '&quot;)" class="string">&quot;' = '&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#83574" title="java.lang.String">newValue</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;'&quot;)" class="string">&quot;'&quot;</span>)
					<span title="Boolean(true)" class="keyword">true</span>
				}
			}
		}
		<span class="keyword">else</span>
			<a href="#82335" title="(sbt.Logger)Boolean">setArgumentError</a>(<a href="#83154" title="sbt.Project">project</a>.<a href="Project.scala.html#14612" title="=&gt; sbt.Logger">log</a>)
	}

	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project)Boolean" id="82329">compileContinuously</a>(<a title="sbt.Project" id="83254">project</a>: <a href="Project.scala.html#7647" title="sbt.Project">Project</a>) = <a href="#82330" title="(sbt.Project,String)Boolean">executeContinuously</a>(<a href="#83254" title="sbt.Project">project</a>, <span title="java.lang.String(&quot;test-compile&quot;)" class="string">&quot;test-compile&quot;</span>)
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project,String)Boolean" id="82330">executeContinuously</a>(<a title="sbt.Project" id="83256">project</a>: <a href="Project.scala.html#7647" title="sbt.Project">Project</a>, <a title="String" id="83257">action</a>: <span title="String">String</span>) =
	{
		<span class="keyword">def</span> <a title="=&gt; Boolean" id="83259">shouldTerminate</a>: <span title="Boolean">Boolean</span> = (<span title="object java.lang.System">System</span>.<span title="java.io.InputStream">in</span>.<span title="()Int">available</span> <span title="(Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span>) <span title="(Boolean)Boolean">&amp;&amp;</span> (<a href="#83256" title="sbt.Project">project</a>.<a href="Project.scala.html#14705" title="(Int)Boolean">terminateWatch</a>(<span title="object java.lang.System">System</span>.<span title="java.io.InputStream">in</span>.<span title="()Int">read</span>()) <span title="(Boolean)Boolean">||</span> <a href="#83259" title="=&gt; Boolean">shouldTerminate</a>)
		<span class="keyword">val</span> <a title="Boolean" id="83260">actionValid</a> = <a href="#82317" title="(sbt.Project,String)Boolean">checkAction</a>(<a href="#83256" title="sbt.Project">project</a>, <a href="#83257" title="String">action</a>)
		<span title="Unit" class="keyword">if</span>(<a href="#83260" title="Boolean">actionValid</a>)
		{
			<a href="SourceModificationWatch.scala.html#6835" title="object sbt.SourceModificationWatch">SourceModificationWatch</a>.<a href="SourceModificationWatch.scala.html#69565" title="(sbt.Project,Int)(=&gt; Boolean)(=&gt; Unit)Unit">watchUntil</a>(<a href="#83256" title="sbt.Project">project</a>, <a href="#82299" title="=&gt; Int">ContinuousCompilePollDelaySeconds</a>)(<a href="#83259" title="=&gt; Boolean">shouldTerminate</a>)
			{
				<a href="#82315" title="(sbt.Project,String)Boolean">handleAction</a>(<a href="#83256" title="sbt.Project">project</a>, <a href="#83257" title="String">action</a>)
				<span title="object Console">Console</span>.<span title="(Any)Unit">println</span>(<span title="java.lang.String(&quot;Waiting for source changes... (press enter to interrupt)&quot;)" class="string">&quot;Waiting for source changes... (press enter to interrupt)&quot;</span>)
			}
			<a href="#83276" title="Unit" class="keyword">while</a> (<span title="object java.lang.System">System</span>.<span title="java.io.InputStream">in</span>.<span title="()Int">available</span>() <span title="(Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span>) <span title="object java.lang.System">System</span>.<span title="java.io.InputStream">in</span>.<span title="()Int">read</span>()
		}
		<a href="#83260" title="Boolean">actionValid</a>
	}

	<span class="keyword">def</span> <a title="=&gt; java.lang.String" id="82331">validTraceArguments</a> = <span title="java.lang.String(&quot;'on', 'nosbt', 'off', or &lt;integer&gt;&quot;)" class="string">&quot;'on', 'nosbt', 'off', or &lt;integer&gt;&quot;</span>
	<span class="keyword">def</span> <a title="=&gt; java.lang.String" id="82332">traceExplanation</a> = <span title="java.lang.String(&quot;'nosbt' prints stack traces up to the first sbt frame.  An integer gives the number of frames to show per exception.&quot;)" class="string">&quot;'nosbt' prints stack traces up to the first sbt frame.  An integer gives the number of frames to show per exception.&quot;</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(String)Boolean" id="82333">isTerminateAction</a>(<a title="String" id="82400">s</a>: <span title="String">String</span>) = <a href="#82273" title="=&gt; Iterable[String]">TerminateActions</a>.<span title="=&gt; Iterator[String]">elements</span>.<a title="(Any)Boolean" id="22996">contains</a>(<a href="#82400" title="String">s</a>.<a title="()java.lang.String" id="5812">toLowerCase</a>)
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Logger)Boolean" id="82334">setTraceError</a>(<a title="sbt.Logger" id="83244">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>) = <a href="#82338" title="(sbt.Logger)(String)Boolean">logError</a>(<a href="#83244" title="sbt.Logger">log</a>)(<span title="java.lang.String(&quot;Invalid arguments for 'trace': expected &quot;)" class="string">&quot;Invalid arguments for 'trace': expected &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#82331" title="=&gt; java.lang.String">validTraceArguments</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span>)
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Logger)Boolean" id="82335">setArgumentError</a>(<a title="sbt.Logger" id="83240">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>) = <a href="#82338" title="(sbt.Logger)(String)Boolean">logError</a>(<a href="#83240" title="sbt.Logger">log</a>)(<span title="java.lang.String(&quot;Invalid arguments for 'set': expected property name and new value.&quot;)" class="string">&quot;Invalid arguments for 'set': expected property name and new value.&quot;</span>)
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Logger)Boolean" id="82336">getArgumentError</a>(<a title="sbt.Logger" id="83234">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>) = <a href="#82338" title="(sbt.Logger)(String)Boolean">logError</a>(<a href="#83234" title="sbt.Logger">log</a>)(<span title="java.lang.String(&quot;Invalid arguments for 'get': expected property name.&quot;)" class="string">&quot;Invalid arguments for 'get': expected property name.&quot;</span>)
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Logger)Boolean" id="82337">setProjectError</a>(<a title="sbt.Logger" id="83242">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>) = <a href="#82338" title="(sbt.Logger)(String)Boolean">logError</a>(<a href="#83242" title="sbt.Logger">log</a>)(<span title="java.lang.String(&quot;Invalid arguments for 'project': expected project name.&quot;)" class="string">&quot;Invalid arguments for 'project': expected project name.&quot;</span>)
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Logger)(String)Boolean" id="82338">logError</a>(<a title="sbt.Logger" id="83236">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>)(<a title="String" id="83237">s</a>: <span title="String">String</span>) = { <a href="#83236" title="sbt.Logger">log</a>.<a href="Logger.scala.html#19519" title="(=&gt; String)Unit">error</a>(<a href="#83237" title="String">s</a>); <span title="Boolean(false)" class="keyword">false</span> }

	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Logger,Throwable)Unit" id="82339">logCommandError</a>(<a title="sbt.Logger" id="82596">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>, <a title="Throwable" id="82597">e</a>: <a title="Throwable" id="2088">Throwable</a>) =
		<a href="#82597" title="Throwable">e</a> <span title="Unit" class="keyword">match</span>
		{
			<span title="Unit" class="keyword">case</span> <a title="sbt.processor.ProcessorException" id="82599">pe</a>: processor.<a href="processor/Processor.scala.html#11942" title="sbt.processor.ProcessorException">ProcessorException</a> =&gt;
				<span title="Unit" class="keyword">if</span>(<a href="#82599" title="sbt.processor.ProcessorException">pe</a>.<span title="()java.lang.Throwable">getCause</span> <a title="(AnyRef)Boolean" id="5740">ne</a> <span title="Null(null)" class="keyword">null</span>) <a href="#82596" title="sbt.Logger">log</a>.<a href="Logger.scala.html#19514" title="(=&gt; Throwable)Unit">trace</a>(<a href="#82599" title="sbt.processor.ProcessorException">pe</a>.<span title="()java.lang.Throwable">getCause</span>)
				<a href="#82596" title="sbt.Logger">log</a>.<a href="Logger.scala.html#19519" title="(=&gt; String)Unit">error</a>(<a href="#82597" title="Throwable">e</a>.<span title="()java.lang.String">getMessage</span>)
			<span title="Unit" class="keyword">case</span> <a title="Throwable" id="82602">e</a> =&gt;
				<a href="#82596" title="sbt.Logger">log</a>.<a href="Logger.scala.html#19514" title="(=&gt; Throwable)Unit">trace</a>(<a href="#82602" title="Throwable">e</a>)
				<a href="#82596" title="sbt.Logger">log</a>.<a href="Logger.scala.html#19519" title="(=&gt; String)Unit">error</a>(<a href="#82602" title="Throwable">e</a>.<span title="()java.lang.String">toString</span>)
		}
}

        </pre>
    </body>
</html>