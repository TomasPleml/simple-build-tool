<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>sbt/TestReportListener.scala</title>
        <script type="text/javascript" src="../jquery-all.js"></script>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* sbt -- Simple Build Tool
 * Copyright 2008, 2009  Steven Blundy, Mark Harrah
 */</span>

<span class="keyword">package</span> sbt

	<span class="keyword">import</span> org.scalatools.testing.{Logger =&gt; TLogger, Event =&gt; TEvent, Result =&gt; TResult}

<span class="keyword">trait</span> <a title="trait TestReportListener extends java.lang.Object with ScalaObject" id="6738">TestReportListener</a>
{
	<span class="comment">/** called for each class or equivalent grouping */</span>
  <span class="keyword">def</span> <a title="(String)Unit" id="32580">startGroup</a>(<a title="String" id="32651">name</a>: <span title="String">String</span>)
	<span class="comment">/** called for each test method or equivalent */</span>
  <span class="keyword">def</span> <a title="(sbt.TestEvent)Unit" id="32581">testEvent</a>(<a title="sbt.TestEvent" id="32647">event</a>: <a href="#9351" title="sbt.TestEvent">TestEvent</a>)
	<span class="comment">/** called if there was an error during test */</span>
  <span class="keyword">def</span> <a title="(String,Throwable)Unit" id="32582">endGroup</a>(<a title="String" id="32660">name</a>: <span title="String">String</span>, <a title="Throwable" id="32661">t</a>: <span title="Throwable">Throwable</span>)
	<span class="comment">/** called if test completed */</span>
  <span class="keyword">def</span> <a title="(String,sbt.Result.Value)Unit" id="32583">endGroup</a>(<a title="String" id="32658">name</a>: <span title="String">String</span>, <a title="sbt.Result.Value" id="32659">result</a>: Result.<span title="sbt.Result.Value">Value</span>)
  <span class="comment">/** Used by the test framework for logging test results*/</span>
  <span class="keyword">def</span> <a title="=&gt; Option[org.scalatools.testing.Logger]" id="32584">contentLogger</a>: <span title="Option[org.scalatools.testing.Logger]">Option</span>[TLogger] = <a title="object None" id="505">None</a>
}

<span class="keyword">trait</span> <a title="trait TestsListener extends java.lang.Object with sbt.TestReportListener" id="9150">TestsListener</a> <span class="keyword">extends</span> <a href="#6738" title="sbt.TestReportListener">TestReportListener</a>
{
	<span class="comment">/** called once, at beginning. */</span>
  <span class="keyword">def</span> <a title="=&gt; Unit" id="32787">doInit</a>
	<span class="comment">/** called once, at end. */</span>
  <span class="keyword">def</span> <a title="(sbt.Result.Value)Unit" id="32788">doComplete</a>(<a title="sbt.Result.Value" id="33170">finalResult</a>: Result.<span title="sbt.Result.Value">Value</span>)
}

<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class TestEvent extends java.lang.Object with NotNull with ScalaObject" id="9351">TestEvent</a> <span class="keyword">extends</span> <a title="NotNull" id="189">NotNull</a>
{
	<span class="keyword">def</span> <a title="=&gt; Option[sbt.Result.Value]" id="32642">result</a>: <span title="Option[sbt.Result.Value]">Option</span>[Result.Value]
	<span class="keyword">def</span> <a title="=&gt; Seq[org.scalatools.testing.Event]" id="32643">detail</a>: <span title="Seq[org.scalatools.testing.Event]">Seq</span>[TEvent] = <a title="object Nil" id="310">Nil</a>
}
<span class="keyword">object</span> <a title="object sbt.TestEvent" id="9352">TestEvent</a>
{
	<span class="keyword">def</span> <a title="(Seq[org.scalatools.testing.Event])sbt.TestEvent" id="32639">apply</a>(<a title="Seq[org.scalatools.testing.Event]" id="32640">events</a>: <span title="Seq[org.scalatools.testing.Event]">Seq</span>[TEvent]): <a href="#9351" title="sbt.TestEvent">TestEvent</a> =
	{
		<span class="keyword">val</span> <a title="sbt.Result.Value" id="66506">overallResult</a> = (<a href="TestFramework.scala.html#11602" title="object sbt.Result">Result</a>.<a href="TestFramework.scala.html#32461" title="=&gt; sbt.Result.Value">Passed</a> <a href="#66507" title="(sbt.Result.Value)((sbt.Result.Value, org.scalatools.testing.Event) =&gt; sbt.Result.Value)sbt.Result.Value" id="16081">/:</a> <a href="#32640" title="Seq[org.scalatools.testing.Event]">events</a>) { (<a title="sbt.Result.Value" id="66510">sum</a>, <a title="org.scalatools.testing.Event" id="66511">event</a>) =&gt;
			<span class="keyword">val</span> <a title="org.scalatools.testing.Result" id="66512">result</a> = <a href="#66511" title="org.scalatools.testing.Event">event</a>.<span title="()org.scalatools.testing.Result">result</span>
			<span title="sbt.Result.Value" class="keyword">if</span>(<a href="#66510" title="sbt.Result.Value">sum</a> <span title="(AnyRef)Boolean">==</span> <a href="TestFramework.scala.html#11602" title="object sbt.Result">Result</a>.<a href="TestFramework.scala.html#32459" title="=&gt; sbt.Result.Value">Error</a> <span title="(Boolean)Boolean">||</span> <a href="#66512" title="org.scalatools.testing.Result">result</a> <span title="(AnyRef)Boolean">==</span> TResult.<span title="org.scalatools.testing.Result(value Error)">Error</span>) <a href="TestFramework.scala.html#11602" title="object sbt.Result">Result</a>.<a href="TestFramework.scala.html#32459" title="=&gt; sbt.Result.Value">Error</a>
			<span class="keyword">else</span> <span title="sbt.Result.Value" class="keyword">if</span>(<a href="#66510" title="sbt.Result.Value">sum</a> <span title="(AnyRef)Boolean">==</span> <a href="TestFramework.scala.html#11602" title="object sbt.Result">Result</a>.<a href="TestFramework.scala.html#32463" title="=&gt; sbt.Result.Value">Failed</a> <span title="(Boolean)Boolean">||</span> <a href="#66512" title="org.scalatools.testing.Result">result</a> <span title="(AnyRef)Boolean">==</span> TResult.<span title="org.scalatools.testing.Result(value Failure)">Failure</span>) <a href="TestFramework.scala.html#11602" title="object sbt.Result">Result</a>.<a href="TestFramework.scala.html#32463" title="=&gt; sbt.Result.Value">Failed</a>
			<span class="keyword">else</span> <a href="TestFramework.scala.html#11602" title="object sbt.Result">Result</a>.<a href="TestFramework.scala.html#32461" title="=&gt; sbt.Result.Value">Passed</a>
		}
		<a title="template $anon extends sbt.TestEvent" id="66541" class="keyword">new</a> <a href="#9351" title="sbt.TestEvent">TestEvent</a> {
			<span class="keyword">val</span> <a title="Some[sbt.Result.Value]" id="66543">result</a> = <span title="(sbt.Result.Value)Some[sbt.Result.Value]">Some</span>(<a href="#66506" title="sbt.Result.Value">overallResult</a>)
			<span class="keyword">override</span> <span class="keyword">val</span> <a title="Seq[org.scalatools.testing.Event]" id="66545">detail</a> = <a href="#32640" title="Seq[org.scalatools.testing.Event]">events</a>
		}
	}
}

<span class="keyword">object</span> <a title="object sbt.TestLogger" id="10798">TestLogger</a>
{
	<span class="keyword">def</span> <a title="(sbt.Logger)sbt.TestLogger" id="66550">apply</a>(<a title="sbt.Logger" id="66553">logger</a>: sbt.<a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <a href="#10797" title="sbt.TestLogger">TestLogger</a> = <span title="sbt.TestLogger" class="keyword">new</span> <a href="#10797" title="sbt.TestLogger">TestLogger</a>(<a href="#66551" title="(sbt.Logger)org.scalatools.testing.Logger">wrap</a>(<a href="#66553" title="sbt.Logger">logger</a>))
	<span class="keyword">def</span> <a title="(sbt.Logger)org.scalatools.testing.Logger" id="66551">wrap</a>(<a title="sbt.Logger" id="66579">logger</a>: sbt.<a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="org.scalatools.testing.Logger">TLogger</span> =
		<a title="template $anon extends java.lang.Object with org.scalatools.testing.Logger" id="66580" class="keyword">new</a> <span title="org.scalatools.testing.Logger">TLogger</span>
		{
			<span class="keyword">def</span> <a title="(String)Unit" id="66582">error</a>(<a title="String" id="66591">s</a>: <span title="String">String</span>) = <a href="#66587" title="(sbt.Level.Value,String)Unit">log</a>(<a href="Logger.scala.html#8242" title="object sbt.Level">Level</a>.<a href="Logger.scala.html#28483" title="=&gt; sbt.Level.Value">Error</a>, <a href="#66591" title="String">s</a>)
			<span class="keyword">def</span> <a title="(String)Unit" id="66583">warn</a>(<a title="String" id="66619">s</a>: <span title="String">String</span>) = <a href="#66587" title="(sbt.Level.Value,String)Unit">log</a>(<a href="Logger.scala.html#8242" title="object sbt.Level">Level</a>.<a href="Logger.scala.html#28481" title="=&gt; sbt.Level.Value">Warn</a>, <a href="#66619" title="String">s</a>)
			<span class="keyword">def</span> <a title="(String)Unit" id="66584">info</a>(<a title="String" id="66621">s</a>: <span title="String">String</span>) = <a href="#66587" title="(sbt.Level.Value,String)Unit">log</a>(<a href="Logger.scala.html#8242" title="object sbt.Level">Level</a>.<a href="Logger.scala.html#28479" title="=&gt; sbt.Level.Value">Info</a>, <a href="#66621" title="String">s</a>)
			<span class="keyword">def</span> <a title="(String)Unit" id="66585">debug</a>(<a title="String" id="66623">s</a>: <span title="String">String</span>) = <a href="#66587" title="(sbt.Level.Value,String)Unit">log</a>(<a href="Logger.scala.html#8242" title="object sbt.Level">Level</a>.<a href="Logger.scala.html#28477" title="=&gt; sbt.Level.Value">Debug</a>, <a href="#66623" title="String">s</a>)
			<span class="keyword">def</span> <a title="(Throwable)Unit" id="66586">trace</a>(<a title="Throwable" id="66625">t</a>: <span title="Throwable">Throwable</span>) = <a href="#66579" title="sbt.Logger">logger</a>.<a href="Logger.scala.html#19514" title="(=&gt; Throwable)Unit">trace</a>(<a href="#66625" title="Throwable">t</a>)
			<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Level.Value,String)Unit" id="66587">log</a>(<a title="sbt.Level.Value" id="66593">level</a>: Level.<span title="sbt.Level.Value">Value</span>, <a title="String" id="66594">s</a>: <span title="String">String</span>) = <a href="#66579" title="sbt.Logger">logger</a>.<a href="Logger.scala.html#19521" title="(sbt.Level.Value,=&gt; String)Unit">log</a>(<a href="#66593" title="sbt.Level.Value">level</a>, <a href="#66594" title="String">s</a>)
			<span class="keyword">def</span> <a title="()Boolean" id="66588">ansiCodesSupported</a>() = <a href="#66579" title="sbt.Logger">logger</a>.<a href="Logger.scala.html#19512" title="=&gt; Boolean">ansiCodesSupported</a>
		}
}
<span class="keyword">class</span> <a title="class TestLogger extends java.lang.Object with sbt.TestsListener with ScalaObject" id="10797">TestLogger</a>(<span class="keyword">val</span> <a title="org.scalatools.testing.Logger" id="66578">log</a>: <span title="org.scalatools.testing.Logger">TLogger</span>) <span class="keyword">extends</span> <a href="#9150" title="sbt.TestsListener">TestsListener</a>
{
	<span class="keyword">protected</span> <span class="keyword">var</span> <a title="Int" id="66633">skipped</a>, <a title="Int" id="66634">errors</a>, <a title="Int" id="66635">passed</a>, <a title="Int" id="66636">failures</a> = <span title="Int(0)" class="int">0</span>
	
	<span class="keyword">def</span> <a title="(String)Unit" id="66570">startGroup</a>(<a title="String" id="66637">name</a>: <span title="String">String</span>) <span title="Unit">{</span>}
	<span class="keyword">def</span> <a title="(sbt.TestEvent)Unit" id="66571">testEvent</a>(<a title="sbt.TestEvent" id="66638">event</a>: <a href="#9351" title="sbt.TestEvent">TestEvent</a>): <span title="Unit">Unit</span> = <a href="#66638" title="sbt.TestEvent">event</a>.<a href="#32643" title="=&gt; Seq[org.scalatools.testing.Event]">detail</a>.<a title="((org.scalatools.testing.Event) =&gt; Unit)Unit" id="16070">foreach</a>(<a href="#66574" title="(org.scalatools.testing.Event)Unit">count</a>)
	<span class="keyword">def</span> <a title="(String,Throwable)Unit" id="66572">endGroup</a>(<a title="String" id="66642">name</a>: <span title="String">String</span>, <a title="Throwable" id="66643">t</a>: <span title="Throwable">Throwable</span>)
	{
		<a href="#66578" title="=&gt; org.scalatools.testing.Logger">log</a>.<a title="(java.lang.Throwable)Unit" id="32574">trace</a>(<a href="#66643" title="Throwable">t</a>)
		<a href="#66578" title="=&gt; org.scalatools.testing.Logger">log</a>.<span title="(java.lang.String)Unit">error</span>(<span title="java.lang.String(&quot;Could not run test &quot;)" class="string">&quot;Could not run test &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#66642" title="String">name</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#66643" title="Throwable">t</a>.<a title="()java.lang.String" id="17620">toString</a>)
	}
	<span class="keyword">def</span> <a title="(String,sbt.Result.Value)Unit" id="66573">endGroup</a>(<a title="String" id="66644">name</a>: <span title="String">String</span>, <a title="sbt.Result.Value" id="66645">result</a>: Result.<span title="sbt.Result.Value">Value</span>) <span title="Unit">{</span>}
	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="(org.scalatools.testing.Event)Unit" id="66574">count</a>(<a title="org.scalatools.testing.Event" id="66639">event</a>: <a title="org.scalatools.testing.Event" id="26163">TEvent</a>): <span title="Unit">Unit</span> =
	{
		<a href="#66639" title="org.scalatools.testing.Event">event</a>.<span title="()org.scalatools.testing.Result">result</span> <span title="Unit" class="keyword">match</span>
		{
			<span title="Unit" class="keyword">case</span> TResult.<span title="org.scalatools.testing.Result(value Error)">Error</span> =&gt; <a href="#66634" title="(Int)Unit">errors</a> <span title="(Int)Int">+=</span><span title="Int(1)" class="int">1</span>
			<span title="Unit" class="keyword">case</span> TResult.<span title="org.scalatools.testing.Result(value Success)">Success</span> =&gt; <a href="#66635" title="(Int)Unit">passed</a> <span title="(Int)Int">+=</span><span title="Int(1)" class="int">1</span> 
			<span title="Unit" class="keyword">case</span> TResult.<span title="org.scalatools.testing.Result(value Failure)">Failure</span> =&gt; <a href="#66636" title="(Int)Unit">failures</a> <span title="(Int)Int">+=</span><span title="Int(1)" class="int">1</span> 
			<span title="Unit" class="keyword">case</span> TResult.<span title="org.scalatools.testing.Result(value Skipped)">Skipped</span> =&gt; <a href="#66633" title="(Int)Unit">skipped</a> <span title="(Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
		}
	}
	<span class="keyword">def</span> <a title="=&gt; Unit" id="66575">doInit</a>
	{
		<a href="#66636" title="(Int)Unit">failures</a> = <span title="Int(0)" class="int">0</span>
		<a href="#66634" title="(Int)Unit">errors</a> = <span title="Int(0)" class="int">0</span>
		<a href="#66635" title="(Int)Unit">passed</a> = <span title="Int(0)" class="int">0</span>
		<a href="#66633" title="(Int)Unit">skipped</a> = <span title="Int(0)" class="int">0</span>
	}
		<span class="comment">/** called once, at end. */</span>
	<span class="keyword">def</span> <a title="(sbt.Result.Value)Unit" id="66576">doComplete</a>(<a title="sbt.Result.Value" id="66735">finalResult</a>: Result.<span title="sbt.Result.Value">Value</span>): <span title="Unit">Unit</span> =
	{
		<span class="keyword">val</span> <a title="Int" id="66736">totalCount</a> = <a href="#66636" title="=&gt; Int">failures</a> <span title="(Int)Int">+</span> <a href="#66634" title="=&gt; Int">errors</a> <span title="(Int)Int">+</span> <a href="#66633" title="=&gt; Int">skipped</a> <span title="(Int)Int">+</span> <a href="#66635" title="=&gt; Int">passed</a>
		<span class="keyword">val</span> <a title="java.lang.String" id="66737">postfix</a> = <span title="java.lang.String(&quot;: Total &quot;)" class="string">&quot;: Total &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#66736" title="Int">totalCount</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;, Failed &quot;)" class="string">&quot;, Failed &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#66636" title="=&gt; Int">failures</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;, Errors &quot;)" class="string">&quot;, Errors &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#66634" title="=&gt; Int">errors</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;, Passed &quot;)" class="string">&quot;, Passed &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#66635" title="=&gt; Int">passed</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;, Skipped &quot;)" class="string">&quot;, Skipped &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#66633" title="=&gt; Int">skipped</a>
		<a href="#66735" title="sbt.Result.Value">finalResult</a> <span title="Unit" class="keyword">match</span>
		{
			<span title="Unit" class="keyword">case</span> <a href="TestFramework.scala.html#11602" title="object sbt.Result">Result</a>.<a href="TestFramework.scala.html#32459" title="=&gt; sbt.Result.Value">Error</a> =&gt; <a href="#66578" title="=&gt; org.scalatools.testing.Logger">log</a>.<span title="(java.lang.String)Unit">error</span>(<span title="java.lang.String(&quot;Error&quot;)" class="string">&quot;Error&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#66737" title="java.lang.String">postfix</a>)
			<span title="Unit" class="keyword">case</span> <a href="TestFramework.scala.html#11602" title="object sbt.Result">Result</a>.<a href="TestFramework.scala.html#32461" title="=&gt; sbt.Result.Value">Passed</a> =&gt; <a href="#66578" title="=&gt; org.scalatools.testing.Logger">log</a>.<a title="(java.lang.String)Unit" id="32572">info</a>(<span title="java.lang.String(&quot;Passed: &quot;)" class="string">&quot;Passed: &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#66737" title="java.lang.String">postfix</a>)
			<span title="Unit" class="keyword">case</span> <a href="TestFramework.scala.html#11602" title="object sbt.Result">Result</a>.<a href="TestFramework.scala.html#32463" title="=&gt; sbt.Result.Value">Failed</a> =&gt; <a href="#66578" title="=&gt; org.scalatools.testing.Logger">log</a>.<span title="(java.lang.String)Unit">error</span>(<span title="java.lang.String(&quot;Failed: &quot;)" class="string">&quot;Failed: &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#66737" title="java.lang.String">postfix</a>)
		}
	}
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Option[org.scalatools.testing.Logger]" id="66577">contentLogger</a>: <span title="Option[org.scalatools.testing.Logger]">Option</span>[TLogger] = <span title="(org.scalatools.testing.Logger)Some[org.scalatools.testing.Logger]">Some</span>(<a href="#66578" title="=&gt; org.scalatools.testing.Logger">log</a>)
}

        </pre>
    </body>
</html>