<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>sbt/TaskManager.scala</title>
        <script type="text/javascript" src="../jquery-all.js"></script>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* sbt -- Simple Build Tool
 * Copyright 2008 David MacIver, Mark Harrah
 */</span>
<span class="keyword">package</span> sbt

<span class="keyword">import</span> TaskManager._

<span class="keyword">trait</span> <a title="trait Described extends java.lang.Object with NotNull" id="9576">Described</a> <span class="keyword">extends</span> <a title="NotNull" id="189">NotNull</a>
{
	<span class="keyword">def</span> <a title="=&gt; Option[String]" id="18988">description</a>: <span title="Option[String]">Option</span>[String]
}
<span class="keyword">trait</span> <a title="trait TaskManager extends java.lang.Object with ScalaObject" id="7038">TaskManager</a>{
	<span class="keyword">type</span> <a title="&gt;: TaskManager.this.type &lt;: sbt.TaskManager" id="14597">ManagerType</a> &gt;: <span class="keyword">this</span>.<span class="keyword">type</span> &lt;: TaskManager
	<span class="keyword">type</span> <a title="&gt;: TaskManager.this.Task &lt;: sbt.TaskManager#Task with sbt.Dag[TaskManager.this.ManagedTask]" id="14598">ManagedTask</a> &gt;: Task &lt;: TaskManager#Task <span class="keyword">with</span> Dag[ManagedTask]
	<span class="comment">/** Creates a task that executes the given action when invoked.*/</span>
	<span class="keyword">def</span> <a title="(=&gt; Option[String])TaskManager.this.Task" id="14599">task</a>(<a title="=&gt; Option[String]" id="19082">action</a> : =&gt; Option[String]) = <a href="#19066" title="(Option[String],List[TaskManager.this.ManagedTask],Boolean,=&gt; Option[String])TaskManager.this.Task" class="keyword">new</a> <a href="#14605" title="TaskManager.this.Task">Task</a>(<span title="object None">None</span>, <span title="object Nil">Nil</span>, <span title="Boolean(false)" class="keyword">false</span>, <a href="#19082" title="=&gt; Option[String]">action</a>)
	<span class="comment">/** An interactive task is one that is not executed across all dependent projects when
	* it is called directly.  The dependencies of the task are still invoked across all dependent
	* projects, however. */</span>
	<span class="keyword">def</span> <a title="(=&gt; Option[String])TaskManager.this.Task" id="14600">interactiveTask</a>(<a title="=&gt; Option[String]" id="26987">action</a>: =&gt; Option[String]) = <a href="#19066" title="(Option[String],List[TaskManager.this.ManagedTask],Boolean,=&gt; Option[String])TaskManager.this.Task" class="keyword">new</a> <a href="#14605" title="TaskManager.this.Task">Task</a>(<span title="object None">None</span>, <span title="object Nil">Nil</span>, <span title="Boolean(true)" class="keyword">true</span>, <a href="#26987" title="=&gt; Option[String]">action</a>)
	<span class="comment">/** Creates a method task that executes the given action when invoked. */</span>
	<span class="keyword">def</span> <a title="((Array[String]) =&gt; TaskManager.this.ManagedTask)TaskManager.this.MethodTask" id="14601">task</a>(<a title="(Array[String]) =&gt; TaskManager.this.ManagedTask" id="18983">action</a>: Array[String] =&gt; ManagedTask) = <span title="TaskManager.this.MethodTask" class="keyword">new</span> <a href="#14604" title="TaskManager.this.MethodTask">MethodTask</a>(<span title="object None">None</span>, <a href="#18983" title="(Array[String]) =&gt; TaskManager.this.ManagedTask">action</a>, <span title="object Nil">Nil</span>)
	
	<span class="keyword">def</span> <a title="(TaskManager.this.Task)Option[String]" id="14602">taskName</a>(<a title="TaskManager.this.Task" id="66748">t</a>: <a href="#14605" title="TaskManager.this.Task">Task</a>): <span title="Option[String]">Option</span>[String]
	<span class="keyword">final</span> <span class="keyword">def</span> <a title="(TaskManager.this.Task)String" id="14603">taskNameString</a>(<a title="TaskManager.this.Task" id="66749">task</a>: <a href="#14605" title="TaskManager.this.Task">Task</a>): <span title="String">String</span> = <a href="#14602" title="(TaskManager.this.Task)Option[String]">taskName</a>(<a href="#66749" title="TaskManager.this.Task">task</a>).<span title="(=&gt; String)String">getOrElse</span>(<a href="#18986" title="=&gt; java.lang.String">UnnamedName</a>)
	
	<span class="comment">/** A method task is an action that has parameters.  Note that it is not a Task, though,
	* because it requires arguments to perform its work.  It therefore cannot be a dependency of
	* a Task..*/</span>
	<span class="keyword">final</span> <span class="keyword">class</span> <a title="class MethodTask extends java.lang.Object with sbt.Described with ScalaObject" id="14604">MethodTask</a>(<span class="keyword">val</span> <a title="Option[String]" id="19002">description</a>: <span title="Option[String]">Option</span>[String], <a title="(Array[String]) =&gt; TaskManager.this.ManagedTask" id="19003">action</a>: Array[String] =&gt; ManagedTask, <a title="=&gt; Seq[String]" id="19004">getCompletions</a>: =&gt; Seq[String]) <span class="keyword">extends</span> <a href="#9576" title="sbt.Described">Described</a>
	{
		<span class="comment">/** Creates a new method task, identical to this method task, except with thE[String]e given description.*/</span>
		<span class="keyword">def</span> <a title="(String)TaskManager.this.MethodTask" id="18997">describedAs</a>(<a title="String" id="66756">description</a> : <span title="String">String</span>) = <span title="TaskManager.this.MethodTask" class="keyword">new</span> <a href="#14604" title="TaskManager.this.MethodTask">MethodTask</a>(<span title="(String)Some[String]">Some</span>(<a href="#66756" title="String">description</a>), <a href="#19003" title="(Array[String]) =&gt; TaskManager.this.ManagedTask">action</a>, <a href="#19004" title="=&gt; Seq[String]">getCompletions</a>)
		<span class="comment">/** Invokes this method task with the given arguments.*/</span>
		<span class="keyword">def</span> <a title="(Array[String])TaskManager.this.ManagedTask" id="18998">apply</a>(<a title="Array[String]" id="66759">arguments</a>: <a title="Array[String]" id="1032">Array</a>[String]) = <a href="#19003" title="(Array[String])TaskManager.this.ManagedTask" id="16333">action</a>(<a href="#66759" title="Array[String]">arguments</a>)
		<span class="keyword">def</span> <a title="=&gt; TaskManager.this.ManagerType" id="18999">manager</a>: <a href="#14597" title="TaskManager.this.ManagerType">ManagerType</a> = <a href="#7038" title="TaskManager.this.type">TaskManager</a>.<span class="keyword">this</span>
		<span class="keyword">def</span> <a title="(=&gt; Seq[String])TaskManager.this.MethodTask" id="19000">completeWith</a>(<a title="=&gt; Seq[String]" id="26692">add</a>: =&gt; Seq[String]) = <span title="TaskManager.this.MethodTask" class="keyword">new</span> <a href="#14604" title="TaskManager.this.MethodTask">MethodTask</a>(<a href="#19002" title="=&gt; Option[String]">description</a>, <a href="#19003" title="(Array[String]) =&gt; TaskManager.this.ManagedTask">action</a>, <a href="#26692" title="=&gt; Seq[String]">add</a>)
		<span class="keyword">def</span> <a title="=&gt; Seq[String]" id="19001">completions</a> = <a href="#19004" title="=&gt; Seq[String]">getCompletions</a>
	}
	
	<span class="keyword">sealed</span> <span class="keyword">class</span> <a title="class Task extends java.lang.Object with sbt.Dag[TaskManager.this.ManagedTask] with sbt.Described with ScalaObject" id="14605">Task</a>(<span class="keyword">val</span> <a title="Option[String]" id="19089">explicitName</a>: <span title="Option[String]">Option</span>[String], <span class="keyword">val</span> <a title="Option[String]" id="19090">description</a> : <span title="Option[String]">Option</span>[String], <span class="keyword">val</span> <a title="List[TaskManager.this.ManagedTask]" id="19091">dependencies</a> : <span title="List[TaskManager.this.ManagedTask]">List</span>[ManagedTask],
		 <span class="keyword">val</span> <a title="Boolean" id="19092">interactive</a>: <span title="Boolean">Boolean</span>, <a title="=&gt; Option[String]" id="19093">action</a> : =&gt; Option[String]) <span class="keyword">extends</span> <a href="Dag.scala.html#7095" title="sbt.Dag[TaskManager.this.ManagedTask]">Dag</a>[ManagedTask] <span class="keyword">with</span> <a href="#9576" title="sbt.Described">Described</a>
	{
		<span class="keyword">def</span> <a title="(Option[String],List[TaskManager.this.ManagedTask],Boolean,=&gt; Option[String])TaskManager.this.Task" id="19066" class="keyword">this</a>(<a title="Option[String]" id="19085">description</a> : <span title="Option[String]">Option</span>[String], <a title="List[TaskManager.this.ManagedTask]" id="19086">dependencies</a> : <span title="List[TaskManager.this.ManagedTask]">List</span>[ManagedTask], <a title="Boolean" id="19087">interactive</a>: <span title="Boolean">Boolean</span>, <a title="=&gt; Option[String]" id="19088">action</a> : =&gt; Option[String]) =
			<a href="#14605" title="Task.this.type" class="keyword">this</a>(<span title="object None">None</span>, <a href="#19085" title="Option[String]">description</a>, <a href="#19086" title="List[TaskManager.this.ManagedTask]">dependencies</a>, <a href="#19087" title="Boolean">interactive</a>, <a href="#19088" title="=&gt; Option[String]">action</a>)
		<a href="#14610" title="(List[TaskManager.this.ManagedTask])Unit">checkTaskDependencies</a>(<a href="#19091" title="=&gt; List[TaskManager.this.ManagedTask]">dependencies</a>)
		<span class="keyword">def</span> <a title="=&gt; TaskManager.this.ManagerType" id="19067">manager</a>: <a href="#14597" title="TaskManager.this.ManagerType">ManagerType</a> = <a href="#7038" title="TaskManager.this.type">TaskManager</a>.<span class="keyword">this</span>
		<span class="keyword">def</span> <a title="=&gt; String" id="19068">name</a> = <a href="#19089" title="=&gt; Option[String]">explicitName</a>.<span title="(=&gt; String)String">getOrElse</span>(<a href="#14603" title="(TaskManager.this.Task)String">taskNameString</a>(<a href="#14605" title="TaskManager.this.Task" class="keyword">this</a>))
		<span class="keyword">private</span>[sbt] <span class="keyword">def</span> <a title="=&gt; Option[String]" id="19069">implicitName</a> = <a href="#14602" title="(TaskManager.this.Task)Option[String]">taskName</a>(<a href="#14605" title="TaskManager.this.Task" class="keyword">this</a>)
		<span class="keyword">def</span> <a title="(String)TaskManager.this.Task" id="19070">named</a>(<a title="String" id="29023">name</a>: <span title="String">String</span>) = <a href="#19081" title="(Option[String],Option[String],List[TaskManager.this.ManagedTask],Boolean,=&gt; Option[String])TaskManager.this.Task">construct</a>(<span title="(String)Some[String]">Some</span>(<a href="#29023" title="String">name</a>), <a href="#19090" title="=&gt; Option[String]">description</a>,<a href="#19091" title="=&gt; List[TaskManager.this.ManagedTask]">dependencies</a>, <a href="#19092" title="=&gt; Boolean">interactive</a>, <a href="#19093" title="=&gt; Option[String]">action</a>)
		<span class="keyword">override</span> <span class="keyword">def</span> <a title="()java.lang.String" id="19071">toString</a> = <span title="java.lang.String(&quot;Task &quot;)" class="string">&quot;Task &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#19068" title="=&gt; String">name</a>
		
		<span class="comment">/** Creates a new task, identical to this task, except with the additional dependencies specified.*/</span>
		<span class="keyword">def</span> <a title="(TaskManager.this.ManagedTask*)TaskManager.this.Task" id="19072">dependsOn</a>(<a title="TaskManager.this.ManagedTask*" id="24434">tasks</a> : <a title="TaskManager.this.ManagedTask*" id="2689">ManagedTask</a>*) = <a href="#19073" title="(List[TaskManager.this.ManagedTask])TaskManager.this.Task">setDependencies</a>(<a href="#24434" title="TaskManager.this.ManagedTask*">tasks</a>.<a title="=&gt; List[TaskManager.this.ManagedTask]" id="16093">toList</a> <a href="#24440" title="(List[TaskManager.this.ManagedTask])List[TaskManager.this.ManagedTask]">:::</a> <a href="#19091" title="=&gt; List[TaskManager.this.ManagedTask]">dependencies</a>)
		<span class="keyword">private</span>[sbt] <span class="keyword">def</span> <a title="(List[TaskManager.this.ManagedTask])TaskManager.this.Task" id="19073">setDependencies</a>(<a title="List[TaskManager.this.ManagedTask]" id="24436">dependencyList</a>: <span title="List[TaskManager.this.ManagedTask]">List</span>[ManagedTask]) =
		{
			<a href="#14610" title="(List[TaskManager.this.ManagedTask])Unit">checkTaskDependencies</a>(<a href="#24436" title="List[TaskManager.this.ManagedTask]">dependencyList</a>)
			<a href="#19081" title="(Option[String],Option[String],List[TaskManager.this.ManagedTask],Boolean,=&gt; Option[String])TaskManager.this.Task">construct</a>(<a href="#19089" title="=&gt; Option[String]">explicitName</a>, <a href="#19090" title="=&gt; Option[String]">description</a>, <a href="#24436" title="List[TaskManager.this.ManagedTask]">dependencyList</a>, <a href="#19092" title="=&gt; Boolean">interactive</a>, <a href="#19093" title="=&gt; Option[String]">action</a>)
		}
		<span class="comment">/** Creates a new task, identical to this task, except with the given description.*/</span>
		<span class="keyword">def</span> <a title="(String)TaskManager.this.Task" id="19074">describedAs</a>(<a title="String" id="24328">description</a> : <span title="String">String</span>) = <a href="#19081" title="(Option[String],Option[String],List[TaskManager.this.ManagedTask],Boolean,=&gt; Option[String])TaskManager.this.Task">construct</a>(<a href="#19089" title="=&gt; Option[String]">explicitName</a>, <span title="(String)Some[String]">Some</span>(<a href="#24328" title="String">description</a>), <a href="#19091" title="=&gt; List[TaskManager.this.ManagedTask]">dependencies</a>, <a href="#19092" title="=&gt; Boolean">interactive</a>, <a href="#19093" title="=&gt; Option[String]">action</a>);
		<span class="keyword">private</span>[sbt] <span class="keyword">def</span> <a title="=&gt; Option[String]" id="19075">invoke</a> = <a href="#19093" title="=&gt; Option[String]">action</a>;
	
		<span class="keyword">final</span> <span class="keyword">def</span> <a title="=&gt; TaskManager.this.Task" id="19076">setInteractive</a> = <a href="#19081" title="(Option[String],Option[String],List[TaskManager.this.ManagedTask],Boolean,=&gt; Option[String])TaskManager.this.Task">construct</a>(<a href="#19089" title="=&gt; Option[String]">explicitName</a>, <a href="#19090" title="=&gt; Option[String]">description</a>, <a href="#19091" title="=&gt; List[TaskManager.this.ManagedTask]">dependencies</a>, <span title="Boolean(true)" class="keyword">true</span>, <a href="#19093" title="=&gt; Option[String]">action</a>)
		<span class="keyword">final</span> <span class="keyword">def</span> <a title="=&gt; Option[String]" id="19077">run</a> = <a href="#19079" title="(List[TaskManager.this.ManagedTask])Option[String]">runSequentially</a>(<a href="Dag.scala.html#14719" title="=&gt; List[TaskManager.this.ManagedTask]">topologicalSort</a>)
		<span class="keyword">final</span> <span class="keyword">def</span> <a title="=&gt; Option[String]" id="19078">runDependenciesOnly</a> = <a href="#19079" title="(List[TaskManager.this.ManagedTask])Option[String]">runSequentially</a>(<a href="Dag.scala.html#14719" title="=&gt; List[TaskManager.this.ManagedTask]">topologicalSort</a>.<a title="(Int)List[TaskManager.this.ManagedTask]" id="17745">dropRight</a>(<span title="Int(1)" class="int">1</span>))
		<span class="keyword">private</span> <span class="keyword">def</span> <a title="(List[TaskManager.this.ManagedTask])Option[String]" id="19079">runSequentially</a>(<a title="List[TaskManager.this.ManagedTask]" id="35158">tasks</a>: <span title="List[TaskManager.this.ManagedTask]">List</span>[ManagedTask]) = <a href="Control.scala.html#11797" title="object sbt.Control">Control</a>.<a href="Control.scala.html#25447" title="(List[TaskManager.this.ManagedTask])((TaskManager.this.ManagedTask) =&gt; Option[String])Option[String]">lazyFold</a>(<a href="#35158" title="List[TaskManager.this.ManagedTask]">tasks</a>)(<a href="#35166" title="TaskManager.this.ManagedTask">_</a>.<a href="#19075" title="=&gt; Option[String]">invoke</a>)
	
		<span class="keyword">def</span> <a title="(TaskManager.this.Task)TaskManager.this.Task" id="19080">&amp;&amp;</a>(<a title="TaskManager.this.Task" id="62672">that</a> : <a href="#14605" title="TaskManager.this.Task">Task</a>) =
			<a href="#19081" title="(Option[String],Option[String],List[TaskManager.this.ManagedTask],Boolean,=&gt; Option[String])TaskManager.this.Task">construct</a>(<a href="#19089" title="=&gt; Option[String]">explicitName</a>, <span title="object None">None</span>, <a href="#19091" title="=&gt; List[TaskManager.this.ManagedTask]">dependencies</a> <a href="#62674" title="(List[TaskManager.this.ManagedTask])List[TaskManager.this.ManagedTask]">:::</a> <a href="#62672" title="TaskManager.this.Task">that</a>.<a href="#19091" title="=&gt; List[TaskManager.this.ManagedTask]">dependencies</a>, <a href="#19092" title="=&gt; Boolean">interactive</a> <a title="(Boolean)Boolean" id="2698">||</a> <a href="#62672" title="TaskManager.this.Task">that</a>.<a href="#19092" title="=&gt; Boolean">interactive</a>, <a href="#14605" title="Task.this.type" class="keyword">this</a>.<a href="#19075" title="=&gt; Option[String]">invoke</a>.<a title="(=&gt; Option[String])Option[String]" id="19023">orElse</a>(<a href="#62672" title="TaskManager.this.Task">that</a>.<a href="#19075" title="=&gt; Option[String]">invoke</a>))
		
		<span class="keyword">protected</span> <span class="keyword">def</span> <a title="(Option[String],Option[String],List[TaskManager.this.ManagedTask],Boolean,=&gt; Option[String])TaskManager.this.Task" id="19081">construct</a>(<a title="Option[String]" id="24330">explicitName</a>: <span title="Option[String]">Option</span>[String], <a title="Option[String]" id="24331">description</a>: <span title="Option[String]">Option</span>[String], <a title="List[TaskManager.this.ManagedTask]" id="24332">dependencies</a>: <span title="List[TaskManager.this.ManagedTask]">List</span>[ManagedTask], <a title="Boolean" id="24333">interactive</a>: <span title="Boolean">Boolean</span>,
			<a title="=&gt; Option[String]" id="24334">action</a> : =&gt; Option[String]): <a href="#14605" title="TaskManager.this.Task">Task</a> = <span title="TaskManager.this.Task" class="keyword">new</span> <a href="#14605" title="TaskManager.this.Task">Task</a>(<a href="#24330" title="Option[String]">explicitName</a>, <a href="#24331" title="Option[String]">description</a>, <a href="#24332" title="List[TaskManager.this.ManagedTask]">dependencies</a>, <a href="#24333" title="Boolean">interactive</a>, <a href="#24334" title="=&gt; Option[String]">action</a>)
	}
	<span class="keyword">final</span> <span class="keyword">class</span> <a title="class CompoundTask extends TaskManager.this.Task with sbt.CompoundWork[sbt.Project#Task] with ScalaObject" id="14606">CompoundTask</a> <span class="keyword">private</span> (<a title="Option[String]" id="66802">explicitName</a>: <span title="Option[String]">Option</span>[String], <a title="Option[String]" id="66803">description</a> : <span title="Option[String]">Option</span>[String], <a title="List[TaskManager.this.ManagedTask]" id="66804">dependencies</a> : <span title="List[TaskManager.this.ManagedTask]">List</span>[ManagedTask], <a title="Boolean" id="66805">interactive</a>: <span title="Boolean">Boolean</span>,
		<a title="=&gt; Option[String]" id="66806">action</a> : =&gt; Option[String], <a title="=&gt; sbt.SubWork[sbt.Project#Task]" id="66807">createWork</a>: =&gt; SubWork[Project#Task]) <span class="keyword">extends</span> <a href="#14605" title="TaskManager.this.Task">Task</a>(<a href="#66803" title="Option[String]">description</a>, <a href="#66804" title="List[TaskManager.this.ManagedTask]">dependencies</a>, <a href="#66805" title="Boolean">interactive</a>, <a href="#66806" title="=&gt; Option[String]">action</a>)
		<span class="keyword">with</span> <a href="ParallelRunner.scala.html#6771" title="sbt.CompoundWork[sbt.Project#Task]">CompoundWork</a>[Project#Task]
	{
		<span class="keyword">def</span> <a title="(=&gt; sbt.SubWork[sbt.Project#Task])TaskManager.this.CompoundTask" id="29095" class="keyword">this</a>(<a title="=&gt; sbt.SubWork[sbt.Project#Task]" id="29100">createWork</a>: =&gt; SubWork[Project#Task]) = <a href="#14606" title="CompoundTask.this.type" class="keyword">this</a>(<span title="object None">None</span>, <span title="object None">None</span>, <span title="object Nil">Nil</span>, <span title="Boolean(false)" class="keyword">false</span>, <span title="object None">None</span>, <a href="#29100" title="=&gt; sbt.SubWork[sbt.Project#Task]">createWork</a>)
		<span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(Option[String],Option[String],List[TaskManager.this.ManagedTask],Boolean,=&gt; Option[String])TaskManager.this.CompoundTask" id="29096">construct</a>(<a title="Option[String]" id="66840">explicitName</a>: <span title="Option[String]">Option</span>[String], <a title="Option[String]" id="66841">description</a>: <span title="Option[String]">Option</span>[String], <a title="List[TaskManager.this.ManagedTask]" id="66842">dependencies</a>: <span title="List[TaskManager.this.ManagedTask]">List</span>[ManagedTask],
			<a title="Boolean" id="66843">interactive</a>: <span title="Boolean">Boolean</span>, <a title="=&gt; Option[String]" id="66844">action</a> : =&gt; Option[String]) = <span title="TaskManager.this.CompoundTask" class="keyword">new</span> <a href="#14606" title="TaskManager.this.CompoundTask">CompoundTask</a>(<a href="#66840" title="Option[String]">explicitName</a>, <a href="#66841" title="Option[String]">description</a>, <a href="#66842" title="List[TaskManager.this.ManagedTask]">dependencies</a>, <a href="#66843" title="Boolean">interactive</a>, <a href="#66844" title="=&gt; Option[String]">action</a>, <a href="#66807" title="=&gt; sbt.SubWork[sbt.Project#Task]">createWork</a>)
		<span class="keyword">def</span> <a title="=&gt; sbt.SubWork[sbt.Project#Task]" id="29097">work</a> = <a href="#66807" title="=&gt; sbt.SubWork[sbt.Project#Task]">createWork</a>
	}
	<span class="keyword">def</span> <a title="(=&gt; sbt.Project#Task)TaskManager.this.CompoundTask" id="14607">dynamic</a>(<a title="=&gt; sbt.Project#Task" id="66869">createTask</a>: =&gt; Project#Task) = <a href="#29095" title="(=&gt; sbt.SubWork[sbt.Project#Task])TaskManager.this.CompoundTask" class="keyword">new</a> <a href="#14606" title="TaskManager.this.CompoundTask">CompoundTask</a>(<a href="ParallelRunner.scala.html#29043" title="(sbt.Project#Task)sbt.SubWork[sbt.Project#Task]">SubWork</a>[Project#<a href="#14605" title="sbt.Project#Task">Task</a>](<a href="#14609" title="(sbt.Project#Task)sbt.Project#Task">checkDynamic</a>(<a href="#66869" title="=&gt; sbt.Project#Task">createTask</a>)))
	@<a title="deprecated" id="201">deprecated</a> <span class="keyword">def</span> <a title="(=&gt; sbt.Project#Task)TaskManager.this.CompoundTask" id="14608">compoundTask</a>(<a title="=&gt; sbt.Project#Task" id="66907">createTask</a>: =&gt; Project#Task) = <a href="#14607" title="(=&gt; sbt.Project#Task)TaskManager.this.CompoundTask">dynamic</a>(<a href="#66907" title="=&gt; sbt.Project#Task">createTask</a>)
	<span class="comment">/** Verifies that the given dynamically created task does not depend on any statically defined tasks.
	* Returns the task if it is valid.*/</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project#Task)sbt.Project#Task" id="14609">checkDynamic</a>(<a title="sbt.Project#Task" id="66887">task</a>: Project#<a href="#14605" title="sbt.Project#Task">Task</a>) =
	{
		<span class="keyword">for</span>(<a title="((sbt.Project#ManagedTask) =&gt; Unit)Unit" id="66900">t</a> &lt;- <a href="#66887" title="sbt.Project#Task">task</a>.<a href="Dag.scala.html#14719" title="=&gt; List[sbt.Project#ManagedTask]">topologicalSort</a> <span class="keyword">if</span> <a title="=&gt; Boolean" id="2695">!</a>(<a href="#66900" title="sbt.Project#ManagedTask">t</a> <a title="(AnyRef)Boolean" id="5739">eq</a> <a href="#66887" title="sbt.Project#Task">task</a>); <a title="((String) =&gt; Unit)Unit" id="66902">staticName</a> &lt;- <a href="#66900" title="sbt.Project#ManagedTask">t</a>.<a href="#19069" title="=&gt; Option[String]">implicitName</a>)
			<a title="(String)Nothing" id="6085">error</a>(<span title="java.lang.String(&quot;Dynamic task &quot;)" class="string">&quot;Dynamic task &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#66887" title="sbt.Project#Task">task</a>.<a href="#19068" title="=&gt; String">name</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; depends on static task &quot;)" class="string">&quot; depends on static task &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#66902" title="String">staticName</a>)
		<a href="#66887" title="sbt.Project#Task">task</a>
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(List[TaskManager.this.ManagedTask])Unit" id="14610">checkTaskDependencies</a>(<a title="List[TaskManager.this.ManagedTask]" id="24438">dependencyList</a>: <span title="List[TaskManager.this.ManagedTask]">List</span>[ManagedTask])
	{
		<span class="keyword">val</span> <a title="Int" id="66915">nullDependencyIndex</a> = <a href="#24438" title="List[TaskManager.this.ManagedTask]">dependencyList</a>.<span title="((TaskManager.this.ManagedTask) =&gt; Boolean)Int">findIndexOf</span>(<a href="#66918" title="TaskManager.this.ManagedTask">_</a> <a title="(AnyRef)Boolean" id="3457">==</a> <span title="Null(null)" class="keyword">null</span>)
		<span title="(Boolean,Any)Unit">require</span>(<a href="#66915" title="Int">nullDependencyIndex</a> <span title="(Int)Boolean">&lt;</span> <span title="Int(0)" class="int">0</span>, <span title="java.lang.String(&quot;Dependency (at index &quot;)" class="string">&quot;Dependency (at index &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#66915" title="Int">nullDependencyIndex</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;) is null.  This may be an initialization issue or a circular dependency.&quot;)" class="string">&quot;) is null.  This may be an initialization issue or a circular dependency.&quot;</span>)
		<span class="keyword">val</span> <a title="Int" id="66916">interactiveDependencyIndex</a> = <a href="#24438" title="List[TaskManager.this.ManagedTask]">dependencyList</a>.<span title="((TaskManager.this.ManagedTask) =&gt; Boolean)Int">findIndexOf</span>(<a href="#66933" title="TaskManager.this.ManagedTask">_</a>.<a href="#19092" title="=&gt; Boolean">interactive</a>)
		<span title="(Boolean,Any)Unit">require</span>(<a href="#66916" title="Int">interactiveDependencyIndex</a> <span title="(Int)Boolean">&lt;</span> <span title="Int(0)" class="int">0</span>, <span title="java.lang.String(&quot;Dependency (at index &quot;)" class="string">&quot;Dependency (at index &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#66916" title="Int">interactiveDependencyIndex</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;) is interactive.  Interactive tasks cannot be dependencies.&quot;)" class="string">&quot;) is interactive.  Interactive tasks cannot be dependencies.&quot;</span>)
	}
}
<span class="keyword">object</span> <a title="object sbt.TaskManager" id="7039">TaskManager</a>
{
	<span class="keyword">val</span> <a title="java.lang.String" id="18986">UnnamedName</a> = <span title="java.lang.String(&quot;&lt;anonymous&gt;&quot;)" class="string">&quot;&lt;anonymous&gt;&quot;</span>
}
        </pre>
    </body>
</html>