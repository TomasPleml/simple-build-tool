<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>sbt/TaskManager.scala</title>
        <script type="text/javascript" src="../jquery-all.js"></script>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* sbt -- Simple Build Tool
 * Copyright 2008 David MacIver, Mark Harrah
 */</span>
<span class="keyword">package</span> sbt

<span class="keyword">import</span> TaskManager._

<span class="keyword">trait</span> <a title="trait Described extends java.lang.Object with NotNull" id="11256">Described</a> <span class="keyword">extends</span> <a title="NotNull" id="193">NotNull</a>
{
	<span class="keyword">def</span> <a title="=&gt; Option[String]" id="52178">description</a>: <span title="Option[String]">Option</span>[String]
}
<span class="keyword">trait</span> <a title="trait TaskManager extends java.lang.Object with ScalaObject" id="8673">TaskManager</a>{
	<span class="keyword">type</span> <a title="&gt;: TaskManager.this.type &lt;: sbt.TaskManager" id="50835">ManagerType</a> &gt;: <span class="keyword">this</span>.<span class="keyword">type</span> &lt;: TaskManager
	<span class="keyword">type</span> <a title="&gt;: TaskManager.this.Task &lt;: sbt.TaskManager#Task with sbt.Dag[TaskManager.this.ManagedTask]" id="50836">ManagedTask</a> &gt;: Task &lt;: TaskManager#Task <span class="keyword">with</span> Dag[ManagedTask]
	<span class="comment">/** Creates a task that executes the given action when invoked.*/</span>
	<span class="keyword">def</span> <a title="(=&gt; Option[String])TaskManager.this.Task" id="50837">task</a>(<a title="=&gt; Option[String]" id="52228">action</a> : =&gt; Option[String]) = <a href="#52212" title="(Option[String],List[TaskManager.this.ManagedTask],Boolean,=&gt; Option[String])TaskManager.this.Task" class="keyword">new</a> <a href="#50843" title="TaskManager.this.Task">Task</a>(<span title="object None">None</span>, <span title="object Nil">Nil</span>, <span title="Boolean(false)" class="keyword">false</span>, <a href="#52228" title="=&gt; Option[String]">action</a>)
	<span class="comment">/** An interactive task is one that is not executed across all dependent projects when
	* it is called directly.  The dependencies of the task are still invoked across all dependent
	* projects, however. */</span>
	<span class="keyword">def</span> <a title="(=&gt; Option[String])TaskManager.this.Task" id="50838">interactiveTask</a>(<a title="=&gt; Option[String]" id="74303">action</a>: =&gt; Option[String]) = <a href="#52212" title="(Option[String],List[TaskManager.this.ManagedTask],Boolean,=&gt; Option[String])TaskManager.this.Task" class="keyword">new</a> <a href="#50843" title="TaskManager.this.Task">Task</a>(<span title="object None">None</span>, <span title="object Nil">Nil</span>, <span title="Boolean(true)" class="keyword">true</span>, <a href="#74303" title="=&gt; Option[String]">action</a>)
	<span class="comment">/** Creates a method task that executes the given action when invoked. */</span>
	<span class="keyword">def</span> <a title="((Array[String]) =&gt; TaskManager.this.ManagedTask)TaskManager.this.MethodTask" id="50839">task</a>(<a title="(Array[String]) =&gt; TaskManager.this.ManagedTask" id="52173">action</a>: Array[String] =&gt; ManagedTask) = <span title="TaskManager.this.MethodTask" class="keyword">new</span> <a href="#50842" title="TaskManager.this.MethodTask">MethodTask</a>(<span title="object None">None</span>, <a href="#52173" title="(Array[String]) =&gt; TaskManager.this.ManagedTask">action</a>, <span title="object Nil">Nil</span>)
	
	<span class="keyword">def</span> <a title="(TaskManager.this.Task)Option[String]" id="50840">taskName</a>(<a title="TaskManager.this.Task" id="72031">t</a>: <a href="#50843" title="TaskManager.this.Task">Task</a>): <span title="Option[String]">Option</span>[String]
	<span class="keyword">final</span> <span class="keyword">def</span> <a title="(TaskManager.this.Task)String" id="50841">taskNameString</a>(<a title="TaskManager.this.Task" id="75255">task</a>: <a href="#50843" title="TaskManager.this.Task">Task</a>): <span title="String">String</span> = <a href="#50840" title="(TaskManager.this.Task)Option[String]">taskName</a>(<a href="#75255" title="TaskManager.this.Task">task</a>).<span title="(=&gt; String)String">getOrElse</span>(<a href="#52176" title="=&gt; java.lang.String">UnnamedName</a>)
	
	<span class="comment">/** A method task is an action that has parameters.  Note that it is not a Task, though,
	* because it requires arguments to perform its work.  It therefore cannot be a dependency of
	* a Task..*/</span>
	<span class="keyword">final</span> <span class="keyword">class</span> <a title="class MethodTask extends java.lang.Object with sbt.Described with ScalaObject" id="50842">MethodTask</a>(<span class="keyword">val</span> <a title="Option[String]" id="52192">description</a>: <span title="Option[String]">Option</span>[String], <a title="(Array[String]) =&gt; TaskManager.this.ManagedTask" id="52193">action</a>: Array[String] =&gt; ManagedTask, <a title="=&gt; Seq[String]" id="52194">getCompletions</a>: =&gt; Seq[String]) <span class="keyword">extends</span> <a href="#11256" title="sbt.Described">Described</a>
	{
		<span class="comment">/** Creates a new method task, identical to this method task, except with thE[String]e given description.*/</span>
		<span class="keyword">def</span> <a title="(String)TaskManager.this.MethodTask" id="52187">describedAs</a>(<a title="String" id="58471">description</a> : <span title="String">String</span>) = <span title="TaskManager.this.MethodTask" class="keyword">new</span> <a href="#50842" title="TaskManager.this.MethodTask">MethodTask</a>(<span title="(String)Some[String]">Some</span>(<a href="#58471" title="String">description</a>), <a href="#52193" title="(Array[String]) =&gt; TaskManager.this.ManagedTask">action</a>, <a href="#52194" title="=&gt; Seq[String]">getCompletions</a>)
		<span class="comment">/** Invokes this method task with the given arguments.*/</span>
		<span class="keyword">def</span> <a title="(Array[String])TaskManager.this.ManagedTask" id="52188">apply</a>(<a title="Array[String]" id="72317">arguments</a>: <a title="Array[String]" id="1036">Array</a>[String]) = <a href="#52193" title="(Array[String])TaskManager.this.ManagedTask" id="15917">action</a>(<a href="#72317" title="Array[String]">arguments</a>)
		<span class="keyword">def</span> <a title="=&gt; TaskManager.this.ManagerType" id="52189">manager</a>: <a href="#50835" title="TaskManager.this.ManagerType">ManagerType</a> = <a href="#8673" title="TaskManager.this.type">TaskManager</a>.<span class="keyword">this</span>
		<span class="keyword">def</span> <a title="(=&gt; Seq[String])TaskManager.this.MethodTask" id="52190">completeWith</a>(<a title="=&gt; Seq[String]" id="58700">add</a>: =&gt; Seq[String]) = <span title="TaskManager.this.MethodTask" class="keyword">new</span> <a href="#50842" title="TaskManager.this.MethodTask">MethodTask</a>(<a href="#52192" title="=&gt; Option[String]">description</a>, <a href="#52193" title="(Array[String]) =&gt; TaskManager.this.ManagedTask">action</a>, <a href="#58700" title="=&gt; Seq[String]">add</a>)
		<span class="keyword">def</span> <a title="=&gt; Seq[String]" id="52191">completions</a> = <a href="#52194" title="=&gt; Seq[String]">getCompletions</a>
	}
	
	<span class="keyword">sealed</span> <span class="keyword">class</span> <a title="class Task extends java.lang.Object with sbt.Dag[TaskManager.this.ManagedTask] with sbt.Described with ScalaObject" id="50843">Task</a>(<span class="keyword">val</span> <a title="Option[String]" id="52235">explicitName</a>: <span title="Option[String]">Option</span>[String], <span class="keyword">val</span> <a title="Option[String]" id="52236">description</a> : <span title="Option[String]">Option</span>[String], <span class="keyword">val</span> <a title="List[TaskManager.this.ManagedTask]" id="52237">dependencies</a> : <span title="List[TaskManager.this.ManagedTask]">List</span>[ManagedTask],
		 <span class="keyword">val</span> <a title="Boolean" id="52238">interactive</a>: <span title="Boolean">Boolean</span>, <a title="=&gt; Option[String]" id="52239">action</a> : =&gt; Option[String]) <span class="keyword">extends</span> <a href="Dag.scala.html#8733" title="sbt.Dag[TaskManager.this.ManagedTask]">Dag</a>[ManagedTask] <span class="keyword">with</span> <a href="#11256" title="sbt.Described">Described</a>
	{
		<span class="keyword">def</span> <a title="(Option[String],List[TaskManager.this.ManagedTask],Boolean,=&gt; Option[String])TaskManager.this.Task" id="52212" class="keyword">this</a>(<a title="Option[String]" id="52231">description</a> : <span title="Option[String]">Option</span>[String], <a title="List[TaskManager.this.ManagedTask]" id="52232">dependencies</a> : <span title="List[TaskManager.this.ManagedTask]">List</span>[ManagedTask], <a title="Boolean" id="52233">interactive</a>: <span title="Boolean">Boolean</span>, <a title="=&gt; Option[String]" id="52234">action</a> : =&gt; Option[String]) =
			<a href="#50843" title="Task.this.type" class="keyword">this</a>(<span title="object None">None</span>, <a href="#52231" title="Option[String]">description</a>, <a href="#52232" title="List[TaskManager.this.ManagedTask]">dependencies</a>, <a href="#52233" title="Boolean">interactive</a>, <a href="#52234" title="=&gt; Option[String]">action</a>)
		<a href="#50848" title="(List[TaskManager.this.ManagedTask])Unit">checkTaskDependencies</a>(<a href="#52237" title="=&gt; List[TaskManager.this.ManagedTask]">dependencies</a>)
		<span class="keyword">def</span> <a title="=&gt; TaskManager.this.ManagerType" id="52213">manager</a>: <a href="#50835" title="TaskManager.this.ManagerType">ManagerType</a> = <a href="#8673" title="TaskManager.this.type">TaskManager</a>.<span class="keyword">this</span>
		<span class="keyword">def</span> <a title="=&gt; String" id="52214">name</a> = <a href="#52235" title="=&gt; Option[String]">explicitName</a>.<span title="(=&gt; String)String">getOrElse</span>(<a href="#50841" title="(TaskManager.this.Task)String">taskNameString</a>(<a href="#50843" title="TaskManager.this.Task" class="keyword">this</a>))
		<span class="keyword">private</span>[sbt] <span class="keyword">def</span> <a title="=&gt; Option[String]" id="52215">implicitName</a> = <a href="#50840" title="(TaskManager.this.Task)Option[String]">taskName</a>(<a href="#50843" title="TaskManager.this.Task" class="keyword">this</a>)
		<span class="keyword">def</span> <a title="(String)TaskManager.this.Task" id="52216">named</a>(<a title="String" id="74495">name</a>: <span title="String">String</span>) = <a href="#52227" title="(Option[String],Option[String],List[TaskManager.this.ManagedTask],Boolean,=&gt; Option[String])TaskManager.this.Task">construct</a>(<span title="(String)Some[String]">Some</span>(<a href="#74495" title="String">name</a>), <a href="#52236" title="=&gt; Option[String]">description</a>,<a href="#52237" title="=&gt; List[TaskManager.this.ManagedTask]">dependencies</a>, <a href="#52238" title="=&gt; Boolean">interactive</a>, <a href="#52239" title="=&gt; Option[String]">action</a>)
		<span class="keyword">override</span> <span class="keyword">def</span> <a title="()java.lang.String" id="52217">toString</a> = <span title="java.lang.String(&quot;Task &quot;)" class="string">&quot;Task &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#52214" title="=&gt; String">name</a>
		
		<span class="comment">/** Creates a new task, identical to this task, except with the additional dependencies specified.*/</span>
		<span class="keyword">def</span> <a title="(TaskManager.this.ManagedTask*)TaskManager.this.Task" id="52218">dependsOn</a>(<a title="TaskManager.this.ManagedTask*" id="52844">tasks</a> : <a title="TaskManager.this.ManagedTask*" id="2684">ManagedTask</a>*) = <a href="#52219" title="(List[TaskManager.this.ManagedTask])TaskManager.this.Task">setDependencies</a>(<a href="#52844" title="TaskManager.this.ManagedTask*">tasks</a>.<a title="=&gt; List[TaskManager.this.ManagedTask]" id="15975">toList</a> <a href="#52850" title="(List[TaskManager.this.ManagedTask])List[TaskManager.this.ManagedTask]">:::</a> <a href="#52237" title="=&gt; List[TaskManager.this.ManagedTask]">dependencies</a>)
		<span class="keyword">private</span>[sbt] <span class="keyword">def</span> <a title="(List[TaskManager.this.ManagedTask])TaskManager.this.Task" id="52219">setDependencies</a>(<a title="List[TaskManager.this.ManagedTask]" id="52846">dependencyList</a>: <span title="List[TaskManager.this.ManagedTask]">List</span>[ManagedTask]) =
		{
			<a href="#50848" title="(List[TaskManager.this.ManagedTask])Unit">checkTaskDependencies</a>(<a href="#52846" title="List[TaskManager.this.ManagedTask]">dependencyList</a>)
			<a href="#52227" title="(Option[String],Option[String],List[TaskManager.this.ManagedTask],Boolean,=&gt; Option[String])TaskManager.this.Task">construct</a>(<a href="#52235" title="=&gt; Option[String]">explicitName</a>, <a href="#52236" title="=&gt; Option[String]">description</a>, <a href="#52846" title="List[TaskManager.this.ManagedTask]">dependencyList</a>, <a href="#52238" title="=&gt; Boolean">interactive</a>, <a href="#52239" title="=&gt; Option[String]">action</a>)
		}
		<span class="comment">/** Creates a new task, identical to this task, except with the given description.*/</span>
		<span class="keyword">def</span> <a title="(String)TaskManager.this.Task" id="52220">describedAs</a>(<a title="String" id="52761">description</a> : <span title="String">String</span>) = <a href="#52227" title="(Option[String],Option[String],List[TaskManager.this.ManagedTask],Boolean,=&gt; Option[String])TaskManager.this.Task">construct</a>(<a href="#52235" title="=&gt; Option[String]">explicitName</a>, <span title="(String)Some[String]">Some</span>(<a href="#52761" title="String">description</a>), <a href="#52237" title="=&gt; List[TaskManager.this.ManagedTask]">dependencies</a>, <a href="#52238" title="=&gt; Boolean">interactive</a>, <a href="#52239" title="=&gt; Option[String]">action</a>);
		<span class="keyword">private</span>[sbt] <span class="keyword">def</span> <a title="=&gt; Option[String]" id="52221">invoke</a> = <a href="#52239" title="=&gt; Option[String]">action</a>;
	
		<span class="keyword">final</span> <span class="keyword">def</span> <a title="=&gt; TaskManager.this.Task" id="52222">setInteractive</a> = <a href="#52227" title="(Option[String],Option[String],List[TaskManager.this.ManagedTask],Boolean,=&gt; Option[String])TaskManager.this.Task">construct</a>(<a href="#52235" title="=&gt; Option[String]">explicitName</a>, <a href="#52236" title="=&gt; Option[String]">description</a>, <a href="#52237" title="=&gt; List[TaskManager.this.ManagedTask]">dependencies</a>, <span title="Boolean(true)" class="keyword">true</span>, <a href="#52239" title="=&gt; Option[String]">action</a>)
		<span class="keyword">final</span> <span class="keyword">def</span> <a title="=&gt; Option[String]" id="52223">run</a> = <a href="#52225" title="(List[TaskManager.this.ManagedTask])Option[String]">runSequentially</a>(<a href="Dag.scala.html#51246" title="=&gt; List[TaskManager.this.ManagedTask]">topologicalSort</a>)
		<span class="keyword">final</span> <span class="keyword">def</span> <a title="=&gt; Option[String]" id="52224">runDependenciesOnly</a> = <a href="#52225" title="(List[TaskManager.this.ManagedTask])Option[String]">runSequentially</a>(<a href="Dag.scala.html#51246" title="=&gt; List[TaskManager.this.ManagedTask]">topologicalSort</a>.<a title="(Int)List[TaskManager.this.ManagedTask]" id="15524">dropRight</a>(<span title="Int(1)" class="int">1</span>))
		<span class="keyword">private</span> <span class="keyword">def</span> <a title="(List[TaskManager.this.ManagedTask])Option[String]" id="52225">runSequentially</a>(<a title="List[TaskManager.this.ManagedTask]" id="54649">tasks</a>: <span title="List[TaskManager.this.ManagedTask]">List</span>[ManagedTask]) = <a href="Control.scala.html#13546" title="object sbt.Control">Control</a>.<a href="Control.scala.html#50247" title="(List[TaskManager.this.ManagedTask])((TaskManager.this.ManagedTask) =&gt; Option[String])Option[String]">lazyFold</a>(<a href="#54649" title="List[TaskManager.this.ManagedTask]">tasks</a>)(<a href="#54657" title="TaskManager.this.ManagedTask">_</a>.<a href="#52221" title="=&gt; Option[String]">invoke</a>)
	
		<span class="keyword">def</span> <a title="(TaskManager.this.Task)TaskManager.this.Task" id="52226">&amp;&amp;</a>(<a title="TaskManager.this.Task" id="58613">that</a> : <a href="#50843" title="TaskManager.this.Task">Task</a>) =
			<a href="#52227" title="(Option[String],Option[String],List[TaskManager.this.ManagedTask],Boolean,=&gt; Option[String])TaskManager.this.Task">construct</a>(<a href="#52235" title="=&gt; Option[String]">explicitName</a>, <span title="object None">None</span>, <a href="#52237" title="=&gt; List[TaskManager.this.ManagedTask]">dependencies</a> <a href="#58615" title="(List[TaskManager.this.ManagedTask])List[TaskManager.this.ManagedTask]">:::</a> <a href="#58613" title="TaskManager.this.Task">that</a>.<a href="#52237" title="=&gt; List[TaskManager.this.ManagedTask]">dependencies</a>, <a href="#52238" title="=&gt; Boolean">interactive</a> <a title="(Boolean)Boolean" id="2693">||</a> <a href="#58613" title="TaskManager.this.Task">that</a>.<a href="#52238" title="=&gt; Boolean">interactive</a>, <a href="#50843" title="Task.this.type" class="keyword">this</a>.<a href="#52221" title="=&gt; Option[String]">invoke</a>.<a title="(=&gt; Option[String])Option[String]" id="30337">orElse</a>(<a href="#58613" title="TaskManager.this.Task">that</a>.<a href="#52221" title="=&gt; Option[String]">invoke</a>))
		
		<span class="keyword">protected</span> <span class="keyword">def</span> <a title="(Option[String],Option[String],List[TaskManager.this.ManagedTask],Boolean,=&gt; Option[String])TaskManager.this.Task" id="52227">construct</a>(<a title="Option[String]" id="52763">explicitName</a>: <span title="Option[String]">Option</span>[String], <a title="Option[String]" id="52764">description</a>: <span title="Option[String]">Option</span>[String], <a title="List[TaskManager.this.ManagedTask]" id="52765">dependencies</a>: <span title="List[TaskManager.this.ManagedTask]">List</span>[ManagedTask], <a title="Boolean" id="52766">interactive</a>: <span title="Boolean">Boolean</span>,
			<a title="=&gt; Option[String]" id="52767">action</a> : =&gt; Option[String]): <a href="#50843" title="TaskManager.this.Task">Task</a> = <span title="TaskManager.this.Task" class="keyword">new</span> <a href="#50843" title="TaskManager.this.Task">Task</a>(<a href="#52763" title="Option[String]">explicitName</a>, <a href="#52764" title="Option[String]">description</a>, <a href="#52765" title="List[TaskManager.this.ManagedTask]">dependencies</a>, <a href="#52766" title="Boolean">interactive</a>, <a href="#52767" title="=&gt; Option[String]">action</a>)
	}
	<span class="keyword">final</span> <span class="keyword">class</span> <a title="class CompoundTask extends TaskManager.this.Task with sbt.CompoundWork[sbt.Project#Task] with ScalaObject" id="50844">CompoundTask</a> <span class="keyword">private</span> (<a title="Option[String]" id="75301">explicitName</a>: <span title="Option[String]">Option</span>[String], <a title="Option[String]" id="75302">description</a> : <span title="Option[String]">Option</span>[String], <a title="List[TaskManager.this.ManagedTask]" id="75303">dependencies</a> : <span title="List[TaskManager.this.ManagedTask]">List</span>[ManagedTask], <a title="Boolean" id="75304">interactive</a>: <span title="Boolean">Boolean</span>,
		<a title="=&gt; Option[String]" id="75305">action</a> : =&gt; Option[String], <a title="=&gt; sbt.SubWork[sbt.Project#Task]" id="75306">createWork</a>: =&gt; SubWork[Project#Task]) <span class="keyword">extends</span> <a href="#50843" title="TaskManager.this.Task">Task</a>(<a href="#75302" title="Option[String]">description</a>, <a href="#75303" title="List[TaskManager.this.ManagedTask]">dependencies</a>, <a href="#75304" title="Boolean">interactive</a>, <a href="#75305" title="=&gt; Option[String]">action</a>)
		<span class="keyword">with</span> <a href="ParallelRunner.scala.html#8394" title="sbt.CompoundWork[sbt.Project#Task]">CompoundWork</a>[Project#Task]
	{
		<span class="keyword">def</span> <a title="(=&gt; sbt.SubWork[sbt.Project#Task])TaskManager.this.CompoundTask" id="74558" class="keyword">this</a>(<a title="=&gt; sbt.SubWork[sbt.Project#Task]" id="74562">createWork</a>: =&gt; SubWork[Project#Task]) = <a href="#50844" title="CompoundTask.this.type" class="keyword">this</a>(<span title="object None">None</span>, <span title="object None">None</span>, <span title="object Nil">Nil</span>, <span title="Boolean(false)" class="keyword">false</span>, <span title="object None">None</span>, <a href="#74562" title="=&gt; sbt.SubWork[sbt.Project#Task]">createWork</a>)
		<span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(Option[String],Option[String],List[TaskManager.this.ManagedTask],Boolean,=&gt; Option[String])TaskManager.this.CompoundTask" id="74559">construct</a>(<a title="Option[String]" id="75339">explicitName</a>: <span title="Option[String]">Option</span>[String], <a title="Option[String]" id="75340">description</a>: <span title="Option[String]">Option</span>[String], <a title="List[TaskManager.this.ManagedTask]" id="75341">dependencies</a>: <span title="List[TaskManager.this.ManagedTask]">List</span>[ManagedTask],
			<a title="Boolean" id="75342">interactive</a>: <span title="Boolean">Boolean</span>, <a title="=&gt; Option[String]" id="75343">action</a> : =&gt; Option[String]) = <span title="TaskManager.this.CompoundTask" class="keyword">new</span> <a href="#50844" title="TaskManager.this.CompoundTask">CompoundTask</a>(<a href="#75339" title="Option[String]">explicitName</a>, <a href="#75340" title="Option[String]">description</a>, <a href="#75341" title="List[TaskManager.this.ManagedTask]">dependencies</a>, <a href="#75342" title="Boolean">interactive</a>, <a href="#75343" title="=&gt; Option[String]">action</a>, <a href="#75306" title="=&gt; sbt.SubWork[sbt.Project#Task]">createWork</a>)
		<span class="keyword">def</span> <a title="=&gt; sbt.SubWork[sbt.Project#Task]" id="74560">work</a> = <a href="#75306" title="=&gt; sbt.SubWork[sbt.Project#Task]">createWork</a>
	}
	<span class="keyword">def</span> <a title="(=&gt; sbt.Project#Task)TaskManager.this.CompoundTask" id="50845">dynamic</a>(<a title="=&gt; sbt.Project#Task" id="75367">createTask</a>: =&gt; Project#Task) = <a href="#74558" title="(=&gt; sbt.SubWork[sbt.Project#Task])TaskManager.this.CompoundTask" class="keyword">new</a> <a href="#50844" title="TaskManager.this.CompoundTask">CompoundTask</a>(<a href="ParallelRunner.scala.html#70515" title="(sbt.Project#Task)sbt.SubWork[sbt.Project#Task]">SubWork</a>[Project#<a href="#50843" title="sbt.Project#Task">Task</a>](<a href="#50847" title="(sbt.Project#Task)sbt.Project#Task">checkDynamic</a>(<a href="#75367" title="=&gt; sbt.Project#Task">createTask</a>)))
	@<a title="deprecated" id="205">deprecated</a> <span class="keyword">def</span> <a title="(=&gt; sbt.Project#Task)TaskManager.this.CompoundTask" id="50846">compoundTask</a>(<a title="=&gt; sbt.Project#Task" id="75405">createTask</a>: =&gt; Project#Task) = <a href="#50845" title="(=&gt; sbt.Project#Task)TaskManager.this.CompoundTask">dynamic</a>(<a href="#75405" title="=&gt; sbt.Project#Task">createTask</a>)
	<span class="comment">/** Verifies that the given dynamically created task does not depend on any statically defined tasks.
	* Returns the task if it is valid.*/</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project#Task)sbt.Project#Task" id="50847">checkDynamic</a>(<a title="sbt.Project#Task" id="75385">task</a>: Project#<a href="#50843" title="sbt.Project#Task">Task</a>) =
	{
		<span class="keyword">for</span>(<a title="((sbt.Project#ManagedTask) =&gt; Unit)Unit" id="75398">t</a> &lt;- <a href="#75385" title="sbt.Project#Task">task</a>.<a href="Dag.scala.html#51246" title="=&gt; List[sbt.Project#ManagedTask]">topologicalSort</a> <span class="keyword">if</span> <a title="=&gt; Boolean" id="2690">!</a>(<a href="#75398" title="sbt.Project#ManagedTask">t</a> <a title="(AnyRef)Boolean" id="6017">eq</a> <a href="#75385" title="sbt.Project#Task">task</a>); <a title="((String) =&gt; Unit)Unit" id="75400">staticName</a> &lt;- <a href="#75398" title="sbt.Project#ManagedTask">t</a>.<a href="#52215" title="=&gt; Option[String]">implicitName</a>)
			<a title="(String)Nothing" id="6476">error</a>(<span title="java.lang.String(&quot;Dynamic task &quot;)" class="string">&quot;Dynamic task &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#75385" title="sbt.Project#Task">task</a>.<a href="#52214" title="=&gt; String">name</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; depends on static task &quot;)" class="string">&quot; depends on static task &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#75400" title="String">staticName</a>)
		<a href="#75385" title="sbt.Project#Task">task</a>
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(List[TaskManager.this.ManagedTask])Unit" id="50848">checkTaskDependencies</a>(<a title="List[TaskManager.this.ManagedTask]" id="52848">dependencyList</a>: <span title="List[TaskManager.this.ManagedTask]">List</span>[ManagedTask])
	{
		<span class="keyword">val</span> <a title="Int" id="75413">nullDependencyIndex</a> = <a href="#52848" title="List[TaskManager.this.ManagedTask]">dependencyList</a>.<span title="((TaskManager.this.ManagedTask) =&gt; Boolean)Int">findIndexOf</span>(<a href="#75416" title="TaskManager.this.ManagedTask">_</a> <a title="(AnyRef)Boolean" id="3452">==</a> <span title="Null(null)" class="keyword">null</span>)
		<span title="(Boolean,Any)Unit">require</span>(<a href="#75413" title="Int">nullDependencyIndex</a> <span title="(Int)Boolean">&lt;</span> <span title="Int(0)" class="int">0</span>, <span title="java.lang.String(&quot;Dependency (at index &quot;)" class="string">&quot;Dependency (at index &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#75413" title="Int">nullDependencyIndex</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;) is null.  This may be an initialization issue or a circular dependency.&quot;)" class="string">&quot;) is null.  This may be an initialization issue or a circular dependency.&quot;</span>)
		<span class="keyword">val</span> <a title="Int" id="75414">interactiveDependencyIndex</a> = <a href="#52848" title="List[TaskManager.this.ManagedTask]">dependencyList</a>.<span title="((TaskManager.this.ManagedTask) =&gt; Boolean)Int">findIndexOf</span>(<a href="#75431" title="TaskManager.this.ManagedTask">_</a>.<a href="#52238" title="=&gt; Boolean">interactive</a>)
		<span title="(Boolean,Any)Unit">require</span>(<a href="#75414" title="Int">interactiveDependencyIndex</a> <span title="(Int)Boolean">&lt;</span> <span title="Int(0)" class="int">0</span>, <span title="java.lang.String(&quot;Dependency (at index &quot;)" class="string">&quot;Dependency (at index &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#75414" title="Int">interactiveDependencyIndex</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;) is interactive.  Interactive tasks cannot be dependencies.&quot;)" class="string">&quot;) is interactive.  Interactive tasks cannot be dependencies.&quot;</span>)
	}
	<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="TaskManager.this.Task" id="50850">Empty</a> = <a href="#50837" title="(=&gt; Option[String])TaskManager.this.Task">task</a> { <span title="object None">None</span>}
}
<span class="keyword">object</span> <a title="object sbt.TaskManager" id="8674">TaskManager</a>
{
	<span class="keyword">val</span> <a title="java.lang.String" id="52176">UnnamedName</a> = <span title="java.lang.String(&quot;&lt;anonymous&gt;&quot;)" class="string">&quot;&lt;anonymous&gt;&quot;</span>
}
        </pre>
    </body>
</html>