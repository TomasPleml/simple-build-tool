<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>sbt/TaskManager.scala</title>
        <script type="text/javascript" src="../jquery-all.js"></script>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* sbt -- Simple Build Tool
 * Copyright 2008 David MacIver, Mark Harrah
 */</span>
<span class="keyword">package</span> sbt

<span class="keyword">import</span> TaskManager._

<span class="keyword">trait</span> <a title="trait Described extends java.lang.Object with NotNull" id="9612">Described</a> <span class="keyword">extends</span> <a title="NotNull" id="189">NotNull</a>
{
	<span class="keyword">def</span> <a title="=&gt; Option[String]" id="19205">description</a>: <span title="Option[String]">Option</span>[String]
}
<span class="keyword">trait</span> <a title="trait TaskManager extends java.lang.Object with ScalaObject" id="7044">TaskManager</a>{
	<span class="keyword">type</span> <a title="&gt;: TaskManager.this.type &lt;: sbt.TaskManager" id="14804">ManagerType</a> &gt;: <span class="keyword">this</span>.<span class="keyword">type</span> &lt;: TaskManager
	<span class="keyword">type</span> <a title="&gt;: TaskManager.this.Task &lt;: sbt.TaskManager#Task with sbt.Dag[TaskManager.this.ManagedTask]" id="14805">ManagedTask</a> &gt;: Task &lt;: TaskManager#Task <span class="keyword">with</span> Dag[ManagedTask]
	<span class="comment">/** Creates a task that executes the given action when invoked.*/</span>
	<span class="keyword">def</span> <a title="(=&gt; Option[String])TaskManager.this.Task" id="14806">task</a>(<a title="=&gt; Option[String]" id="19299">action</a> : =&gt; Option[String]) = <a href="#19283" title="(Option[String],List[TaskManager.this.ManagedTask],Boolean,=&gt; Option[String])TaskManager.this.Task" class="keyword">new</a> <a href="#14812" title="TaskManager.this.Task">Task</a>(<span title="object None">None</span>, <span title="object Nil">Nil</span>, <span title="Boolean(false)" class="keyword">false</span>, <a href="#19299" title="=&gt; Option[String]">action</a>)
	<span class="comment">/** An interactive task is one that is not executed across all dependent projects when
	* it is called directly.  The dependencies of the task are still invoked across all dependent
	* projects, however. */</span>
	<span class="keyword">def</span> <a title="(=&gt; Option[String])TaskManager.this.Task" id="14807">interactiveTask</a>(<a title="=&gt; Option[String]" id="27299">action</a>: =&gt; Option[String]) = <a href="#19283" title="(Option[String],List[TaskManager.this.ManagedTask],Boolean,=&gt; Option[String])TaskManager.this.Task" class="keyword">new</a> <a href="#14812" title="TaskManager.this.Task">Task</a>(<span title="object None">None</span>, <span title="object Nil">Nil</span>, <span title="Boolean(true)" class="keyword">true</span>, <a href="#27299" title="=&gt; Option[String]">action</a>)
	<span class="comment">/** Creates a method task that executes the given action when invoked. */</span>
	<span class="keyword">def</span> <a title="((Array[String]) =&gt; TaskManager.this.ManagedTask)TaskManager.this.MethodTask" id="14808">task</a>(<a title="(Array[String]) =&gt; TaskManager.this.ManagedTask" id="19200">action</a>: Array[String] =&gt; ManagedTask) = <span title="TaskManager.this.MethodTask" class="keyword">new</span> <a href="#14811" title="TaskManager.this.MethodTask">MethodTask</a>(<span title="object None">None</span>, <a href="#19200" title="(Array[String]) =&gt; TaskManager.this.ManagedTask">action</a>, <span title="object Nil">Nil</span>)
	
	<span class="keyword">def</span> <a title="(TaskManager.this.Task)Option[String]" id="14809">taskName</a>(<a title="TaskManager.this.Task" id="67267">t</a>: <a href="#14812" title="TaskManager.this.Task">Task</a>): <span title="Option[String]">Option</span>[String]
	<span class="keyword">final</span> <span class="keyword">def</span> <a title="(TaskManager.this.Task)String" id="14810">taskNameString</a>(<a title="TaskManager.this.Task" id="67268">task</a>: <a href="#14812" title="TaskManager.this.Task">Task</a>): <span title="String">String</span> = <a href="#14809" title="(TaskManager.this.Task)Option[String]">taskName</a>(<a href="#67268" title="TaskManager.this.Task">task</a>).<span title="(=&gt; String)String">getOrElse</span>(<a href="#19203" title="=&gt; java.lang.String">UnnamedName</a>)
	
	<span class="comment">/** A method task is an action that has parameters.  Note that it is not a Task, though,
	* because it requires arguments to perform its work.  It therefore cannot be a dependency of
	* a Task..*/</span>
	<span class="keyword">final</span> <span class="keyword">class</span> <a title="class MethodTask extends java.lang.Object with sbt.Described with ScalaObject" id="14811">MethodTask</a>(<span class="keyword">val</span> <a title="Option[String]" id="19219">description</a>: <span title="Option[String]">Option</span>[String], <a title="(Array[String]) =&gt; TaskManager.this.ManagedTask" id="19220">action</a>: Array[String] =&gt; ManagedTask, <a title="=&gt; Seq[String]" id="19221">getCompletions</a>: =&gt; Seq[String]) <span class="keyword">extends</span> <a href="#9612" title="sbt.Described">Described</a>
	{
		<span class="comment">/** Creates a new method task, identical to this method task, except with thE[String]e given description.*/</span>
		<span class="keyword">def</span> <a title="(String)TaskManager.this.MethodTask" id="19214">describedAs</a>(<a title="String" id="67275">description</a> : <span title="String">String</span>) = <span title="TaskManager.this.MethodTask" class="keyword">new</span> <a href="#14811" title="TaskManager.this.MethodTask">MethodTask</a>(<span title="(String)Some[String]">Some</span>(<a href="#67275" title="String">description</a>), <a href="#19220" title="(Array[String]) =&gt; TaskManager.this.ManagedTask">action</a>, <a href="#19221" title="=&gt; Seq[String]">getCompletions</a>)
		<span class="comment">/** Invokes this method task with the given arguments.*/</span>
		<span class="keyword">def</span> <a title="(Array[String])TaskManager.this.ManagedTask" id="19215">apply</a>(<a title="Array[String]" id="67278">arguments</a>: <a title="Array[String]" id="1032">Array</a>[String]) = <a href="#19220" title="(Array[String])TaskManager.this.ManagedTask" id="16544">action</a>(<a href="#67278" title="Array[String]">arguments</a>)
		<span class="keyword">def</span> <a title="=&gt; TaskManager.this.ManagerType" id="19216">manager</a>: <a href="#14804" title="TaskManager.this.ManagerType">ManagerType</a> = <a href="#7044" title="TaskManager.this.type">TaskManager</a>.<span class="keyword">this</span>
		<span class="keyword">def</span> <a title="(=&gt; Seq[String])TaskManager.this.MethodTask" id="19217">completeWith</a>(<a title="=&gt; Seq[String]" id="27002">add</a>: =&gt; Seq[String]) = <span title="TaskManager.this.MethodTask" class="keyword">new</span> <a href="#14811" title="TaskManager.this.MethodTask">MethodTask</a>(<a href="#19219" title="=&gt; Option[String]">description</a>, <a href="#19220" title="(Array[String]) =&gt; TaskManager.this.ManagedTask">action</a>, <a href="#27002" title="=&gt; Seq[String]">add</a>)
		<span class="keyword">def</span> <a title="=&gt; Seq[String]" id="19218">completions</a> = <a href="#19221" title="=&gt; Seq[String]">getCompletions</a>
	}
	
	<span class="keyword">sealed</span> <span class="keyword">class</span> <a title="class Task extends java.lang.Object with sbt.Dag[TaskManager.this.ManagedTask] with sbt.Described with ScalaObject" id="14812">Task</a>(<span class="keyword">val</span> <a title="Option[String]" id="19306">explicitName</a>: <span title="Option[String]">Option</span>[String], <span class="keyword">val</span> <a title="Option[String]" id="19307">description</a> : <span title="Option[String]">Option</span>[String], <span class="keyword">val</span> <a title="List[TaskManager.this.ManagedTask]" id="19308">dependencies</a> : <span title="List[TaskManager.this.ManagedTask]">List</span>[ManagedTask],
		 <span class="keyword">val</span> <a title="Boolean" id="19309">interactive</a>: <span title="Boolean">Boolean</span>, <a title="=&gt; Option[String]" id="19310">action</a> : =&gt; Option[String]) <span class="keyword">extends</span> <a href="Dag.scala.html#7101" title="sbt.Dag[TaskManager.this.ManagedTask]">Dag</a>[ManagedTask] <span class="keyword">with</span> <a href="#9612" title="sbt.Described">Described</a>
	{
		<span class="keyword">def</span> <a title="(Option[String],List[TaskManager.this.ManagedTask],Boolean,=&gt; Option[String])TaskManager.this.Task" id="19283" class="keyword">this</a>(<a title="Option[String]" id="19302">description</a> : <span title="Option[String]">Option</span>[String], <a title="List[TaskManager.this.ManagedTask]" id="19303">dependencies</a> : <span title="List[TaskManager.this.ManagedTask]">List</span>[ManagedTask], <a title="Boolean" id="19304">interactive</a>: <span title="Boolean">Boolean</span>, <a title="=&gt; Option[String]" id="19305">action</a> : =&gt; Option[String]) =
			<a href="#14812" title="Task.this.type" class="keyword">this</a>(<span title="object None">None</span>, <a href="#19302" title="Option[String]">description</a>, <a href="#19303" title="List[TaskManager.this.ManagedTask]">dependencies</a>, <a href="#19304" title="Boolean">interactive</a>, <a href="#19305" title="=&gt; Option[String]">action</a>)
		<a href="#14817" title="(List[TaskManager.this.ManagedTask])Unit">checkTaskDependencies</a>(<a href="#19308" title="=&gt; List[TaskManager.this.ManagedTask]">dependencies</a>)
		<span class="keyword">def</span> <a title="=&gt; TaskManager.this.ManagerType" id="19284">manager</a>: <a href="#14804" title="TaskManager.this.ManagerType">ManagerType</a> = <a href="#7044" title="TaskManager.this.type">TaskManager</a>.<span class="keyword">this</span>
		<span class="keyword">def</span> <a title="=&gt; String" id="19285">name</a> = <a href="#19306" title="=&gt; Option[String]">explicitName</a>.<span title="(=&gt; String)String">getOrElse</span>(<a href="#14810" title="(TaskManager.this.Task)String">taskNameString</a>(<a href="#14812" title="TaskManager.this.Task" class="keyword">this</a>))
		<span class="keyword">private</span>[sbt] <span class="keyword">def</span> <a title="=&gt; Option[String]" id="19286">implicitName</a> = <a href="#14809" title="(TaskManager.this.Task)Option[String]">taskName</a>(<a href="#14812" title="TaskManager.this.Task" class="keyword">this</a>)
		<span class="keyword">def</span> <a title="(String)TaskManager.this.Task" id="19287">named</a>(<a title="String" id="29338">name</a>: <span title="String">String</span>) = <a href="#19298" title="(Option[String],Option[String],List[TaskManager.this.ManagedTask],Boolean,=&gt; Option[String])TaskManager.this.Task">construct</a>(<span title="(String)Some[String]">Some</span>(<a href="#29338" title="String">name</a>), <a href="#19307" title="=&gt; Option[String]">description</a>,<a href="#19308" title="=&gt; List[TaskManager.this.ManagedTask]">dependencies</a>, <a href="#19309" title="=&gt; Boolean">interactive</a>, <a href="#19310" title="=&gt; Option[String]">action</a>)
		<span class="keyword">override</span> <span class="keyword">def</span> <a title="()java.lang.String" id="19288">toString</a> = <span title="java.lang.String(&quot;Task &quot;)" class="string">&quot;Task &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#19285" title="=&gt; String">name</a>
		
		<span class="comment">/** Creates a new task, identical to this task, except with the additional dependencies specified.*/</span>
		<span class="keyword">def</span> <a title="(TaskManager.this.ManagedTask*)TaskManager.this.Task" id="19289">dependsOn</a>(<a title="TaskManager.this.ManagedTask*" id="24774">tasks</a> : <a title="TaskManager.this.ManagedTask*" id="2689">ManagedTask</a>*) = <a href="#19290" title="(List[TaskManager.this.ManagedTask])TaskManager.this.Task">setDependencies</a>(<a href="#24774" title="TaskManager.this.ManagedTask*">tasks</a>.<a title="=&gt; List[TaskManager.this.ManagedTask]" id="16304">toList</a> <a href="#24780" title="(List[TaskManager.this.ManagedTask])List[TaskManager.this.ManagedTask]">:::</a> <a href="#19308" title="=&gt; List[TaskManager.this.ManagedTask]">dependencies</a>)
		<span class="keyword">private</span>[sbt] <span class="keyword">def</span> <a title="(List[TaskManager.this.ManagedTask])TaskManager.this.Task" id="19290">setDependencies</a>(<a title="List[TaskManager.this.ManagedTask]" id="24776">dependencyList</a>: <span title="List[TaskManager.this.ManagedTask]">List</span>[ManagedTask]) =
		{
			<a href="#14817" title="(List[TaskManager.this.ManagedTask])Unit">checkTaskDependencies</a>(<a href="#24776" title="List[TaskManager.this.ManagedTask]">dependencyList</a>)
			<a href="#19298" title="(Option[String],Option[String],List[TaskManager.this.ManagedTask],Boolean,=&gt; Option[String])TaskManager.this.Task">construct</a>(<a href="#19306" title="=&gt; Option[String]">explicitName</a>, <a href="#19307" title="=&gt; Option[String]">description</a>, <a href="#24776" title="List[TaskManager.this.ManagedTask]">dependencyList</a>, <a href="#19309" title="=&gt; Boolean">interactive</a>, <a href="#19310" title="=&gt; Option[String]">action</a>)
		}
		<span class="comment">/** Creates a new task, identical to this task, except with the given description.*/</span>
		<span class="keyword">def</span> <a title="(String)TaskManager.this.Task" id="19291">describedAs</a>(<a title="String" id="24658">description</a> : <span title="String">String</span>) = <a href="#19298" title="(Option[String],Option[String],List[TaskManager.this.ManagedTask],Boolean,=&gt; Option[String])TaskManager.this.Task">construct</a>(<a href="#19306" title="=&gt; Option[String]">explicitName</a>, <span title="(String)Some[String]">Some</span>(<a href="#24658" title="String">description</a>), <a href="#19308" title="=&gt; List[TaskManager.this.ManagedTask]">dependencies</a>, <a href="#19309" title="=&gt; Boolean">interactive</a>, <a href="#19310" title="=&gt; Option[String]">action</a>);
		<span class="keyword">private</span>[sbt] <span class="keyword">def</span> <a title="=&gt; Option[String]" id="19292">invoke</a> = <a href="#19310" title="=&gt; Option[String]">action</a>;
	
		<span class="keyword">final</span> <span class="keyword">def</span> <a title="=&gt; TaskManager.this.Task" id="19293">setInteractive</a> = <a href="#19298" title="(Option[String],Option[String],List[TaskManager.this.ManagedTask],Boolean,=&gt; Option[String])TaskManager.this.Task">construct</a>(<a href="#19306" title="=&gt; Option[String]">explicitName</a>, <a href="#19307" title="=&gt; Option[String]">description</a>, <a href="#19308" title="=&gt; List[TaskManager.this.ManagedTask]">dependencies</a>, <span title="Boolean(true)" class="keyword">true</span>, <a href="#19310" title="=&gt; Option[String]">action</a>)
		<span class="keyword">final</span> <span class="keyword">def</span> <a title="=&gt; Option[String]" id="19294">run</a> = <a href="#19296" title="(List[TaskManager.this.ManagedTask])Option[String]">runSequentially</a>(<a href="Dag.scala.html#14930" title="=&gt; List[TaskManager.this.ManagedTask]">topologicalSort</a>)
		<span class="keyword">final</span> <span class="keyword">def</span> <a title="=&gt; Option[String]" id="19295">runDependenciesOnly</a> = <a href="#19296" title="(List[TaskManager.this.ManagedTask])Option[String]">runSequentially</a>(<a href="Dag.scala.html#14930" title="=&gt; List[TaskManager.this.ManagedTask]">topologicalSort</a>.<a title="(Int)List[TaskManager.this.ManagedTask]" id="17956">dropRight</a>(<span title="Int(1)" class="int">1</span>))
		<span class="keyword">private</span> <span class="keyword">def</span> <a title="(List[TaskManager.this.ManagedTask])Option[String]" id="19296">runSequentially</a>(<a title="List[TaskManager.this.ManagedTask]" id="35174">tasks</a>: <span title="List[TaskManager.this.ManagedTask]">List</span>[ManagedTask]) = <a href="Control.scala.html#11878" title="object sbt.Control">Control</a>.<a href="Control.scala.html#25779" title="(List[TaskManager.this.ManagedTask])((TaskManager.this.ManagedTask) =&gt; Option[String])Option[String]">lazyFold</a>(<a href="#35174" title="List[TaskManager.this.ManagedTask]">tasks</a>)(<a href="#35182" title="TaskManager.this.ManagedTask">_</a>.<a href="#19292" title="=&gt; Option[String]">invoke</a>)
	
		<span class="keyword">def</span> <a title="(TaskManager.this.Task)TaskManager.this.Task" id="19297">&amp;&amp;</a>(<a title="TaskManager.this.Task" id="63178">that</a> : <a href="#14812" title="TaskManager.this.Task">Task</a>) =
			<a href="#19298" title="(Option[String],Option[String],List[TaskManager.this.ManagedTask],Boolean,=&gt; Option[String])TaskManager.this.Task">construct</a>(<a href="#19306" title="=&gt; Option[String]">explicitName</a>, <span title="object None">None</span>, <a href="#19308" title="=&gt; List[TaskManager.this.ManagedTask]">dependencies</a> <a href="#63180" title="(List[TaskManager.this.ManagedTask])List[TaskManager.this.ManagedTask]">:::</a> <a href="#63178" title="TaskManager.this.Task">that</a>.<a href="#19308" title="=&gt; List[TaskManager.this.ManagedTask]">dependencies</a>, <a href="#19309" title="=&gt; Boolean">interactive</a> <a title="(Boolean)Boolean" id="2698">||</a> <a href="#63178" title="TaskManager.this.Task">that</a>.<a href="#19309" title="=&gt; Boolean">interactive</a>, <a href="#14812" title="Task.this.type" class="keyword">this</a>.<a href="#19292" title="=&gt; Option[String]">invoke</a>.<a title="(=&gt; Option[String])Option[String]" id="19240">orElse</a>(<a href="#63178" title="TaskManager.this.Task">that</a>.<a href="#19292" title="=&gt; Option[String]">invoke</a>))
		
		<span class="keyword">protected</span> <span class="keyword">def</span> <a title="(Option[String],Option[String],List[TaskManager.this.ManagedTask],Boolean,=&gt; Option[String])TaskManager.this.Task" id="19298">construct</a>(<a title="Option[String]" id="24660">explicitName</a>: <span title="Option[String]">Option</span>[String], <a title="Option[String]" id="24661">description</a>: <span title="Option[String]">Option</span>[String], <a title="List[TaskManager.this.ManagedTask]" id="24662">dependencies</a>: <span title="List[TaskManager.this.ManagedTask]">List</span>[ManagedTask], <a title="Boolean" id="24663">interactive</a>: <span title="Boolean">Boolean</span>,
			<a title="=&gt; Option[String]" id="24664">action</a> : =&gt; Option[String]): <a href="#14812" title="TaskManager.this.Task">Task</a> = <span title="TaskManager.this.Task" class="keyword">new</span> <a href="#14812" title="TaskManager.this.Task">Task</a>(<a href="#24660" title="Option[String]">explicitName</a>, <a href="#24661" title="Option[String]">description</a>, <a href="#24662" title="List[TaskManager.this.ManagedTask]">dependencies</a>, <a href="#24663" title="Boolean">interactive</a>, <a href="#24664" title="=&gt; Option[String]">action</a>)
	}
	<span class="keyword">final</span> <span class="keyword">class</span> <a title="class CompoundTask extends TaskManager.this.Task with sbt.CompoundWork[sbt.Project#Task] with ScalaObject" id="14813">CompoundTask</a> <span class="keyword">private</span> (<a title="Option[String]" id="67321">explicitName</a>: <span title="Option[String]">Option</span>[String], <a title="Option[String]" id="67322">description</a> : <span title="Option[String]">Option</span>[String], <a title="List[TaskManager.this.ManagedTask]" id="67323">dependencies</a> : <span title="List[TaskManager.this.ManagedTask]">List</span>[ManagedTask], <a title="Boolean" id="67324">interactive</a>: <span title="Boolean">Boolean</span>,
		<a title="=&gt; Option[String]" id="67325">action</a> : =&gt; Option[String], <a title="=&gt; sbt.SubWork[sbt.Project#Task]" id="67326">createWork</a>: =&gt; SubWork[Project#Task]) <span class="keyword">extends</span> <a href="#14812" title="TaskManager.this.Task">Task</a>(<a href="#67322" title="Option[String]">description</a>, <a href="#67323" title="List[TaskManager.this.ManagedTask]">dependencies</a>, <a href="#67324" title="Boolean">interactive</a>, <a href="#67325" title="=&gt; Option[String]">action</a>)
		<span class="keyword">with</span> <a href="ParallelRunner.scala.html#6765" title="sbt.CompoundWork[sbt.Project#Task]">CompoundWork</a>[Project#Task]
	{
		<span class="keyword">def</span> <a title="(=&gt; sbt.SubWork[sbt.Project#Task])TaskManager.this.CompoundTask" id="29431" class="keyword">this</a>(<a title="=&gt; sbt.SubWork[sbt.Project#Task]" id="29436">createWork</a>: =&gt; SubWork[Project#Task]) = <a href="#14813" title="CompoundTask.this.type" class="keyword">this</a>(<span title="object None">None</span>, <span title="object None">None</span>, <span title="object Nil">Nil</span>, <span title="Boolean(false)" class="keyword">false</span>, <span title="object None">None</span>, <a href="#29436" title="=&gt; sbt.SubWork[sbt.Project#Task]">createWork</a>)
		<span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(Option[String],Option[String],List[TaskManager.this.ManagedTask],Boolean,=&gt; Option[String])TaskManager.this.CompoundTask" id="29432">construct</a>(<a title="Option[String]" id="67359">explicitName</a>: <span title="Option[String]">Option</span>[String], <a title="Option[String]" id="67360">description</a>: <span title="Option[String]">Option</span>[String], <a title="List[TaskManager.this.ManagedTask]" id="67361">dependencies</a>: <span title="List[TaskManager.this.ManagedTask]">List</span>[ManagedTask],
			<a title="Boolean" id="67362">interactive</a>: <span title="Boolean">Boolean</span>, <a title="=&gt; Option[String]" id="67363">action</a> : =&gt; Option[String]) = <span title="TaskManager.this.CompoundTask" class="keyword">new</span> <a href="#14813" title="TaskManager.this.CompoundTask">CompoundTask</a>(<a href="#67359" title="Option[String]">explicitName</a>, <a href="#67360" title="Option[String]">description</a>, <a href="#67361" title="List[TaskManager.this.ManagedTask]">dependencies</a>, <a href="#67362" title="Boolean">interactive</a>, <a href="#67363" title="=&gt; Option[String]">action</a>, <a href="#67326" title="=&gt; sbt.SubWork[sbt.Project#Task]">createWork</a>)
		<span class="keyword">def</span> <a title="=&gt; sbt.SubWork[sbt.Project#Task]" id="29433">work</a> = <a href="#67326" title="=&gt; sbt.SubWork[sbt.Project#Task]">createWork</a>
	}
	<span class="keyword">def</span> <a title="(=&gt; sbt.Project#Task)TaskManager.this.CompoundTask" id="14814">dynamic</a>(<a title="=&gt; sbt.Project#Task" id="67388">createTask</a>: =&gt; Project#Task) = <a href="#29431" title="(=&gt; sbt.SubWork[sbt.Project#Task])TaskManager.this.CompoundTask" class="keyword">new</a> <a href="#14813" title="TaskManager.this.CompoundTask">CompoundTask</a>(<a href="ParallelRunner.scala.html#29357" title="(sbt.Project#Task)sbt.SubWork[sbt.Project#Task]">SubWork</a>[Project#<a href="#14812" title="sbt.Project#Task">Task</a>](<a href="#14816" title="(sbt.Project#Task)sbt.Project#Task">checkDynamic</a>(<a href="#67388" title="=&gt; sbt.Project#Task">createTask</a>)))
	@<a title="deprecated" id="201">deprecated</a> <span class="keyword">def</span> <a title="(=&gt; sbt.Project#Task)TaskManager.this.CompoundTask" id="14815">compoundTask</a>(<a title="=&gt; sbt.Project#Task" id="67426">createTask</a>: =&gt; Project#Task) = <a href="#14814" title="(=&gt; sbt.Project#Task)TaskManager.this.CompoundTask">dynamic</a>(<a href="#67426" title="=&gt; sbt.Project#Task">createTask</a>)
	<span class="comment">/** Verifies that the given dynamically created task does not depend on any statically defined tasks.
	* Returns the task if it is valid.*/</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Project#Task)sbt.Project#Task" id="14816">checkDynamic</a>(<a title="sbt.Project#Task" id="67406">task</a>: Project#<a href="#14812" title="sbt.Project#Task">Task</a>) =
	{
		<span class="keyword">for</span>(<a title="((sbt.Project#ManagedTask) =&gt; Unit)Unit" id="67419">t</a> &lt;- <a href="#67406" title="sbt.Project#Task">task</a>.<a href="Dag.scala.html#14930" title="=&gt; List[sbt.Project#ManagedTask]">topologicalSort</a> <span class="keyword">if</span> <a title="=&gt; Boolean" id="2695">!</a>(<a href="#67419" title="sbt.Project#ManagedTask">t</a> <a title="(AnyRef)Boolean" id="5739">eq</a> <a href="#67406" title="sbt.Project#Task">task</a>); <a title="((String) =&gt; Unit)Unit" id="67421">staticName</a> &lt;- <a href="#67419" title="sbt.Project#ManagedTask">t</a>.<a href="#19286" title="=&gt; Option[String]">implicitName</a>)
			<a title="(String)Nothing" id="6085">error</a>(<span title="java.lang.String(&quot;Dynamic task &quot;)" class="string">&quot;Dynamic task &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#67406" title="sbt.Project#Task">task</a>.<a href="#19285" title="=&gt; String">name</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; depends on static task &quot;)" class="string">&quot; depends on static task &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#67421" title="String">staticName</a>)
		<a href="#67406" title="sbt.Project#Task">task</a>
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(List[TaskManager.this.ManagedTask])Unit" id="14817">checkTaskDependencies</a>(<a title="List[TaskManager.this.ManagedTask]" id="24778">dependencyList</a>: <span title="List[TaskManager.this.ManagedTask]">List</span>[ManagedTask])
	{
		<span class="keyword">val</span> <a title="Int" id="67434">nullDependencyIndex</a> = <a href="#24778" title="List[TaskManager.this.ManagedTask]">dependencyList</a>.<span title="((TaskManager.this.ManagedTask) =&gt; Boolean)Int">findIndexOf</span>(<a href="#67437" title="TaskManager.this.ManagedTask">_</a> <a title="(AnyRef)Boolean" id="3457">==</a> <span title="Null(null)" class="keyword">null</span>)
		<span title="(Boolean,Any)Unit">require</span>(<a href="#67434" title="Int">nullDependencyIndex</a> <span title="(Int)Boolean">&lt;</span> <span title="Int(0)" class="int">0</span>, <span title="java.lang.String(&quot;Dependency (at index &quot;)" class="string">&quot;Dependency (at index &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#67434" title="Int">nullDependencyIndex</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;) is null.  This may be an initialization issue or a circular dependency.&quot;)" class="string">&quot;) is null.  This may be an initialization issue or a circular dependency.&quot;</span>)
		<span class="keyword">val</span> <a title="Int" id="67435">interactiveDependencyIndex</a> = <a href="#24778" title="List[TaskManager.this.ManagedTask]">dependencyList</a>.<span title="((TaskManager.this.ManagedTask) =&gt; Boolean)Int">findIndexOf</span>(<a href="#67452" title="TaskManager.this.ManagedTask">_</a>.<a href="#19309" title="=&gt; Boolean">interactive</a>)
		<span title="(Boolean,Any)Unit">require</span>(<a href="#67435" title="Int">interactiveDependencyIndex</a> <span title="(Int)Boolean">&lt;</span> <span title="Int(0)" class="int">0</span>, <span title="java.lang.String(&quot;Dependency (at index &quot;)" class="string">&quot;Dependency (at index &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#67435" title="Int">interactiveDependencyIndex</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;) is interactive.  Interactive tasks cannot be dependencies.&quot;)" class="string">&quot;) is interactive.  Interactive tasks cannot be dependencies.&quot;</span>)
	}
	<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="TaskManager.this.Task" id="14819">Empty</a> = <a href="#14806" title="(=&gt; Option[String])TaskManager.this.Task">task</a> { <span title="object None">None</span>}
}
<span class="keyword">object</span> <a title="object sbt.TaskManager" id="7045">TaskManager</a>
{
	<span class="keyword">val</span> <a title="java.lang.String" id="19203">UnnamedName</a> = <span title="java.lang.String(&quot;&lt;anonymous&gt;&quot;)" class="string">&quot;&lt;anonymous&gt;&quot;</span>
}
        </pre>
    </body>
</html>