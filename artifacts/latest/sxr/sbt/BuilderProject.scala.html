<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>sbt/BuilderProject.scala</title>
        <script type="text/javascript" src="../jquery-all.js"></script>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* sbt -- Simple Build Tool
 * Copyright 2008, 2009  Mark Harrah, David MacIver
 */</span>
<span class="keyword">package</span> sbt

<span class="keyword">import</span> BasicProjectPaths._
<span class="keyword">import</span> scala.collection.{immutable, Map}
<span class="keyword">import</span> immutable.Map.{empty =&gt; emptyMap}

<span class="keyword">sealed</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class InternalProject extends java.lang.Object with sbt.Project with ScalaObject" id="11261">InternalProject</a> <span class="keyword">extends</span> <a href="Project.scala.html#9290" title="sbt.Project">Project</a>
{
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; sbt.Level.Value" id="56493">defaultLoggingLevel</a> = <a href="Logger.scala.html#9888" title="object sbt.Level">Level</a>.<a href="Logger.scala.html#56507" title="=&gt; sbt.Level.Value">Warn</a>
	<span class="keyword">override</span> <span class="keyword">final</span> <span class="keyword">def</span> <a title="=&gt; object None" id="56494">historyPath</a> = <span title="object None">None</span>
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; scala.collection.Map[String,InternalProject.this.ManagedTask]" id="56495">tasks</a>: <span title="scala.collection.Map[String,InternalProject.this.ManagedTask]">Map</span>[String, ManagedTask] = <span title="scala.collection.immutable.Map[String,Nothing]">emptyMap</span>
	<span class="keyword">override</span> <span class="keyword">final</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="56496">disableCrossPaths</a> = <span title="Boolean(false)" class="keyword">false</span>
	<span class="keyword">override</span> <span class="keyword">final</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="56497">shouldCheckOutputDirectories</a> = <span title="Boolean(false)" class="keyword">false</span>
}
<span class="keyword">sealed</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class BasicBuilderProject extends sbt.InternalProject with ScalaObject" id="10235">BasicBuilderProject</a> <span class="keyword">extends</span> <a href="#11261" title="sbt.InternalProject">InternalProject</a>
{
	<span class="keyword">def</span> <a title="=&gt; sbt.NameFilter" id="56553">sourceFilter</a> = <a href="Project.scala.html#53876" title="implicit sbt.Project.filter : (String)sbt.NameFilter" class="string">&quot;*.scala&quot;</a> <a href="NameFilter.scala.html#54967" title="(sbt.NameFilter)sbt.NameFilter">|</a> <a href="Project.scala.html#53876" title="implicit sbt.Project.filter : (String)sbt.NameFilter" class="string">&quot;*.java&quot;</a>
	<span class="keyword">def</span> <a title="=&gt; sbt.NameFilter" id="56554">jarFilter</a>: <a href="NameFilter.scala.html#9920" title="sbt.NameFilter">NameFilter</a> = <a href="Project.scala.html#53876" title="implicit sbt.Project.filter : (String)sbt.NameFilter" class="string">&quot;*.jar&quot;</a>
	<span class="keyword">def</span> <a title="=&gt; sbt.Path" id="56555">compilePath</a> = <a href="Project.scala.html#53892" title="=&gt; sbt.Path">outputPath</a> <a href="Path.scala.html#52343" title="(String)sbt.Path">/</a> <a href="ProjectPaths.scala.html#56461" title="=&gt; java.lang.String">DefaultMainCompileDirectoryName</a>
	<span class="keyword">def</span> <a title="=&gt; sbt.Path" id="56556">mainResourcesPath</a> = <a href="Project.scala.html#53875" title="implicit sbt.Project.path : (String)sbt.Path">path</a>(<a href="ProjectPaths.scala.html#56485" title="=&gt; java.lang.String">DefaultResourcesDirectoryName</a>)
	<span class="keyword">def</span> <a title="=&gt; sbt.Path" id="56557">dependencyPath</a> = <a href="Project.scala.html#53875" title="implicit sbt.Project.path : (String)sbt.Path">path</a>(<a href="ProjectPaths.scala.html#56491" title="=&gt; java.lang.String">DefaultDependencyDirectoryName</a>)
	<span class="keyword">def</span> <a title="=&gt; sbt.PathFinder" id="56558">libraries</a> = <a href="Project.scala.html#53940" title="(sbt.PathFinder,sbt.FileFilter)sbt.PathFinder">descendents</a>(<a href="#56557" title="=&gt; sbt.Path">dependencyPath</a>, <a href="#56554" title="=&gt; sbt.NameFilter">jarFilter</a>)
	<span class="keyword">override</span> <span class="keyword">final</span> <span class="keyword">def</span> <a title="=&gt; object Nil" id="56559">dependencies</a> = <span title="object Nil">Nil</span>

	<span class="keyword">protected</span> <span class="keyword">final</span> <span class="keyword">def</span> <a title="(String*)Unit" id="56560">logInfo</a>(<a title="String*" id="56603">messages</a>: <a title="String*" id="2680">String</a>*): <a title="Unit" id="2105">Unit</a> = <a href="#56561" title="(=&gt; Unit)Unit">atInfo</a> { <a href="#56603" title="String*">messages</a>.<a title="((String) =&gt; Unit)Unit" id="16148">foreach</a>(<a title="String" id="56606">message</a> =&gt; <a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#52375" title="(=&gt; String)Unit">info</a>(<a href="#56606" title="String">message</a>)) }
	<span class="keyword">protected</span> <span class="keyword">final</span> <span class="keyword">def</span> <a title="(=&gt; Unit)Unit" id="56561">atInfo</a>(<a title="=&gt; Unit" id="56604">action</a>: =&gt; Unit)
	{
		<span class="keyword">val</span> <a title="sbt.Level.Value" id="56610">oldLevel</a> = <a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#52365" title="=&gt; sbt.Level.Value">getLevel</a>
		<a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#52366" title="(sbt.Level.Value)Unit">setLevel</a>(<a href="Logger.scala.html#9888" title="object sbt.Level">Level</a>.<a href="Logger.scala.html#56505" title="=&gt; sbt.Level.Value">Info</a>)
		<a href="#56604" title="=&gt; Unit">action</a>
		<a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#52366" title="(sbt.Level.Value)Unit">setLevel</a>(<a href="#56610" title="sbt.Level.Value">oldLevel</a>)
	}

	<span class="keyword">def</span> <a title="=&gt; sbt.PathFinder" id="56562">projectClasspath</a> = <a href="#56555" title="=&gt; sbt.Path">compilePath</a> <a href="Path.scala.html#52316" title="(sbt.PathFinder)sbt.PathFinder">+++</a> <a href="#56558" title="=&gt; sbt.PathFinder">libraries</a> <a href="Path.scala.html#52316" title="(sbt.PathFinder)sbt.PathFinder">+++</a> <a href="#56563" title="=&gt; sbt.PathFinder">sbtJars</a>
	<span class="keyword">def</span> <a title="=&gt; sbt.PathFinder" id="56563">sbtJars</a> = <a href="Project.scala.html#53847" title="=&gt; sbt.ProjectInfo">info</a>.<a href="ProjectInfo.scala.html#55157" title="=&gt; sbt.PathFinder">sbtClasspath</a>

	<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class BuilderCompileConfiguration extends sbt.AbstractCompileConfiguration with ScalaObject" id="56564">BuilderCompileConfiguration</a> <span class="keyword">extends</span> <a href="Conditional.scala.html#12122" title="sbt.AbstractCompileConfiguration">AbstractCompileConfiguration</a>
	{
		<span class="keyword">def</span> <a title="=&gt; sbt.Path" id="56634">projectPath</a> = <a href="Project.scala.html#53847" title="=&gt; sbt.ProjectInfo">info</a>.<a href="ProjectInfo.scala.html#55146" title="=&gt; sbt.Path">projectPath</a>
		<span class="keyword">def</span> <a title="=&gt; sbt.Logger" id="56635">log</a> = <a href="#10235" title="BasicBuilderProject.this.type">BasicBuilderProject</a>.<span class="keyword">this</span>.<a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>
		<span class="keyword">def</span> <a title="=&gt; List[java.lang.String]" id="56636">options</a> = <a href="CompileOptions.scala.html#11061" title="object sbt.CompileOptions">CompileOptions</a>.<a href="CompileOptions.scala.html#56652" title="=&gt; java.lang.String">Deprecation</a> <a href="#56650" title="(java.lang.String)List[java.lang.String]">::</a> <a href="CompileOptions.scala.html#11061" title="object sbt.CompileOptions">CompileOptions</a>.<a href="CompileOptions.scala.html#56654" title="=&gt; java.lang.String">Unchecked</a> <a href="#56658" title="(java.lang.String)List[java.lang.String]">::</a> <span title="object Nil">Nil</span>
		<span class="keyword">def</span> <a title="=&gt; object Nil" id="56637">javaOptions</a> = <span title="object Nil">Nil</span>
		<span class="keyword">def</span> <a title="=&gt; Int" id="56638">maxErrors</a> = <a href="ScalaProject.scala.html#12924" title="object sbt.ScalaProject">ScalaProject</a>.<a href="ScalaProject.scala.html#54638" title="=&gt; Int">DefaultMaximumCompileErrors</a>
		<span class="keyword">def</span> <a title="=&gt; sbt.CompileOrder.Value" id="56639">compileOrder</a> = <a href="Compile.scala.html#8541" title="object sbt.CompileOrder">CompileOrder</a>.<a href="Compile.scala.html#56671" title="=&gt; sbt.CompileOrder.Value">Mixed</a>
	}
	<span class="keyword">def</span> <a title="=&gt; BasicBuilderProject.this.BuilderCompileConfiguration" id="56565">definitionCompileConfiguration</a> =
		<a title="template $anon extends BasicBuilderProject.this.BuilderCompileConfiguration" id="56682" class="keyword">new</a> <a href="#56564" title="BasicBuilderProject.this.BuilderCompileConfiguration">BuilderCompileConfiguration</a>
		{
			<span class="keyword">def</span> <a title="=&gt; java.lang.String" id="56684">label</a> = <span title="java.lang.String(&quot;builder&quot;)" class="string">&quot;builder&quot;</span>
			<span class="keyword">def</span> <a title="=&gt; sbt.PathFinder" id="56685">sourceRoots</a> = <a href="Project.scala.html#53847" title="=&gt; sbt.ProjectInfo">info</a>.<a href="ProjectInfo.scala.html#55146" title="=&gt; sbt.Path">projectPath</a> <a href="Path.scala.html#52316" title="(sbt.PathFinder)sbt.PathFinder">+++</a> <a href="Project.scala.html#53875" title="implicit sbt.Project.path : (String)sbt.Path">path</a>(<a href="ProjectPaths.scala.html#56459" title="=&gt; java.lang.String">DefaultSourceDirectoryName</a>)
			<span class="keyword">def</span> <a title="=&gt; sbt.PathFinder" id="56686">sources</a> = (<a href="Project.scala.html#53847" title="=&gt; sbt.ProjectInfo">info</a>.<a href="ProjectInfo.scala.html#55146" title="=&gt; sbt.Path">projectPath</a> <a href="Path.scala.html#52320" title="(sbt.FileFilter)sbt.PathFinder">*</a> <a href="#56553" title="=&gt; sbt.NameFilter">sourceFilter</a>) <a href="Path.scala.html#52316" title="(sbt.PathFinder)sbt.PathFinder">+++</a> <a href="Project.scala.html#53875" title="implicit sbt.Project.path : (String)sbt.Path">path</a>(<a href="ProjectPaths.scala.html#56459" title="=&gt; java.lang.String">DefaultSourceDirectoryName</a>).<a href="Path.scala.html#52324" title="(sbt.FileFilter,sbt.FileFilter)sbt.PathFinder">descendentsExcept</a>(<a href="#56553" title="=&gt; sbt.NameFilter">sourceFilter</a>, <a href="Project.scala.html#53939" title="=&gt; sbt.FileFilter">defaultExcludes</a>)
			<span class="keyword">def</span> <a title="=&gt; sbt.Path" id="56687">outputDirectory</a> = <a href="#56555" title="=&gt; sbt.Path">compilePath</a>
			<span class="keyword">def</span> <a title="=&gt; sbt.PathFinder" id="56688">classpath</a> = <a href="#56562" title="=&gt; sbt.PathFinder">projectClasspath</a>
			<span class="keyword">def</span> <a title="=&gt; sbt.Path" id="56689">analysisPath</a> = <a href="Project.scala.html#53892" title="=&gt; sbt.Path">outputPath</a> <a href="Path.scala.html#52343" title="(String)sbt.Path">/</a> <a href="ProjectPaths.scala.html#56471" title="=&gt; java.lang.String">DefaultMainAnalysisDirectoryName</a>
		}

	<span class="keyword">def</span> <a title="=&gt; String" id="56566">tpe</a>: <span title="String">String</span>

		<span class="keyword">import</span> xsbt.ScalaInstance

	<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="BasicBuilderProject.this.BuilderCompileConditional" id="56569">definitionCompileConditional</a> = <span title="BasicBuilderProject.this.BuilderCompileConditional" class="keyword">new</span> <a href="#56570" title="BasicBuilderProject.this.BuilderCompileConditional">BuilderCompileConditional</a>(<a href="#56565" title="=&gt; BasicBuilderProject.this.BuilderCompileConfiguration">definitionCompileConfiguration</a>, <a href="Project.scala.html#53927" title="=&gt; xsbt.AnalyzingCompiler">buildCompiler</a>, <a href="#56566" title="=&gt; String">tpe</a>)
	<span class="keyword">final</span> <span class="keyword">class</span> <a title="class BuilderCompileConditional extends sbt.AbstractCompileConditional with ScalaObject" id="56570">BuilderCompileConditional</a>(<a title="BasicBuilderProject.this.BuilderCompileConfiguration" id="56787">config</a>: <a href="#56564" title="BasicBuilderProject.this.BuilderCompileConfiguration">BuilderCompileConfiguration</a>, <a title="xsbt.AnalyzingCompiler" id="56788">compiler</a>: xsbt.<a href="../AnalyzingCompiler.scala.html#7095" title="xsbt.AnalyzingCompiler">AnalyzingCompiler</a>, <a title="String" id="56789">tpe</a>: <span title="String">String</span>) <span class="keyword">extends</span> <a href="Conditional.scala.html#10601" title="sbt.AbstractCompileConditional">AbstractCompileConditional</a>(<a href="#56787" title="BasicBuilderProject.this.BuilderCompileConfiguration">config</a>, <a href="#56788" title="xsbt.AnalyzingCompiler">compiler</a>)
	{
		<span class="keyword">type</span> <a title="sbt.BuilderCompileAnalysis" id="56783">AnalysisType</a> = <a href="Analysis.scala.html#9095" title="sbt.BuilderCompileAnalysis">BuilderCompileAnalysis</a>
		<span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(sbt.Path,sbt.Path,sbt.Logger)sbt.BuilderCompileAnalysis" id="56784">constructAnalysis</a>(<a title="sbt.Path" id="56799">analysisPath</a>: <a href="Path.scala.html#11861" title="sbt.Path">Path</a>, <a title="sbt.Path" id="56800">projectPath</a>: <a href="Path.scala.html#11861" title="sbt.Path">Path</a>, <a title="sbt.Logger" id="56801">log</a>: <a href="Logger.scala.html#13532" title="sbt.Logger">Logger</a>) =
			<span title="sbt.BuilderCompileAnalysis" class="keyword">new</span> <a href="Analysis.scala.html#9095" title="sbt.BuilderCompileAnalysis">BuilderCompileAnalysis</a>(<a href="#56799" title="sbt.Path">analysisPath</a>, <a href="#56800" title="sbt.Path">projectPath</a>, <a href="#56801" title="sbt.Logger">log</a>)
		<span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(BuilderCompileConditional.this.ConditionalAnalysis)Option[String]" id="56785">execute</a>(<a title="BuilderCompileConditional.this.ConditionalAnalysis" id="56806">cAnalysis</a>: <a href="Conditional.scala.html#56732" title="BuilderCompileConditional.this.ConditionalAnalysis">ConditionalAnalysis</a>): <a title="Option[String]" id="897">Option</a>[String] =
		{
			<span title="Option[String]" class="keyword">if</span>(<a href="#56806" title="BuilderCompileConditional.this.ConditionalAnalysis">cAnalysis</a>.<a href="Conditional.scala.html#56807" title="=&gt; Iterable[sbt.Path]">dirtySources</a>.<a title="=&gt; Boolean" id="16182">isEmpty</a>)
				<span title="object None">None</span>
			<span class="keyword">else</span>
			{
				<a href="#56571" title="()Unit">definitionChanged</a>()
				<a href="#56560" title="(String*)Unit">logInfo</a>(
					<span title="java.lang.String(&quot;Recompiling &quot;)" class="string">&quot;Recompiling &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#56789" title="String">tpe</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;...&quot;)" class="string">&quot;...&quot;</span>,
					 <span title="java.lang.String(&quot;\011&quot;)" class="string">&quot;\t&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#56806" title="BuilderCompileConditional.this.ConditionalAnalysis">cAnalysis</a>.<a title="()java.lang.String" id="6004">toString</a>)
				<span class="keyword">super</span>.<a href="Conditional.scala.html#56772" title="(BuilderCompileConditional.this.ConditionalAnalysis)Option[String]">execute</a>(<a href="#56806" title="BuilderCompileConditional.this.ConditionalAnalysis">cAnalysis</a>)
			}
		}
		<span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; sbt.AnalysisCallback" id="56786">analysisCallback</a>: <a href="AnalysisCallback.scala.html#10844" title="sbt.AnalysisCallback">AnalysisCallback</a> =
			<a title="template $anon extends sbt.BasicAnalysisCallback[BuilderCompileConditional.this.AnalysisType]" id="57009" class="keyword">new</a> <a href="AnalysisCallback.scala.html#9125" title="sbt.BasicAnalysisCallback[BuilderCompileConditional.this.AnalysisType]">BasicAnalysisCallback</a>(<a href="Project.scala.html#53847" title="=&gt; sbt.ProjectInfo">info</a>.<a href="ProjectInfo.scala.html#55146" title="=&gt; sbt.Path">projectPath</a>, <a href="Conditional.scala.html#56716" title="=&gt; BuilderCompileConditional.this.AnalysisType">analysis</a>)
			{
				<span class="keyword">def</span> <a title="=&gt; List[java.lang.String]" id="57012">superclassNames</a> = <a title="(java.lang.String*)List[java.lang.String]" id="496">List</a>(<a href="Project.scala.html#9291" title="object sbt.Project">Project</a>.<a href="Project.scala.html#54607" title="=&gt; java.lang.String">ProjectClassName</a>)
				<span class="keyword">def</span> <a title="=&gt; object Nil" id="57013">annotationNames</a> = <span title="object Nil">Nil</span>
				<span class="keyword">def</span> <a title="(sbt.Path,String)Unit" id="57014">foundApplication</a>(<a title="sbt.Path" id="57023">sourcePath</a>: <a href="Path.scala.html#11861" title="sbt.Path">Path</a>, <a title="String" id="57024">className</a>: <span title="String">String</span>)  <span title="Unit">{</span>}
				<span class="keyword">def</span> <a title="(sbt.Path,String,String,Boolean)Unit" id="57015">foundAnnotated</a>(<a title="sbt.Path" id="57025">sourcePath</a>: <a href="Path.scala.html#11861" title="sbt.Path">Path</a>, <a title="String" id="57026">subclassName</a>: <span title="String">String</span>, <a title="String" id="57027">annotationName</a>: <span title="String">String</span>, <a title="Boolean" id="57028">isModule</a>: <span title="Boolean">Boolean</span>) <span title="Unit">{</span>}
				<span class="keyword">def</span> <a title="(sbt.Path,String,String,Boolean)Unit" id="57016">foundSubclass</a>(<a title="sbt.Path" id="57029">sourcePath</a>: <a href="Path.scala.html#11861" title="sbt.Path">Path</a>, <a title="String" id="57030">subclassName</a>: <span title="String">String</span>, <a title="String" id="57031">superclassName</a>: <span title="String">String</span>, <a title="Boolean" id="57032">isModule</a>: <span title="Boolean">Boolean</span>)
				{
					<span title="Unit" class="keyword">if</span>(<a href="#57031" title="String">superclassName</a> <a title="(AnyRef)Boolean" id="3448">==</a> <a href="Project.scala.html#9291" title="object sbt.Project">Project</a>.<a href="Project.scala.html#54607" title="=&gt; java.lang.String">ProjectClassName</a> <a title="(Boolean)Boolean" id="2690">&amp;&amp;</a> <span title="=&gt; Boolean">!</span><a href="#57032" title="Boolean">isModule</a>)
					{
						<a href="Conditional.scala.html#56750" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#52374" title="(=&gt; String)Unit">debug</a>(<span title="java.lang.String(&quot;Found &quot;)" class="string">&quot;Found &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#56789" title="String">tpe</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#57030" title="String">subclassName</a>)
						<a href="AnalysisCallback.scala.html#53771" title="=&gt; BuilderCompileConditional.this.AnalysisType">analysis</a>.<a href="Analysis.scala.html#53537" title="(sbt.Path,String)Unit">addProjectDefinition</a>(<a href="#57029" title="sbt.Path">sourcePath</a>, <a href="#57030" title="String">subclassName</a>)
					}
				}
			}
	}
	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="()Unit" id="56571">definitionChanged</a>() <span title="Unit">{</span>}
	<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="BasicBuilderProject.this.Task" id="56573">compile</a> = <a href="#56574" title="=&gt; BasicBuilderProject.this.Task">compileTask</a>
	<span class="keyword">def</span> <a title="=&gt; BasicBuilderProject.this.Task" id="56574">compileTask</a> = <a href="TaskManager.scala.html#53827" title="(=&gt; Option[String])BasicBuilderProject.this.Task">task</a> { <a href="#56568" title="=&gt; BasicBuilderProject.this.BuilderCompileConditional">definitionCompileConditional</a>.<a href="Conditional.scala.html#56733" title="=&gt; Option[String]">run</a> }

	<span class="keyword">def</span> <a title="=&gt; Either[String,Option[String]]" id="56575">projectDefinition</a>: <a title="Either[String,Option[String]]" id="336">Either</a>[String, Option[String]] =
	{
		<a href="#56568" title="=&gt; BasicBuilderProject.this.BuilderCompileConditional">definitionCompileConditional</a>.<a href="Conditional.scala.html#56716" title="=&gt; BasicBuilderProject.this.definitionCompileConditional.AnalysisType">analysis</a>.<a href="Analysis.scala.html#53536" title="=&gt; Iterable[String]">allProjects</a>.<span title="=&gt; List[String]">toList</span> <span title="Either[String,Option[String]]" class="keyword">match</span>
		{
			<span title="Right[Nothing,object None]" class="keyword">case</span> <span title="object Nil">Nil</span> =&gt;
				<a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#52374" title="(=&gt; String)Unit">debug</a>(<span title="java.lang.String(&quot;No &quot;)" class="string">&quot;No &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#56566" title="=&gt; String">tpe</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;s detected using default project.&quot;)" class="string">&quot;s detected using default project.&quot;</span>)
				<span title="(object None)Right[Nothing,object None]">Right</span>(<span title="object None">None</span>)
			<span title="Right[Nothing,Some[String]]" class="keyword">case</span> <a title="String" id="57286">singleDefinition</a> :: <span title="object Nil">Nil</span> =&gt; <span title="(Some[String])Right[Nothing,Some[String]]">Right</span>(<span title="(String)Some[String]">Some</span>(<a href="#57286" title="String">singleDefinition</a>))
			<span title="Left[String,Nothing]" class="keyword">case</span> <a title="List[String]" id="57290">multipleDefinitions</a> =&gt;<a title="(String)Left[String,Nothing]" id="1171">Left</a>(<a href="#57290" title="List[String]">multipleDefinitions</a>.<a title="(String,String,String)String" id="16174">mkString</a>(<span title="java.lang.String(&quot;Multiple &quot;)" class="string">&quot;Multiple &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#56566" title="=&gt; String">tpe</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;s detected: \012\011&quot;)" class="string">&quot;s detected: \n\t&quot;</span>,<span title="java.lang.String(&quot;\012\011&quot;)" class="string">&quot;\n\t&quot;</span>,<span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span>))
		}
	}
	<span class="keyword">override</span> <span class="keyword">final</span> <span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.Map[String,Nothing]" id="56576">methods</a> = <span title="scala.collection.immutable.Map[String,Nothing]">emptyMap</span>
}
<span class="comment">/** The project definition used to build project definitions. */</span>
<span class="keyword">final</span> <span class="keyword">class</span> <a title="class BuilderProject extends sbt.BasicBuilderProject with sbt.ReflectiveTasks with ScalaObject" id="11933">BuilderProject</a>(<span class="keyword">val</span> <a title="sbt.ProjectInfo" id="57343">info</a>: <a href="ProjectInfo.scala.html#8384" title="sbt.ProjectInfo">ProjectInfo</a>, <span class="keyword">val</span> <a title="sbt.Path" id="57344">pluginPath</a>: <a href="Path.scala.html#11861" title="sbt.Path">Path</a>, <a title="sbt.Logger" id="57345">rawLogger</a>: <a href="Logger.scala.html#13532" title="sbt.Logger">Logger</a>) <span class="keyword">extends</span> <a href="#10235" title="sbt.BasicBuilderProject">BasicBuilderProject</a> <span class="keyword">with</span> <a href="BasicProjectTypes.scala.html#12818" title="sbt.ReflectiveTasks">ReflectiveTasks</a>
{
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="57331">name</a> = <span title="java.lang.String(&quot;Project Definition Builder&quot;)" class="string">&quot;Project Definition Builder&quot;</span>
	<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Option[BuilderProject.this.PluginBuilderProject]" id="57333">pluginProject</a> =
	{
		<span title="Option[BuilderProject.this.PluginBuilderProject]" class="keyword">if</span>(<a href="#57344" title="=&gt; sbt.Path">pluginPath</a>.<a href="Path.scala.html#52344" title="=&gt; Boolean">exists</a>)
			<span title="(BuilderProject.this.PluginBuilderProject)Some[BuilderProject.this.PluginBuilderProject]">Some</span>(<span title="BuilderProject.this.PluginBuilderProject" class="keyword">new</span> <a href="#57338" title="BuilderProject.this.PluginBuilderProject">PluginBuilderProject</a>(<a href="ProjectInfo.scala.html#57397" title="(java.io.File,Iterable[sbt.Project],Option[sbt.Project])(sbt.Logger,xsbti.AppProvider,Option[String])sbt.ProjectInfo">ProjectInfo</a>(<a href="#57344" title="=&gt; sbt.Path">pluginPath</a>.<a href="Path.scala.html#52349" title="=&gt; java.io.File">asFile</a>, <span title="object Nil">Nil</span>, <span title="object None">None</span>)(<a href="#57345" title="sbt.Logger">rawLogger</a>, <a href="#57343" title="=&gt; sbt.ProjectInfo">info</a>.<a href="ProjectInfo.scala.html#55137" title="=&gt; xsbti.AppProvider">app</a>, <a href="#57343" title="=&gt; sbt.ProjectInfo">info</a>.<a href="ProjectInfo.scala.html#55139" title="=&gt; Option[String]">buildScalaVersion</a>)))
		<span class="keyword">else</span>
			<span title="object None">None</span>
	}
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; sbt.PathFinder" id="57334">projectClasspath</a> = <span class="keyword">super</span>.<a href="#56562" title="=&gt; sbt.PathFinder">projectClasspath</a> <a href="Path.scala.html#52316" title="(sbt.PathFinder)sbt.PathFinder">+++</a>
		<a href="#57332" title="=&gt; Option[BuilderProject.this.PluginBuilderProject]">pluginProject</a>.<span title="((BuilderProject.this.PluginBuilderProject) =&gt; sbt.PathFinder)Option[sbt.PathFinder]">map</span>(<a href="#57428" title="BuilderProject.this.PluginBuilderProject">_</a>.<a href="#57380" title="=&gt; sbt.PathFinder">pluginClasspath</a>).<a title="(=&gt; sbt.PathFinder)sbt.PathFinder" id="30531">getOrElse</a>(<a href="Path.scala.html#11862" title="object sbt.Path">Path</a>.<a href="Path.scala.html#52293" title="=&gt; sbt.PathFinder">emptyPathFinder</a>)
	<span class="keyword">def</span> <a title="=&gt; java.lang.String" id="57335">tpe</a> = <span title="java.lang.String(&quot;project definition&quot;)" class="string">&quot;project definition&quot;</span>

	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; BuilderProject.this.Task" id="57336">compileTask</a> = <span class="keyword">super</span>.<a href="#56574" title="=&gt; BuilderProject.this.Task">compileTask</a> <a href="TaskManager.scala.html#55208" title="(BuilderProject.this.ManagedTask*)BuilderProject.this.Task">dependsOn</a>(<a href="#57332" title="=&gt; Option[BuilderProject.this.PluginBuilderProject]">pluginProject</a>.<span title="((BuilderProject.this.PluginBuilderProject) =&gt; BuilderProject.this.PluginBuilderProject#Task)Option[BuilderProject.this.PluginBuilderProject#Task]">map</span>(<a href="#57449" title="BuilderProject.this.PluginBuilderProject">_</a>.<a href="#57366" title="=&gt; x$4.Task">sync</a>).<span title="=&gt; List[BuilderProject.this.PluginBuilderProject#Task]">toList</span> : _*)
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.Map[String,BuilderProject.this.ManagedTask]" id="57337">tasks</a> = immutable.<span title="((String, Nothing)*)scala.collection.immutable.Map[String,Nothing]">Map</span>() <span title="(Iterable[(String, BuilderProject.this.ManagedTask)])scala.collection.immutable.Map[String,BuilderProject.this.ManagedTask]">++</span> <span class="keyword">super</span>[ReflectiveTasks].<a href="BasicProjectTypes.scala.html#54467" title="=&gt; scala.collection.Map[String,BuilderProject.this.ManagedTask]">tasks</a> <span title="(Iterable[(String, BuilderProject.this.ManagedTask)])scala.collection.immutable.Map[String,BuilderProject.this.ManagedTask]">++</span> <a href="#57332" title="=&gt; Option[BuilderProject.this.PluginBuilderProject]">pluginProject</a>.<span title="=&gt; List[BuilderProject.this.PluginBuilderProject]">toList</span>.<a title="((BuilderProject.this.PluginBuilderProject) =&gt; Iterable[(java.lang.String, sbt.Project#Task)])List[(java.lang.String, sbt.Project#Task)]" id="15748">flatMap</a> { <a href="#57735" title="BuilderProject.this.PluginBuilderProject">_</a>.<a href="#57363" title="=&gt; scala.collection.Map[String,sbt.Project#Task]">tasks</a>.<a title="(((String, sbt.Project#Task)) =&gt; (java.lang.String, sbt.Project#Task))Iterable[(java.lang.String, sbt.Project#Task)]" id="16138">map</a> <a href="#57739" title="(java.lang.String, sbt.Project#Task)">{</a> <span title="(java.lang.String, sbt.Project#Task)" class="keyword">case</span> (<a title="String" id="57740">k</a>,<a title="sbt.Project#Task" id="57741">v</a>) =&gt; <a title="(java.lang.String,sbt.Project#Task)(java.lang.String, sbt.Project#Task)" id="1327">(</a><a href="#57740" title="String">k</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;-plugins&quot;)" class="string">&quot;-plugins&quot;</span>, <a href="#57741" title="sbt.Project#Task">v</a>) } }

	<span class="keyword">final</span> <span class="keyword">class</span> <a title="class PluginBuilderProject extends sbt.BasicBuilderProject with sbt.ReflectiveTasks with ScalaObject" id="57338">PluginBuilderProject</a>(<span class="keyword">val</span> <a title="sbt.ProjectInfo" id="57385">info</a>: <a href="ProjectInfo.scala.html#8384" title="sbt.ProjectInfo">ProjectInfo</a>) <span class="keyword">extends</span> <a href="#10235" title="sbt.BasicBuilderProject">BasicBuilderProject</a> <span class="keyword">with</span> <a href="BasicProjectTypes.scala.html#12818" title="sbt.ReflectiveTasks">ReflectiveTasks</a>
	{
		<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="57355">name</a> = <span title="java.lang.String(&quot;Plugin Builder&quot;)" class="string">&quot;Plugin Builder&quot;</span>
	<span class="comment">// don't include Java sources because BND includes Java sources in its jar (#85)</span>
		<span class="keyword">def</span> <a title="=&gt; sbt.NameFilter" id="57356">pluginSourceFilter</a>: <a href="NameFilter.scala.html#9920" title="sbt.NameFilter">NameFilter</a> = <a href="Project.scala.html#53876" title="implicit sbt.Project.filter : (String)sbt.NameFilter" class="string">&quot;*.scala&quot;</a>
		<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="PluginBuilderProject.this.Property[Boolean]" id="57358">pluginUptodate</a> = <a href="Environment.scala.html#54304" title="(=&gt; Boolean)(implicit scala.reflect.Manifest[Boolean],sbt.Format[Boolean])PluginBuilderProject.this.Property[Boolean]">propertyOptional</a>[<span title="Boolean">Boolean</span>](<span title="Boolean(false)" class="keyword">false</span>)
		<span class="keyword">def</span> <a title="=&gt; java.lang.String" id="57359">tpe</a> = <span title="java.lang.String(&quot;plugin definition&quot;)" class="string">&quot;plugin definition&quot;</span>
		<span class="keyword">def</span> <a title="=&gt; sbt.Path" id="57360">managedSourcePath</a> = <a href="Project.scala.html#53875" title="implicit sbt.Project.path : (String)sbt.Path">path</a>(<a href="BasicProjectTypes.scala.html#8976" title="object sbt.BasicDependencyPaths">BasicDependencyPaths</a>.<a href="BasicProjectTypes.scala.html#55505" title="=&gt; java.lang.String">DefaultManagedSourceDirectoryName</a>)
		<span class="keyword">def</span> <a title="=&gt; sbt.Path" id="57361">managedDependencyPath</a> = <a href="Project.scala.html#53931" title="(sbt.Path)sbt.Path">crossPath</a>(<a href="BasicProjectTypes.scala.html#8976" title="object sbt.BasicDependencyPaths">BasicDependencyPaths</a>.<a href="Project.scala.html#53875" title="implicit sbt.Project.path : (String)sbt.Path">DefaultManagedDirectoryName</a>)
		<span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="()Unit" id="57362">definitionChanged</a>() { <a href="#57364" title="(Boolean)Unit">setUptodate</a>(<span title="Boolean(false)" class="keyword">false</span>) }
		<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; scala.collection.Map[String,PluginBuilderProject.this.ManagedTask]" id="57363">tasks</a>: <span title="scala.collection.Map[String,PluginBuilderProject.this.ManagedTask]">Map</span>[String, ManagedTask] = <span class="keyword">super</span>[ReflectiveTasks].<a href="BasicProjectTypes.scala.html#54467" title="=&gt; scala.collection.Map[String,PluginBuilderProject.this.ManagedTask]">tasks</a>
		<span class="keyword">def</span> <a title="(Boolean)Unit" id="57364">setUptodate</a>(<a title="Boolean" id="57490">flag</a>: <span title="Boolean">Boolean</span>)
		{
			<a href="#57357" title="=&gt; PluginBuilderProject.this.Property[Boolean]">pluginUptodate</a>() = <a href="#57490" title="Boolean">flag</a>
			<a href="Environment.scala.html#54318" title="()Option[String]">saveEnvironment</a>()
		}

		<span class="keyword">private</span> <span class="keyword">def</span> <a title="(=&gt; Option[String])PluginBuilderProject.this.Task" id="57365">pluginTask</a>(<a title="=&gt; Option[String]" id="57450">f</a>: =&gt; Option[String]) = <a href="TaskManager.scala.html#53827" title="(=&gt; Option[String])PluginBuilderProject.this.Task">task</a> { <span title="Option[String]" class="keyword">if</span>(<span title="=&gt; Boolean">!</span><a href="#57357" title="=&gt; PluginBuilderProject.this.Property[Boolean]">pluginUptodate</a>.<a href="Environment.scala.html#55118" title="=&gt; Boolean">value</a>) <a href="#57450" title="=&gt; Option[String]">f</a> <span class="keyword">else</span> <span title="object None">None</span> }

		<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="PluginBuilderProject.this.Task" id="57367">sync</a> = <a href="#57365" title="(=&gt; Option[String])PluginBuilderProject.this.Task">pluginTask</a>(<a href="#57375" title="()Option[String]">doSync</a>()) <a href="TaskManager.scala.html#55208" title="(PluginBuilderProject.this.ManagedTask*)PluginBuilderProject.this.Task">dependsOn</a>(<a href="#57368" title="=&gt; PluginBuilderProject.this.Task">extract</a>)
		<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="PluginBuilderProject.this.Task" id="57369">extract</a> = <a href="#57365" title="(=&gt; Option[String])PluginBuilderProject.this.Task">pluginTask</a>(<a href="#57376" title="()Option[String]">extractSources</a>()) <a href="TaskManager.scala.html#55208" title="(PluginBuilderProject.this.ManagedTask*)PluginBuilderProject.this.Task">dependsOn</a>(<a href="#57370" title="=&gt; PluginBuilderProject.this.Task">autoUpdate</a>)
		<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="PluginBuilderProject.this.Task" id="57371">autoUpdate</a> = <a href="#57365" title="(=&gt; Option[String])PluginBuilderProject.this.Task">pluginTask</a>(<a href="#57377" title="(Boolean)Option[String]">loadAndUpdate</a>(<span title="Boolean(false)" class="keyword">false</span>)) <a href="TaskManager.scala.html#55208" title="(PluginBuilderProject.this.ManagedTask*)PluginBuilderProject.this.Task">dependsOn</a>(<a href="#56572" title="=&gt; PluginBuilderProject.this.Task">compile</a>)
		<span class="comment">// manual update.  force uptodate = false</span>
		<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="PluginBuilderProject.this.Task" id="57373">update</a> = <a href="TaskManager.scala.html#53827" title="(=&gt; Option[String])PluginBuilderProject.this.Task">task</a> { <a href="#57374" title="()Option[String]">manualUpdate</a>() } <a href="TaskManager.scala.html#55208" title="(PluginBuilderProject.this.ManagedTask*)PluginBuilderProject.this.Task">dependsOn</a>(<a href="#56572" title="=&gt; PluginBuilderProject.this.Task">compile</a>) <a href="TaskManager.scala.html#55210" title="(String)PluginBuilderProject.this.Task">describedAs</a>(<span title="java.lang.String(&quot;Manual plugin update.  Used when autoUpdate is disabled.&quot;)" class="string">&quot;Manual plugin update.  Used when autoUpdate is disabled.&quot;</span>)

		<span class="keyword">def</span> <a title="()Option[String]" id="57374">manualUpdate</a>() =
		{
			<a href="#57364" title="(Boolean)Unit">setUptodate</a>(<span title="Boolean(false)" class="keyword">false</span>)
			<span class="keyword">val</span> <a title="Option[String]" id="57764">result</a> = <a href="#57377" title="(Boolean)Option[String]">loadAndUpdate</a>(<span title="Boolean(true)" class="keyword">true</span>)
			<a href="#56560" title="(String*)Unit">logInfo</a>(<span title="java.lang.String(&quot;'reload' required to rebuild plugins.&quot;)" class="string">&quot;'reload' required to rebuild plugins.&quot;</span>)
			<a href="#57764" title="Option[String]">result</a>
		}
		<span class="keyword">def</span> <a title="()Option[String]" id="57375">doSync</a>() = <a href="#57381" title="=&gt; PluginBuilderProject.this.BuilderCompileConditional">pluginCompileConditional</a>.<a href="Conditional.scala.html#56733" title="=&gt; Option[String]">run</a> <span title="(=&gt; Option[String])Option[String]">orElse</span> { <a href="#57364" title="(Boolean)Unit">setUptodate</a>(<span title="Boolean(true)" class="keyword">true</span>); <span title="object None">None</span> }
		<span class="keyword">def</span> <a title="()Option[String]" id="57376">extractSources</a>() =
		{
			<a href="FileUtilities.scala.html#10716" title="object sbt.FileUtilities">FileUtilities</a>.<a href="FileUtilities.scala.html#52208" title="(sbt.Path,sbt.Logger)Option[String]">clean</a>(<a href="#57360" title="=&gt; sbt.Path">managedSourcePath</a>, <a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>) <span title="(=&gt; Option[String])Option[String]">orElse</span>
			<a href="Control.scala.html#13545" title="object sbt.Control">Control</a>.<a href="Control.scala.html#53237" title="(List[sbt.Path])((sbt.Path) =&gt; Option[String])Option[String]">lazyFold</a>(<a href="#57379" title="=&gt; sbt.PathFinder">plugins</a>.<a href="Path.scala.html#52325" title="=&gt; scala.collection.Set[sbt.Path]">get</a>.<span title="=&gt; List[sbt.Path]">toList</span>) { <a title="sbt.Path" id="57506">jar</a> =&gt;
				<a href="Control.scala.html#13545" title="object sbt.Control">Control</a>.<a href="Control.scala.html#53245" title="(Either[String,scala.collection.Set[sbt.Path]])((scala.collection.Set[sbt.Path]) =&gt; Option[String])Option[String]">thread</a>(<a href="FileUtilities.scala.html#10716" title="object sbt.FileUtilities">FileUtilities</a>.<a href="FileUtilities.scala.html#52169" title="(sbt.Path,sbt.Path,sbt.NameFilter,sbt.Logger)Either[String,scala.collection.Set[sbt.Path]]">unzip</a>(<a href="#57506" title="sbt.Path">jar</a>, <a href="#57378" title="(sbt.Path)sbt.Path">extractTo</a>(<a href="#57506" title="sbt.Path">jar</a>), <a href="#57356" title="=&gt; sbt.NameFilter">pluginSourceFilter</a>, <a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>)) { <a title="scala.collection.Set[sbt.Path]" id="57568">extracted</a> =&gt;
					<span title="Unit" class="keyword">if</span>(<span title="=&gt; Boolean">!</span><a href="#57568" title="scala.collection.Set[sbt.Path]">extracted</a>.<a title="=&gt; Boolean" id="18163">isEmpty</a>)
						<a href="#56560" title="(String*)Unit">logInfo</a>(<span title="java.lang.String(&quot;\011Extracted source plugin &quot;)" class="string">&quot;\tExtracted source plugin &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#57506" title="sbt.Path">jar</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; ...&quot;)" class="string">&quot; ...&quot;</span>)
					<span title="object None">None</span>
				}
			}
		}
		<span class="keyword">def</span> <a title="(Boolean)Option[String]" id="57377">loadAndUpdate</a>(<a title="Boolean" id="57569">forceUpdate</a>: <span title="Boolean">Boolean</span>) =
		{
			<a href="Control.scala.html#13545" title="object sbt.Control">Control</a>.<a href="Control.scala.html#53245" title="(Either[String,Option[String]])((Option[String]) =&gt; Option[String])Option[String]">thread</a>(<a href="#56575" title="=&gt; Either[String,Option[String]]">projectDefinition</a>) <a href="#57573" title="Option[String]">{</a>
				<span title="Option[String]" class="keyword">case</span> Some(<a title="String" id="57574">definition</a>) =&gt;
					<span class="keyword">val</span> <a title="sbt.ProjectInfo" id="57575">pluginInfo</a> = <a href="ProjectInfo.scala.html#57397" title="(java.io.File,Iterable[sbt.Project],Option[sbt.Project])(sbt.Logger,xsbti.AppProvider,Option[String])sbt.ProjectInfo">ProjectInfo</a>(<a href="#57385" title="=&gt; sbt.ProjectInfo">info</a>.<a href="ProjectInfo.scala.html#55146" title="=&gt; sbt.Path">projectPath</a>.<a href="Path.scala.html#52349" title="=&gt; java.io.File">asFile</a>, <span title="object Nil">Nil</span>, <span title="object None">None</span>)(<a href="#57345" title="sbt.Logger">rawLogger</a>, <a href="#57385" title="=&gt; sbt.ProjectInfo">info</a>.<a href="ProjectInfo.scala.html#55137" title="=&gt; xsbti.AppProvider">app</a>, <a href="#57385" title="=&gt; sbt.ProjectInfo">info</a>.<a href="ProjectInfo.scala.html#55139" title="=&gt; Option[String]">buildScalaVersion</a>)
					<span class="keyword">val</span> <a title="sbt.PluginDefinition" id="57576">pluginBuilder</a> = <a href="Project.scala.html#9291" title="object sbt.Project">Project</a>.<a href="Project.scala.html#54618" title="(sbt.ProjectInfo,Class[sbt.PluginDefinition])sbt.PluginDefinition">constructProject</a>(<a href="#57575" title="sbt.ProjectInfo">pluginInfo</a>, <a href="Project.scala.html#9291" title="object sbt.Project">Project</a>.<a href="Project.scala.html#54632" title="(String,sbt.PathFinder,java.lang.ClassLoader)(implicit scala.reflect.Manifest[sbt.PluginDefinition])Class[sbt.PluginDefinition]">getProjectClass</a>[<a href="#10052" title="sbt.PluginDefinition">PluginDefinition</a>](<a href="#57574" title="String">definition</a>, <a href="#56562" title="=&gt; sbt.PathFinder">projectClasspath</a>, <a href="#57338" title="()java.lang.Class[_]" id="3450">getClass</a>.<a title="()java.lang.ClassLoader" id="3924">getClassLoader</a>))
					<span title="Option[String]" class="keyword">if</span>(<a href="#57569" title="Boolean">forceUpdate</a> <a title="(Boolean)Boolean" id="2689">||</a> <a href="#57576" title="sbt.PluginDefinition">pluginBuilder</a>.<a href="#57594" title="=&gt; Boolean">autoUpdate</a>)
					{
						<a href="#56560" title="(String*)Unit">logInfo</a>(<span title="java.lang.String(&quot;\012Updating plugins...&quot;)" class="string">&quot;\nUpdating plugins...&quot;</span>)
						<a href="#57576" title="sbt.PluginDefinition">pluginBuilder</a>.<a href="Project.scala.html#53898" title="=&gt; pluginBuilder.Property[String]">projectName</a>() = <span title="java.lang.String(&quot;Plugin Definition&quot;)" class="string">&quot;Plugin Definition&quot;</span>
						<a href="#57576" title="sbt.PluginDefinition">pluginBuilder</a>.<a href="Project.scala.html#53896" title="=&gt; pluginBuilder.Property[sbt.Version]">projectVersion</a>() = <a href="Version.scala.html#57629" title="(String)sbt.OpaqueVersion">OpaqueVersion</a>(<span title="java.lang.String(&quot;1.0&quot;)" class="string">&quot;1.0&quot;</span>)
						<span class="keyword">val</span> <a title="Option[String]" id="57606">result</a> = <a href="#57576" title="sbt.PluginDefinition">pluginBuilder</a>.<a href="BasicProjectTypes.scala.html#54435" title="=&gt; pluginBuilder.Task">update</a>.<a href="TaskManager.scala.html#55213" title="=&gt; Option[String]">run</a>
						<span title="Unit" class="keyword">if</span>(<a href="#57606" title="Option[String]">result</a>.<a title="=&gt; Boolean" id="30526">isEmpty</a>)
						{
							<a href="#56561" title="(=&gt; Unit)Unit">atInfo</a> {
								<a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#52378" title="(=&gt; String)Unit">success</a>(<span title="java.lang.String(&quot;Plugins updated successfully.&quot;)" class="string">&quot;Plugins updated successfully.&quot;</span>)
								<a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#52375" title="(=&gt; String)Unit">info</a>(<span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>)
							}
						}
						<a href="#57606" title="Option[String]">result</a>
					}
					<span class="keyword">else</span>
					{
						<a href="Project.scala.html#53842" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#52376" title="(=&gt; String)Unit">warn</a>(<span title="java.lang.String(&quot;Plugin definition recompiled, but autoUpdate is disabled.\012\011Using already retrieved plugins...&quot;)" class="string">&quot;Plugin definition recompiled, but autoUpdate is disabled.\n\tUsing already retrieved plugins...&quot;</span>)
						<span title="object None">None</span>
					}
				<span title="None.type" class="keyword">case</span> <span title="object None">None</span> =&gt; <span title="object None">None</span>
			}
		}
		<span class="keyword">def</span> <a title="(sbt.Path)sbt.Path" id="57378">extractTo</a>(<a title="sbt.Path" id="57540">jar</a>: <a href="Path.scala.html#11861" title="sbt.Path">Path</a>) =
		{
			<span class="keyword">val</span> <a title="java.lang.String" id="57542">name</a> = <a href="#57540" title="sbt.Path">jar</a>.<a href="Path.scala.html#52349" title="=&gt; java.io.File">asFile</a>.<a title="()java.lang.String" id="16955">getName</a>
			<a href="#57360" title="=&gt; sbt.Path">managedSourcePath</a> <a href="Path.scala.html#52343" title="(String)sbt.Path">/</a> <a href="#57542" title="java.lang.String">name</a>.<a title="(Int,Int)java.lang.String" id="6384">substring</a>(<span title="Int(0)" class="int">0</span>, <a href="#57542" title="java.lang.String">name</a>.<span title="()Int">length</span> <a title="(Int)Int" id="3087">-</a> <span title="java.lang.String(&quot;.jar&quot;)" class="string">&quot;.jar&quot;</span>.<span title="()Int">length</span>)
		}
		<span class="keyword">def</span> <a title="=&gt; sbt.PathFinder" id="57379">plugins</a> = <a href="Project.scala.html#53940" title="(sbt.PathFinder,sbt.FileFilter)sbt.PathFinder">descendents</a>(<a href="#57361" title="=&gt; sbt.Path">managedDependencyPath</a>, <a href="#56554" title="=&gt; sbt.NameFilter">jarFilter</a>)
		<span class="keyword">def</span> <a title="=&gt; sbt.PathFinder" id="57380">pluginClasspath</a>: <a href="Path.scala.html#10418" title="sbt.PathFinder">PathFinder</a> = <a href="#57379" title="=&gt; sbt.PathFinder">plugins</a> <a href="Path.scala.html#52316" title="(sbt.PathFinder)sbt.PathFinder">+++</a> <a href="#57383" title="=&gt; &lt;refinement&gt; extends PluginBuilderProject.this.BuilderCompileConfiguration">pluginCompileConfiguration</a>.<a href="Conditional.scala.html#56624" title="=&gt; sbt.Path">outputDirectory</a>

		<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="PluginBuilderProject.this.BuilderCompileConditional" id="57382">pluginCompileConditional</a> = <span title="PluginBuilderProject.this.BuilderCompileConditional" class="keyword">new</span> <a href="#56570" title="PluginBuilderProject.this.BuilderCompileConditional">BuilderCompileConditional</a>(<a href="#57383" title="=&gt; &lt;refinement&gt; extends PluginBuilderProject.this.BuilderCompileConfiguration">pluginCompileConfiguration</a>, <a href="Project.scala.html#53927" title="=&gt; xsbt.AnalyzingCompiler">buildCompiler</a>, <span title="java.lang.String(&quot;plugin&quot;)" class="string">&quot;plugin&quot;</span>)
		<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="&lt;refinement&gt; extends PluginBuilderProject.this.BuilderCompileConfiguration" id="57384">pluginCompileConfiguration</a> =
			<a title="template $anon extends PluginBuilderProject.this.BuilderCompileConfiguration" id="57460" class="keyword">new</a> <a href="#56564" title="PluginBuilderProject.this.BuilderCompileConfiguration">BuilderCompileConfiguration</a>
			{
				<span class="keyword">def</span> <a title="=&gt; java.lang.String" id="57462">label</a> = <span title="java.lang.String(&quot;plugin builder&quot;)" class="string">&quot;plugin builder&quot;</span>
				<span class="keyword">def</span> <a title="=&gt; sbt.Path" id="57463">sourceRoots</a> = <a href="#57360" title="=&gt; sbt.Path">managedSourcePath</a>
				<span class="keyword">def</span> <a title="=&gt; sbt.PathFinder" id="57464">sources</a> = <a href="Project.scala.html#53940" title="(sbt.PathFinder,sbt.FileFilter)sbt.PathFinder">descendents</a>(<a href="#57463" title="=&gt; sbt.Path">sourceRoots</a>, <a href="#56553" title="=&gt; sbt.NameFilter">sourceFilter</a>)
				<span class="keyword">def</span> <a title="=&gt; sbt.Path" id="57465">outputDirectory</a> = <a href="Project.scala.html#53892" title="=&gt; sbt.Path">outputPath</a> <a href="Path.scala.html#52343" title="(String)sbt.Path">/</a> <span title="java.lang.String(&quot;plugin-classes&quot;)" class="string">&quot;plugin-classes&quot;</span>
				<span class="keyword">def</span> <a title="=&gt; sbt.PathFinder" id="57466">classpath</a>: <a href="Path.scala.html#10418" title="sbt.PathFinder">PathFinder</a> = <a href="#57380" title="=&gt; sbt.PathFinder">pluginClasspath</a> <a href="Path.scala.html#52316" title="(sbt.PathFinder)sbt.PathFinder">+++</a> <a href="#56563" title="=&gt; sbt.PathFinder">sbtJars</a>
				<span class="keyword">def</span> <a title="=&gt; sbt.Path" id="57467">analysisPath</a> = <a href="Project.scala.html#53892" title="=&gt; sbt.Path">outputPath</a> <a href="Path.scala.html#52343" title="(String)sbt.Path">/</a> <span title="java.lang.String(&quot;plugin-analysis&quot;)" class="string">&quot;plugin-analysis&quot;</span>
			}
	}
}
<span class="keyword">class</span> <a title="class PluginDefinition extends sbt.InternalProject with sbt.BasicManagedProject with ScalaObject" id="10052">PluginDefinition</a>(<span class="keyword">val</span> <a title="sbt.ProjectInfo" id="57781">info</a>: <a href="ProjectInfo.scala.html#8384" title="sbt.ProjectInfo">ProjectInfo</a>) <span class="keyword">extends</span> <a href="#11261" title="sbt.InternalProject">InternalProject</a> <span class="keyword">with</span> <a href="BasicProjectTypes.scala.html#10508" title="sbt.BasicManagedProject">BasicManagedProject</a>
{
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; sbt.Level.Value" id="57588">defaultLoggingLevel</a> = <a href="Logger.scala.html#9888" title="object sbt.Level">Level</a>.<a href="Logger.scala.html#56505" title="=&gt; sbt.Level.Value">Info</a>
	<span class="keyword">override</span> <span class="keyword">final</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="57589">outputPattern</a> = <span title="java.lang.String(&quot;[artifact](-[revision]).[ext]&quot;)" class="string">&quot;[artifact](-[revision]).[ext]&quot;</span>
	<span class="keyword">override</span> <span class="keyword">final</span> <span class="keyword">val</span> <a title="scala.collection.immutable.Map[java.lang.String,PluginDefinition.this.Task]" id="57590">tasks</a> = immutable.<span title="((java.lang.String, PluginDefinition.this.Task)*)scala.collection.immutable.Map[java.lang.String,PluginDefinition.this.Task]">Map</span>(<a title="(java.lang.String)ArrowAssoc[java.lang.String]" id="787" class="string">&quot;update&quot;</a> <a title="(PluginDefinition.this.Task)(java.lang.String, PluginDefinition.this.Task)" id="6522">-&gt;</a> <a href="BasicProjectTypes.scala.html#54435" title="=&gt; PluginDefinition.this.Task">update</a>)
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="(sbt.Configuration)sbt.PathFinder" id="57592">projectClasspath</a>(<a title="sbt.Configuration" id="57786">config</a>: <a href="../IvyInterface.scala.html#13319" title="sbt.Configuration">Configuration</a>) = <a href="Path.scala.html#11862" title="object sbt.Path">Path</a>.<a href="Path.scala.html#52293" title="=&gt; sbt.PathFinder">emptyPathFinder</a>
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Iterable[sbt.Project]" id="57593">dependencies</a> = <a href="#57781" title="=&gt; sbt.ProjectInfo">info</a>.<a href="ProjectInfo.scala.html#55132" title="=&gt; Iterable[sbt.Project]">dependencies</a>
	<span class="keyword">def</span> <a title="=&gt; Boolean" id="57594">autoUpdate</a> = <span title="Boolean(true)" class="keyword">true</span>
}
<span class="keyword">class</span> <a title="class PluginProject extends sbt.DefaultProject with ScalaObject" id="11864">PluginProject</a>(<a title="sbt.ProjectInfo" id="57806">info</a>: <a href="ProjectInfo.scala.html#8384" title="sbt.ProjectInfo">ProjectInfo</a>) <span class="keyword">extends</span> <a href="DefaultProject.scala.html#10121" title="sbt.DefaultProject">DefaultProject</a>(<a href="#57806" title="sbt.ProjectInfo">info</a>)
{
	<span class="comment">/* Since plugins are distributed as source, there is no need to append _&lt;scala.version&gt;  */</span>
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="57797">moduleID</a> = <a href="Project.scala.html#53942" title="=&gt; java.lang.String">normalizedName</a>
	<span class="comment">/* Fix the version used to build to the version currently running sbt. */</span>
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="57798">buildScalaVersion</a> = <a href="Project.scala.html#53902" title="=&gt; PluginProject.this.Property[String]">defScalaVersion</a>.<a href="Environment.scala.html#55118" title="=&gt; String">value</a>
	<span class="comment">/* Add sbt to the classpath */</span>
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; sbt.PathFinder" id="57799">unmanagedClasspath</a> = <span class="keyword">super</span>.<a href="BasicProjectTypes.scala.html#54499" title="=&gt; sbt.PathFinder">unmanagedClasspath</a> <a href="Path.scala.html#52316" title="(sbt.PathFinder)sbt.PathFinder">+++</a> <a href="#57806" title="sbt.ProjectInfo">info</a>.<a href="ProjectInfo.scala.html#55157" title="=&gt; sbt.PathFinder">sbtClasspath</a>
	<span class="comment">/* Package the plugin as source. */</span>
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; PluginProject.this.Task" id="57800">packageAction</a> = <a href="DefaultProject.scala.html#54189" title="=&gt; PluginProject.this.Task">packageSrc</a> <a href="TaskManager.scala.html#55208" title="(PluginProject.this.ManagedTask*)PluginProject.this.Task">dependsOn</a>(<a href="DefaultProject.scala.html#54179" title="=&gt; PluginProject.this.Task">test</a>)
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; sbt.Path" id="57801">packageSrcJar</a> = <a href="ProjectPaths.scala.html#56032" title="=&gt; sbt.Path">jarPath</a>
	<span class="comment">/* Some setup to make publishing quicker to configure. */</span>
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="57802">useMavenConfigurations</a> = <span title="Boolean(true)" class="keyword">true</span>
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; sbt.ManagedStyle.Value" id="57803">managedStyle</a> = <a href="BasicProjectTypes.scala.html#8019" title="object sbt.ManagedStyle">ManagedStyle</a>.<a href="BasicProjectTypes.scala.html#54577" title="=&gt; sbt.ManagedStyle.Value">Maven</a>
}
<span class="keyword">class</span> <a title="class ProcessorProject extends sbt.DefaultProject with ScalaObject" id="12020">ProcessorProject</a>(<a title="sbt.ProjectInfo" id="57932">info</a>: <a href="ProjectInfo.scala.html#8384" title="sbt.ProjectInfo">ProjectInfo</a>) <span class="keyword">extends</span> <a href="DefaultProject.scala.html#10121" title="sbt.DefaultProject">DefaultProject</a>(<a href="#57932" title="sbt.ProjectInfo">info</a>)
{
	<span class="comment">/* Fix the version used to build to the version currently running sbt. */</span>
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="57926">buildScalaVersion</a> = <a href="Project.scala.html#53902" title="=&gt; ProcessorProject.this.Property[String]">defScalaVersion</a>.<a href="Environment.scala.html#55118" title="=&gt; String">value</a>
	<span class="comment">/* Add sbt to the classpath */</span>
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; sbt.PathFinder" id="57927">unmanagedClasspath</a> = <span class="keyword">super</span>.<a href="BasicProjectTypes.scala.html#54499" title="=&gt; sbt.PathFinder">unmanagedClasspath</a> <a href="Path.scala.html#52316" title="(sbt.PathFinder)sbt.PathFinder">+++</a> <a href="#57932" title="sbt.ProjectInfo">info</a>.<a href="ProjectInfo.scala.html#55157" title="=&gt; sbt.PathFinder">sbtClasspath</a>
	<span class="comment">/* Some setup to make publishing quicker to configure. */</span>
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="57928">useMavenConfigurations</a> = <span title="Boolean(true)" class="keyword">true</span>
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; sbt.ManagedStyle.Value" id="57929">managedStyle</a> = <a href="BasicProjectTypes.scala.html#8019" title="object sbt.ManagedStyle">ManagedStyle</a>.<a href="BasicProjectTypes.scala.html#54577" title="=&gt; sbt.ManagedStyle.Value">Maven</a>
}
        </pre>
    </body>
</html>