<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>sbt/BuilderProject.scala</title>
        <script type="text/javascript" src="../jquery-all.js"></script>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* sbt -- Simple Build Tool
 * Copyright 2008, 2009  Mark Harrah, David MacIver
 */</span>
<span class="keyword">package</span> sbt

<span class="keyword">import</span> BasicProjectPaths._
<span class="keyword">import</span> scala.collection.{immutable, Map}
<span class="keyword">import</span> immutable.Map.{empty =&gt; emptyMap}

<span class="keyword">sealed</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class InternalProject extends java.lang.Object with sbt.Project with ScalaObject" id="11262">InternalProject</a> <span class="keyword">extends</span> <a href="Project.scala.html#9291" title="sbt.Project">Project</a>
{
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; sbt.Level.Value" id="53503">defaultLoggingLevel</a> = <a href="Logger.scala.html#9889" title="object sbt.Level">Level</a>.<a href="Logger.scala.html#53517" title="=&gt; sbt.Level.Value">Warn</a>
	<span class="keyword">override</span> <span class="keyword">final</span> <span class="keyword">def</span> <a title="=&gt; object None" id="53504">historyPath</a> = <span title="object None">None</span>
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; scala.collection.Map[String,InternalProject.this.ManagedTask]" id="53505">tasks</a>: <span title="scala.collection.Map[String,InternalProject.this.ManagedTask]">Map</span>[String, ManagedTask] = <span title="scala.collection.immutable.Map[String,Nothing]">emptyMap</span>
	<span class="keyword">override</span> <span class="keyword">final</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="53506">disableCrossPaths</a> = <span title="Boolean(false)" class="keyword">false</span>
	<span class="keyword">override</span> <span class="keyword">final</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="53507">shouldCheckOutputDirectories</a> = <span title="Boolean(false)" class="keyword">false</span>
}
<span class="keyword">sealed</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class BasicBuilderProject extends sbt.InternalProject with ScalaObject" id="10236">BasicBuilderProject</a> <span class="keyword">extends</span> <a href="#11262" title="sbt.InternalProject">InternalProject</a>
{
	<span class="keyword">def</span> <a title="=&gt; sbt.NameFilter" id="53563">sourceFilter</a> = <a href="Project.scala.html#50886" title="implicit sbt.Project.filter : (String)sbt.NameFilter" class="string">&quot;*.scala&quot;</a> <a href="NameFilter.scala.html#51977" title="(sbt.NameFilter)sbt.NameFilter">|</a> <a href="Project.scala.html#50886" title="implicit sbt.Project.filter : (String)sbt.NameFilter" class="string">&quot;*.java&quot;</a>
	<span class="keyword">def</span> <a title="=&gt; sbt.NameFilter" id="53564">jarFilter</a>: <a href="NameFilter.scala.html#9921" title="sbt.NameFilter">NameFilter</a> = <a href="Project.scala.html#50886" title="implicit sbt.Project.filter : (String)sbt.NameFilter" class="string">&quot;*.jar&quot;</a>
	<span class="keyword">def</span> <a title="=&gt; sbt.Path" id="53565">compilePath</a> = <a href="Project.scala.html#50902" title="=&gt; sbt.Path">outputPath</a> <a href="Path.scala.html#49353" title="(String)sbt.Path">/</a> <a href="ProjectPaths.scala.html#53471" title="=&gt; java.lang.String">DefaultMainCompileDirectoryName</a>
	<span class="keyword">def</span> <a title="=&gt; sbt.Path" id="53566">mainResourcesPath</a> = <a href="Project.scala.html#50885" title="implicit sbt.Project.path : (String)sbt.Path">path</a>(<a href="ProjectPaths.scala.html#53495" title="=&gt; java.lang.String">DefaultResourcesDirectoryName</a>)
	<span class="keyword">def</span> <a title="=&gt; sbt.Path" id="53567">dependencyPath</a> = <a href="Project.scala.html#50885" title="implicit sbt.Project.path : (String)sbt.Path">path</a>(<a href="ProjectPaths.scala.html#53501" title="=&gt; java.lang.String">DefaultDependencyDirectoryName</a>)
	<span class="keyword">def</span> <a title="=&gt; sbt.PathFinder" id="53568">libraries</a> = <a href="Project.scala.html#50950" title="(sbt.PathFinder,sbt.FileFilter)sbt.PathFinder">descendents</a>(<a href="#53567" title="=&gt; sbt.Path">dependencyPath</a>, <a href="#53564" title="=&gt; sbt.NameFilter">jarFilter</a>)
	<span class="keyword">override</span> <span class="keyword">final</span> <span class="keyword">def</span> <a title="=&gt; object Nil" id="53569">dependencies</a> = <span title="object Nil">Nil</span>

	<span class="keyword">protected</span> <span class="keyword">final</span> <span class="keyword">def</span> <a title="(String*)Unit" id="53570">logInfo</a>(<a title="String*" id="53613">messages</a>: <a title="String*" id="2684">String</a>*): <a title="Unit" id="2109">Unit</a> = <a href="#53571" title="(=&gt; Unit)Unit">atInfo</a> { <a href="#53613" title="String*">messages</a>.<a title="((String) =&gt; Unit)Unit" id="15952">foreach</a>(<a title="String" id="53616">message</a> =&gt; <a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49385" title="(=&gt; String)Unit">info</a>(<a href="#53616" title="String">message</a>)) }
	<span class="keyword">protected</span> <span class="keyword">final</span> <span class="keyword">def</span> <a title="(=&gt; Unit)Unit" id="53571">atInfo</a>(<a title="=&gt; Unit" id="53614">action</a>: =&gt; Unit)
	{
		<span class="keyword">val</span> <a title="sbt.Level.Value" id="53620">oldLevel</a> = <a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49375" title="=&gt; sbt.Level.Value">getLevel</a>
		<a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49376" title="(sbt.Level.Value)Unit">setLevel</a>(<a href="Logger.scala.html#9889" title="object sbt.Level">Level</a>.<a href="Logger.scala.html#53515" title="=&gt; sbt.Level.Value">Info</a>)
		<a href="#53614" title="=&gt; Unit">action</a>
		<a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49376" title="(sbt.Level.Value)Unit">setLevel</a>(<a href="#53620" title="sbt.Level.Value">oldLevel</a>)
	}

	<span class="keyword">def</span> <a title="=&gt; sbt.PathFinder" id="53572">projectClasspath</a> = <a href="#53565" title="=&gt; sbt.Path">compilePath</a> <a href="Path.scala.html#49326" title="(sbt.PathFinder)sbt.PathFinder">+++</a> <a href="#53568" title="=&gt; sbt.PathFinder">libraries</a> <a href="Path.scala.html#49326" title="(sbt.PathFinder)sbt.PathFinder">+++</a> <a href="#53573" title="=&gt; sbt.PathFinder">sbtJars</a>
	<span class="keyword">def</span> <a title="=&gt; sbt.PathFinder" id="53573">sbtJars</a> = <a href="Project.scala.html#50857" title="=&gt; sbt.ProjectInfo">info</a>.<a href="ProjectInfo.scala.html#52167" title="=&gt; sbt.PathFinder">sbtClasspath</a>

	<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class BuilderCompileConfiguration extends sbt.AbstractCompileConfiguration with ScalaObject" id="53574">BuilderCompileConfiguration</a> <span class="keyword">extends</span> <a href="Conditional.scala.html#12123" title="sbt.AbstractCompileConfiguration">AbstractCompileConfiguration</a>
	{
		<span class="keyword">def</span> <a title="=&gt; sbt.Path" id="53644">projectPath</a> = <a href="Project.scala.html#50857" title="=&gt; sbt.ProjectInfo">info</a>.<a href="ProjectInfo.scala.html#52156" title="=&gt; sbt.Path">projectPath</a>
		<span class="keyword">def</span> <a title="=&gt; sbt.Logger" id="53645">log</a> = <a href="#10236" title="BasicBuilderProject.this.type">BasicBuilderProject</a>.<span class="keyword">this</span>.<a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>
		<span class="keyword">def</span> <a title="=&gt; List[java.lang.String]" id="53646">options</a> = <a href="CompileOptions.scala.html#11062" title="object sbt.CompileOptions">CompileOptions</a>.<a href="CompileOptions.scala.html#53662" title="=&gt; java.lang.String">Deprecation</a> <a href="#53660" title="(java.lang.String)List[java.lang.String]">::</a> <a href="CompileOptions.scala.html#11062" title="object sbt.CompileOptions">CompileOptions</a>.<a href="CompileOptions.scala.html#53664" title="=&gt; java.lang.String">Unchecked</a> <a href="#53668" title="(java.lang.String)List[java.lang.String]">::</a> <span title="object Nil">Nil</span>
		<span class="keyword">def</span> <a title="=&gt; object Nil" id="53647">javaOptions</a> = <span title="object Nil">Nil</span>
		<span class="keyword">def</span> <a title="=&gt; Int" id="53648">maxErrors</a> = <a href="ScalaProject.scala.html#12925" title="object sbt.ScalaProject">ScalaProject</a>.<a href="ScalaProject.scala.html#51648" title="=&gt; Int">DefaultMaximumCompileErrors</a>
		<span class="keyword">def</span> <a title="=&gt; sbt.CompileOrder.Value" id="53649">compileOrder</a> = <a href="Compile.scala.html#8542" title="object sbt.CompileOrder">CompileOrder</a>.<a href="Compile.scala.html#53681" title="=&gt; sbt.CompileOrder.Value">Mixed</a>
	}
	<span class="keyword">def</span> <a title="=&gt; BasicBuilderProject.this.BuilderCompileConfiguration" id="53575">definitionCompileConfiguration</a> =
		<a title="template $anon extends BasicBuilderProject.this.BuilderCompileConfiguration" id="53692" class="keyword">new</a> <a href="#53574" title="BasicBuilderProject.this.BuilderCompileConfiguration">BuilderCompileConfiguration</a>
		{
			<span class="keyword">def</span> <a title="=&gt; java.lang.String" id="53694">label</a> = <span title="java.lang.String(&quot;builder&quot;)" class="string">&quot;builder&quot;</span>
			<span class="keyword">def</span> <a title="=&gt; sbt.PathFinder" id="53695">sourceRoots</a> = <a href="Project.scala.html#50857" title="=&gt; sbt.ProjectInfo">info</a>.<a href="ProjectInfo.scala.html#52156" title="=&gt; sbt.Path">projectPath</a> <a href="Path.scala.html#49326" title="(sbt.PathFinder)sbt.PathFinder">+++</a> <a href="Project.scala.html#50885" title="implicit sbt.Project.path : (String)sbt.Path">path</a>(<a href="ProjectPaths.scala.html#53469" title="=&gt; java.lang.String">DefaultSourceDirectoryName</a>)
			<span class="keyword">def</span> <a title="=&gt; sbt.PathFinder" id="53696">sources</a> = (<a href="Project.scala.html#50857" title="=&gt; sbt.ProjectInfo">info</a>.<a href="ProjectInfo.scala.html#52156" title="=&gt; sbt.Path">projectPath</a> <a href="Path.scala.html#49330" title="(sbt.FileFilter)sbt.PathFinder">*</a> <a href="#53563" title="=&gt; sbt.NameFilter">sourceFilter</a>) <a href="Path.scala.html#49326" title="(sbt.PathFinder)sbt.PathFinder">+++</a> <a href="Project.scala.html#50885" title="implicit sbt.Project.path : (String)sbt.Path">path</a>(<a href="ProjectPaths.scala.html#53469" title="=&gt; java.lang.String">DefaultSourceDirectoryName</a>).<a href="Path.scala.html#49334" title="(sbt.FileFilter,sbt.FileFilter)sbt.PathFinder">descendentsExcept</a>(<a href="#53563" title="=&gt; sbt.NameFilter">sourceFilter</a>, <a href="Project.scala.html#50949" title="=&gt; sbt.FileFilter">defaultExcludes</a>)
			<span class="keyword">def</span> <a title="=&gt; sbt.Path" id="53697">outputDirectory</a> = <a href="#53565" title="=&gt; sbt.Path">compilePath</a>
			<span class="keyword">def</span> <a title="=&gt; sbt.PathFinder" id="53698">classpath</a> = <a href="#53572" title="=&gt; sbt.PathFinder">projectClasspath</a>
			<span class="keyword">def</span> <a title="=&gt; sbt.Path" id="53699">analysisPath</a> = <a href="Project.scala.html#50902" title="=&gt; sbt.Path">outputPath</a> <a href="Path.scala.html#49353" title="(String)sbt.Path">/</a> <a href="ProjectPaths.scala.html#53481" title="=&gt; java.lang.String">DefaultMainAnalysisDirectoryName</a>
		}

	<span class="keyword">def</span> <a title="=&gt; String" id="53576">tpe</a>: <span title="String">String</span>

		<span class="keyword">import</span> xsbt.ScalaInstance

	<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="BasicBuilderProject.this.BuilderCompileConditional" id="53579">definitionCompileConditional</a> = <span title="BasicBuilderProject.this.BuilderCompileConditional" class="keyword">new</span> <a href="#53580" title="BasicBuilderProject.this.BuilderCompileConditional">BuilderCompileConditional</a>(<a href="#53575" title="=&gt; BasicBuilderProject.this.BuilderCompileConfiguration">definitionCompileConfiguration</a>, <a href="Project.scala.html#50937" title="=&gt; xsbt.AnalyzingCompiler">buildCompiler</a>, <a href="#53576" title="=&gt; String">tpe</a>)
	<span class="keyword">final</span> <span class="keyword">class</span> <a title="class BuilderCompileConditional extends sbt.AbstractCompileConditional with ScalaObject" id="53580">BuilderCompileConditional</a>(<a title="BasicBuilderProject.this.BuilderCompileConfiguration" id="53797">config</a>: <a href="#53574" title="BasicBuilderProject.this.BuilderCompileConfiguration">BuilderCompileConfiguration</a>, <a title="xsbt.AnalyzingCompiler" id="53798">compiler</a>: xsbt.<a href="../AnalyzingCompiler.scala.html#7099" title="xsbt.AnalyzingCompiler">AnalyzingCompiler</a>, <a title="String" id="53799">tpe</a>: <span title="String">String</span>) <span class="keyword">extends</span> <a href="Conditional.scala.html#10602" title="sbt.AbstractCompileConditional">AbstractCompileConditional</a>(<a href="#53797" title="BasicBuilderProject.this.BuilderCompileConfiguration">config</a>, <a href="#53798" title="xsbt.AnalyzingCompiler">compiler</a>)
	{
		<span class="keyword">type</span> <a title="sbt.BuilderCompileAnalysis" id="53793">AnalysisType</a> = <a href="Analysis.scala.html#9096" title="sbt.BuilderCompileAnalysis">BuilderCompileAnalysis</a>
		<span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(sbt.Path,sbt.Path,sbt.Logger)sbt.BuilderCompileAnalysis" id="53794">constructAnalysis</a>(<a title="sbt.Path" id="53809">analysisPath</a>: <a href="Path.scala.html#11862" title="sbt.Path">Path</a>, <a title="sbt.Path" id="53810">projectPath</a>: <a href="Path.scala.html#11862" title="sbt.Path">Path</a>, <a title="sbt.Logger" id="53811">log</a>: <a href="Logger.scala.html#13533" title="sbt.Logger">Logger</a>) =
			<span title="sbt.BuilderCompileAnalysis" class="keyword">new</span> <a href="Analysis.scala.html#9096" title="sbt.BuilderCompileAnalysis">BuilderCompileAnalysis</a>(<a href="#53809" title="sbt.Path">analysisPath</a>, <a href="#53810" title="sbt.Path">projectPath</a>, <a href="#53811" title="sbt.Logger">log</a>)
		<span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(BuilderCompileConditional.this.ConditionalAnalysis)Option[String]" id="53795">execute</a>(<a title="BuilderCompileConditional.this.ConditionalAnalysis" id="53816">cAnalysis</a>: <a href="Conditional.scala.html#53742" title="BuilderCompileConditional.this.ConditionalAnalysis">ConditionalAnalysis</a>): <a title="Option[String]" id="901">Option</a>[String] =
		{
			<span title="Option[String]" class="keyword">if</span>(<a href="#53816" title="BuilderCompileConditional.this.ConditionalAnalysis">cAnalysis</a>.<a href="Conditional.scala.html#53817" title="=&gt; Iterable[sbt.Path]">dirtySources</a>.<a title="=&gt; Boolean" id="15986">isEmpty</a>)
				<span title="object None">None</span>
			<span class="keyword">else</span>
			{
				<a href="#53581" title="()Unit">definitionChanged</a>()
				<a href="#53570" title="(String*)Unit">logInfo</a>(
					<span title="java.lang.String(&quot;Recompiling &quot;)" class="string">&quot;Recompiling &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#53799" title="String">tpe</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;...&quot;)" class="string">&quot;...&quot;</span>,
					 <span title="java.lang.String(&quot;\011&quot;)" class="string">&quot;\t&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#53816" title="BuilderCompileConditional.this.ConditionalAnalysis">cAnalysis</a>.<a title="()java.lang.String" id="6008">toString</a>)
				<span class="keyword">super</span>.<a href="Conditional.scala.html#53782" title="(BuilderCompileConditional.this.ConditionalAnalysis)Option[String]">execute</a>(<a href="#53816" title="BuilderCompileConditional.this.ConditionalAnalysis">cAnalysis</a>)
			}
		}
		<span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; sbt.AnalysisCallback" id="53796">analysisCallback</a>: <a href="AnalysisCallback.scala.html#10845" title="sbt.AnalysisCallback">AnalysisCallback</a> =
			<a title="template $anon extends sbt.BasicAnalysisCallback[BuilderCompileConditional.this.AnalysisType]" id="54019" class="keyword">new</a> <a href="AnalysisCallback.scala.html#9126" title="sbt.BasicAnalysisCallback[BuilderCompileConditional.this.AnalysisType]">BasicAnalysisCallback</a>(<a href="Project.scala.html#50857" title="=&gt; sbt.ProjectInfo">info</a>.<a href="ProjectInfo.scala.html#52156" title="=&gt; sbt.Path">projectPath</a>, <a href="Conditional.scala.html#53726" title="=&gt; BuilderCompileConditional.this.AnalysisType">analysis</a>)
			{
				<span class="keyword">def</span> <a title="=&gt; List[java.lang.String]" id="54022">superclassNames</a> = <a title="(java.lang.String*)List[java.lang.String]" id="500">List</a>(<a href="Project.scala.html#9292" title="object sbt.Project">Project</a>.<a href="Project.scala.html#51617" title="=&gt; java.lang.String">ProjectClassName</a>)
				<span class="keyword">def</span> <a title="=&gt; object Nil" id="54023">annotationNames</a> = <span title="object Nil">Nil</span>
				<span class="keyword">def</span> <a title="(sbt.Path,String)Unit" id="54024">foundApplication</a>(<a title="sbt.Path" id="54033">sourcePath</a>: <a href="Path.scala.html#11862" title="sbt.Path">Path</a>, <a title="String" id="54034">className</a>: <span title="String">String</span>)  <span title="Unit">{</span>}
				<span class="keyword">def</span> <a title="(sbt.Path,String,String,Boolean)Unit" id="54025">foundAnnotated</a>(<a title="sbt.Path" id="54035">sourcePath</a>: <a href="Path.scala.html#11862" title="sbt.Path">Path</a>, <a title="String" id="54036">subclassName</a>: <span title="String">String</span>, <a title="String" id="54037">annotationName</a>: <span title="String">String</span>, <a title="Boolean" id="54038">isModule</a>: <span title="Boolean">Boolean</span>) <span title="Unit">{</span>}
				<span class="keyword">def</span> <a title="(sbt.Path,String,String,Boolean)Unit" id="54026">foundSubclass</a>(<a title="sbt.Path" id="54039">sourcePath</a>: <a href="Path.scala.html#11862" title="sbt.Path">Path</a>, <a title="String" id="54040">subclassName</a>: <span title="String">String</span>, <a title="String" id="54041">superclassName</a>: <span title="String">String</span>, <a title="Boolean" id="54042">isModule</a>: <span title="Boolean">Boolean</span>)
				{
					<span title="Unit" class="keyword">if</span>(<a href="#54041" title="String">superclassName</a> <a title="(AnyRef)Boolean" id="3452">==</a> <a href="Project.scala.html#9292" title="object sbt.Project">Project</a>.<a href="Project.scala.html#51617" title="=&gt; java.lang.String">ProjectClassName</a> <a title="(Boolean)Boolean" id="2694">&amp;&amp;</a> <span title="=&gt; Boolean">!</span><a href="#54042" title="Boolean">isModule</a>)
					{
						<a href="Conditional.scala.html#53760" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49384" title="(=&gt; String)Unit">debug</a>(<span title="java.lang.String(&quot;Found &quot;)" class="string">&quot;Found &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#53799" title="String">tpe</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#54040" title="String">subclassName</a>)
						<a href="AnalysisCallback.scala.html#50781" title="=&gt; BuilderCompileConditional.this.AnalysisType">analysis</a>.<a href="Analysis.scala.html#50547" title="(sbt.Path,String)Unit">addProjectDefinition</a>(<a href="#54039" title="sbt.Path">sourcePath</a>, <a href="#54040" title="String">subclassName</a>)
					}
				}
			}
	}
	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="()Unit" id="53581">definitionChanged</a>() <span title="Unit">{</span>}
	<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="BasicBuilderProject.this.Task" id="53583">compile</a> = <a href="#53584" title="=&gt; BasicBuilderProject.this.Task">compileTask</a>
	<span class="keyword">def</span> <a title="=&gt; BasicBuilderProject.this.Task" id="53584">compileTask</a> = <a href="TaskManager.scala.html#50837" title="(=&gt; Option[String])BasicBuilderProject.this.Task">task</a> { <a href="#53578" title="=&gt; BasicBuilderProject.this.BuilderCompileConditional">definitionCompileConditional</a>.<a href="Conditional.scala.html#53743" title="=&gt; Option[String]">run</a> }

	<span class="keyword">def</span> <a title="=&gt; Either[String,Option[String]]" id="53585">projectDefinition</a>: <a title="Either[String,Option[String]]" id="340">Either</a>[String, Option[String]] =
	{
		<a href="#53578" title="=&gt; BasicBuilderProject.this.BuilderCompileConditional">definitionCompileConditional</a>.<a href="Conditional.scala.html#53726" title="=&gt; BasicBuilderProject.this.definitionCompileConditional.AnalysisType">analysis</a>.<a href="Analysis.scala.html#50546" title="=&gt; Iterable[String]">allProjects</a>.<span title="=&gt; List[String]">toList</span> <span title="Either[String,Option[String]]" class="keyword">match</span>
		{
			<span title="Right[Nothing,object None]" class="keyword">case</span> <span title="object Nil">Nil</span> =&gt;
				<a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49384" title="(=&gt; String)Unit">debug</a>(<span title="java.lang.String(&quot;No &quot;)" class="string">&quot;No &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#53576" title="=&gt; String">tpe</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;s detected using default project.&quot;)" class="string">&quot;s detected using default project.&quot;</span>)
				<span title="(object None)Right[Nothing,object None]">Right</span>(<span title="object None">None</span>)
			<span title="Right[Nothing,Some[String]]" class="keyword">case</span> <a title="String" id="54296">singleDefinition</a> :: <span title="object Nil">Nil</span> =&gt; <span title="(Some[String])Right[Nothing,Some[String]]">Right</span>(<span title="(String)Some[String]">Some</span>(<a href="#54296" title="String">singleDefinition</a>))
			<span title="Left[String,Nothing]" class="keyword">case</span> <a title="List[String]" id="54300">multipleDefinitions</a> =&gt;<a title="(String)Left[String,Nothing]" id="1175">Left</a>(<a href="#54300" title="List[String]">multipleDefinitions</a>.<a title="(String,String,String)String" id="15978">mkString</a>(<span title="java.lang.String(&quot;Multiple &quot;)" class="string">&quot;Multiple &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#53576" title="=&gt; String">tpe</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;s detected: \012\011&quot;)" class="string">&quot;s detected: \n\t&quot;</span>,<span title="java.lang.String(&quot;\012\011&quot;)" class="string">&quot;\n\t&quot;</span>,<span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span>))
		}
	}
	<span class="keyword">override</span> <span class="keyword">final</span> <span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.Map[String,Nothing]" id="53586">methods</a> = <span title="scala.collection.immutable.Map[String,Nothing]">emptyMap</span>
}
<span class="comment">/** The project definition used to build project definitions. */</span>
<span class="keyword">final</span> <span class="keyword">class</span> <a title="class BuilderProject extends sbt.BasicBuilderProject with sbt.ReflectiveTasks with ScalaObject" id="11934">BuilderProject</a>(<span class="keyword">val</span> <a title="sbt.ProjectInfo" id="54353">info</a>: <a href="ProjectInfo.scala.html#8385" title="sbt.ProjectInfo">ProjectInfo</a>, <span class="keyword">val</span> <a title="sbt.Path" id="54354">pluginPath</a>: <a href="Path.scala.html#11862" title="sbt.Path">Path</a>, <a title="sbt.Logger" id="54355">rawLogger</a>: <a href="Logger.scala.html#13533" title="sbt.Logger">Logger</a>) <span class="keyword">extends</span> <a href="#10236" title="sbt.BasicBuilderProject">BasicBuilderProject</a> <span class="keyword">with</span> <a href="BasicProjectTypes.scala.html#12819" title="sbt.ReflectiveTasks">ReflectiveTasks</a>
{
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="54341">name</a> = <span title="java.lang.String(&quot;Project Definition Builder&quot;)" class="string">&quot;Project Definition Builder&quot;</span>
	<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Option[BuilderProject.this.PluginBuilderProject]" id="54343">pluginProject</a> =
	{
		<span title="Option[BuilderProject.this.PluginBuilderProject]" class="keyword">if</span>(<a href="#54354" title="=&gt; sbt.Path">pluginPath</a>.<a href="Path.scala.html#49354" title="=&gt; Boolean">exists</a>)
			<span title="(BuilderProject.this.PluginBuilderProject)Some[BuilderProject.this.PluginBuilderProject]">Some</span>(<span title="BuilderProject.this.PluginBuilderProject" class="keyword">new</span> <a href="#54348" title="BuilderProject.this.PluginBuilderProject">PluginBuilderProject</a>(<a href="ProjectInfo.scala.html#54407" title="(java.io.File,Iterable[sbt.Project],Option[sbt.Project])(sbt.Logger,xsbti.AppProvider,Option[String])sbt.ProjectInfo">ProjectInfo</a>(<a href="#54354" title="=&gt; sbt.Path">pluginPath</a>.<a href="Path.scala.html#49359" title="=&gt; java.io.File">asFile</a>, <span title="object Nil">Nil</span>, <span title="object None">None</span>)(<a href="#54355" title="sbt.Logger">rawLogger</a>, <a href="#54353" title="=&gt; sbt.ProjectInfo">info</a>.<a href="ProjectInfo.scala.html#52147" title="=&gt; xsbti.AppProvider">app</a>, <a href="#54353" title="=&gt; sbt.ProjectInfo">info</a>.<a href="ProjectInfo.scala.html#52149" title="=&gt; Option[String]">buildScalaVersion</a>)))
		<span class="keyword">else</span>
			<span title="object None">None</span>
	}
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; sbt.PathFinder" id="54344">projectClasspath</a> = <span class="keyword">super</span>.<a href="#53572" title="=&gt; sbt.PathFinder">projectClasspath</a> <a href="Path.scala.html#49326" title="(sbt.PathFinder)sbt.PathFinder">+++</a>
		<a href="#54342" title="=&gt; Option[BuilderProject.this.PluginBuilderProject]">pluginProject</a>.<span title="((BuilderProject.this.PluginBuilderProject) =&gt; sbt.PathFinder)Option[sbt.PathFinder]">map</span>(<a href="#54438" title="BuilderProject.this.PluginBuilderProject">_</a>.<a href="#54390" title="=&gt; sbt.PathFinder">pluginClasspath</a>).<a title="(=&gt; sbt.PathFinder)sbt.PathFinder" id="30329">getOrElse</a>(<a href="Path.scala.html#11863" title="object sbt.Path">Path</a>.<a href="Path.scala.html#49303" title="=&gt; sbt.PathFinder">emptyPathFinder</a>)
	<span class="keyword">def</span> <a title="=&gt; java.lang.String" id="54345">tpe</a> = <span title="java.lang.String(&quot;project definition&quot;)" class="string">&quot;project definition&quot;</span>

	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; BuilderProject.this.Task" id="54346">compileTask</a> = <span class="keyword">super</span>.<a href="#53584" title="=&gt; BuilderProject.this.Task">compileTask</a> <a href="TaskManager.scala.html#52218" title="(BuilderProject.this.ManagedTask*)BuilderProject.this.Task">dependsOn</a>(<a href="#54342" title="=&gt; Option[BuilderProject.this.PluginBuilderProject]">pluginProject</a>.<span title="((BuilderProject.this.PluginBuilderProject) =&gt; BuilderProject.this.PluginBuilderProject#Task)Option[BuilderProject.this.PluginBuilderProject#Task]">map</span>(<a href="#54459" title="BuilderProject.this.PluginBuilderProject">_</a>.<a href="#54376" title="=&gt; x$4.Task">sync</a>).<span title="=&gt; List[BuilderProject.this.PluginBuilderProject#Task]">toList</span> : _*)
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.Map[String,BuilderProject.this.ManagedTask]" id="54347">tasks</a> = immutable.<span title="((String, Nothing)*)scala.collection.immutable.Map[String,Nothing]">Map</span>() <span title="(Iterable[(String, BuilderProject.this.ManagedTask)])scala.collection.immutable.Map[String,BuilderProject.this.ManagedTask]">++</span> <span class="keyword">super</span>[ReflectiveTasks].<a href="BasicProjectTypes.scala.html#51477" title="=&gt; scala.collection.Map[String,BuilderProject.this.ManagedTask]">tasks</a> <span title="(Iterable[(String, BuilderProject.this.ManagedTask)])scala.collection.immutable.Map[String,BuilderProject.this.ManagedTask]">++</span> <a href="#54342" title="=&gt; Option[BuilderProject.this.PluginBuilderProject]">pluginProject</a>.<span title="=&gt; List[BuilderProject.this.PluginBuilderProject]">toList</span>.<a title="((BuilderProject.this.PluginBuilderProject) =&gt; Iterable[(java.lang.String, sbt.Project#Task)])List[(java.lang.String, sbt.Project#Task)]" id="15552">flatMap</a> { <a href="#54745" title="BuilderProject.this.PluginBuilderProject">_</a>.<a href="#54373" title="=&gt; scala.collection.Map[String,sbt.Project#Task]">tasks</a>.<a title="(((String, sbt.Project#Task)) =&gt; (java.lang.String, sbt.Project#Task))Iterable[(java.lang.String, sbt.Project#Task)]" id="15942">map</a> <a href="#54749" title="(java.lang.String, sbt.Project#Task)">{</a> <span title="(java.lang.String, sbt.Project#Task)" class="keyword">case</span> (<a title="String" id="54750">k</a>,<a title="sbt.Project#Task" id="54751">v</a>) =&gt; <a title="(java.lang.String,sbt.Project#Task)(java.lang.String, sbt.Project#Task)" id="1331">(</a><a href="#54750" title="String">k</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;-plugins&quot;)" class="string">&quot;-plugins&quot;</span>, <a href="#54751" title="sbt.Project#Task">v</a>) } }

	<span class="keyword">final</span> <span class="keyword">class</span> <a title="class PluginBuilderProject extends sbt.BasicBuilderProject with sbt.ReflectiveTasks with ScalaObject" id="54348">PluginBuilderProject</a>(<span class="keyword">val</span> <a title="sbt.ProjectInfo" id="54395">info</a>: <a href="ProjectInfo.scala.html#8385" title="sbt.ProjectInfo">ProjectInfo</a>) <span class="keyword">extends</span> <a href="#10236" title="sbt.BasicBuilderProject">BasicBuilderProject</a> <span class="keyword">with</span> <a href="BasicProjectTypes.scala.html#12819" title="sbt.ReflectiveTasks">ReflectiveTasks</a>
	{
		<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="54365">name</a> = <span title="java.lang.String(&quot;Plugin Builder&quot;)" class="string">&quot;Plugin Builder&quot;</span>
	<span class="comment">// don't include Java sources because BND includes Java sources in its jar (#85)</span>
		<span class="keyword">def</span> <a title="=&gt; sbt.NameFilter" id="54366">pluginSourceFilter</a>: <a href="NameFilter.scala.html#9921" title="sbt.NameFilter">NameFilter</a> = <a href="Project.scala.html#50886" title="implicit sbt.Project.filter : (String)sbt.NameFilter" class="string">&quot;*.scala&quot;</a>
		<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="PluginBuilderProject.this.Property[Boolean]" id="54368">pluginUptodate</a> = <a href="Environment.scala.html#51314" title="(=&gt; Boolean)(implicit scala.reflect.Manifest[Boolean],sbt.Format[Boolean])PluginBuilderProject.this.Property[Boolean]">propertyOptional</a>[<span title="Boolean">Boolean</span>](<span title="Boolean(false)" class="keyword">false</span>)
		<span class="keyword">def</span> <a title="=&gt; java.lang.String" id="54369">tpe</a> = <span title="java.lang.String(&quot;plugin definition&quot;)" class="string">&quot;plugin definition&quot;</span>
		<span class="keyword">def</span> <a title="=&gt; sbt.Path" id="54370">managedSourcePath</a> = <a href="Project.scala.html#50885" title="implicit sbt.Project.path : (String)sbt.Path">path</a>(<a href="BasicProjectTypes.scala.html#8977" title="object sbt.BasicDependencyPaths">BasicDependencyPaths</a>.<a href="BasicProjectTypes.scala.html#52515" title="=&gt; java.lang.String">DefaultManagedSourceDirectoryName</a>)
		<span class="keyword">def</span> <a title="=&gt; sbt.Path" id="54371">managedDependencyPath</a> = <a href="Project.scala.html#50941" title="(sbt.Path)sbt.Path">crossPath</a>(<a href="BasicProjectTypes.scala.html#8977" title="object sbt.BasicDependencyPaths">BasicDependencyPaths</a>.<a href="Project.scala.html#50885" title="implicit sbt.Project.path : (String)sbt.Path">DefaultManagedDirectoryName</a>)
		<span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="()Unit" id="54372">definitionChanged</a>() { <a href="#54374" title="(Boolean)Unit">setUptodate</a>(<span title="Boolean(false)" class="keyword">false</span>) }
		<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; scala.collection.Map[String,PluginBuilderProject.this.ManagedTask]" id="54373">tasks</a>: <span title="scala.collection.Map[String,PluginBuilderProject.this.ManagedTask]">Map</span>[String, ManagedTask] = <span class="keyword">super</span>[ReflectiveTasks].<a href="BasicProjectTypes.scala.html#51477" title="=&gt; scala.collection.Map[String,PluginBuilderProject.this.ManagedTask]">tasks</a>
		<span class="keyword">def</span> <a title="(Boolean)Unit" id="54374">setUptodate</a>(<a title="Boolean" id="54500">flag</a>: <span title="Boolean">Boolean</span>)
		{
			<a href="#54367" title="=&gt; PluginBuilderProject.this.Property[Boolean]">pluginUptodate</a>() = <a href="#54500" title="Boolean">flag</a>
			<a href="Environment.scala.html#51328" title="()Option[String]">saveEnvironment</a>()
		}

		<span class="keyword">private</span> <span class="keyword">def</span> <a title="(=&gt; Option[String])PluginBuilderProject.this.Task" id="54375">pluginTask</a>(<a title="=&gt; Option[String]" id="54460">f</a>: =&gt; Option[String]) = <a href="TaskManager.scala.html#50837" title="(=&gt; Option[String])PluginBuilderProject.this.Task">task</a> { <span title="Option[String]" class="keyword">if</span>(<span title="=&gt; Boolean">!</span><a href="#54367" title="=&gt; PluginBuilderProject.this.Property[Boolean]">pluginUptodate</a>.<a href="Environment.scala.html#52128" title="=&gt; Boolean">value</a>) <a href="#54460" title="=&gt; Option[String]">f</a> <span class="keyword">else</span> <span title="object None">None</span> }

		<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="PluginBuilderProject.this.Task" id="54377">sync</a> = <a href="#54375" title="(=&gt; Option[String])PluginBuilderProject.this.Task">pluginTask</a>(<a href="#54385" title="()Option[String]">doSync</a>()) <a href="TaskManager.scala.html#52218" title="(PluginBuilderProject.this.ManagedTask*)PluginBuilderProject.this.Task">dependsOn</a>(<a href="#54378" title="=&gt; PluginBuilderProject.this.Task">extract</a>)
		<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="PluginBuilderProject.this.Task" id="54379">extract</a> = <a href="#54375" title="(=&gt; Option[String])PluginBuilderProject.this.Task">pluginTask</a>(<a href="#54386" title="()Option[String]">extractSources</a>()) <a href="TaskManager.scala.html#52218" title="(PluginBuilderProject.this.ManagedTask*)PluginBuilderProject.this.Task">dependsOn</a>(<a href="#54380" title="=&gt; PluginBuilderProject.this.Task">autoUpdate</a>)
		<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="PluginBuilderProject.this.Task" id="54381">autoUpdate</a> = <a href="#54375" title="(=&gt; Option[String])PluginBuilderProject.this.Task">pluginTask</a>(<a href="#54387" title="(Boolean)Option[String]">loadAndUpdate</a>(<span title="Boolean(false)" class="keyword">false</span>)) <a href="TaskManager.scala.html#52218" title="(PluginBuilderProject.this.ManagedTask*)PluginBuilderProject.this.Task">dependsOn</a>(<a href="#53582" title="=&gt; PluginBuilderProject.this.Task">compile</a>)
		<span class="comment">// manual update.  force uptodate = false</span>
		<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="PluginBuilderProject.this.Task" id="54383">update</a> = <a href="TaskManager.scala.html#50837" title="(=&gt; Option[String])PluginBuilderProject.this.Task">task</a> { <a href="#54384" title="()Option[String]">manualUpdate</a>() } <a href="TaskManager.scala.html#52218" title="(PluginBuilderProject.this.ManagedTask*)PluginBuilderProject.this.Task">dependsOn</a>(<a href="#53582" title="=&gt; PluginBuilderProject.this.Task">compile</a>) <a href="TaskManager.scala.html#52220" title="(String)PluginBuilderProject.this.Task">describedAs</a>(<span title="java.lang.String(&quot;Manual plugin update.  Used when autoUpdate is disabled.&quot;)" class="string">&quot;Manual plugin update.  Used when autoUpdate is disabled.&quot;</span>)

		<span class="keyword">def</span> <a title="()Option[String]" id="54384">manualUpdate</a>() =
		{
			<a href="#54374" title="(Boolean)Unit">setUptodate</a>(<span title="Boolean(false)" class="keyword">false</span>)
			<span class="keyword">val</span> <a title="Option[String]" id="54774">result</a> = <a href="#54387" title="(Boolean)Option[String]">loadAndUpdate</a>(<span title="Boolean(true)" class="keyword">true</span>)
			<a href="#53570" title="(String*)Unit">logInfo</a>(<span title="java.lang.String(&quot;'reload' required to rebuild plugins.&quot;)" class="string">&quot;'reload' required to rebuild plugins.&quot;</span>)
			<a href="#54774" title="Option[String]">result</a>
		}
		<span class="keyword">def</span> <a title="()Option[String]" id="54385">doSync</a>() = <a href="#54391" title="=&gt; PluginBuilderProject.this.BuilderCompileConditional">pluginCompileConditional</a>.<a href="Conditional.scala.html#53743" title="=&gt; Option[String]">run</a> <span title="(=&gt; Option[String])Option[String]">orElse</span> { <a href="#54374" title="(Boolean)Unit">setUptodate</a>(<span title="Boolean(true)" class="keyword">true</span>); <span title="object None">None</span> }
		<span class="keyword">def</span> <a title="()Option[String]" id="54386">extractSources</a>() =
		{
			<a href="FileUtilities.scala.html#10717" title="object sbt.FileUtilities">FileUtilities</a>.<a href="FileUtilities.scala.html#49218" title="(sbt.Path,sbt.Logger)Option[String]">clean</a>(<a href="#54370" title="=&gt; sbt.Path">managedSourcePath</a>, <a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>) <span title="(=&gt; Option[String])Option[String]">orElse</span>
			<a href="Control.scala.html#13546" title="object sbt.Control">Control</a>.<a href="Control.scala.html#50247" title="(List[sbt.Path])((sbt.Path) =&gt; Option[String])Option[String]">lazyFold</a>(<a href="#54389" title="=&gt; sbt.PathFinder">plugins</a>.<a href="Path.scala.html#49335" title="=&gt; scala.collection.Set[sbt.Path]">get</a>.<span title="=&gt; List[sbt.Path]">toList</span>) { <a title="sbt.Path" id="54516">jar</a> =&gt;
				<a href="Control.scala.html#13546" title="object sbt.Control">Control</a>.<a href="Control.scala.html#50255" title="(Either[String,scala.collection.Set[sbt.Path]])((scala.collection.Set[sbt.Path]) =&gt; Option[String])Option[String]">thread</a>(<a href="FileUtilities.scala.html#10717" title="object sbt.FileUtilities">FileUtilities</a>.<a href="FileUtilities.scala.html#49179" title="(sbt.Path,sbt.Path,sbt.NameFilter,sbt.Logger)Either[String,scala.collection.Set[sbt.Path]]">unzip</a>(<a href="#54516" title="sbt.Path">jar</a>, <a href="#54388" title="(sbt.Path)sbt.Path">extractTo</a>(<a href="#54516" title="sbt.Path">jar</a>), <a href="#54366" title="=&gt; sbt.NameFilter">pluginSourceFilter</a>, <a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>)) { <a title="scala.collection.Set[sbt.Path]" id="54578">extracted</a> =&gt;
					<span title="Unit" class="keyword">if</span>(<span title="=&gt; Boolean">!</span><a href="#54578" title="scala.collection.Set[sbt.Path]">extracted</a>.<a title="=&gt; Boolean" id="17967">isEmpty</a>)
						<a href="#53570" title="(String*)Unit">logInfo</a>(<span title="java.lang.String(&quot;\011Extracted source plugin &quot;)" class="string">&quot;\tExtracted source plugin &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#54516" title="sbt.Path">jar</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; ...&quot;)" class="string">&quot; ...&quot;</span>)
					<span title="object None">None</span>
				}
			}
		}
		<span class="keyword">def</span> <a title="(Boolean)Option[String]" id="54387">loadAndUpdate</a>(<a title="Boolean" id="54579">forceUpdate</a>: <span title="Boolean">Boolean</span>) =
		{
			<a href="Control.scala.html#13546" title="object sbt.Control">Control</a>.<a href="Control.scala.html#50255" title="(Either[String,Option[String]])((Option[String]) =&gt; Option[String])Option[String]">thread</a>(<a href="#53585" title="=&gt; Either[String,Option[String]]">projectDefinition</a>) <a href="#54583" title="Option[String]">{</a>
				<span title="Option[String]" class="keyword">case</span> Some(<a title="String" id="54584">definition</a>) =&gt;
					<span class="keyword">val</span> <a title="sbt.ProjectInfo" id="54585">pluginInfo</a> = <a href="ProjectInfo.scala.html#54407" title="(java.io.File,Iterable[sbt.Project],Option[sbt.Project])(sbt.Logger,xsbti.AppProvider,Option[String])sbt.ProjectInfo">ProjectInfo</a>(<a href="#54395" title="=&gt; sbt.ProjectInfo">info</a>.<a href="ProjectInfo.scala.html#52156" title="=&gt; sbt.Path">projectPath</a>.<a href="Path.scala.html#49359" title="=&gt; java.io.File">asFile</a>, <span title="object Nil">Nil</span>, <span title="object None">None</span>)(<a href="#54355" title="sbt.Logger">rawLogger</a>, <a href="#54395" title="=&gt; sbt.ProjectInfo">info</a>.<a href="ProjectInfo.scala.html#52147" title="=&gt; xsbti.AppProvider">app</a>, <a href="#54395" title="=&gt; sbt.ProjectInfo">info</a>.<a href="ProjectInfo.scala.html#52149" title="=&gt; Option[String]">buildScalaVersion</a>)
					<span class="keyword">val</span> <a title="sbt.PluginDefinition" id="54586">pluginBuilder</a> = <a href="Project.scala.html#9292" title="object sbt.Project">Project</a>.<a href="Project.scala.html#51628" title="(sbt.ProjectInfo,Class[sbt.PluginDefinition])sbt.PluginDefinition">constructProject</a>(<a href="#54585" title="sbt.ProjectInfo">pluginInfo</a>, <a href="Project.scala.html#9292" title="object sbt.Project">Project</a>.<a href="Project.scala.html#51642" title="(String,sbt.PathFinder,java.lang.ClassLoader)(implicit scala.reflect.Manifest[sbt.PluginDefinition])Class[sbt.PluginDefinition]">getProjectClass</a>[<a href="#10053" title="sbt.PluginDefinition">PluginDefinition</a>](<a href="#54584" title="String">definition</a>, <a href="#53572" title="=&gt; sbt.PathFinder">projectClasspath</a>, <a href="#54348" title="()java.lang.Class[_]" id="3454">getClass</a>.<a title="()java.lang.ClassLoader" id="3928">getClassLoader</a>))
					<span title="Option[String]" class="keyword">if</span>(<a href="#54579" title="Boolean">forceUpdate</a> <a title="(Boolean)Boolean" id="2693">||</a> <a href="#54586" title="sbt.PluginDefinition">pluginBuilder</a>.<a href="#54604" title="=&gt; Boolean">autoUpdate</a>)
					{
						<a href="#53570" title="(String*)Unit">logInfo</a>(<span title="java.lang.String(&quot;\012Updating plugins...&quot;)" class="string">&quot;\nUpdating plugins...&quot;</span>)
						<a href="#54586" title="sbt.PluginDefinition">pluginBuilder</a>.<a href="Project.scala.html#50908" title="=&gt; pluginBuilder.Property[String]">projectName</a>() = <span title="java.lang.String(&quot;Plugin Definition&quot;)" class="string">&quot;Plugin Definition&quot;</span>
						<a href="#54586" title="sbt.PluginDefinition">pluginBuilder</a>.<a href="Project.scala.html#50906" title="=&gt; pluginBuilder.Property[sbt.Version]">projectVersion</a>() = <a href="Version.scala.html#54639" title="(String)sbt.OpaqueVersion">OpaqueVersion</a>(<span title="java.lang.String(&quot;1.0&quot;)" class="string">&quot;1.0&quot;</span>)
						<span class="keyword">val</span> <a title="Option[String]" id="54616">result</a> = <a href="#54586" title="sbt.PluginDefinition">pluginBuilder</a>.<a href="BasicProjectTypes.scala.html#51445" title="=&gt; pluginBuilder.Task">update</a>.<a href="TaskManager.scala.html#52223" title="=&gt; Option[String]">run</a>
						<span title="Unit" class="keyword">if</span>(<a href="#54616" title="Option[String]">result</a>.<a title="=&gt; Boolean" id="30324">isEmpty</a>)
						{
							<a href="#53571" title="(=&gt; Unit)Unit">atInfo</a> {
								<a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49388" title="(=&gt; String)Unit">success</a>(<span title="java.lang.String(&quot;Plugins updated successfully.&quot;)" class="string">&quot;Plugins updated successfully.&quot;</span>)
								<a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49385" title="(=&gt; String)Unit">info</a>(<span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>)
							}
						}
						<a href="#54616" title="Option[String]">result</a>
					}
					<span class="keyword">else</span>
					{
						<a href="Project.scala.html#50852" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#49386" title="(=&gt; String)Unit">warn</a>(<span title="java.lang.String(&quot;Plugin definition recompiled, but autoUpdate is disabled.\012\011Using already retrieved plugins...&quot;)" class="string">&quot;Plugin definition recompiled, but autoUpdate is disabled.\n\tUsing already retrieved plugins...&quot;</span>)
						<span title="object None">None</span>
					}
				<span title="None.type" class="keyword">case</span> <span title="object None">None</span> =&gt; <span title="object None">None</span>
			}
		}
		<span class="keyword">def</span> <a title="(sbt.Path)sbt.Path" id="54388">extractTo</a>(<a title="sbt.Path" id="54550">jar</a>: <a href="Path.scala.html#11862" title="sbt.Path">Path</a>) =
		{
			<span class="keyword">val</span> <a title="java.lang.String" id="54552">name</a> = <a href="#54550" title="sbt.Path">jar</a>.<a href="Path.scala.html#49359" title="=&gt; java.io.File">asFile</a>.<a title="()java.lang.String" id="16759">getName</a>
			<a href="#54370" title="=&gt; sbt.Path">managedSourcePath</a> <a href="Path.scala.html#49353" title="(String)sbt.Path">/</a> <a href="#54552" title="java.lang.String">name</a>.<a title="(Int,Int)java.lang.String" id="6388">substring</a>(<span title="Int(0)" class="int">0</span>, <a href="#54552" title="java.lang.String">name</a>.<span title="()Int">length</span> <a title="(Int)Int" id="3091">-</a> <span title="java.lang.String(&quot;.jar&quot;)" class="string">&quot;.jar&quot;</span>.<span title="()Int">length</span>)
		}
		<span class="keyword">def</span> <a title="=&gt; sbt.PathFinder" id="54389">plugins</a> = <a href="Project.scala.html#50950" title="(sbt.PathFinder,sbt.FileFilter)sbt.PathFinder">descendents</a>(<a href="#54371" title="=&gt; sbt.Path">managedDependencyPath</a>, <a href="#53564" title="=&gt; sbt.NameFilter">jarFilter</a>)
		<span class="keyword">def</span> <a title="=&gt; sbt.PathFinder" id="54390">pluginClasspath</a>: <a href="Path.scala.html#10419" title="sbt.PathFinder">PathFinder</a> = <a href="#54389" title="=&gt; sbt.PathFinder">plugins</a> <a href="Path.scala.html#49326" title="(sbt.PathFinder)sbt.PathFinder">+++</a> <a href="#54393" title="=&gt; &lt;refinement&gt; extends PluginBuilderProject.this.BuilderCompileConfiguration">pluginCompileConfiguration</a>.<a href="Conditional.scala.html#53634" title="=&gt; sbt.Path">outputDirectory</a>

		<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="PluginBuilderProject.this.BuilderCompileConditional" id="54392">pluginCompileConditional</a> = <span title="PluginBuilderProject.this.BuilderCompileConditional" class="keyword">new</span> <a href="#53580" title="PluginBuilderProject.this.BuilderCompileConditional">BuilderCompileConditional</a>(<a href="#54393" title="=&gt; &lt;refinement&gt; extends PluginBuilderProject.this.BuilderCompileConfiguration">pluginCompileConfiguration</a>, <a href="Project.scala.html#50937" title="=&gt; xsbt.AnalyzingCompiler">buildCompiler</a>, <span title="java.lang.String(&quot;plugin&quot;)" class="string">&quot;plugin&quot;</span>)
		<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="&lt;refinement&gt; extends PluginBuilderProject.this.BuilderCompileConfiguration" id="54394">pluginCompileConfiguration</a> =
			<a title="template $anon extends PluginBuilderProject.this.BuilderCompileConfiguration" id="54470" class="keyword">new</a> <a href="#53574" title="PluginBuilderProject.this.BuilderCompileConfiguration">BuilderCompileConfiguration</a>
			{
				<span class="keyword">def</span> <a title="=&gt; java.lang.String" id="54472">label</a> = <span title="java.lang.String(&quot;plugin builder&quot;)" class="string">&quot;plugin builder&quot;</span>
				<span class="keyword">def</span> <a title="=&gt; sbt.Path" id="54473">sourceRoots</a> = <a href="#54370" title="=&gt; sbt.Path">managedSourcePath</a>
				<span class="keyword">def</span> <a title="=&gt; sbt.PathFinder" id="54474">sources</a> = <a href="Project.scala.html#50950" title="(sbt.PathFinder,sbt.FileFilter)sbt.PathFinder">descendents</a>(<a href="#54473" title="=&gt; sbt.Path">sourceRoots</a>, <a href="#53563" title="=&gt; sbt.NameFilter">sourceFilter</a>)
				<span class="keyword">def</span> <a title="=&gt; sbt.Path" id="54475">outputDirectory</a> = <a href="Project.scala.html#50902" title="=&gt; sbt.Path">outputPath</a> <a href="Path.scala.html#49353" title="(String)sbt.Path">/</a> <span title="java.lang.String(&quot;plugin-classes&quot;)" class="string">&quot;plugin-classes&quot;</span>
				<span class="keyword">def</span> <a title="=&gt; sbt.PathFinder" id="54476">classpath</a>: <a href="Path.scala.html#10419" title="sbt.PathFinder">PathFinder</a> = <a href="#54390" title="=&gt; sbt.PathFinder">pluginClasspath</a> <a href="Path.scala.html#49326" title="(sbt.PathFinder)sbt.PathFinder">+++</a> <a href="#53573" title="=&gt; sbt.PathFinder">sbtJars</a>
				<span class="keyword">def</span> <a title="=&gt; sbt.Path" id="54477">analysisPath</a> = <a href="Project.scala.html#50902" title="=&gt; sbt.Path">outputPath</a> <a href="Path.scala.html#49353" title="(String)sbt.Path">/</a> <span title="java.lang.String(&quot;plugin-analysis&quot;)" class="string">&quot;plugin-analysis&quot;</span>
			}
	}
}
<span class="keyword">class</span> <a title="class PluginDefinition extends sbt.InternalProject with sbt.BasicManagedProject with ScalaObject" id="10053">PluginDefinition</a>(<span class="keyword">val</span> <a title="sbt.ProjectInfo" id="54791">info</a>: <a href="ProjectInfo.scala.html#8385" title="sbt.ProjectInfo">ProjectInfo</a>) <span class="keyword">extends</span> <a href="#11262" title="sbt.InternalProject">InternalProject</a> <span class="keyword">with</span> <a href="BasicProjectTypes.scala.html#10509" title="sbt.BasicManagedProject">BasicManagedProject</a>
{
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; sbt.Level.Value" id="54598">defaultLoggingLevel</a> = <a href="Logger.scala.html#9889" title="object sbt.Level">Level</a>.<a href="Logger.scala.html#53515" title="=&gt; sbt.Level.Value">Info</a>
	<span class="keyword">override</span> <span class="keyword">final</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="54599">outputPattern</a> = <span title="java.lang.String(&quot;[artifact](-[revision]).[ext]&quot;)" class="string">&quot;[artifact](-[revision]).[ext]&quot;</span>
	<span class="keyword">override</span> <span class="keyword">final</span> <span class="keyword">val</span> <a title="scala.collection.immutable.Map[java.lang.String,PluginDefinition.this.Task]" id="54600">tasks</a> = immutable.<span title="((java.lang.String, PluginDefinition.this.Task)*)scala.collection.immutable.Map[java.lang.String,PluginDefinition.this.Task]">Map</span>(<a title="(java.lang.String)ArrowAssoc[java.lang.String]" id="791" class="string">&quot;update&quot;</a> <a title="(PluginDefinition.this.Task)(java.lang.String, PluginDefinition.this.Task)" id="6526">-&gt;</a> <a href="BasicProjectTypes.scala.html#51445" title="=&gt; PluginDefinition.this.Task">update</a>)
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="(sbt.Configuration)sbt.PathFinder" id="54602">projectClasspath</a>(<a title="sbt.Configuration" id="54796">config</a>: <a href="../IvyInterface.scala.html#13320" title="sbt.Configuration">Configuration</a>) = <a href="Path.scala.html#11863" title="object sbt.Path">Path</a>.<a href="Path.scala.html#49303" title="=&gt; sbt.PathFinder">emptyPathFinder</a>
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Iterable[sbt.Project]" id="54603">dependencies</a> = <a href="#54791" title="=&gt; sbt.ProjectInfo">info</a>.<a href="ProjectInfo.scala.html#52142" title="=&gt; Iterable[sbt.Project]">dependencies</a>
	<span class="keyword">def</span> <a title="=&gt; Boolean" id="54604">autoUpdate</a> = <span title="Boolean(true)" class="keyword">true</span>
}
<span class="keyword">class</span> <a title="class PluginProject extends sbt.DefaultProject with ScalaObject" id="11865">PluginProject</a>(<a title="sbt.ProjectInfo" id="54816">info</a>: <a href="ProjectInfo.scala.html#8385" title="sbt.ProjectInfo">ProjectInfo</a>) <span class="keyword">extends</span> <a href="DefaultProject.scala.html#10122" title="sbt.DefaultProject">DefaultProject</a>(<a href="#54816" title="sbt.ProjectInfo">info</a>)
{
	<span class="comment">/* Since plugins are distributed as source, there is no need to append _&lt;scala.version&gt;  */</span>
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="54807">moduleID</a> = <a href="Project.scala.html#50952" title="=&gt; java.lang.String">normalizedName</a>
	<span class="comment">/* Fix the version used to build to the version currently running sbt. */</span>
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="54808">buildScalaVersion</a> = <a href="Project.scala.html#50912" title="=&gt; PluginProject.this.Property[String]">defScalaVersion</a>.<a href="Environment.scala.html#52128" title="=&gt; String">value</a>
	<span class="comment">/* Add sbt to the classpath */</span>
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; sbt.PathFinder" id="54809">unmanagedClasspath</a> = <span class="keyword">super</span>.<a href="BasicProjectTypes.scala.html#51509" title="=&gt; sbt.PathFinder">unmanagedClasspath</a> <a href="Path.scala.html#49326" title="(sbt.PathFinder)sbt.PathFinder">+++</a> <a href="#54816" title="sbt.ProjectInfo">info</a>.<a href="ProjectInfo.scala.html#52167" title="=&gt; sbt.PathFinder">sbtClasspath</a>
	<span class="comment">/* Package the plugin as source. */</span>
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; PluginProject.this.Task" id="54810">packageAction</a> = <a href="DefaultProject.scala.html#51199" title="=&gt; PluginProject.this.Task">packageSrc</a> <a href="TaskManager.scala.html#52218" title="(PluginProject.this.ManagedTask*)PluginProject.this.Task">dependsOn</a>(<a href="DefaultProject.scala.html#51189" title="=&gt; PluginProject.this.Task">test</a>)
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; sbt.Path" id="54811">packageSrcJar</a> = <a href="ProjectPaths.scala.html#53042" title="=&gt; sbt.Path">jarPath</a>
	<span class="comment">/* Some setup to make publishing quicker to configure. */</span>
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="54812">useMavenConfigurations</a> = <span title="Boolean(true)" class="keyword">true</span>
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; sbt.ManagedStyle.Value" id="54813">managedStyle</a> = <a href="BasicProjectTypes.scala.html#8020" title="object sbt.ManagedStyle">ManagedStyle</a>.<a href="BasicProjectTypes.scala.html#51587" title="=&gt; sbt.ManagedStyle.Value">Maven</a>
}
<span class="keyword">class</span> <a title="class ProcessorProject extends sbt.DefaultProject with ScalaObject" id="12021">ProcessorProject</a>(<a title="sbt.ProjectInfo" id="54942">info</a>: <a href="ProjectInfo.scala.html#8385" title="sbt.ProjectInfo">ProjectInfo</a>) <span class="keyword">extends</span> <a href="DefaultProject.scala.html#10122" title="sbt.DefaultProject">DefaultProject</a>(<a href="#54942" title="sbt.ProjectInfo">info</a>)
{
	<span class="comment">/* Fix the version used to build to the version currently running sbt. */</span>
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="54936">buildScalaVersion</a> = <a href="Project.scala.html#50912" title="=&gt; ProcessorProject.this.Property[String]">defScalaVersion</a>.<a href="Environment.scala.html#52128" title="=&gt; String">value</a>
	<span class="comment">/* Add sbt to the classpath */</span>
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; sbt.PathFinder" id="54937">unmanagedClasspath</a> = <span class="keyword">super</span>.<a href="BasicProjectTypes.scala.html#51509" title="=&gt; sbt.PathFinder">unmanagedClasspath</a> <a href="Path.scala.html#49326" title="(sbt.PathFinder)sbt.PathFinder">+++</a> <a href="#54942" title="sbt.ProjectInfo">info</a>.<a href="ProjectInfo.scala.html#52167" title="=&gt; sbt.PathFinder">sbtClasspath</a>
	<span class="comment">/* Some setup to make publishing quicker to configure. */</span>
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="54938">useMavenConfigurations</a> = <span title="Boolean(true)" class="keyword">true</span>
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; sbt.ManagedStyle.Value" id="54939">managedStyle</a> = <a href="BasicProjectTypes.scala.html#8020" title="object sbt.ManagedStyle">ManagedStyle</a>.<a href="BasicProjectTypes.scala.html#51587" title="=&gt; sbt.ManagedStyle.Value">Maven</a>
}
        </pre>
    </body>
</html>