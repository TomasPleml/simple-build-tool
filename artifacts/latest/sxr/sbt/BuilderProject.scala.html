<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>sbt/BuilderProject.scala</title>
        <script type="text/javascript" src="../jquery-all.js"></script>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* sbt -- Simple Build Tool
 * Copyright 2008, 2009  Mark Harrah, David MacIver
 */</span>
<span class="keyword">package</span> sbt

<span class="keyword">import</span> BasicProjectPaths._
<span class="keyword">import</span> scala.collection.{immutable, Map}
<span class="keyword">import</span> immutable.Map.{empty =&gt; emptyMap}

<span class="keyword">sealed</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class InternalProject extends java.lang.Object with sbt.Project with ScalaObject" id="9615">InternalProject</a> <span class="keyword">extends</span> <a href="Project.scala.html#7665" title="sbt.Project">Project</a>
{
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; sbt.Level.Value" id="34197">defaultLoggingLevel</a> = <a href="Logger.scala.html#8281" title="object sbt.Level">Level</a>.<a href="Logger.scala.html#28796" title="=&gt; sbt.Level.Value">Warn</a>
	<span class="keyword">override</span> <span class="keyword">final</span> <span class="keyword">def</span> <a title="=&gt; object None" id="34198">historyPath</a> = <span title="object None">None</span>
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; scala.collection.Map[String,InternalProject.this.ManagedTask]" id="34199">tasks</a>: <span title="scala.collection.Map[String,InternalProject.this.ManagedTask]">Map</span>[String, ManagedTask] = <span title="scala.collection.immutable.Map[String,Nothing]">emptyMap</span>
	<span class="keyword">override</span> <span class="keyword">final</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="34200">disableCrossPaths</a> = <span title="Boolean(false)" class="keyword">false</span>
	<span class="keyword">override</span> <span class="keyword">final</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="34201">shouldCheckOutputDirectories</a> = <span title="Boolean(false)" class="keyword">false</span>
}
<span class="keyword">sealed</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class BasicBuilderProject extends sbt.InternalProject with ScalaObject" id="8616">BasicBuilderProject</a> <span class="keyword">extends</span> <a href="#9615" title="sbt.InternalProject">InternalProject</a>
{
	<span class="keyword">def</span> <a title="=&gt; sbt.NameFilter" id="34242">sourceFilter</a> = <a href="Project.scala.html#14855" title="implicit sbt.Project.filter : (String)sbt.NameFilter" class="string">&quot;*.scala&quot;</a> <a href="NameFilter.scala.html#18373" title="(sbt.NameFilter)sbt.NameFilter">|</a> <a href="Project.scala.html#14855" title="implicit sbt.Project.filter : (String)sbt.NameFilter" class="string">&quot;*.java&quot;</a>
	<span class="keyword">def</span> <a title="=&gt; sbt.NameFilter" id="34243">jarFilter</a>: <a href="NameFilter.scala.html#8316" title="sbt.NameFilter">NameFilter</a> = <a href="Project.scala.html#14855" title="implicit sbt.Project.filter : (String)sbt.NameFilter" class="string">&quot;*.jar&quot;</a>
	<span class="keyword">def</span> <a title="=&gt; sbt.Path" id="34244">compilePath</a> = <a href="Project.scala.html#14871" title="=&gt; sbt.Path">outputPath</a> <a href="Path.scala.html#18070" title="(String)sbt.Path">/</a> <a href="ProjectPaths.scala.html#34165" title="=&gt; java.lang.String">DefaultMainCompileDirectoryName</a>
	<span class="keyword">def</span> <a title="=&gt; sbt.Path" id="34245">mainResourcesPath</a> = <a href="Project.scala.html#14854" title="implicit sbt.Project.path : (String)sbt.Path">path</a>(<a href="ProjectPaths.scala.html#34189" title="=&gt; java.lang.String">DefaultResourcesDirectoryName</a>)
	<span class="keyword">def</span> <a title="=&gt; sbt.Path" id="34246">dependencyPath</a> = <a href="Project.scala.html#14854" title="implicit sbt.Project.path : (String)sbt.Path">path</a>(<a href="ProjectPaths.scala.html#34195" title="=&gt; java.lang.String">DefaultDependencyDirectoryName</a>)
	<span class="keyword">def</span> <a title="=&gt; sbt.PathFinder" id="34247">libraries</a> = <a href="Project.scala.html#14919" title="(sbt.PathFinder,sbt.FileFilter)sbt.PathFinder">descendents</a>(<a href="#34246" title="=&gt; sbt.Path">dependencyPath</a>, <a href="#34243" title="=&gt; sbt.NameFilter">jarFilter</a>)
	<span class="keyword">override</span> <span class="keyword">final</span> <span class="keyword">def</span> <a title="=&gt; object Nil" id="34248">dependencies</a> = <span title="object Nil">Nil</span>

	<span class="keyword">protected</span> <span class="keyword">final</span> <span class="keyword">def</span> <a title="(String*)Unit" id="34249">logInfo</a>(<a title="String*" id="34292">messages</a>: <a title="String*" id="2689">String</a>*): <a title="Unit" id="2114">Unit</a> = <a href="#34250" title="(=&gt; Unit)Unit">atInfo</a> { <a href="#34292" title="String*">messages</a>.<a title="((String) =&gt; Unit)Unit" id="16281">foreach</a>(<a title="String" id="34295">message</a> =&gt; <a href="Project.scala.html#14821" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#19734" title="(=&gt; String)Unit">info</a>(<a href="#34295" title="String">message</a>)) }
	<span class="keyword">protected</span> <span class="keyword">final</span> <span class="keyword">def</span> <a title="(=&gt; Unit)Unit" id="34250">atInfo</a>(<a title="=&gt; Unit" id="34293">action</a>: =&gt; Unit)
	{
		<span class="keyword">val</span> <a title="sbt.Level.Value" id="34297">oldLevel</a> = <a href="Project.scala.html#14821" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#19724" title="=&gt; sbt.Level.Value">getLevel</a>
		<a href="Project.scala.html#14821" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#19725" title="(sbt.Level.Value)Unit">setLevel</a>(<a href="Logger.scala.html#8281" title="object sbt.Level">Level</a>.<a href="Logger.scala.html#28794" title="=&gt; sbt.Level.Value">Info</a>)
		<a href="#34293" title="=&gt; Unit">action</a>
		<a href="Project.scala.html#14821" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#19725" title="(sbt.Level.Value)Unit">setLevel</a>(<a href="#34297" title="sbt.Level.Value">oldLevel</a>)
	}

	<span class="keyword">def</span> <a title="=&gt; sbt.PathFinder" id="34251">projectClasspath</a> = <a href="#34244" title="=&gt; sbt.Path">compilePath</a> <a href="Path.scala.html#16180" title="(sbt.PathFinder)sbt.PathFinder">+++</a> <a href="#34247" title="=&gt; sbt.PathFinder">libraries</a> <a href="Path.scala.html#16180" title="(sbt.PathFinder)sbt.PathFinder">+++</a> <a href="#34252" title="=&gt; sbt.PathFinder">sbtJars</a>
	<span class="keyword">def</span> <a title="=&gt; sbt.PathFinder" id="34252">sbtJars</a> = <a href="Project.scala.html#14826" title="=&gt; sbt.ProjectInfo">info</a>.<a href="ProjectInfo.scala.html#19194" title="=&gt; sbt.PathFinder">sbtClasspath</a>

	<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class BuilderCompileConfiguration extends sbt.AbstractCompileConfiguration with ScalaObject" id="34253">BuilderCompileConfiguration</a> <span class="keyword">extends</span> <a href="Conditional.scala.html#10458" title="sbt.AbstractCompileConfiguration">AbstractCompileConfiguration</a>
	{
		<span class="keyword">def</span> <a title="=&gt; sbt.Path" id="34306">projectPath</a> = <a href="Project.scala.html#14826" title="=&gt; sbt.ProjectInfo">info</a>.<a href="ProjectInfo.scala.html#19183" title="=&gt; sbt.Path">projectPath</a>
		<span class="keyword">def</span> <a title="=&gt; sbt.Logger" id="34307">log</a> = <a href="#8616" title="BasicBuilderProject.this.type">BasicBuilderProject</a>.<span class="keyword">this</span>.<a href="Project.scala.html#14821" title="=&gt; sbt.Logger">log</a>
		<span class="keyword">def</span> <a title="=&gt; List[java.lang.String]" id="34308">options</a> = <a href="CompileOptions.scala.html#9421" title="object sbt.CompileOptions">CompileOptions</a>.<a href="CompileOptions.scala.html#26041" title="=&gt; java.lang.String">Deprecation</a> <a href="#34322" title="(java.lang.String)List[java.lang.String]">::</a> <a href="CompileOptions.scala.html#9421" title="object sbt.CompileOptions">CompileOptions</a>.<a href="CompileOptions.scala.html#26043" title="=&gt; java.lang.String">Unchecked</a> <a href="#34323" title="(java.lang.String)List[java.lang.String]">::</a> <span title="object Nil">Nil</span>
		<span class="keyword">def</span> <a title="=&gt; object Nil" id="34309">javaOptions</a> = <span title="object Nil">Nil</span>
		<span class="keyword">def</span> <a title="=&gt; Int" id="34310">maxErrors</a> = <a href="ScalaProject.scala.html#11272" title="object sbt.ScalaProject">ScalaProject</a>.<a href="ScalaProject.scala.html#26240" title="=&gt; Int">DefaultMaximumCompileErrors</a>
		<span class="keyword">def</span> <a title="=&gt; sbt.CompileOrder.Value" id="34311">compileOrder</a> = <a href="Compile.scala.html#6913" title="object sbt.CompileOrder">CompileOrder</a>.<a href="Compile.scala.html#29830" title="=&gt; sbt.CompileOrder.Value">Mixed</a>
	}
	<span class="keyword">def</span> <a title="=&gt; BasicBuilderProject.this.BuilderCompileConfiguration" id="34254">definitionCompileConfiguration</a> =
		<a title="template $anon extends BasicBuilderProject.this.BuilderCompileConfiguration" id="34340" class="keyword">new</a> <a href="#34253" title="BasicBuilderProject.this.BuilderCompileConfiguration">BuilderCompileConfiguration</a>
		{
			<span class="keyword">def</span> <a title="=&gt; java.lang.String" id="34342">label</a> = <span title="java.lang.String(&quot;builder&quot;)" class="string">&quot;builder&quot;</span>
			<span class="keyword">def</span> <a title="=&gt; sbt.PathFinder" id="34343">sourceRoots</a> = <a href="Project.scala.html#14826" title="=&gt; sbt.ProjectInfo">info</a>.<a href="ProjectInfo.scala.html#19183" title="=&gt; sbt.Path">projectPath</a> <a href="Path.scala.html#16180" title="(sbt.PathFinder)sbt.PathFinder">+++</a> <a href="Project.scala.html#14854" title="implicit sbt.Project.path : (String)sbt.Path">path</a>(<a href="ProjectPaths.scala.html#34163" title="=&gt; java.lang.String">DefaultSourceDirectoryName</a>)
			<span class="keyword">def</span> <a title="=&gt; sbt.PathFinder" id="34344">sources</a> = (<a href="Project.scala.html#14826" title="=&gt; sbt.ProjectInfo">info</a>.<a href="ProjectInfo.scala.html#19183" title="=&gt; sbt.Path">projectPath</a> <a href="Path.scala.html#16184" title="(sbt.FileFilter)sbt.PathFinder">*</a> <a href="#34242" title="=&gt; sbt.NameFilter">sourceFilter</a>) <a href="Path.scala.html#16180" title="(sbt.PathFinder)sbt.PathFinder">+++</a> <a href="Project.scala.html#14854" title="implicit sbt.Project.path : (String)sbt.Path">path</a>(<a href="ProjectPaths.scala.html#34163" title="=&gt; java.lang.String">DefaultSourceDirectoryName</a>).<a href="Path.scala.html#16188" title="(sbt.FileFilter,sbt.FileFilter)sbt.PathFinder">descendentsExcept</a>(<a href="#34242" title="=&gt; sbt.NameFilter">sourceFilter</a>, <a href="Project.scala.html#14918" title="=&gt; sbt.FileFilter">defaultExcludes</a>)
			<span class="keyword">def</span> <a title="=&gt; sbt.Path" id="34345">outputDirectory</a> = <a href="#34244" title="=&gt; sbt.Path">compilePath</a>
			<span class="keyword">def</span> <a title="=&gt; sbt.PathFinder" id="34346">classpath</a> = <a href="#34251" title="=&gt; sbt.PathFinder">projectClasspath</a>
			<span class="keyword">def</span> <a title="=&gt; sbt.Path" id="34347">analysisPath</a> = <a href="Project.scala.html#14871" title="=&gt; sbt.Path">outputPath</a> <a href="Path.scala.html#18070" title="(String)sbt.Path">/</a> <a href="ProjectPaths.scala.html#34175" title="=&gt; java.lang.String">DefaultMainAnalysisDirectoryName</a>
		}

	<span class="keyword">def</span> <a title="=&gt; String" id="34255">tpe</a>: <span title="String">String</span>

		<span class="keyword">import</span> xsbt.ScalaInstance

	<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="BasicBuilderProject.this.BuilderCompileConditional" id="34258">definitionCompileConditional</a> = <span title="BasicBuilderProject.this.BuilderCompileConditional" class="keyword">new</span> <a href="#34259" title="BasicBuilderProject.this.BuilderCompileConditional">BuilderCompileConditional</a>(<a href="#34254" title="=&gt; BasicBuilderProject.this.BuilderCompileConfiguration">definitionCompileConfiguration</a>, <a href="Project.scala.html#14906" title="=&gt; xsbt.AnalyzingCompiler">buildCompiler</a>, <a href="#34255" title="=&gt; String">tpe</a>)
	<span class="keyword">final</span> <span class="keyword">class</span> <a title="class BuilderCompileConditional extends sbt.AbstractCompileConditional with ScalaObject" id="34259">BuilderCompileConditional</a>(<a title="BasicBuilderProject.this.BuilderCompileConfiguration" id="34383">config</a>: <a href="#34253" title="BasicBuilderProject.this.BuilderCompileConfiguration">BuilderCompileConfiguration</a>, <a title="xsbt.AnalyzingCompiler" id="34384">compiler</a>: xsbt.<a href="../AnalyzingCompiler.scala.html#12509" title="xsbt.AnalyzingCompiler">AnalyzingCompiler</a>, <a title="String" id="34385">tpe</a>: <span title="String">String</span>) <span class="keyword">extends</span> <a href="Conditional.scala.html#8970" title="sbt.AbstractCompileConditional">AbstractCompileConditional</a>(<a href="#34383" title="BasicBuilderProject.this.BuilderCompileConfiguration">config</a>, <a href="#34384" title="xsbt.AnalyzingCompiler">compiler</a>)
	{
		<span class="keyword">type</span> <a title="sbt.BuilderCompileAnalysis" id="34379">AnalysisType</a> = <a href="Analysis.scala.html#7467" title="sbt.BuilderCompileAnalysis">BuilderCompileAnalysis</a>
		<span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(sbt.Path,sbt.Path,sbt.Logger)sbt.BuilderCompileAnalysis" id="34380">constructAnalysis</a>(<a title="sbt.Path" id="34406">analysisPath</a>: <a href="Path.scala.html#10200" title="sbt.Path">Path</a>, <a title="sbt.Path" id="34407">projectPath</a>: <a href="Path.scala.html#10200" title="sbt.Path">Path</a>, <a title="sbt.Logger" id="34408">log</a>: <a href="Logger.scala.html#11865" title="sbt.Logger">Logger</a>) =
			<span title="sbt.BuilderCompileAnalysis" class="keyword">new</span> <a href="Analysis.scala.html#7467" title="sbt.BuilderCompileAnalysis">BuilderCompileAnalysis</a>(<a href="#34406" title="sbt.Path">analysisPath</a>, <a href="#34407" title="sbt.Path">projectPath</a>, <a href="#34408" title="sbt.Logger">log</a>)
		<span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(BuilderCompileConditional.this.ConditionalAnalysis)Option[String]" id="34381">execute</a>(<a title="BuilderCompileConditional.this.ConditionalAnalysis" id="34416">cAnalysis</a>: <a href="Conditional.scala.html#27026" title="BuilderCompileConditional.this.ConditionalAnalysis">ConditionalAnalysis</a>): <a title="Option[String]" id="897">Option</a>[String] =
		{
			<span title="Option[String]" class="keyword">if</span>(<a href="#34416" title="BuilderCompileConditional.this.ConditionalAnalysis">cAnalysis</a>.<a href="Conditional.scala.html#34417" title="=&gt; Iterable[sbt.Path]">dirtySources</a>.<a title="=&gt; Boolean" id="16315">isEmpty</a>)
				<span title="object None">None</span>
			<span class="keyword">else</span>
			{
				<a href="#34260" title="()Unit">definitionChanged</a>()
				<a href="#34249" title="(String*)Unit">logInfo</a>(
					<span title="java.lang.String(&quot;Recompiling &quot;)" class="string">&quot;Recompiling &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#34385" title="String">tpe</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;...&quot;)" class="string">&quot;...&quot;</span>,
					 <span title="java.lang.String(&quot;\011&quot;)" class="string">&quot;\t&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#34416" title="BuilderCompileConditional.this.ConditionalAnalysis">cAnalysis</a>.<a title="()java.lang.String" id="5730">toString</a>)
				<span class="keyword">super</span>.<a href="Conditional.scala.html#27066" title="(BuilderCompileConditional.this.ConditionalAnalysis)Option[String]">execute</a>(<a href="#34416" title="BuilderCompileConditional.this.ConditionalAnalysis">cAnalysis</a>)
			}
		}
		<span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; sbt.AnalysisCallback" id="34382">analysisCallback</a>: <a href="AnalysisCallback.scala.html#9210" title="sbt.AnalysisCallback">AnalysisCallback</a> =
			<a title="template $anon extends sbt.BasicAnalysisCallback[BuilderCompileConditional.this.AnalysisType]" id="34549" class="keyword">new</a> <a href="AnalysisCallback.scala.html#7497" title="sbt.BasicAnalysisCallback[BuilderCompileConditional.this.AnalysisType]">BasicAnalysisCallback</a>(<a href="Project.scala.html#14826" title="=&gt; sbt.ProjectInfo">info</a>.<a href="ProjectInfo.scala.html#19183" title="=&gt; sbt.Path">projectPath</a>, <a href="Conditional.scala.html#27010" title="=&gt; BuilderCompileConditional.this.AnalysisType">analysis</a>)
			{
				<span class="keyword">def</span> <a title="=&gt; List[java.lang.String]" id="34571">superclassNames</a> = <a title="(java.lang.String*)List[java.lang.String]" id="496">List</a>(<a href="Project.scala.html#7666" title="object sbt.Project">Project</a>.<a href="Project.scala.html#16491" title="=&gt; java.lang.String">ProjectClassName</a>)
				<span class="keyword">def</span> <a title="=&gt; object Nil" id="34572">annotationNames</a> = <span title="object Nil">Nil</span>
				<span class="keyword">def</span> <a title="(sbt.Path,String)Unit" id="34573">foundApplication</a>(<a title="sbt.Path" id="34585">sourcePath</a>: <a href="Path.scala.html#10200" title="sbt.Path">Path</a>, <a title="String" id="34586">className</a>: <span title="String">String</span>)  <span title="Unit">{</span>}
				<span class="keyword">def</span> <a title="(sbt.Path,String,String,Boolean)Unit" id="34574">foundAnnotated</a>(<a title="sbt.Path" id="34587">sourcePath</a>: <a href="Path.scala.html#10200" title="sbt.Path">Path</a>, <a title="String" id="34588">subclassName</a>: <span title="String">String</span>, <a title="String" id="34589">annotationName</a>: <span title="String">String</span>, <a title="Boolean" id="34590">isModule</a>: <span title="Boolean">Boolean</span>) <span title="Unit">{</span>}
				<span class="keyword">def</span> <a title="(sbt.Path,String,String,Boolean)Unit" id="34575">foundSubclass</a>(<a title="sbt.Path" id="34591">sourcePath</a>: <a href="Path.scala.html#10200" title="sbt.Path">Path</a>, <a title="String" id="34592">subclassName</a>: <span title="String">String</span>, <a title="String" id="34593">superclassName</a>: <span title="String">String</span>, <a title="Boolean" id="34594">isModule</a>: <span title="Boolean">Boolean</span>)
				{
					<span title="Unit" class="keyword">if</span>(<a href="#34593" title="String">superclassName</a> <a title="(AnyRef)Boolean" id="3457">==</a> <a href="Project.scala.html#7666" title="object sbt.Project">Project</a>.<a href="Project.scala.html#16491" title="=&gt; java.lang.String">ProjectClassName</a> <a title="(Boolean)Boolean" id="2699">&amp;&amp;</a> <span title="=&gt; Boolean">!</span><a href="#34594" title="Boolean">isModule</a>)
					{
						<a href="Conditional.scala.html#27044" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#19733" title="(=&gt; String)Unit">debug</a>(<span title="java.lang.String(&quot;Found &quot;)" class="string">&quot;Found &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#34385" title="String">tpe</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#34592" title="String">subclassName</a>)
						<a href="AnalysisCallback.scala.html#34554" title="=&gt; BuilderCompileConditional.this.AnalysisType">analysis</a>.<a href="Analysis.scala.html#34404" title="(sbt.Path,String)Unit">addProjectDefinition</a>(<a href="#34591" title="sbt.Path">sourcePath</a>, <a href="#34592" title="String">subclassName</a>)
					}
				}
			}
	}
	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="()Unit" id="34260">definitionChanged</a>() <span title="Unit">{</span>}
	<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="BasicBuilderProject.this.Task" id="34262">compile</a> = <a href="#34263" title="=&gt; BasicBuilderProject.this.Task">compileTask</a>
	<span class="keyword">def</span> <a title="=&gt; BasicBuilderProject.this.Task" id="34263">compileTask</a> = <a href="TaskManager.scala.html#14806" title="(=&gt; Option[String])BasicBuilderProject.this.Task">task</a> { <a href="#34257" title="=&gt; BasicBuilderProject.this.BuilderCompileConditional">definitionCompileConditional</a>.<a href="Conditional.scala.html#27027" title="=&gt; Option[String]">run</a> }

	<span class="keyword">def</span> <a title="=&gt; Either[String,Option[String]]" id="34264">projectDefinition</a>: <a title="Either[String,Option[String]]" id="336">Either</a>[String, Option[String]] =
	{
		<a href="#34257" title="=&gt; BasicBuilderProject.this.BuilderCompileConditional">definitionCompileConditional</a>.<a href="Conditional.scala.html#27010" title="=&gt; BasicBuilderProject.this.definitionCompileConditional.AnalysisType">analysis</a>.<a href="Analysis.scala.html#34403" title="=&gt; Iterable[String]">allProjects</a>.<span title="=&gt; List[String]">toList</span> <span title="Either[String,Option[String]]" class="keyword">match</span>
		{
			<span title="Right[Nothing,object None]" class="keyword">case</span> <span title="object Nil">Nil</span> =&gt;
				<a href="Project.scala.html#14821" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#19733" title="(=&gt; String)Unit">debug</a>(<span title="java.lang.String(&quot;No &quot;)" class="string">&quot;No &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#34255" title="=&gt; String">tpe</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;s detected using default project.&quot;)" class="string">&quot;s detected using default project.&quot;</span>)
				<span title="(object None)Right[Nothing,object None]">Right</span>(<span title="object None">None</span>)
			<span title="Right[Nothing,Some[String]]" class="keyword">case</span> <a title="String" id="34865">singleDefinition</a> :: <span title="object Nil">Nil</span> =&gt; <span title="(Some[String])Right[Nothing,Some[String]]">Right</span>(<span title="(String)Some[String]">Some</span>(<a href="#34865" title="String">singleDefinition</a>))
			<span title="Left[String,Nothing]" class="keyword">case</span> <a title="List[String]" id="34869">multipleDefinitions</a> =&gt;<a title="(String)Left[String,Nothing]" id="1171">Left</a>(<a href="#34869" title="List[String]">multipleDefinitions</a>.<a title="(String,String,String)String" id="16307">mkString</a>(<span title="java.lang.String(&quot;Multiple &quot;)" class="string">&quot;Multiple &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#34255" title="=&gt; String">tpe</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;s detected: \012\011&quot;)" class="string">&quot;s detected: \n\t&quot;</span>,<span title="java.lang.String(&quot;\012\011&quot;)" class="string">&quot;\n\t&quot;</span>,<span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span>))
		}
	}
	<span class="keyword">override</span> <span class="keyword">final</span> <span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.Map[String,Nothing]" id="34265">methods</a> = <span title="scala.collection.immutable.Map[String,Nothing]">emptyMap</span>
}
<span class="comment">/** The project definition used to build project definitions. */</span>
<span class="keyword">final</span> <span class="keyword">class</span> <a title="class BuilderProject extends sbt.BasicBuilderProject with sbt.ReflectiveTasks with ScalaObject" id="10275">BuilderProject</a>(<span class="keyword">val</span> <a title="sbt.ProjectInfo" id="34922">info</a>: <a href="ProjectInfo.scala.html#6756" title="sbt.ProjectInfo">ProjectInfo</a>, <span class="keyword">val</span> <a title="sbt.Path" id="34923">pluginPath</a>: <a href="Path.scala.html#10200" title="sbt.Path">Path</a>, <a title="sbt.Logger" id="34924">rawLogger</a>: <a href="Logger.scala.html#11865" title="sbt.Logger">Logger</a>) <span class="keyword">extends</span> <a href="#8616" title="sbt.BasicBuilderProject">BasicBuilderProject</a> <span class="keyword">with</span> <a href="BasicProjectTypes.scala.html#11166" title="sbt.ReflectiveTasks">ReflectiveTasks</a>
{
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="34910">name</a> = <span title="java.lang.String(&quot;Project Definition Builder&quot;)" class="string">&quot;Project Definition Builder&quot;</span>
	<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Option[BuilderProject.this.PluginBuilderProject]" id="34912">pluginProject</a> =
	{
		<span title="Option[BuilderProject.this.PluginBuilderProject]" class="keyword">if</span>(<a href="#34923" title="=&gt; sbt.Path">pluginPath</a>.<a href="Path.scala.html#18071" title="=&gt; Boolean">exists</a>)
			<span title="(BuilderProject.this.PluginBuilderProject)Some[BuilderProject.this.PluginBuilderProject]">Some</span>(<span title="BuilderProject.this.PluginBuilderProject" class="keyword">new</span> <a href="#34917" title="BuilderProject.this.PluginBuilderProject">PluginBuilderProject</a>(<a href="ProjectInfo.scala.html#25970" title="(java.io.File,Iterable[sbt.Project],Option[sbt.Project])(sbt.Logger,xsbti.AppProvider,Option[String])sbt.ProjectInfo">ProjectInfo</a>(<a href="#34923" title="=&gt; sbt.Path">pluginPath</a>.<a href="Path.scala.html#18076" title="=&gt; java.io.File">asFile</a>, <span title="object Nil">Nil</span>, <span title="object None">None</span>)(<a href="#34924" title="sbt.Logger">rawLogger</a>, <a href="#34922" title="=&gt; sbt.ProjectInfo">info</a>.<a href="ProjectInfo.scala.html#19174" title="=&gt; xsbti.AppProvider">app</a>, <a href="#34922" title="=&gt; sbt.ProjectInfo">info</a>.<a href="ProjectInfo.scala.html#19176" title="=&gt; Option[String]">buildScalaVersion</a>)))
		<span class="keyword">else</span>
			<span title="object None">None</span>
	}
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; sbt.PathFinder" id="34913">projectClasspath</a> = <span class="keyword">super</span>.<a href="#34251" title="=&gt; sbt.PathFinder">projectClasspath</a> <a href="Path.scala.html#16180" title="(sbt.PathFinder)sbt.PathFinder">+++</a>
		<a href="#34911" title="=&gt; Option[BuilderProject.this.PluginBuilderProject]">pluginProject</a>.<span title="((BuilderProject.this.PluginBuilderProject) =&gt; sbt.PathFinder)Option[sbt.PathFinder]">map</span>(<a href="#34992" title="BuilderProject.this.PluginBuilderProject">_</a>.<a href="#34957" title="=&gt; sbt.PathFinder">pluginClasspath</a>).<a title="(=&gt; sbt.PathFinder)sbt.PathFinder" id="19232">getOrElse</a>(<a href="Path.scala.html#10201" title="object sbt.Path">Path</a>.<a href="Path.scala.html#15569" title="=&gt; sbt.PathFinder">emptyPathFinder</a>)
	<span class="keyword">def</span> <a title="=&gt; java.lang.String" id="34914">tpe</a> = <span title="java.lang.String(&quot;project definition&quot;)" class="string">&quot;project definition&quot;</span>

	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; BuilderProject.this.Task" id="34915">compileTask</a> = <span class="keyword">super</span>.<a href="#34263" title="=&gt; BuilderProject.this.Task">compileTask</a> <a href="TaskManager.scala.html#19289" title="(BuilderProject.this.ManagedTask*)BuilderProject.this.Task">dependsOn</a>(<a href="#34911" title="=&gt; Option[BuilderProject.this.PluginBuilderProject]">pluginProject</a>.<span title="((BuilderProject.this.PluginBuilderProject) =&gt; BuilderProject.this.PluginBuilderProject#Task)Option[BuilderProject.this.PluginBuilderProject#Task]">map</span>(<a href="#35003" title="BuilderProject.this.PluginBuilderProject">_</a>.<a href="#34943" title="=&gt; x$4.Task">sync</a>).<span title="=&gt; List[BuilderProject.this.PluginBuilderProject#Task]">toList</span> : _*)
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.Map[String,BuilderProject.this.ManagedTask]" id="34916">tasks</a> = immutable.<span title="((String, Nothing)*)scala.collection.immutable.Map[String,Nothing]">Map</span>() <span title="(Iterable[(String, BuilderProject.this.ManagedTask)])scala.collection.immutable.Map[String,BuilderProject.this.ManagedTask]">++</span> <span class="keyword">super</span>[ReflectiveTasks].<a href="BasicProjectTypes.scala.html#18949" title="=&gt; scala.collection.Map[String,BuilderProject.this.ManagedTask]">tasks</a> <span title="(Iterable[(String, BuilderProject.this.ManagedTask)])scala.collection.immutable.Map[String,BuilderProject.this.ManagedTask]">++</span> <a href="#34911" title="=&gt; Option[BuilderProject.this.PluginBuilderProject]">pluginProject</a>.<span title="=&gt; List[BuilderProject.this.PluginBuilderProject]">toList</span>.<a title="((BuilderProject.this.PluginBuilderProject) =&gt; Iterable[(java.lang.String, sbt.Project#Task)])List[(java.lang.String, sbt.Project#Task)]" id="17984">flatMap</a> { <a href="#35268" title="BuilderProject.this.PluginBuilderProject">_</a>.<a href="#34940" title="=&gt; scala.collection.Map[String,sbt.Project#Task]">tasks</a>.<a title="(((String, sbt.Project#Task)) =&gt; (java.lang.String, sbt.Project#Task))Iterable[(java.lang.String, sbt.Project#Task)]" id="16271">map</a> <a href="#35272" title="(java.lang.String, sbt.Project#Task)">{</a> <span title="(java.lang.String, sbt.Project#Task)" class="keyword">case</span> (<a title="String" id="35273">k</a>,<a title="sbt.Project#Task" id="35274">v</a>) =&gt; <a title="(java.lang.String,sbt.Project#Task)(java.lang.String, sbt.Project#Task)" id="1327">(</a><a href="#35273" title="String">k</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;-plugins&quot;)" class="string">&quot;-plugins&quot;</span>, <a href="#35274" title="sbt.Project#Task">v</a>) } }

	<span class="keyword">final</span> <span class="keyword">class</span> <a title="class PluginBuilderProject extends sbt.BasicBuilderProject with sbt.ReflectiveTasks with ScalaObject" id="34917">PluginBuilderProject</a>(<span class="keyword">val</span> <a title="sbt.ProjectInfo" id="34962">info</a>: <a href="ProjectInfo.scala.html#6756" title="sbt.ProjectInfo">ProjectInfo</a>) <span class="keyword">extends</span> <a href="#8616" title="sbt.BasicBuilderProject">BasicBuilderProject</a> <span class="keyword">with</span> <a href="BasicProjectTypes.scala.html#11166" title="sbt.ReflectiveTasks">ReflectiveTasks</a>
	{
		<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="34932">name</a> = <span title="java.lang.String(&quot;Plugin Builder&quot;)" class="string">&quot;Plugin Builder&quot;</span>
	<span class="comment">// don't include Java sources because BND includes Java sources in its jar (#85)</span>
		<span class="keyword">def</span> <a title="=&gt; sbt.NameFilter" id="34933">pluginSourceFilter</a>: <a href="NameFilter.scala.html#8316" title="sbt.NameFilter">NameFilter</a> = <a href="Project.scala.html#14855" title="implicit sbt.Project.filter : (String)sbt.NameFilter" class="string">&quot;*.scala&quot;</a>
		<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="PluginBuilderProject.this.Property[Boolean]" id="34935">pluginUptodate</a> = <a href="Environment.scala.html#14998" title="(=&gt; Boolean)(implicit scala.reflect.Manifest[Boolean],sbt.Format[Boolean])PluginBuilderProject.this.Property[Boolean]">propertyOptional</a>[<span title="Boolean">Boolean</span>](<span title="Boolean(false)" class="keyword">false</span>)
		<span class="keyword">def</span> <a title="=&gt; java.lang.String" id="34936">tpe</a> = <span title="java.lang.String(&quot;plugin definition&quot;)" class="string">&quot;plugin definition&quot;</span>
		<span class="keyword">def</span> <a title="=&gt; sbt.Path" id="34937">managedSourcePath</a> = <a href="Project.scala.html#14854" title="implicit sbt.Project.path : (String)sbt.Path">path</a>(<a href="BasicProjectTypes.scala.html#7348" title="object sbt.BasicDependencyPaths">BasicDependencyPaths</a>.<a href="BasicProjectTypes.scala.html#22989" title="=&gt; java.lang.String">DefaultManagedSourceDirectoryName</a>)
		<span class="keyword">def</span> <a title="=&gt; sbt.Path" id="34938">managedDependencyPath</a> = <a href="Project.scala.html#14910" title="(sbt.Path)sbt.Path">crossPath</a>(<a href="BasicProjectTypes.scala.html#7348" title="object sbt.BasicDependencyPaths">BasicDependencyPaths</a>.<a href="Project.scala.html#14854" title="implicit sbt.Project.path : (String)sbt.Path">DefaultManagedDirectoryName</a>)
		<span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="()Unit" id="34939">definitionChanged</a>() { <a href="#34941" title="(Boolean)Unit">setUptodate</a>(<span title="Boolean(false)" class="keyword">false</span>) }
		<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; scala.collection.Map[String,PluginBuilderProject.this.ManagedTask]" id="34940">tasks</a>: <span title="scala.collection.Map[String,PluginBuilderProject.this.ManagedTask]">Map</span>[String, ManagedTask] = <span class="keyword">super</span>[ReflectiveTasks].<a href="BasicProjectTypes.scala.html#18949" title="=&gt; scala.collection.Map[String,PluginBuilderProject.this.ManagedTask]">tasks</a>
		<span class="keyword">def</span> <a title="(Boolean)Unit" id="34941">setUptodate</a>(<a title="Boolean" id="35044">flag</a>: <span title="Boolean">Boolean</span>)
		{
			<a href="#34934" title="=&gt; PluginBuilderProject.this.Property[Boolean]">pluginUptodate</a>() = <a href="#35044" title="Boolean">flag</a>
			<a href="Environment.scala.html#15012" title="()Option[String]">saveEnvironment</a>()
		}

		<span class="keyword">private</span> <span class="keyword">def</span> <a title="(=&gt; Option[String])PluginBuilderProject.this.Task" id="34942">pluginTask</a>(<a title="=&gt; Option[String]" id="35004">f</a>: =&gt; Option[String]) = <a href="TaskManager.scala.html#14806" title="(=&gt; Option[String])PluginBuilderProject.this.Task">task</a> { <span title="Option[String]" class="keyword">if</span>(<span title="=&gt; Boolean">!</span><a href="#34934" title="=&gt; PluginBuilderProject.this.Property[Boolean]">pluginUptodate</a>.<a href="Environment.scala.html#19155" title="=&gt; Boolean">value</a>) <a href="#35004" title="=&gt; Option[String]">f</a> <span class="keyword">else</span> <span title="object None">None</span> }

		<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="PluginBuilderProject.this.Task" id="34944">sync</a> = <a href="#34942" title="(=&gt; Option[String])PluginBuilderProject.this.Task">pluginTask</a>(<a href="#34952" title="()Option[String]">doSync</a>()) <a href="TaskManager.scala.html#19289" title="(PluginBuilderProject.this.ManagedTask*)PluginBuilderProject.this.Task">dependsOn</a>(<a href="#34945" title="=&gt; PluginBuilderProject.this.Task">extract</a>)
		<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="PluginBuilderProject.this.Task" id="34946">extract</a> = <a href="#34942" title="(=&gt; Option[String])PluginBuilderProject.this.Task">pluginTask</a>(<a href="#34953" title="()Option[String]">extractSources</a>()) <a href="TaskManager.scala.html#19289" title="(PluginBuilderProject.this.ManagedTask*)PluginBuilderProject.this.Task">dependsOn</a>(<a href="#34947" title="=&gt; PluginBuilderProject.this.Task">autoUpdate</a>)
		<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="PluginBuilderProject.this.Task" id="34948">autoUpdate</a> = <a href="#34942" title="(=&gt; Option[String])PluginBuilderProject.this.Task">pluginTask</a>(<a href="#34954" title="(Boolean)Option[String]">loadAndUpdate</a>(<span title="Boolean(false)" class="keyword">false</span>)) <a href="TaskManager.scala.html#19289" title="(PluginBuilderProject.this.ManagedTask*)PluginBuilderProject.this.Task">dependsOn</a>(<a href="#34261" title="=&gt; PluginBuilderProject.this.Task">compile</a>)
		<span class="comment">// manual update.  force uptodate = false</span>
		<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="PluginBuilderProject.this.Task" id="34950">update</a> = <a href="TaskManager.scala.html#14806" title="(=&gt; Option[String])PluginBuilderProject.this.Task">task</a> { <a href="#34951" title="()Option[String]">manualUpdate</a>() } <a href="TaskManager.scala.html#19289" title="(PluginBuilderProject.this.ManagedTask*)PluginBuilderProject.this.Task">dependsOn</a>(<a href="#34261" title="=&gt; PluginBuilderProject.this.Task">compile</a>) <a href="TaskManager.scala.html#19291" title="(String)PluginBuilderProject.this.Task">describedAs</a>(<span title="java.lang.String(&quot;Manual plugin update.  Used when autoUpdate is disabled.&quot;)" class="string">&quot;Manual plugin update.  Used when autoUpdate is disabled.&quot;</span>)

		<span class="keyword">def</span> <a title="()Option[String]" id="34951">manualUpdate</a>() =
		{
			<a href="#34941" title="(Boolean)Unit">setUptodate</a>(<span title="Boolean(false)" class="keyword">false</span>)
			<span class="keyword">val</span> <a title="Option[String]" id="35297">result</a> = <a href="#34954" title="(Boolean)Option[String]">loadAndUpdate</a>(<span title="Boolean(true)" class="keyword">true</span>)
			<a href="#34249" title="(String*)Unit">logInfo</a>(<span title="java.lang.String(&quot;'reload' required to rebuild plugins.&quot;)" class="string">&quot;'reload' required to rebuild plugins.&quot;</span>)
			<a href="#35297" title="Option[String]">result</a>
		}
		<span class="keyword">def</span> <a title="()Option[String]" id="34952">doSync</a>() = <a href="#34958" title="=&gt; PluginBuilderProject.this.BuilderCompileConditional">pluginCompileConditional</a>.<a href="Conditional.scala.html#27027" title="=&gt; Option[String]">run</a> <span title="(=&gt; Option[String])Option[String]">orElse</span> { <a href="#34941" title="(Boolean)Unit">setUptodate</a>(<span title="Boolean(true)" class="keyword">true</span>); <span title="object None">None</span> }
		<span class="keyword">def</span> <a title="()Option[String]" id="34953">extractSources</a>() =
		{
			<a href="FileUtilities.scala.html#9085" title="object sbt.FileUtilities">FileUtilities</a>.<a href="FileUtilities.scala.html#15484" title="(sbt.Path,sbt.Logger)Option[String]">clean</a>(<a href="#34937" title="=&gt; sbt.Path">managedSourcePath</a>, <a href="Project.scala.html#14821" title="=&gt; sbt.Logger">log</a>) <span title="(=&gt; Option[String])Option[String]">orElse</span>
			<a href="Control.scala.html#11878" title="object sbt.Control">Control</a>.<a href="Control.scala.html#25779" title="(List[sbt.Path])((sbt.Path) =&gt; Option[String])Option[String]">lazyFold</a>(<a href="#34956" title="=&gt; sbt.PathFinder">plugins</a>.<a href="Path.scala.html#16189" title="=&gt; scala.collection.Set[sbt.Path]">get</a>.<span title="=&gt; List[sbt.Path]">toList</span>) { <a title="sbt.Path" id="35060">jar</a> =&gt;
				<a href="Control.scala.html#11878" title="object sbt.Control">Control</a>.<a href="Control.scala.html#25787" title="(Either[String,scala.collection.Set[sbt.Path]])((scala.collection.Set[sbt.Path]) =&gt; Option[String])Option[String]">thread</a>(<a href="FileUtilities.scala.html#9085" title="object sbt.FileUtilities">FileUtilities</a>.<a href="FileUtilities.scala.html#15445" title="(sbt.Path,sbt.Path,sbt.NameFilter,sbt.Logger)Either[String,scala.collection.Set[sbt.Path]]">unzip</a>(<a href="#35060" title="sbt.Path">jar</a>, <a href="#34955" title="(sbt.Path)sbt.Path">extractTo</a>(<a href="#35060" title="sbt.Path">jar</a>), <a href="#34933" title="=&gt; sbt.NameFilter">pluginSourceFilter</a>, <a href="Project.scala.html#14821" title="=&gt; sbt.Logger">log</a>)) { <a title="scala.collection.Set[sbt.Path]" id="35120">extracted</a> =&gt;
					<span title="Unit" class="keyword">if</span>(<span title="=&gt; Boolean">!</span><a href="#35120" title="scala.collection.Set[sbt.Path]">extracted</a>.<a title="=&gt; Boolean" id="18154">isEmpty</a>)
						<a href="#34249" title="(String*)Unit">logInfo</a>(<span title="java.lang.String(&quot;\011Extracted source plugin &quot;)" class="string">&quot;\tExtracted source plugin &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#35060" title="sbt.Path">jar</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; ...&quot;)" class="string">&quot; ...&quot;</span>)
					<span title="object None">None</span>
				}
			}
		}
		<span class="keyword">def</span> <a title="(Boolean)Option[String]" id="34954">loadAndUpdate</a>(<a title="Boolean" id="35121">forceUpdate</a>: <span title="Boolean">Boolean</span>) =
		{
			<a href="Control.scala.html#11878" title="object sbt.Control">Control</a>.<a href="Control.scala.html#25787" title="(Either[String,Option[String]])((Option[String]) =&gt; Option[String])Option[String]">thread</a>(<a href="#34264" title="=&gt; Either[String,Option[String]]">projectDefinition</a>) <a href="#35125" title="Option[String]">{</a>
				<span title="Option[String]" class="keyword">case</span> Some(<a title="String" id="35126">definition</a>) =&gt;
					<span class="keyword">val</span> <a title="sbt.ProjectInfo" id="35127">pluginInfo</a> = <a href="ProjectInfo.scala.html#25970" title="(java.io.File,Iterable[sbt.Project],Option[sbt.Project])(sbt.Logger,xsbti.AppProvider,Option[String])sbt.ProjectInfo">ProjectInfo</a>(<a href="#34962" title="=&gt; sbt.ProjectInfo">info</a>.<a href="ProjectInfo.scala.html#19183" title="=&gt; sbt.Path">projectPath</a>.<a href="Path.scala.html#18076" title="=&gt; java.io.File">asFile</a>, <span title="object Nil">Nil</span>, <span title="object None">None</span>)(<a href="#34924" title="sbt.Logger">rawLogger</a>, <a href="#34962" title="=&gt; sbt.ProjectInfo">info</a>.<a href="ProjectInfo.scala.html#19174" title="=&gt; xsbti.AppProvider">app</a>, <a href="#34962" title="=&gt; sbt.ProjectInfo">info</a>.<a href="ProjectInfo.scala.html#19176" title="=&gt; Option[String]">buildScalaVersion</a>)
					<span class="keyword">val</span> <a title="sbt.PluginDefinition" id="35128">pluginBuilder</a> = <a href="Project.scala.html#7666" title="object sbt.Project">Project</a>.<a href="Project.scala.html#16502" title="(sbt.ProjectInfo,Class[sbt.PluginDefinition])sbt.PluginDefinition">constructProject</a>(<a href="#35127" title="sbt.ProjectInfo">pluginInfo</a>, <a href="Project.scala.html#7666" title="object sbt.Project">Project</a>.<a href="Project.scala.html#16516" title="(String,sbt.PathFinder,java.lang.ClassLoader)(implicit scala.reflect.Manifest[sbt.PluginDefinition])Class[sbt.PluginDefinition]">getProjectClass</a>[<a href="#8445" title="sbt.PluginDefinition">PluginDefinition</a>](<a href="#35126" title="String">definition</a>, <a href="#34251" title="=&gt; sbt.PathFinder">projectClasspath</a>, <a href="#34917" title="()java.lang.Class[_ &lt;: java.lang.Object]" id="3459">getClass</a>.<a title="()java.lang.ClassLoader" id="3900">getClassLoader</a>))
					<span title="Option[String]" class="keyword">if</span>(<a href="#35121" title="Boolean">forceUpdate</a> <a title="(Boolean)Boolean" id="2698">||</a> <a href="#35128" title="sbt.PluginDefinition">pluginBuilder</a>.<a href="#35146" title="=&gt; Boolean">autoUpdate</a>)
					{
						<a href="#34249" title="(String*)Unit">logInfo</a>(<span title="java.lang.String(&quot;\012Updating plugins...&quot;)" class="string">&quot;\nUpdating plugins...&quot;</span>)
						<a href="#35128" title="sbt.PluginDefinition">pluginBuilder</a>.<a href="Project.scala.html#14877" title="=&gt; pluginBuilder.Property[String]">projectName</a>() = <span title="java.lang.String(&quot;Plugin Definition&quot;)" class="string">&quot;Plugin Definition&quot;</span>
						<a href="#35128" title="sbt.PluginDefinition">pluginBuilder</a>.<a href="Project.scala.html#14875" title="=&gt; pluginBuilder.Property[sbt.Version]">projectVersion</a>() = <a href="Version.scala.html#35164" title="(String)sbt.OpaqueVersion">OpaqueVersion</a>(<span title="java.lang.String(&quot;1.0&quot;)" class="string">&quot;1.0&quot;</span>)
						<span class="keyword">val</span> <a title="Option[String]" id="35158">result</a> = <a href="#35128" title="sbt.PluginDefinition">pluginBuilder</a>.<a href="BasicProjectTypes.scala.html#18916" title="=&gt; pluginBuilder.Task">update</a>.<a href="TaskManager.scala.html#19294" title="=&gt; Option[String]">run</a>
						<span title="Unit" class="keyword">if</span>(<a href="#35158" title="Option[String]">result</a>.<a title="=&gt; Boolean" id="19227">isEmpty</a>)
						{
							<a href="#34250" title="(=&gt; Unit)Unit">atInfo</a> {
								<a href="Project.scala.html#14821" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#19737" title="(=&gt; String)Unit">success</a>(<span title="java.lang.String(&quot;Plugins updated successfully.&quot;)" class="string">&quot;Plugins updated successfully.&quot;</span>)
								<a href="Project.scala.html#14821" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#19734" title="(=&gt; String)Unit">info</a>(<span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>)
							}
						}
						<a href="#35158" title="Option[String]">result</a>
					}
					<span class="keyword">else</span>
					{
						<a href="Project.scala.html#14821" title="=&gt; sbt.Logger">log</a>.<a href="Logger.scala.html#19735" title="(=&gt; String)Unit">warn</a>(<span title="java.lang.String(&quot;Plugin definition recompiled, but autoUpdate is disabled.\012\011Using already retrieved plugins...&quot;)" class="string">&quot;Plugin definition recompiled, but autoUpdate is disabled.\n\tUsing already retrieved plugins...&quot;</span>)
						<span title="object None">None</span>
					}
				<span title="None.type" class="keyword">case</span> <span title="object None">None</span> =&gt; <span title="object None">None</span>
			}
		}
		<span class="keyword">def</span> <a title="(sbt.Path)sbt.Path" id="34955">extractTo</a>(<a title="sbt.Path" id="35092">jar</a>: <a href="Path.scala.html#10200" title="sbt.Path">Path</a>) =
		{
			<span class="keyword">val</span> <a title="java.lang.String" id="35094">name</a> = <a href="#35092" title="sbt.Path">jar</a>.<a href="Path.scala.html#18076" title="=&gt; java.io.File">asFile</a>.<a title="()java.lang.String" id="16219">getName</a>
			<a href="#34937" title="=&gt; sbt.Path">managedSourcePath</a> <a href="Path.scala.html#18070" title="(String)sbt.Path">/</a> <a href="#35094" title="java.lang.String">name</a>.<a title="(Int,Int)java.lang.String" id="5800">substring</a>(<span title="Int(0)" class="int">0</span>, <a href="#35094" title="java.lang.String">name</a>.<span title="()Int">length</span> <a title="(Int)Int" id="3096">-</a> <span title="java.lang.String(&quot;.jar&quot;)" class="string">&quot;.jar&quot;</span>.<span title="()Int">length</span>)
		}
		<span class="keyword">def</span> <a title="=&gt; sbt.PathFinder" id="34956">plugins</a> = <a href="Project.scala.html#14919" title="(sbt.PathFinder,sbt.FileFilter)sbt.PathFinder">descendents</a>(<a href="#34938" title="=&gt; sbt.Path">managedDependencyPath</a>, <a href="#34243" title="=&gt; sbt.NameFilter">jarFilter</a>)
		<span class="keyword">def</span> <a title="=&gt; sbt.PathFinder" id="34957">pluginClasspath</a>: <a href="Path.scala.html#8784" title="sbt.PathFinder">PathFinder</a> = <a href="#34956" title="=&gt; sbt.PathFinder">plugins</a> <a href="Path.scala.html#16180" title="(sbt.PathFinder)sbt.PathFinder">+++</a> <a href="#34960" title="=&gt; &lt;refinement&gt; extends PluginBuilderProject.this.BuilderCompileConfiguration">pluginCompileConfiguration</a>.<a href="Conditional.scala.html#27085" title="=&gt; sbt.Path">outputDirectory</a>

		<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="PluginBuilderProject.this.BuilderCompileConditional" id="34959">pluginCompileConditional</a> = <span title="PluginBuilderProject.this.BuilderCompileConditional" class="keyword">new</span> <a href="#34259" title="PluginBuilderProject.this.BuilderCompileConditional">BuilderCompileConditional</a>(<a href="#34960" title="=&gt; &lt;refinement&gt; extends PluginBuilderProject.this.BuilderCompileConfiguration">pluginCompileConfiguration</a>, <a href="Project.scala.html#14906" title="=&gt; xsbt.AnalyzingCompiler">buildCompiler</a>, <span title="java.lang.String(&quot;plugin&quot;)" class="string">&quot;plugin&quot;</span>)
		<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="&lt;refinement&gt; extends PluginBuilderProject.this.BuilderCompileConfiguration" id="34961">pluginCompileConfiguration</a> =
			<a title="template $anon extends PluginBuilderProject.this.BuilderCompileConfiguration" id="35014" class="keyword">new</a> <a href="#34253" title="PluginBuilderProject.this.BuilderCompileConfiguration">BuilderCompileConfiguration</a>
			{
				<span class="keyword">def</span> <a title="=&gt; java.lang.String" id="35016">label</a> = <span title="java.lang.String(&quot;plugin builder&quot;)" class="string">&quot;plugin builder&quot;</span>
				<span class="keyword">def</span> <a title="=&gt; sbt.Path" id="35017">sourceRoots</a> = <a href="#34937" title="=&gt; sbt.Path">managedSourcePath</a>
				<span class="keyword">def</span> <a title="=&gt; sbt.PathFinder" id="35018">sources</a> = <a href="Project.scala.html#14919" title="(sbt.PathFinder,sbt.FileFilter)sbt.PathFinder">descendents</a>(<a href="#35017" title="=&gt; sbt.Path">sourceRoots</a>, <a href="#34242" title="=&gt; sbt.NameFilter">sourceFilter</a>)
				<span class="keyword">def</span> <a title="=&gt; sbt.Path" id="35019">outputDirectory</a> = <a href="Project.scala.html#14871" title="=&gt; sbt.Path">outputPath</a> <a href="Path.scala.html#18070" title="(String)sbt.Path">/</a> <span title="java.lang.String(&quot;plugin-classes&quot;)" class="string">&quot;plugin-classes&quot;</span>
				<span class="keyword">def</span> <a title="=&gt; sbt.PathFinder" id="35020">classpath</a>: <a href="Path.scala.html#8784" title="sbt.PathFinder">PathFinder</a> = <a href="#34957" title="=&gt; sbt.PathFinder">pluginClasspath</a> <a href="Path.scala.html#16180" title="(sbt.PathFinder)sbt.PathFinder">+++</a> <a href="#34252" title="=&gt; sbt.PathFinder">sbtJars</a>
				<span class="keyword">def</span> <a title="=&gt; sbt.Path" id="35021">analysisPath</a> = <a href="Project.scala.html#14871" title="=&gt; sbt.Path">outputPath</a> <a href="Path.scala.html#18070" title="(String)sbt.Path">/</a> <span title="java.lang.String(&quot;plugin-analysis&quot;)" class="string">&quot;plugin-analysis&quot;</span>
			}
	}
}
<span class="keyword">class</span> <a title="class PluginDefinition extends sbt.InternalProject with sbt.BasicManagedProject with ScalaObject" id="8445">PluginDefinition</a>(<span class="keyword">val</span> <a title="sbt.ProjectInfo" id="35314">info</a>: <a href="ProjectInfo.scala.html#6756" title="sbt.ProjectInfo">ProjectInfo</a>) <span class="keyword">extends</span> <a href="#9615" title="sbt.InternalProject">InternalProject</a> <span class="keyword">with</span> <a href="BasicProjectTypes.scala.html#8874" title="sbt.BasicManagedProject">BasicManagedProject</a>
{
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; sbt.Level.Value" id="35140">defaultLoggingLevel</a> = <a href="Logger.scala.html#8281" title="object sbt.Level">Level</a>.<a href="Logger.scala.html#28794" title="=&gt; sbt.Level.Value">Info</a>
	<span class="keyword">override</span> <span class="keyword">final</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="35141">outputPattern</a> = <span title="java.lang.String(&quot;[artifact](-[revision]).[ext]&quot;)" class="string">&quot;[artifact](-[revision]).[ext]&quot;</span>
	<span class="keyword">override</span> <span class="keyword">final</span> <span class="keyword">val</span> <a title="scala.collection.immutable.Map[java.lang.String,PluginDefinition.this.Task]" id="35142">tasks</a> = immutable.<span title="((java.lang.String, PluginDefinition.this.Task)*)scala.collection.immutable.Map[java.lang.String,PluginDefinition.this.Task]">Map</span>(<a title="(java.lang.String)ArrowAssoc[java.lang.String]" id="787" class="string">&quot;update&quot;</a> <a title="(PluginDefinition.this.Task)(java.lang.String, PluginDefinition.this.Task)" id="6135">-&gt;</a> <a href="BasicProjectTypes.scala.html#18916" title="=&gt; PluginDefinition.this.Task">update</a>)
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="(sbt.Configuration)sbt.PathFinder" id="35144">projectClasspath</a>(<a title="sbt.Configuration" id="35319">config</a>: <a href="../IvyInterface.scala.html#11658" title="sbt.Configuration">Configuration</a>) = <a href="Path.scala.html#10201" title="object sbt.Path">Path</a>.<a href="Path.scala.html#15569" title="=&gt; sbt.PathFinder">emptyPathFinder</a>
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Iterable[sbt.Project]" id="35145">dependencies</a> = <a href="#35314" title="=&gt; sbt.ProjectInfo">info</a>.<a href="ProjectInfo.scala.html#19169" title="=&gt; Iterable[sbt.Project]">dependencies</a>
	<span class="keyword">def</span> <a title="=&gt; Boolean" id="35146">autoUpdate</a> = <span title="Boolean(true)" class="keyword">true</span>
}
<span class="keyword">class</span> <a title="class PluginProject extends sbt.DefaultProject with ScalaObject" id="10203">PluginProject</a>(<a title="sbt.ProjectInfo" id="35499">info</a>: <a href="ProjectInfo.scala.html#6756" title="sbt.ProjectInfo">ProjectInfo</a>) <span class="keyword">extends</span> <a href="DefaultProject.scala.html#8514" title="sbt.DefaultProject">DefaultProject</a>(<a href="#35499" title="sbt.ProjectInfo">info</a>)
{
	<span class="comment">/* Since plugins are distributed as source, there is no need to append _&lt;scala.version&gt;  */</span>
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="35490">moduleID</a> = <a href="Project.scala.html#14921" title="=&gt; java.lang.String">normalizedName</a>
	<span class="comment">/* Fix the version used to build to the version currently running sbt. */</span>
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="35491">buildScalaVersion</a> = <a href="Project.scala.html#14881" title="=&gt; PluginProject.this.Property[String]">defScalaVersion</a>.<a href="Environment.scala.html#19155" title="=&gt; String">value</a>
	<span class="comment">/* Add sbt to the classpath */</span>
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; sbt.PathFinder" id="35492">unmanagedClasspath</a> = <span class="keyword">super</span>.<a href="BasicProjectTypes.scala.html#18981" title="=&gt; sbt.PathFinder">unmanagedClasspath</a> <a href="Path.scala.html#16180" title="(sbt.PathFinder)sbt.PathFinder">+++</a> <a href="#35499" title="sbt.ProjectInfo">info</a>.<a href="ProjectInfo.scala.html#19194" title="=&gt; sbt.PathFinder">sbtClasspath</a>
	<span class="comment">/* Package the plugin as source. */</span>
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; PluginProject.this.Task" id="35493">packageAction</a> = <a href="DefaultProject.scala.html#35447" title="=&gt; PluginProject.this.Task">packageSrc</a> <a href="TaskManager.scala.html#19289" title="(PluginProject.this.ManagedTask*)PluginProject.this.Task">dependsOn</a>(<a href="DefaultProject.scala.html#35437" title="=&gt; PluginProject.this.Task">test</a>)
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; sbt.Path" id="35494">packageSrcJar</a> = <a href="ProjectPaths.scala.html#25004" title="=&gt; sbt.Path">jarPath</a>
	<span class="comment">/* Some setup to make publishing quicker to configure. */</span>
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="35495">useMavenConfigurations</a> = <span title="Boolean(true)" class="keyword">true</span>
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; sbt.ManagedStyle.Value" id="35496">managedStyle</a> = <a href="BasicProjectTypes.scala.html#6403" title="object sbt.ManagedStyle">ManagedStyle</a>.<a href="BasicProjectTypes.scala.html#22125" title="=&gt; sbt.ManagedStyle.Value">Maven</a>
}
<span class="keyword">class</span> <a title="class ProcessorProject extends sbt.DefaultProject with ScalaObject" id="10356">ProcessorProject</a>(<a title="sbt.ProjectInfo" id="35640">info</a>: <a href="ProjectInfo.scala.html#6756" title="sbt.ProjectInfo">ProjectInfo</a>) <span class="keyword">extends</span> <a href="DefaultProject.scala.html#8514" title="sbt.DefaultProject">DefaultProject</a>(<a href="#35640" title="sbt.ProjectInfo">info</a>)
{
	<span class="comment">/* Fix the version used to build to the version currently running sbt. */</span>
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="35634">buildScalaVersion</a> = <a href="Project.scala.html#14881" title="=&gt; ProcessorProject.this.Property[String]">defScalaVersion</a>.<a href="Environment.scala.html#19155" title="=&gt; String">value</a>
	<span class="comment">/* Add sbt to the classpath */</span>
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; sbt.PathFinder" id="35635">unmanagedClasspath</a> = <span class="keyword">super</span>.<a href="BasicProjectTypes.scala.html#18981" title="=&gt; sbt.PathFinder">unmanagedClasspath</a> <a href="Path.scala.html#16180" title="(sbt.PathFinder)sbt.PathFinder">+++</a> <a href="#35640" title="sbt.ProjectInfo">info</a>.<a href="ProjectInfo.scala.html#19194" title="=&gt; sbt.PathFinder">sbtClasspath</a>
	<span class="comment">/* Some setup to make publishing quicker to configure. */</span>
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="35636">useMavenConfigurations</a> = <span title="Boolean(true)" class="keyword">true</span>
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; sbt.ManagedStyle.Value" id="35637">managedStyle</a> = <a href="BasicProjectTypes.scala.html#6403" title="object sbt.ManagedStyle">ManagedStyle</a>.<a href="BasicProjectTypes.scala.html#22125" title="=&gt; sbt.ManagedStyle.Value">Maven</a>
}
        </pre>
    </body>
</html>