<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>RawCompiler.scala</title>
        <script type="text/javascript" src="jquery-all.js"></script>
        <script type="text/javascript" src="linked.js"></script>
        <link rel="stylesheet" type="text/css" href="style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> xsbt

	<span class="keyword">import</span> java.io.File

<span class="comment">/** A basic interface to the compiler.  It is called in the same virtual machine, but no dependency analysis is done.  This
* is used, for example, to compile the interface/plugin code.
* If `explicitClasspath` is true, the bootclasspath and classpath are not augmented.  If it is false,
* the scala-library.jar from `scalaInstance` is put on bootclasspath and the scala-compiler jar goes on the classpath.*/</span>
<span class="keyword">class</span> <a title="class RawCompiler extends java.lang.Object with ScalaObject" id="12456">RawCompiler</a>(<span class="keyword">val</span> <a title="xsbt.ScalaInstance" id="33370">scalaInstance</a>: <a href="ScalaInstance.scala.html#12786" title="xsbt.ScalaInstance">ScalaInstance</a>, <a title="Boolean" id="33371">autoBootClasspath</a>: <span title="Boolean">Boolean</span>, <a title="Boolean" id="33372">compilerOnClasspath</a>: <span title="Boolean">Boolean</span>, <a title="xsbt.CompileLogger" id="33373">log</a>: <a href="CompileLogger.scala.html#12174" title="xsbt.CompileLogger">CompileLogger</a>)
{
	<span class="keyword">def</span> <a title="(Set[java.io.File],Set[java.io.File],java.io.File,Seq[String])Unit" id="33361">apply</a>(<a title="Set[java.io.File]" id="33374">sources</a>: <span title="Set[java.io.File]">Set</span>[File], <a title="Set[java.io.File]" id="33375">classpath</a>: <span title="Set[java.io.File]">Set</span>[File], <a title="java.io.File" id="33376">outputDirectory</a>: <a title="java.io.File" id="3620">File</a>, <a title="Seq[String]" id="33377">options</a>: <span title="Seq[String]">Seq</span>[String])
	{
		<span class="comment">// reflection is required for binary compatibility</span>
			<span class="comment">// The following import ensures there is a compile error if the identifiers change,</span>
			<span class="comment">//   but should not be otherwise directly referenced</span>
			<span class="keyword">import</span> scala.tools.nsc.Main.{process =&gt; _}

		<span class="keyword">val</span> <a title="Seq[String]" id="33379">arguments</a> = <a href="CompilerArguments.scala.html#33406" title="(Set[java.io.File],Set[java.io.File],java.io.File,Seq[String])Seq[String]">compilerArguments</a>(<a href="#33374" title="Set[java.io.File]">sources</a>, <a href="#33375" title="Set[java.io.File]">classpath</a>, <a href="#33376" title="java.io.File">outputDirectory</a>, <a href="#33377" title="Seq[String]">options</a>)
		<a href="#33373" title="xsbt.CompileLogger">log</a>.<a href="CompileLogger.scala.html#19502" title="(=&gt; String)Unit">debug</a>(<span title="java.lang.String(&quot;Plain interface to Scala compiler &quot;)" class="string">&quot;Plain interface to Scala compiler &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#33370" title="=&gt; xsbt.ScalaInstance">scalaInstance</a>.<a href="ScalaInstance.scala.html#23080" title="=&gt; java.lang.String">actualVersion</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;  with arguments: &quot;)" class="string">&quot;  with arguments: &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#33379" title="Seq[String]">arguments</a>.<a title="(String,String,String)String" id="16096">mkString</a>(<span title="java.lang.String(&quot;\012\011&quot;)" class="string">&quot;\n\t&quot;</span>, <span title="java.lang.String(&quot;\012\011&quot;)" class="string">&quot;\n\t&quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>))
		<span class="keyword">val</span> <a title="java.lang.Class[_]" id="33380">mainClass</a> = <a title="object java.lang.Class" id="1618">Class</a>.<a title="(java.lang.String,Boolean,java.lang.ClassLoader)java.lang.Class[_]" id="3887">forName</a>(<span title="java.lang.String(&quot;scala.tools.nsc.Main&quot;)" class="string">&quot;scala.tools.nsc.Main&quot;</span>, <span title="Boolean(true)" class="keyword">true</span>, <a href="#33370" title="=&gt; xsbt.ScalaInstance">scalaInstance</a>.<a href="ScalaInstance.scala.html#23070" title="=&gt; java.lang.ClassLoader">loader</a>)
		<span class="keyword">val</span> <a title="java.lang.reflect.Method" id="33381">process</a> = <a href="#33380" title="java.lang.Class[_]">mainClass</a>.<span title="(java.lang.String,java.lang.Class[_]*)java.lang.reflect.Method">getMethod</span>(<span title="java.lang.String(&quot;process&quot;)" class="string">&quot;process&quot;</span>, <span title="java.lang.Class[Array[String]]">classOf</span>[Array[String]])
		<a href="#33381" title="java.lang.reflect.Method">process</a>.<span title="(Any,java.lang.Object*)java.lang.Object">invoke</span>(<span title="Null(null)" class="keyword">null</span>, <a href="#33364" title="(Seq[String])Array[String]">toJavaArray</a>(<a href="#33379" title="Seq[String]">arguments</a>))
		<a href="#33363" title="(Class[_],Array[String])Unit">checkForFailure</a>(<a href="#33380" title="java.lang.Class[_]">mainClass</a>, <a href="#33379" title="Seq[String]">arguments</a>.<span title="Array[String]">toArray</span>)
	}
	<span class="keyword">def</span> <a title="=&gt; xsbt.CompilerArguments" id="33362">compilerArguments</a> = <span title="xsbt.CompilerArguments" class="keyword">new</span> <a href="CompilerArguments.scala.html#12669" title="xsbt.CompilerArguments">CompilerArguments</a>(<a href="#33370" title="=&gt; xsbt.ScalaInstance">scalaInstance</a>, <a href="#33371" title="Boolean">autoBootClasspath</a>, <a href="#33372" title="Boolean">compilerOnClasspath</a>)
	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="(Class[_],Array[String])Unit" id="33363">checkForFailure</a>(<a title="Class[_]" id="33444">mainClass</a>: <a title="Class[_]" id="1617">Class</a>[_], <a title="Array[String]" id="33445">args</a>: <span title="Array[String]">Array</span>[String])
	{
		<span class="keyword">val</span> <a title="java.lang.Object" id="33454">reporter</a> = <a href="#33444" title="Class[_]">mainClass</a>.<span title="(java.lang.String,java.lang.Class[_]*)java.lang.reflect.Method">getMethod</span>(<span title="java.lang.String(&quot;reporter&quot;)" class="string">&quot;reporter&quot;</span>).<span title="(Any,java.lang.Object*)java.lang.Object">invoke</span>(<span title="Null(null)" class="keyword">null</span>)
		<span class="keyword">val</span> <a title="Boolean" id="33455">failed</a> = <a href="#33454" title="java.lang.Object">reporter</a>.<span title="()java.lang.Class[_ &lt;: java.lang.Object]">getClass</span>.<span title="(java.lang.String,java.lang.Class[_]*)java.lang.reflect.Method">getMethod</span>(<span title="java.lang.String(&quot;hasErrors&quot;)" class="string">&quot;hasErrors&quot;</span>).<span title="(Any,java.lang.Object*)java.lang.Object">invoke</span>(<a href="#33454" title="java.lang.Object">reporter</a>).<a title="Boolean" id="3451">asInstanceOf</a>[<span title="Boolean">Boolean</span>]
		<span title="Unit" class="keyword">if</span>(<a href="#33455" title="Boolean">failed</a>) <span title="Nothing" class="keyword">throw</span> <span title="xsbt.CompileFailed" class="keyword">new</span> <a href="#12702" title="xsbt.CompileFailed">CompileFailed</a>(<a href="#33445" title="Array[String]">args</a>, <span title="java.lang.String(&quot;Plain compile failed&quot;)" class="string">&quot;Plain compile failed&quot;</span>)
	}
	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="(Seq[String])Array[String]" id="33364">toJavaArray</a>(<a title="Seq[String]" id="33443">arguments</a>: <span title="Seq[String]">Seq</span>[String]): <span title="Array[String]">Array</span>[String] =
	{
		<span class="keyword">val</span> <a title="Array[String]" id="33469">realArray</a>: <span title="Array[String]">Array</span>[String] = <a href="#33443" title="Seq[String]">arguments</a>.<span title="Array[String]">toArray</span>
		<a title="(Boolean)Unit" id="787">assert</a>(<a href="#33469" title="Array[String]">realArray</a>.<span title="()java.lang.Class[_ &lt;: java.lang.Object]">getClass</span> <a title="(AnyRef)Boolean" id="5739">eq</a> <span title="java.lang.Class[Array[String]]">classOf</span>[Array[String]])
		<a href="#33469" title="Array[String]">realArray</a>
	}
}
<span class="keyword">class</span> <a title="class CompileFailed extends xsbti.CompileFailed with ScalaObject" id="12702">CompileFailed</a>(<span class="keyword">val</span> <a title="Array[String]" id="33467">arguments</a>: <span title="Array[String]">Array</span>[String], <span class="keyword">override</span> <span class="keyword">val</span> <a title="String" id="33468">toString</a>: <a title="String" id="1806">String</a>) <span class="keyword">extends</span> xsbti.<a href="xsbti/CompileFailed.java.html#5890" title="xsbti.CompileFailed">CompileFailed</a>
{
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="()xsbt.CompileFailed" id="33466">fillInStackTrace</a> = <a href="#12702" title="xsbt.CompileFailed" class="keyword">this</a>
}
        </pre>
    </body>
</html>