<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>MakePom.scala</title>
        <script type="text/javascript" src="jquery-all.js"></script>
        <script type="text/javascript" src="linked.js"></script>
        <link rel="stylesheet" type="text/css" href="style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* sbt -- Simple Build Tool
 * Copyright 2008, 2009, 2010  Mark Harrah
 */</span>

<span class="comment">// based on Ivy's PomModuleDescriptorWriter, which is Apache Licensed, Version 2.0</span>
<span class="comment">// http://www.apache.org/licenses/LICENSE-2.0</span>

<span class="keyword">package</span> sbt;

<span class="keyword">import</span> java.io.{BufferedWriter, File, OutputStreamWriter, FileOutputStream}
<span class="keyword">import</span> scala.xml.{Node, NodeSeq, PrettyPrinter, XML}

<span class="keyword">import</span> org.apache.ivy.{core, plugins, Ivy}
<span class="keyword">import</span> core.settings.IvySettings
<span class="keyword">import</span> core.module.{descriptor, id}
<span class="keyword">import</span> descriptor.{DependencyDescriptor, License, ModuleDescriptor}
<span class="keyword">import</span> id.ModuleRevisionId
<span class="keyword">import</span> plugins.resolver.{ChainResolver, DependencyResolver, IBiblioResolver}

<span class="keyword">class</span> <a title="class MakePom extends java.lang.Object with ScalaObject" id="6900">MakePom</a>
{
	<span class="keyword">def</span> <a title="=&gt; java.lang.String" id="56837">encoding</a> = <span title="java.lang.String(&quot;UTF-8&quot;)" class="string">&quot;UTF-8&quot;</span>
	<span class="keyword">def</span> <a title="(org.apache.ivy.Ivy,org.apache.ivy.core.module.descriptor.ModuleDescriptor,Option[Iterable[sbt.Configuration]],scala.xml.NodeSeq,java.io.File)Unit" id="56838">write</a>(<a title="org.apache.ivy.Ivy" id="56871">ivy</a>: <span title="org.apache.ivy.Ivy">Ivy</span>, <a title="org.apache.ivy.core.module.descriptor.ModuleDescriptor" id="56872">module</a>: <span title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">ModuleDescriptor</span>, <a title="Option[Iterable[sbt.Configuration]]" id="56873">configurations</a>: <span title="Option[Iterable[sbt.Configuration]]">Option</span>[Iterable[Configuration]], <a title="scala.xml.NodeSeq" id="56874">extra</a>: <span title="scala.xml.NodeSeq">NodeSeq</span>, <a title="java.io.File" id="56875">output</a>: <span title="java.io.File">File</span>): <span title="Unit">Unit</span> =
		<a href="#56839" title="(scala.xml.Node,java.io.File)Unit">write</a>(<a href="#56842" title="(org.apache.ivy.Ivy,org.apache.ivy.core.module.descriptor.ModuleDescriptor,Option[Iterable[sbt.Configuration]],scala.xml.NodeSeq)scala.xml.Node">toPom</a>(<a href="#56871" title="org.apache.ivy.Ivy">ivy</a>, <a href="#56872" title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">module</a>, <a href="#56873" title="Option[Iterable[sbt.Configuration]]">configurations</a>, <a href="#56874" title="scala.xml.NodeSeq">extra</a>), <a href="#56875" title="java.io.File">output</a>)
	<span class="keyword">def</span> <a title="(scala.xml.Node,java.io.File)Unit" id="56839">write</a>(<a title="scala.xml.Node" id="56916">node</a>: <span title="scala.xml.Node">Node</span>, <a title="java.io.File" id="56917">output</a>: <span title="java.io.File">File</span>): <span title="Unit">Unit</span> = <a href="#56840" title="(String,java.io.File)Unit">write</a>(<a href="#56841" title="(scala.xml.Node)String">toString</a>(<a href="#56916" title="scala.xml.Node">node</a>), <a href="#56917" title="java.io.File">output</a>)
	<span class="keyword">def</span> <a title="(String,java.io.File)Unit" id="56840">write</a>(<a title="String" id="56914">xmlString</a>: <span title="String">String</span>, <a title="java.io.File" id="56915">output</a>: <span title="java.io.File">File</span>)
	{
		<a href="#56915" title="java.io.File">output</a>.<a title="()java.io.File" id="16010">getParentFile</a>.<a title="()Boolean" id="16036">mkdirs</a>()
		<span class="keyword">val</span> <a title="java.io.BufferedWriter" id="56927">out</a> = <span title="java.io.BufferedWriter" class="keyword">new</span> <a title="java.io.BufferedWriter" id="3758">BufferedWriter</a>(<span title="java.io.OutputStreamWriter" class="keyword">new</span> <a title="java.io.OutputStreamWriter" id="3797">OutputStreamWriter</a>(<a title="(java.io.File)java.io.FileOutputStream" id="36918" class="keyword">new</a> <a title="java.io.FileOutputStream" id="3749">FileOutputStream</a>(<a href="#56915" title="java.io.File">output</a>), <a href="#56837" title="=&gt; java.lang.String">encoding</a>))
		<span class="keyword">try</span>
		{
			<a href="#56927" title="java.io.BufferedWriter">out</a>.<span title="(java.lang.String)Unit">write</span>(<span title="java.lang.String(&quot;&lt;?xml version='1.0' encoding='&quot;)" class="string">&quot;&lt;?xml version='1.0' encoding='&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#56837" title="=&gt; java.lang.String">encoding</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;'?&gt;&quot;)" class="string">&quot;'?&gt;&quot;</span>)
			<a href="#56927" title="java.io.BufferedWriter">out</a>.<a title="()Unit" id="37528">newLine</a>()
			<a href="#56927" title="java.io.BufferedWriter">out</a>.<span title="(java.lang.String)Unit">write</span>(<a href="#56914" title="String">xmlString</a>)
		}
		<span class="keyword">finally</span> { <a href="#56927" title="java.io.BufferedWriter">out</a>.<a title="()Unit" id="37530">close</a>() }
	}

	<span class="keyword">def</span> <a title="(scala.xml.Node)String" id="56841">toString</a>(<a title="scala.xml.Node" id="56925">node</a>: <span title="scala.xml.Node">Node</span>): <span title="String">String</span> = <span title="scala.xml.PrettyPrinter" class="keyword">new</span> <a title="scala.xml.PrettyPrinter" id="14524">PrettyPrinter</a>(<span title="Int(1000)" class="int">1000</span>, <span title="Int(4)" class="int">4</span>).<a title="(scala.xml.Node)String" id="57012">format</a>(<a href="#56925" title="scala.xml.Node">node</a>)
	<span class="keyword">def</span> <a title="(org.apache.ivy.Ivy,org.apache.ivy.core.module.descriptor.ModuleDescriptor,Option[Iterable[sbt.Configuration]],scala.xml.NodeSeq)scala.xml.Node" id="56842">toPom</a>(<a title="org.apache.ivy.Ivy" id="56919">ivy</a>: <span title="org.apache.ivy.Ivy">Ivy</span>, <a title="org.apache.ivy.core.module.descriptor.ModuleDescriptor" id="56920">module</a>: <span title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">ModuleDescriptor</span>, <a title="Option[Iterable[sbt.Configuration]]" id="56921">configurations</a>: <span title="Option[Iterable[sbt.Configuration]]">Option</span>[Iterable[Configuration]], <a title="scala.xml.NodeSeq" id="56922">extra</a>: <span title="scala.xml.NodeSeq">NodeSeq</span>): <span title="scala.xml.Node">Node</span> =
		(&lt;project xmlns=<span title="java.lang.String(&quot;http://maven.apache.org/POM/4.0.0&quot;)" class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span>  xmlns:xsi=<span title="java.lang.String(&quot;http://www.w3.org/2001/XMLSchema-instance&quot;)" class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> xsi:schemaLocation=<span title="scala.xml.Text" class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;
			&lt;modelVersion&gt;<span title="scala.xml.Text" class="double">4.0</span><span class="double">.0</span>&lt;/modelVersion&gt;
			{ <a href="#56843" title="(org.apache.ivy.core.module.descriptor.ModuleDescriptor)scala.xml.NodeSeq">makeModuleID</a>(<a href="#56920" title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">module</a>) }
			{ <a href="#56922" title="scala.xml.NodeSeq">extra</a> }
			{ <a href="#56850" title="(org.apache.ivy.core.module.descriptor.ModuleDescriptor,Option[Iterable[sbt.Configuration]])scala.xml.NodeSeq">makeDependencies</a>(<a href="#56920" title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">module</a>, <a href="#56921" title="Option[Iterable[sbt.Configuration]]">configurations</a>) }
			{ <a href="#56858" title="(org.apache.ivy.core.settings.IvySettings)Seq[scala.xml.Node]">makeRepositories</a>(<a href="#56919" title="org.apache.ivy.Ivy">ivy</a>.<a title="()org.apache.ivy.core.settings.IvySettings" id="20488">getSettings</a>) }
		&lt;/project&gt;)

	<span class="keyword">def</span> <a title="(org.apache.ivy.core.module.descriptor.ModuleDescriptor)scala.xml.NodeSeq" id="56843">makeModuleID</a>(<a title="org.apache.ivy.core.module.descriptor.ModuleDescriptor" id="57254">module</a>: <span title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">ModuleDescriptor</span>): <span title="scala.xml.NodeSeq">NodeSeq</span> =
	{
		<span class="keyword">val</span> <a title="org.apache.ivy.core.module.id.ModuleRevisionId" id="57297">mrid</a> = <a href="#56855" title="(org.apache.ivy.core.module.descriptor.ModuleDescriptor)org.apache.ivy.core.module.id.ModuleRevisionId">moduleDescriptor</a>(<a href="#57254" title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">module</a>)
		<span class="keyword">val</span> <a title="scala.xml.NodeSeq" id="57298">a</a>: <span title="scala.xml.NodeSeq">NodeSeq</span> = 
			(&lt;groupId&gt;{ <a href="#57297" title="org.apache.ivy.core.module.id.ModuleRevisionId">mrid</a>.<span title="()java.lang.String">getOrganisation</span> }&lt;/groupId&gt;
			&lt;artifactId&gt;{ <a href="#57297" title="org.apache.ivy.core.module.id.ModuleRevisionId">mrid</a>.<span title="()java.lang.String">getName</span> }&lt;/artifactId&gt;
			&lt;packaging&gt;{ <a href="#56849" title="(org.apache.ivy.core.module.descriptor.ModuleDescriptor)java.lang.String">packaging</a>(<a href="#57254" title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">module</a>) }&lt;/packaging&gt;<a title="scala.xml.NodeBuffer" id="14383">)</a>
		<span class="keyword">val</span> <a title="scala.xml.NodeSeq" id="57299">b</a>: <span title="scala.xml.NodeSeq">NodeSeq</span> =
			( (<a href="#56844" title="(String)scala.xml.NodeSeq">description</a>(<a href="#57254" title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">module</a>.<a title="()java.lang.String" id="56897">getDescription</a>) <span title="(Iterable[scala.xml.Node])Seq[scala.xml.Node]">++</span>
			<a href="#56847" title="(String)scala.xml.NodeSeq">homePage</a>(<a href="#57254" title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">module</a>.<a title="()java.lang.String" id="56896">getHomePage</a>) <span title="(Iterable[scala.xml.Node])Seq[scala.xml.Node]">++</span>
			<a href="#56848" title="(String)scala.xml.NodeSeq">revision</a>(<a href="#57297" title="org.apache.ivy.core.module.id.ModuleRevisionId">mrid</a>.<span title="()java.lang.String">getRevision</span>) <span title="implicit scala.xml.NodeSeq.view : (Seq[scala.xml.Node])scala.xml.NodeSeq">++</span>
			<a href="#56845" title="(Array[org.apache.ivy.core.module.descriptor.License])scala.xml.NodeSeq">licenses</a>(<a href="#57254" title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">module</a>.<a title="()Array[org.apache.ivy.core.module.descriptor.License]" id="56895">getLicenses</a>)) : <span title="scala.xml.NodeSeq">NodeSeq</span> )
		<a href="#57298" title="scala.xml.NodeSeq">a</a> <span title="implicit scala.xml.NodeSeq.view : (Seq[scala.xml.Node])scala.xml.NodeSeq">++</span> <a href="#57299" title="scala.xml.NodeSeq">b</a>
	}

	<span class="keyword">def</span> <a title="(String)scala.xml.NodeSeq" id="56844">description</a>(<a title="String" id="57369">d</a>: <span title="String">String</span>) = <span title="scala.xml.NodeSeq" class="keyword">if</span>((<a href="#57369" title="String">d</a> <span title="(AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span>) <span title="(Boolean)Boolean">||</span> <a href="#57369" title="implicit scala.Predef.stringWrapper : (String)scala.runtime.RichString">d</a>.<span title="=&gt; Boolean">isEmpty</span>) <span title="object scala.xml.NodeSeq">NodeSeq</span>.<span title="=&gt; &lt;refinement&gt; extends scala.xml.NodeSeq">Empty</span> <span class="keyword">else</span> &lt;description&gt;{<a href="#57369" title="String">d</a>}&lt;/description&gt;
	<span class="keyword">def</span> <a title="(Array[org.apache.ivy.core.module.descriptor.License])scala.xml.NodeSeq" id="56845">licenses</a>(<a title="Array[org.apache.ivy.core.module.descriptor.License]" id="57572">ls</a>: <span title="Array[org.apache.ivy.core.module.descriptor.License]">Array</span>[License]) = <span title="scala.xml.NodeSeq" class="keyword">if</span>(<a href="#57572" title="Array[org.apache.ivy.core.module.descriptor.License]">ls</a> <span title="(AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span> <span title="(Boolean)Boolean">||</span> <a href="#57572" title="Array[org.apache.ivy.core.module.descriptor.License]">ls</a>.<span title="=&gt; Boolean">isEmpty</span>) <span title="object scala.xml.NodeSeq">NodeSeq</span>.<span title="=&gt; &lt;refinement&gt; extends scala.xml.NodeSeq">Empty</span> <span class="keyword">else</span> &lt;licenses&gt;{<a href="#57572" title="Array[org.apache.ivy.core.module.descriptor.License]">ls</a>.<span title="((org.apache.ivy.core.module.descriptor.License) =&gt; scala.xml.Elem)Array[scala.xml.Elem]">map</span>(<a href="#56846" title="(org.apache.ivy.core.module.descriptor.License)scala.xml.Elem">license</a>)}&lt;/licenses&gt;
	<span class="keyword">def</span> <a title="(org.apache.ivy.core.module.descriptor.License)scala.xml.Elem" id="56846">license</a>(<a title="org.apache.ivy.core.module.descriptor.License" id="57580">l</a>: <a title="org.apache.ivy.core.module.descriptor.License" id="19276">License</a>) =
		&lt;license&gt;
			&lt;name&gt;{<a href="#57580" title="org.apache.ivy.core.module.descriptor.License">l</a>.<a title="()java.lang.String" id="57575">getName</a>}&lt;/name&gt;
			&lt;url&gt;{<a href="#57580" title="org.apache.ivy.core.module.descriptor.License">l</a>.<a title="()java.lang.String" id="57576">getUrl</a>}&lt;/url&gt;
			&lt;distribution&gt;<span title="scala.xml.Text">jar</span>&lt;/distribution&gt;
		&lt;/license&gt;
	<span class="keyword">def</span> <a title="(String)scala.xml.NodeSeq" id="56847">homePage</a>(<a title="String" id="57440">homePage</a>: <span title="String">String</span>) = <span title="scala.xml.NodeSeq" class="keyword">if</span>(<a href="#57440" title="String">homePage</a> <span title="(AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span>) <span title="object scala.xml.NodeSeq">NodeSeq</span>.<span title="=&gt; &lt;refinement&gt; extends scala.xml.NodeSeq">Empty</span> <span class="keyword">else</span> &lt;url&gt;{<a href="#57440" title="String">homePage</a>}&lt;/url&gt;
	<span class="keyword">def</span> <a title="(String)scala.xml.NodeSeq" id="56848">revision</a>(<a title="String" id="57503">version</a>: <span title="String">String</span>) = <span title="scala.xml.NodeSeq" class="keyword">if</span>(<a href="#57503" title="String">version</a> <span title="(AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span>) &lt;version&gt;{<a href="#57503" title="String">version</a>}&lt;/version&gt; <span class="keyword">else</span> <span title="object scala.xml.NodeSeq">NodeSeq</span>.<span title="=&gt; &lt;refinement&gt; extends scala.xml.NodeSeq">Empty</span>
	<span class="keyword">def</span> <a title="(org.apache.ivy.core.module.descriptor.ModuleDescriptor)java.lang.String" id="56849">packaging</a>(<a title="org.apache.ivy.core.module.descriptor.ModuleDescriptor" id="57338">module</a>: <span title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">ModuleDescriptor</span>) =
		<a href="#57338" title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">module</a>.<a title="()Array[org.apache.ivy.core.module.descriptor.Artifact]" id="56890">getAllArtifacts</a> <span title="java.lang.String" class="keyword">match</span>
		{
			<span title="java.lang.String(&quot;pom&quot;)" class="keyword">case</span> <a href="#57349" title="(Array[org.apache.ivy.core.module.descriptor.Artifact])Option[Seq[org.apache.ivy.core.module.descriptor.Artifact]]">Array</a>() =&gt; <span title="java.lang.String(&quot;pom&quot;)" class="string">&quot;pom&quot;</span>
			<span title="java.lang.String" class="keyword">case</span> <a href="#57352" title="(Array[org.apache.ivy.core.module.descriptor.Artifact])Option[Seq[org.apache.ivy.core.module.descriptor.Artifact]]">Array</a>(<a title="org.apache.ivy.core.module.descriptor.Artifact" id="57355">x</a>) =&gt; <a href="#57355" title="org.apache.ivy.core.module.descriptor.Artifact">x</a>.<span title="()java.lang.String">getType</span>
			<span title="java.lang.String" class="keyword">case</span> <a title="Array[org.apache.ivy.core.module.descriptor.Artifact]" id="57356">xs</a> =&gt;
				<span class="keyword">val</span> <a title="Array[org.apache.ivy.core.module.descriptor.Artifact]" id="57357">notpom</a> = <a href="#57356" title="Array[org.apache.ivy.core.module.descriptor.Artifact]">xs</a>.<span title="((org.apache.ivy.core.module.descriptor.Artifact) =&gt; Boolean)Array[org.apache.ivy.core.module.descriptor.Artifact]">filter</span>(<a href="#57359" title="org.apache.ivy.core.module.descriptor.Artifact">_</a>.<span title="()java.lang.String">getType</span> <span title="(AnyRef)Boolean">!=</span> <span title="java.lang.String(&quot;pom&quot;)" class="string">&quot;pom&quot;</span>)
				<span title="java.lang.String" class="keyword">if</span>(<a href="#57357" title="Array[org.apache.ivy.core.module.descriptor.Artifact]">notpom</a>.<span title="=&gt; Boolean">isEmpty</span>) <span title="java.lang.String(&quot;pom&quot;)" class="string">&quot;pom&quot;</span> <span class="keyword">else</span> <a href="#57357" title="(Int)org.apache.ivy.core.module.descriptor.Artifact">notpom</a>(<span title="Int(0)" class="int">0</span>).<span title="()java.lang.String">getType</span>
		}

	<span class="keyword">def</span> <a title="(org.apache.ivy.core.module.descriptor.ModuleDescriptor,Option[Iterable[sbt.Configuration]])scala.xml.NodeSeq" id="56850">makeDependencies</a>(<a title="org.apache.ivy.core.module.descriptor.ModuleDescriptor" id="57255">module</a>: <span title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">ModuleDescriptor</span>, <a title="Option[Iterable[sbt.Configuration]]" id="57256">configurations</a>: <span title="Option[Iterable[sbt.Configuration]]">Option</span>[Iterable[Configuration]]): <span title="scala.xml.NodeSeq">NodeSeq</span> =
	{
		<span class="keyword">val</span> <a title="Seq[org.apache.ivy.core.module.descriptor.DependencyDescriptor]" id="57670">dependencies</a> = <a href="#56867" title="(org.apache.ivy.core.module.descriptor.ModuleDescriptor,Option[Iterable[sbt.Configuration]])Seq[org.apache.ivy.core.module.descriptor.DependencyDescriptor]">depsInConfs</a>(<a href="#57255" title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">module</a>, <a href="#57256" title="Option[Iterable[sbt.Configuration]]">configurations</a>)
		<span title="scala.xml.NodeSeq" class="keyword">if</span>(<a href="#57670" title="Seq[org.apache.ivy.core.module.descriptor.DependencyDescriptor]">dependencies</a>.<span title="=&gt; Boolean">isEmpty</span>) <span title="object scala.xml.NodeSeq">NodeSeq</span>.<span title="=&gt; &lt;refinement&gt; extends scala.xml.NodeSeq">Empty</span>
		<span class="keyword">else</span>
			&lt;dependencies&gt;
				{ <a href="#57670" title="Seq[org.apache.ivy.core.module.descriptor.DependencyDescriptor]">dependencies</a>.<span title="((org.apache.ivy.core.module.descriptor.DependencyDescriptor) =&gt; scala.xml.NodeSeq)Seq[scala.xml.NodeSeq]">map</span>(<a href="#56851" title="(org.apache.ivy.core.module.descriptor.DependencyDescriptor)scala.xml.NodeSeq">makeDependency</a>) }
			&lt;/dependencies&gt;
	}

	<span class="keyword">def</span> <a title="(org.apache.ivy.core.module.descriptor.DependencyDescriptor)scala.xml.NodeSeq" id="56851">makeDependency</a>(<a title="org.apache.ivy.core.module.descriptor.DependencyDescriptor" id="57700">dependency</a>: <span title="org.apache.ivy.core.module.descriptor.DependencyDescriptor">DependencyDescriptor</span>): <span title="scala.xml.NodeSeq">NodeSeq</span> =
	{
		<span class="keyword">val</span> <a title="org.apache.ivy.core.module.id.ModuleRevisionId" id="57703">mrid</a> = <a href="#57700" title="org.apache.ivy.core.module.descriptor.DependencyDescriptor">dependency</a>.<a title="()org.apache.ivy.core.module.id.ModuleRevisionId" id="57678">getDependencyRevisionId</a>
		&lt;dependency&gt;
			&lt;groupId&gt;{<a href="#57703" title="org.apache.ivy.core.module.id.ModuleRevisionId">mrid</a>.<span title="()java.lang.String">getOrganisation</span>}&lt;/groupId&gt;
			&lt;artifactId&gt;{<a href="#57703" title="org.apache.ivy.core.module.id.ModuleRevisionId">mrid</a>.<span title="()java.lang.String">getName</span>}&lt;/artifactId&gt;
			&lt;version&gt;{<a href="#57703" title="org.apache.ivy.core.module.id.ModuleRevisionId">mrid</a>.<span title="()java.lang.String">getRevision</span>}&lt;/version&gt;
			{ <a href="#56852" title="(org.apache.ivy.core.module.descriptor.DependencyDescriptor)scala.xml.NodeSeq">scope</a>(<a href="#57700" title="org.apache.ivy.core.module.descriptor.DependencyDescriptor">dependency</a>)}
			{ <a href="#56854" title="(org.apache.ivy.core.module.descriptor.DependencyDescriptor)scala.xml.NodeSeq">optional</a>(<a href="#57700" title="org.apache.ivy.core.module.descriptor.DependencyDescriptor">dependency</a>) }
		&lt;/dependency&gt;
	}

	<span class="keyword">def</span> <a title="(org.apache.ivy.core.module.descriptor.DependencyDescriptor)scala.xml.NodeSeq" id="56852">scope</a>(<a title="org.apache.ivy.core.module.descriptor.DependencyDescriptor" id="57710">dependency</a>: <span title="org.apache.ivy.core.module.descriptor.DependencyDescriptor">DependencyDescriptor</span>): <span title="scala.xml.NodeSeq">NodeSeq</span> =
		<a href="#56853" title="(String)scala.xml.NodeSeq">scope</a>(<a href="#56856" title="(Array[String])String">getScope</a>(<a href="#57710" title="org.apache.ivy.core.module.descriptor.DependencyDescriptor">dependency</a>.<span title="()Array[java.lang.String]">getModuleConfigurations</span>))
	<span class="keyword">def</span> <a title="(String)scala.xml.NodeSeq" id="56853">scope</a>(<a title="String" id="57709">scope</a>: <span title="String">String</span>): <span title="scala.xml.NodeSeq">NodeSeq</span> = <span title="scala.xml.NodeSeq" class="keyword">if</span>(<a href="#57709" title="String">scope</a> <span title="(AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span>) &lt;scope&gt;{<a href="#57709" title="String">scope</a>}&lt;/scope&gt; <span class="keyword">else</span> <span title="object scala.xml.NodeSeq">NodeSeq</span>.<span title="=&gt; &lt;refinement&gt; extends scala.xml.NodeSeq">Empty</span>
	<span class="keyword">def</span> <a title="(org.apache.ivy.core.module.descriptor.DependencyDescriptor)scala.xml.NodeSeq" id="56854">optional</a>(<a title="org.apache.ivy.core.module.descriptor.DependencyDescriptor" id="57711">dependency</a>: <span title="org.apache.ivy.core.module.descriptor.DependencyDescriptor">DependencyDescriptor</span>) =
		<span title="scala.xml.NodeSeq" class="keyword">if</span>(<a href="#56857" title="(Array[String])Boolean">isOptional</a>(<a href="#57711" title="org.apache.ivy.core.module.descriptor.DependencyDescriptor">dependency</a>.<span title="()Array[java.lang.String]">getModuleConfigurations</span>)) &lt;optional&gt;<span title="scala.xml.Text" class="keyword">true</span>&lt;/optional&gt; <span class="keyword">else</span> <span title="object scala.xml.NodeSeq">NodeSeq</span>.<span title="=&gt; &lt;refinement&gt; extends scala.xml.NodeSeq">Empty</span>
	<span class="keyword">def</span> <a title="(org.apache.ivy.core.module.descriptor.ModuleDescriptor)org.apache.ivy.core.module.id.ModuleRevisionId" id="56855">moduleDescriptor</a>(<a title="org.apache.ivy.core.module.descriptor.ModuleDescriptor" id="57300">module</a>: <span title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">ModuleDescriptor</span>) = <a href="#57300" title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">module</a>.<a title="()org.apache.ivy.core.module.id.ModuleRevisionId" id="56879">getModuleRevisionId</a>

	<span class="keyword">def</span> <a title="(Array[String])String" id="56856">getScope</a>(<a title="Array[String]" id="57780">confs</a>: <span title="Array[String]">Array</span>[String]) =
	{
		<a href="IvyInterface.scala.html#9307" title="object sbt.Configurations">Configurations</a>.<a href="IvyInterface.scala.html#18790" title="=&gt; List[sbt.Configuration]">defaultMavenConfigurations</a>.<a title="((sbt.Configuration) =&gt; Boolean)Option[sbt.Configuration]" id="17764">find</a>(<a title="sbt.Configuration" id="57784">conf</a> =&gt; <a href="#57780" title="Array[String]">confs</a>.<a title="(Any)Boolean" id="16550">contains</a>(<a href="#57784" title="sbt.Configuration">conf</a>.<a href="IvyInterface.scala.html#15191" title="=&gt; String">name</a>)) <span title="String" class="keyword">match</span>
		{
			<span title="String" class="keyword">case</span> <a id="1">Some</a>(<a title="sbt.Configuration" id="57785">conf</a>) =&gt; <a href="#57785" title="sbt.Configuration">conf</a>.<a href="IvyInterface.scala.html#15191" title="=&gt; String">name</a>
			<span title="String" class="keyword">case</span> <span title="object None">None</span> =&gt;
				<span title="String" class="keyword">if</span>(<a href="#57780" title="Array[String]">confs</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(Boolean)Boolean">||</span> <a href="#57780" title="(Int)String">confs</a>(<span title="Int(0)" class="int">0</span>) <span title="(AnyRef)Boolean">==</span> <a href="IvyInterface.scala.html#9307" title="object sbt.Configurations">Configurations</a>.<a href="IvyInterface.scala.html#18791" title="=&gt; sbt.Configuration">Default</a>.<a href="IvyInterface.scala.html#15191" title="=&gt; String">name</a>)
					<span title="Null(null)" class="keyword">null</span>
				<span class="keyword">else</span>
					<a href="#57780" title="(Int)String">confs</a>(<span title="Int(0)" class="int">0</span>)
		}
	}
	<span class="keyword">def</span> <a title="(Array[String])Boolean" id="56857">isOptional</a>(<a title="Array[String]" id="57713">confs</a>: <span title="Array[String]">Array</span>[String]) = <a href="#57713" title="Array[String]">confs</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(Boolean)Boolean">||</span> (<a href="#57713" title="Array[String]">confs</a>.<a title="=&gt; Int" id="17100">length</a> <a title="(Int)Boolean" id="3089">==</a> <span title="Int(1)" class="int">1</span> <span title="(Boolean)Boolean">&amp;&amp;</span> <a href="#57713" title="(Int)String">confs</a>(<span title="Int(0)" class="int">0</span>) <span title="(AnyRef)Boolean">==</span> <a href="IvyInterface.scala.html#9307" title="object sbt.Configurations">Configurations</a>.<a href="IvyInterface.scala.html#18809" title="=&gt; sbt.Configuration">Optional</a>.<a href="IvyInterface.scala.html#15191" title="=&gt; String">name</a>)


	<span class="keyword">def</span> <a title="(org.apache.ivy.core.settings.IvySettings)Seq[scala.xml.Node]" id="56858">makeRepositories</a>(<a title="org.apache.ivy.core.settings.IvySettings" id="57257">settings</a>: <a title="org.apache.ivy.core.settings.IvySettings" id="20125">IvySettings</a>) =
	{
		<span class="keyword">class</span> <a title="class MavenRepo extends java.lang.Object with ScalaObject" id="57259">MavenRepo</a>(<a title="String" id="57274">name</a>: <span title="String">String</span>, <a title="Boolean" id="57275">snapshots</a>: <span title="Boolean">Boolean</span>, <a title="Boolean" id="57276">releases</a>: <span title="Boolean">Boolean</span>)
		<span class="keyword">val</span> <a title="Seq[org.apache.ivy.plugins.resolver.DependencyResolver]" id="57260">repositories</a> = <a href="#56860" title="(org.apache.ivy.plugins.resolver.DependencyResolver)Seq[org.apache.ivy.plugins.resolver.DependencyResolver]">resolvers</a>(<a href="#57257" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<a title="()org.apache.ivy.plugins.resolver.DependencyResolver" id="20637">getDefaultResolver</a>)
		<span class="keyword">val</span> <a title="Seq[org.apache.ivy.plugins.resolver.IBiblioResolver]" id="57261">mavenRepositories</a> =
			<a href="#57260" title="Seq[org.apache.ivy.plugins.resolver.DependencyResolver]">repositories</a>.<span title="((org.apache.ivy.plugins.resolver.DependencyResolver) =&gt; Iterable[org.apache.ivy.plugins.resolver.IBiblioResolver])Seq[org.apache.ivy.plugins.resolver.IBiblioResolver]">flatMap</span> <a href="#57280" title="List[org.apache.ivy.plugins.resolver.IBiblioResolver]">{</a>
				<span title="List[org.apache.ivy.plugins.resolver.IBiblioResolver]" class="keyword">case</span> <a title="org.apache.ivy.plugins.resolver.IBiblioResolver" id="57281">m</a>: <a title="org.apache.ivy.plugins.resolver.IBiblioResolver" id="14942">IBiblioResolver</a> <span class="keyword">if</span> <a href="#57281" title="org.apache.ivy.plugins.resolver.IBiblioResolver">m</a>.<a title="()Boolean" id="30934">isM2compatible</a> <span title="(Boolean)Boolean">&amp;&amp;</span> <a href="#57281" title="org.apache.ivy.plugins.resolver.IBiblioResolver">m</a>.<span title="()java.lang.String">getRoot</span> <span title="(AnyRef)Boolean">!=</span> IBiblioResolver.<span title="java.lang.String(&quot;http://repo1.maven.org/maven2/&quot;)">DEFAULT_M2_ROOT</span> =&gt; <a href="#57281" title="org.apache.ivy.plugins.resolver.IBiblioResolver">m</a> <a href="#57284" title="(org.apache.ivy.plugins.resolver.IBiblioResolver)List[org.apache.ivy.plugins.resolver.IBiblioResolver]">::</a> <span title="object Nil">Nil</span>
				<span title="Nil.type" class="keyword">case</span> _ =&gt; <span title="object Nil">Nil</span>
			}
		<span class="keyword">val</span> <a title="Seq[scala.xml.Node]" id="57262">repositoryElements</a> = <a href="#57261" title="Seq[org.apache.ivy.plugins.resolver.IBiblioResolver]">mavenRepositories</a>.<span title="((org.apache.ivy.plugins.resolver.IBiblioResolver) =&gt; scala.xml.Node)Seq[scala.xml.Node]">map</span> { <a title="org.apache.ivy.plugins.resolver.IBiblioResolver" id="57289">repo</a> =&gt; <a href="#56865" title="(String,String)scala.xml.Node">mavenRepository</a>(<a href="#57289" title="org.apache.ivy.plugins.resolver.IBiblioResolver">repo</a>.<a title="()java.lang.String" id="31007">getName</a>, <a href="#57289" title="org.apache.ivy.plugins.resolver.IBiblioResolver">repo</a>.<span title="()java.lang.String">getRoot</span>) }
		<span title="Seq[scala.xml.Node]" class="keyword">if</span>(<a href="#57262" title="Seq[scala.xml.Node]">repositoryElements</a>.<span title="=&gt; Boolean">isEmpty</span>) <a href="#57262" title="Seq[scala.xml.Node]">repositoryElements</a> <span class="keyword">else</span> &lt;repositories&gt;{<a href="#57262" title="Seq[scala.xml.Node]">repositoryElements</a>}&lt;/repositories&gt;
	}
	<span class="keyword">def</span> <a title="(Seq[org.apache.ivy.plugins.resolver.DependencyResolver])Seq[org.apache.ivy.plugins.resolver.DependencyResolver]" id="56859">flatten</a>(<a title="Seq[org.apache.ivy.plugins.resolver.DependencyResolver]" id="57795">rs</a>: <span title="Seq[org.apache.ivy.plugins.resolver.DependencyResolver]">Seq</span>[DependencyResolver]): <span title="Seq[org.apache.ivy.plugins.resolver.DependencyResolver]">Seq</span>[DependencyResolver] = <span title="Seq[org.apache.ivy.plugins.resolver.DependencyResolver]" class="keyword">if</span>(<a href="#57795" title="Seq[org.apache.ivy.plugins.resolver.DependencyResolver]">rs</a> <span title="(AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span>) <span title="object Nil">Nil</span> <span class="keyword">else</span> <a href="#57795" title="Seq[org.apache.ivy.plugins.resolver.DependencyResolver]">rs</a>.<span title="((org.apache.ivy.plugins.resolver.DependencyResolver) =&gt; Iterable[org.apache.ivy.plugins.resolver.DependencyResolver])Seq[org.apache.ivy.plugins.resolver.DependencyResolver]">flatMap</span>(<a href="#56860" title="(org.apache.ivy.plugins.resolver.DependencyResolver)Seq[org.apache.ivy.plugins.resolver.DependencyResolver]">resolvers</a>)
	<span class="keyword">def</span> <a title="(org.apache.ivy.plugins.resolver.DependencyResolver)Seq[org.apache.ivy.plugins.resolver.DependencyResolver]" id="56860">resolvers</a>(<a title="org.apache.ivy.plugins.resolver.DependencyResolver" id="57277">r</a>: <span title="org.apache.ivy.plugins.resolver.DependencyResolver">DependencyResolver</span>): <span title="Seq[org.apache.ivy.plugins.resolver.DependencyResolver]">Seq</span>[DependencyResolver] =
		<a href="#57277" title="org.apache.ivy.plugins.resolver.DependencyResolver">r</a> <span title="Seq[org.apache.ivy.plugins.resolver.DependencyResolver]" class="keyword">match</span> { <span title="Seq[org.apache.ivy.plugins.resolver.DependencyResolver]" class="keyword">case</span> <a title="org.apache.ivy.plugins.resolver.ChainResolver" id="57799">c</a>: <a title="org.apache.ivy.plugins.resolver.ChainResolver" id="14972">ChainResolver</a> =&gt; <a href="#56859" title="(Seq[org.apache.ivy.plugins.resolver.DependencyResolver])Seq[org.apache.ivy.plugins.resolver.DependencyResolver]">flatten</a>(<a href="#56861" title="(java.util.Collection[_])Seq[org.apache.ivy.plugins.resolver.DependencyResolver]">castResolvers</a>(<a href="#57799" title="org.apache.ivy.plugins.resolver.ChainResolver">c</a>.<a title="()java.util.List[_]" id="57818">getResolvers</a>)); <span title="List[org.apache.ivy.plugins.resolver.DependencyResolver]" class="keyword">case</span> _ =&gt; <a href="#57277" title="org.apache.ivy.plugins.resolver.DependencyResolver">r</a> <a href="#57835" title="(org.apache.ivy.plugins.resolver.DependencyResolver)List[org.apache.ivy.plugins.resolver.DependencyResolver]">::</a> <span title="object Nil">Nil</span> }

	<span class="comment">// cast the contents of a pre-generics collection</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(java.util.Collection[_])Seq[org.apache.ivy.plugins.resolver.DependencyResolver]" id="56861">castResolvers</a>(<a title="java.util.Collection[_]" id="57831">s</a>: <a title="java.util.Collection[_]" id="5436">java</a>.util.Collection[_]): <span title="Seq[org.apache.ivy.plugins.resolver.DependencyResolver]">Seq</span>[DependencyResolver] =
		<a href="#57831" title="java.util.Collection[_]">s</a>.<a title="()Array[java.lang.Object]" id="16171">toArray</a>.<span title="((java.lang.Object) =&gt; org.apache.ivy.plugins.resolver.DependencyResolver)Array[org.apache.ivy.plugins.resolver.DependencyResolver]">map</span>(<a href="#57843" title="java.lang.Object">_</a>.<a title="org.apache.ivy.plugins.resolver.DependencyResolver" id="3451">asInstanceOf</a>[<span title="org.apache.ivy.plugins.resolver.DependencyResolver">DependencyResolver</span>])

	<span class="keyword">def</span> <a title="(String)String" id="56862">toID</a>(<a title="String" id="57844">name</a>: <span title="String">String</span>) = <a href="#56864" title="(String,String)String">checkID</a>(<a href="#57844" title="implicit scala.Predef.stringWrapper : (String)scala.runtime.RichString">name</a>.<a title="((Char) =&gt; Boolean)Seq[Char]" id="16542">filter</a>(<a href="#56863" title="(Char)Boolean">isValidIDCharacter</a>).<a title="=&gt; String" id="16098">mkString</a>, <a href="#57844" title="String">name</a>)
	<span class="keyword">def</span> <a title="(Char)Boolean" id="56863">isValidIDCharacter</a>(<a title="Char" id="57863">c</a>: <a title="Char" id="2346">Char</a>) = <a href="#57863" title="implicit scala.Predef.charWrapper : (Char)scala.runtime.RichChar" id="6219">c</a>.<a title="=&gt; Boolean" id="18590">isLetterOrDigit</a>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(String,String)String" id="56864">checkID</a>(<a title="String" id="57846">id</a>: <span title="String">String</span>, <a title="String" id="57847">name</a>: <span title="String">String</span>) = <span title="String" class="keyword">if</span>(<a href="#57846" title="implicit scala.Predef.stringWrapper : (String)scala.runtime.RichString">id</a>.<span title="=&gt; Boolean">isEmpty</span>) <a title="(String)Nothing" id="6085">error</a>(<span title="java.lang.String(&quot;Could not convert '&quot;)" class="string">&quot;Could not convert '&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#57847" title="String">name</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;' to an ID&quot;)" class="string">&quot;' to an ID&quot;</span>) <span class="keyword">else</span> <a href="#57846" title="String">id</a>
	<span class="keyword">def</span> <a title="(String,String)scala.xml.Node" id="56865">mavenRepository</a>(<a title="String" id="57294">name</a>: <span title="String">String</span>, <a title="String" id="57295">root</a>: <span title="String">String</span>): <span title="scala.xml.Node">Node</span> =
		<a href="#56866" title="(String,String,String)scala.xml.Node">mavenRepository</a>(<a href="#56862" title="(String)String">toID</a>(<a href="#57294" title="String">name</a>), <a href="#57294" title="String">name</a>, <a href="#57295" title="String">root</a>)
	<span class="keyword">def</span> <a title="(String,String,String)scala.xml.Node" id="56866">mavenRepository</a>(<a title="String" id="57291">id</a>: <span title="String">String</span>, <a title="String" id="57292">name</a>: <span title="String">String</span>, <a title="String" id="57293">root</a>: <span title="String">String</span>): <span title="scala.xml.Node">Node</span> =
		&lt;repository&gt;
			&lt;id&gt;{<a href="#57291" title="String">id</a>}&lt;/id&gt;
			&lt;name&gt;{<a href="#57292" title="String">name</a>}&lt;/name&gt;
			&lt;url&gt;{<a href="#57293" title="String">root</a>}&lt;/url&gt;
		&lt;/repository&gt;

	<span class="comment">/** Retain dependencies only with the configurations given, or all public configurations of `module` if `configurations` is None.
	* This currently only preserves the information required by makePom*/</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(org.apache.ivy.core.module.descriptor.ModuleDescriptor,Option[Iterable[sbt.Configuration]])Seq[org.apache.ivy.core.module.descriptor.DependencyDescriptor]" id="56867">depsInConfs</a>(<a title="org.apache.ivy.core.module.descriptor.ModuleDescriptor" id="57671">module</a>: <span title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">ModuleDescriptor</span>, <a title="Option[Iterable[sbt.Configuration]]" id="57672">configurations</a>: <span title="Option[Iterable[sbt.Configuration]]">Option</span>[Iterable[Configuration]]): <span title="Seq[org.apache.ivy.core.module.descriptor.DependencyDescriptor]">Seq</span>[DependencyDescriptor] =
	{
		<span class="keyword">val</span> <a title="Array[String]" id="57877">keepConfigurations</a> = <a href="Ivy.scala.html#7750" title="object sbt.IvySbt">IvySbt</a>.<a href="Ivy.scala.html#23957" title="(org.apache.ivy.core.module.descriptor.ModuleDescriptor,Option[Iterable[sbt.Configuration]])Array[String]">getConfigurations</a>(<a href="#57671" title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">module</a>, <a href="#57672" title="Option[Iterable[sbt.Configuration]]">configurations</a>)
		<span class="keyword">val</span> <a title="scala.collection.immutable.Set[String]" id="57878">keepSet</a> = <a title="(String*)scala.collection.immutable.Set[String]" id="6083">Set</a>(<a href="#57877" title="Array[String]">keepConfigurations</a>.<a title="=&gt; Seq[String]" id="16554">toSeq</a> : _*)
		<span class="keyword">def</span> <a title="(org.apache.ivy.core.module.descriptor.DependencyDescriptor)Option[org.apache.ivy.core.module.descriptor.DependencyDescriptor]" id="57879">translate</a>(<a title="org.apache.ivy.core.module.descriptor.DependencyDescriptor" id="57893">dependency</a>: <span title="org.apache.ivy.core.module.descriptor.DependencyDescriptor">DependencyDescriptor</span>) =
		{
			<span class="keyword">val</span> <a title="Array[java.lang.String]" id="57894">keep</a> = <a href="#57893" title="org.apache.ivy.core.module.descriptor.DependencyDescriptor">dependency</a>.<span title="()Array[java.lang.String]">getModuleConfigurations</span>.<span title="((java.lang.String) =&gt; Boolean)Array[java.lang.String]">filter</span>(<a href="#57878" title="scala.collection.immutable.Set[String]">keepSet</a>.<a href="#57897" title="(String)Boolean" id="17941">contains</a>)
			<span title="Option[org.apache.ivy.core.module.descriptor.DependencyDescriptor]" class="keyword">if</span>(<a href="#57894" title="Array[java.lang.String]">keep</a>.<span title="=&gt; Boolean">isEmpty</span>)
				<span title="object None">None</span>
			<span class="keyword">else</span> <span class="comment">// TODO: translate the dependency to contain only configurations to keep</span>
				<a title="(org.apache.ivy.core.module.descriptor.DependencyDescriptor)Some[org.apache.ivy.core.module.descriptor.DependencyDescriptor]" id="286">Some</a>(<a href="#57893" title="org.apache.ivy.core.module.descriptor.DependencyDescriptor">dependency</a>)
		}
		<a href="#57671" title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">module</a>.<a title="()Array[org.apache.ivy.core.module.descriptor.DependencyDescriptor]" id="56891">getDependencies</a> <a title="((org.apache.ivy.core.module.descriptor.DependencyDescriptor) =&gt; Iterable[org.apache.ivy.core.module.descriptor.DependencyDescriptor])Array[org.apache.ivy.core.module.descriptor.DependencyDescriptor]" id="17110">flatMap</a> <a href="#57879" title="(Option[org.apache.ivy.core.module.descriptor.DependencyDescriptor])Iterable[org.apache.ivy.core.module.descriptor.DependencyDescriptor]" id="898">translate</a>
	}
}
        </pre>
    </body>
</html>