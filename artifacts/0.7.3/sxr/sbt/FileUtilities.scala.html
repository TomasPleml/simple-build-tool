<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>sbt/FileUtilities.scala</title>
        <script type="text/javascript" src="../jquery-all.js"></script>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* sbt -- Simple Build Tool
 * Copyright 2008, 2009, 2010 Mark Harrah, Nathan Hamblen, Justin Caballero
 */</span>
<span class="keyword">package</span> sbt

<span class="keyword">import</span> java.io.{Closeable, File, FileInputStream, FileOutputStream, InputStream, OutputStream}
<span class="keyword">import</span> java.io.{ByteArrayOutputStream, InputStreamReader, OutputStreamWriter}
<span class="keyword">import</span> java.io.{BufferedReader, BufferedWriter, FileReader, FileWriter, Reader, Writer}
<span class="keyword">import</span> java.util.zip.{GZIPInputStream, GZIPOutputStream}
<span class="keyword">import</span> java.net.{URL, URISyntaxException}
<span class="keyword">import</span> java.nio.charset.{Charset, CharsetDecoder, CharsetEncoder}
<span class="keyword">import</span> java.nio.channels.FileChannel
<span class="keyword">import</span> java.util.jar.{Attributes, JarEntry, JarFile, JarInputStream, JarOutputStream, Manifest}
<span class="keyword">import</span> java.util.zip.{GZIPOutputStream, ZipEntry, ZipFile, ZipInputStream, ZipOutputStream}

<span class="keyword">import</span> OpenResource._

<span class="keyword">final</span> <span class="keyword">class</span> <a title="class Preserved extends java.lang.Object with NotNull with ScalaObject" id="10659">Preserved</a> <span class="keyword">private</span>[sbt](<a title="scala.collection.Map[java.io.File,sbt.Path]" id="87802">toRestore</a>: scala.collection.<a title="scala.collection.Map[java.io.File,sbt.Path]" id="15413">Map</a>[File, Path], <a title="java.io.File" id="87803">temp</a>: <span title="java.io.File">File</span>) <span class="keyword">extends</span> <span title="NotNull">NotNull</span>
{
	<span class="keyword">def</span> <a title="(sbt.Logger)Option[String]" id="25564">restore</a>(<a title="sbt.Logger" id="25583">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>) =
	{
		<span class="keyword">try</span>
		{
			<a href="Control.scala.html#11797" title="object sbt.Control">Control</a>.<a href="Control.scala.html#25447" title="(List[(java.io.File, sbt.Path)])(((java.io.File, sbt.Path)) =&gt; Option[String])Option[String]">lazyFold</a>(<a href="#87802" title="scala.collection.Map[java.io.File,sbt.Path]">toRestore</a>.<span title="=&gt; List[(java.io.File, sbt.Path)]">toList</span>) <a href="#25603" title="Option[String]">{</a> <span title="Option[String]" class="keyword">case</span> (<a title="java.io.File" id="25604">src</a>, <a title="sbt.Path" id="25605">dest</a>) =&gt;
				<a href="#9046" title="object sbt.FileUtilities">FileUtilities</a>.<a href="#15267" title="(java.io.File,java.io.File,sbt.Logger)Option[String]">copyFile</a>(<a href="#25604" title="java.io.File">src</a>, <a href="#25605" title="sbt.Path">dest</a>.<a href="Path.scala.html#17865" title="=&gt; java.io.File">asFile</a>, <a href="#25583" title="sbt.Logger">log</a>)
			}
		}
		<span class="keyword">finally</span> { <a href="#9046" title="object sbt.FileUtilities">FileUtilities</a>.<a href="#15275" title="(Iterable[sbt.Path],Boolean,sbt.Logger)Option[String]">clean</a>(<a href="Path.scala.html#10153" title="object sbt.Path">Path</a>.<a href="Path.scala.html#15373" title="(java.io.File)sbt.Path">fromFile</a>(<a href="#87803" title="java.io.File">temp</a>) <a href="#25614" title="(sbt.Path)List[sbt.Path]">::</a> <span title="object Nil">Nil</span>, <span title="Boolean(true)" class="keyword">true</span>, <a href="#25583" title="sbt.Logger">log</a>) }
	}
}

<span class="comment">/** A collection of file related methods. */</span>
<span class="keyword">object</span> <a title="object sbt.FileUtilities" id="9046">FileUtilities</a>
{
	<span class="keyword">import</span> wrap.Wrappers.readOnly
	<span class="comment">/** The size of the byte or char buffer used in various methods.*/</span>
	<span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="15211">BufferSize</a> = <span title="Int(8192)" class="int">8192</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="15213">Newline</a> = <span title="object java.lang.System">System</span>.<span title="(java.lang.String)java.lang.String">getProperty</span>(<span title="java.lang.String(&quot;line.separator&quot;)" class="string">&quot;line.separator&quot;</span>)
	<span class="comment">/** A pattern used to split a String by path separator characters.*/</span>
	<span class="keyword">private</span> <span class="keyword">val</span> <a title="java.util.regex.Pattern" id="15215">PathSeparatorPattern</a> = java.util.regex.<a title="object java.util.regex.Pattern" id="16893">Pattern</a>.<a title="(java.lang.String)java.util.regex.Pattern" id="36578">compile</a>(<span title="object java.io.File">File</span>.<a title="java.lang.String" id="16001">pathSeparator</a>)

	<span class="comment">/** Splits a String around path separator characters. */</span>
	<span class="keyword">private</span>[sbt] <span class="keyword">def</span> <a title="(String)Array[java.lang.String]" id="15217">pathSplit</a>(<a title="String" id="39397">s</a>: <span title="String">String</span>) = <a href="#15215" title="=&gt; java.util.regex.Pattern">PathSeparatorPattern</a>.<a title="(java.lang.CharSequence)Array[java.lang.String]" id="36586">split</a>(<a href="#39397" title="String">s</a>)

	<span class="keyword">def</span> <a title="(Iterable[sbt.Path],sbt.Logger)Either[String,sbt.Preserved]" id="15218">preserve</a>(<a title="Iterable[sbt.Path]" id="25557">paths</a>: <span title="Iterable[sbt.Path]">Iterable</span>[Path], <a title="sbt.Logger" id="25558">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Either[String,sbt.Preserved]">Either</span>[String, Preserved] =
	{
		<span class="keyword">for</span>(<a title="((java.io.File) =&gt; sbt.Preserved)Either[String,sbt.Preserved] with Product" id="87817">tmp</a> &lt;- <a href="#15251" title="(sbt.Logger)Either[String,java.io.File]">createTemporaryDirectory</a>(<a href="#25558" title="sbt.Logger">log</a>).<span title="=&gt; Either.RightProjection[String,java.io.File]">right</span>) <span class="keyword">yield</span>
		{
			<span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[java.io.File,sbt.Path]" id="87818">pathMap</a> = <span title="scala.collection.mutable.HashMap[java.io.File,sbt.Path]" class="keyword">new</span> scala.collection.mutable.<span title="scala.collection.mutable.HashMap[java.io.File,sbt.Path]">HashMap</span>[File, Path]
			<span class="keyword">val</span> <a title="sbt.Path" id="87819">destinationDirectory</a> = <a href="Path.scala.html#10153" title="object sbt.Path">Path</a>.<a href="Path.scala.html#15373" title="(java.io.File)sbt.Path">fromFile</a>(<a href="#87817" title="java.io.File">tmp</a>)
			<span class="keyword">for</span>(<a title="((sbt.Path) =&gt; Unit)Unit" id="87822">source</a> &lt;- <a href="#25557" title="Iterable[sbt.Path]">paths</a>)
			{
				<span class="keyword">val</span> <a title="sbt.Path" id="87823">toPath</a> = <a href="Path.scala.html#10153" title="object sbt.Path">Path</a>.<a href="Path.scala.html#15364" title="(sbt.Path,String)sbt.Path">fromString</a>(<a href="#87819" title="sbt.Path">destinationDirectory</a>, <a href="#87822" title="sbt.Path">source</a>.<a href="Path.scala.html#17867" title="=&gt; String">relativePath</a>)
				<a href="#15266" title="(sbt.Path,sbt.Path,sbt.Logger)Option[String]">copyFile</a>(<a href="#87822" title="sbt.Path">source</a>, <a href="#87823" title="sbt.Path">toPath</a>, <a href="#25558" title="sbt.Logger">log</a>)
				<a href="#87818" title="scala.collection.mutable.HashMap[java.io.File,sbt.Path]">pathMap</a>(<a href="#87823" title="sbt.Path">toPath</a>.<a href="Path.scala.html#17865" title="=&gt; java.io.File">asFile</a>) = <a href="#87822" title="sbt.Path">source</a>
			}
			<span title="sbt.Preserved" class="keyword">new</span> <a href="#10659" title="sbt.Preserved">Preserved</a>(<a href="wrap/Wrappers.scala.html#18046" title="(scala.collection.mutable.Map[java.io.File,sbt.Path])scala.collection.Map[java.io.File,sbt.Path]">readOnly</a>(<a href="#87818" title="scala.collection.mutable.HashMap[java.io.File,sbt.Path]">pathMap</a>), <a href="#87817" title="java.io.File">tmp</a>)
		}
	}

	<span class="comment">/** Gzips the file 'in' and writes it to 'out'.  'in' cannot be the same file as 'out'. */</span>
	<span class="keyword">def</span> <a title="(sbt.Path,sbt.Path,sbt.Logger)Option[String]" id="15219">gzip</a>(<a title="sbt.Path" id="62204">in</a>: <a href="Path.scala.html#10152" title="sbt.Path">Path</a>, <a title="sbt.Path" id="62205">out</a>: <a href="Path.scala.html#10152" title="sbt.Path">Path</a>, <a title="sbt.Logger" id="62206">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Option[String]">Option</span>[String] =
	{
		<span title="(Boolean,Any)Unit">require</span>(<a href="#62204" title="sbt.Path">in</a> <span title="(AnyRef)Boolean">!=</span> <a href="#62205" title="sbt.Path">out</a>, <span title="java.lang.String(&quot;Input file cannot be the same as the output file.&quot;)" class="string">&quot;Input file cannot be the same as the output file.&quot;</span>)
		<a href="#15309" title="(java.io.File,sbt.Logger)((java.io.InputStream) =&gt; Option[String])Option[String]">readStream</a>(<a href="#62204" title="sbt.Path">in</a>.<a href="Path.scala.html#17865" title="=&gt; java.io.File">asFile</a>, <a href="#62206" title="sbt.Logger">log</a>) { <a title="java.io.InputStream" id="87890">inputStream</a> =&gt;
			<a href="#15307" title="(java.io.File,sbt.Logger)((java.io.OutputStream) =&gt; Option[String])Option[String]">writeStream</a>(<a href="#62205" title="sbt.Path">out</a>.<a href="Path.scala.html#17865" title="=&gt; java.io.File">asFile</a>, <a href="#62206" title="sbt.Logger">log</a>) { <a title="java.io.OutputStream" id="87897">outputStream</a> =&gt;
				<a href="#15220" title="(java.io.InputStream,java.io.OutputStream,sbt.Logger)Option[String]">gzip</a>(<a href="#87890" title="java.io.InputStream">inputStream</a>, <a href="#87897" title="java.io.OutputStream">outputStream</a>, <a href="#62206" title="sbt.Logger">log</a>)
			}
		}
	}
	<span class="comment">/** Gzips the InputStream 'in' and writes it to 'output'.  Neither stream is closed.*/</span>
	<span class="keyword">def</span> <a title="(java.io.InputStream,java.io.OutputStream,sbt.Logger)Option[String]" id="15220">gzip</a>(<a title="java.io.InputStream" id="62201">input</a>: <span title="java.io.InputStream">InputStream</span>, <a title="java.io.OutputStream" id="62202">output</a>: <span title="java.io.OutputStream">OutputStream</span>, <a title="sbt.Logger" id="62203">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Option[String]">Option</span>[String] =
		<a href="#21133" title="=&gt; sbt.WrapOpenResource[java.io.OutputStream,java.util.zip.GZIPOutputStream]">gzipOutputStream</a>.<a href="#87905" title="(java.io.OutputStream,String,sbt.Logger)((java.util.zip.GZIPOutputStream) =&gt; Option[String])Option[String]">ioOption</a>(<a href="#62202" title="java.io.OutputStream">output</a>, <span title="java.lang.String(&quot;gzipping&quot;)" class="string">&quot;gzipping&quot;</span>, <a href="#62203" title="sbt.Logger">log</a>) { <a title="java.util.zip.GZIPOutputStream" id="87962">gzStream</a> =&gt; <a href="#15239" title="(java.io.InputStream,java.io.OutputStream,sbt.Logger)Option[String]">transfer</a>(<a href="#62201" title="java.io.InputStream">input</a>, <a href="#87962" title="java.util.zip.GZIPOutputStream">gzStream</a>, <a href="#62203" title="sbt.Logger">log</a>) }

	<span class="keyword">def</span> <a title="(java.io.InputStream,java.io.OutputStream,sbt.Logger)Option[String]" id="15221">gunzip</a>(<a title="java.io.InputStream" id="87966">input</a>: <span title="java.io.InputStream">InputStream</span>, <a title="java.io.OutputStream" id="87967">output</a>: <span title="java.io.OutputStream">OutputStream</span>, <a title="sbt.Logger" id="87968">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Option[String]">Option</span>[String] =
		<a href="#21131" title="=&gt; sbt.WrapOpenResource[java.io.InputStream,java.util.zip.GZIPInputStream]">gzipInputStream</a>.<a href="#87905" title="(java.io.InputStream,String,sbt.Logger)((java.util.zip.GZIPInputStream) =&gt; Option[String])Option[String]">ioOption</a>(<a href="#87966" title="java.io.InputStream">input</a>, <span title="java.lang.String(&quot;gunzipping&quot;)" class="string">&quot;gunzipping&quot;</span>, <a href="#87968" title="sbt.Logger">log</a>) { <a title="java.util.zip.GZIPInputStream" id="87987">gzStream</a> =&gt; <a href="#15239" title="(java.io.InputStream,java.io.OutputStream,sbt.Logger)Option[String]">transfer</a>(<a href="#87987" title="java.util.zip.GZIPInputStream">gzStream</a>, <a href="#87967" title="java.io.OutputStream">output</a>, <a href="#87968" title="sbt.Logger">log</a>) }
	<span class="comment">/** Gunzips the file 'in' and writes it to 'out'.  'in' cannot be the same file as 'out'. */</span>
	<span class="keyword">def</span> <a title="(sbt.Path,sbt.Path,sbt.Logger)Option[String]" id="15222">gunzip</a>(<a title="sbt.Path" id="87988">in</a>: <a href="Path.scala.html#10152" title="sbt.Path">Path</a>, <a title="sbt.Path" id="87989">out</a>: <a href="Path.scala.html#10152" title="sbt.Path">Path</a>, <a title="sbt.Logger" id="87990">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Option[String]">Option</span>[String] =
	{
		<span title="(Boolean,Any)Unit">require</span>(<a href="#87988" title="sbt.Path">in</a> <span title="(AnyRef)Boolean">!=</span> <a href="#87989" title="sbt.Path">out</a>, <span title="java.lang.String(&quot;Input file cannot be the same as the output file.&quot;)" class="string">&quot;Input file cannot be the same as the output file.&quot;</span>)
		<a href="#15309" title="(java.io.File,sbt.Logger)((java.io.InputStream) =&gt; Option[String])Option[String]">readStream</a>(<a href="#87988" title="sbt.Path">in</a>.<a href="Path.scala.html#17865" title="=&gt; java.io.File">asFile</a>, <a href="#87990" title="sbt.Logger">log</a>) { <a title="java.io.InputStream" id="88001">inputStream</a> =&gt;
			<a href="#15307" title="(java.io.File,sbt.Logger)((java.io.OutputStream) =&gt; Option[String])Option[String]">writeStream</a>(<a href="#87989" title="sbt.Path">out</a>.<a href="Path.scala.html#17865" title="=&gt; java.io.File">asFile</a>, <a href="#87990" title="sbt.Logger">log</a>) { <a title="java.io.OutputStream" id="88004">outputStream</a> =&gt;
				<a href="#15221" title="(java.io.InputStream,java.io.OutputStream,sbt.Logger)Option[String]">gunzip</a>(<a href="#88001" title="java.io.InputStream">inputStream</a>, <a href="#88004" title="java.io.OutputStream">outputStream</a>, <a href="#87990" title="sbt.Logger">log</a>)
			}
		}
	}

	<span class="comment">/** Creates a jar file.
	* @param sources The files to include in the jar file.  The path used for the jar is
	* relative to the base directory for the source.  That is, the path in the jar for source
	* &lt;code&gt;(basePath ##) / x / y&lt;/code&gt; is &lt;code&gt;x / y&lt;/code&gt;.
	* @param outputJar The file to write the jar to.
	* @param manifest The manifest for the jar.
	* @param recursive If true, any directories in &lt;code&gt;sources&lt;/code&gt; are recursively processed.  Otherwise,
	* they are not
	* @param log The Logger to use. */</span>
	<span class="keyword">def</span> <a title="(Iterable[sbt.Path],sbt.Path,java.util.jar.Manifest,Boolean,sbt.Logger)Option[String]" id="15223">jar</a>(<a title="Iterable[sbt.Path]" id="29692">sources</a>: <span title="Iterable[sbt.Path]">Iterable</span>[Path], <a title="sbt.Path" id="29693">outputJar</a>: <a href="Path.scala.html#10152" title="sbt.Path">Path</a>, <a title="java.util.jar.Manifest" id="29694">manifest</a>: <span title="java.util.jar.Manifest">Manifest</span>, <a title="Boolean" id="29695">recursive</a>: <span title="Boolean">Boolean</span>, <a title="sbt.Logger" id="29696">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>) =
		<a href="#15226" title="(Iterable[sbt.Path],sbt.Path,Option[java.util.jar.Manifest],Boolean,sbt.Logger)Option[String]">archive</a>(<a href="#29692" title="Iterable[sbt.Path]">sources</a>, <a href="#29693" title="sbt.Path">outputJar</a>, <span title="(java.util.jar.Manifest)Some[java.util.jar.Manifest]">Some</span>(<a href="#29694" title="java.util.jar.Manifest">manifest</a>), <a href="#29695" title="Boolean">recursive</a>, <a href="#29696" title="sbt.Logger">log</a>)
	@<a title="deprecated" id="201">deprecated</a> <span class="keyword">def</span> <a title="(Iterable[sbt.Path],sbt.Path,java.util.jar.Manifest,Boolean,sbt.Logger)Option[String]" id="15224">pack</a>(<a title="Iterable[sbt.Path]" id="88006">sources</a>: <span title="Iterable[sbt.Path]">Iterable</span>[Path], <a title="sbt.Path" id="88007">outputJar</a>: <a href="Path.scala.html#10152" title="sbt.Path">Path</a>, <a title="java.util.jar.Manifest" id="88008">manifest</a>: <span title="java.util.jar.Manifest">Manifest</span>, <a title="Boolean" id="88009">recursive</a>: <span title="Boolean">Boolean</span>, <a title="sbt.Logger" id="88010">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>) =
		<a href="#15223" title="(Iterable[sbt.Path],sbt.Path,java.util.jar.Manifest,Boolean,sbt.Logger)Option[String]">jar</a>(<a href="#88006" title="Iterable[sbt.Path]">sources</a>, <a href="#88007" title="sbt.Path">outputJar</a>, <a href="#88008" title="java.util.jar.Manifest">manifest</a>, <a href="#88009" title="Boolean">recursive</a>, <a href="#88010" title="sbt.Logger">log</a>)
	<span class="comment">/** Creates a zip file.
	* @param sources The files to include in the jar file.  The path used for the jar is
	* relative to the base directory for the source.  That is, the path in the jar for source
	* &lt;code&gt;(basePath ##) / x / y&lt;/code&gt; is &lt;code&gt;x / y&lt;/code&gt;.
	* @param outputZip The file to write the zip to.
	* @param recursive If true, any directories in &lt;code&gt;sources&lt;/code&gt; are recursively processed.  Otherwise,
	* they are not
	* @param log The Logger to use. */</span>
	<span class="keyword">def</span> <a title="(Iterable[sbt.Path],sbt.Path,Boolean,sbt.Logger)Option[String]" id="15225">zip</a>(<a title="Iterable[sbt.Path]" id="29929">sources</a>: <span title="Iterable[sbt.Path]">Iterable</span>[Path], <a title="sbt.Path" id="29930">outputZip</a>: <a href="Path.scala.html#10152" title="sbt.Path">Path</a>, <a title="Boolean" id="29931">recursive</a>: <span title="Boolean">Boolean</span>, <a title="sbt.Logger" id="29932">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>) =
		<a href="#15226" title="(Iterable[sbt.Path],sbt.Path,Option[java.util.jar.Manifest],Boolean,sbt.Logger)Option[String]">archive</a>(<a href="#29929" title="Iterable[sbt.Path]">sources</a>, <a href="#29930" title="sbt.Path">outputZip</a>, <span title="object None">None</span>, <a href="#29931" title="Boolean">recursive</a>, <a href="#29932" title="sbt.Logger">log</a>)

	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(Iterable[sbt.Path],sbt.Path,Option[java.util.jar.Manifest],Boolean,sbt.Logger)Option[String]" id="15226">archive</a>(<a title="Iterable[sbt.Path]" id="29698">sources</a>: <span title="Iterable[sbt.Path]">Iterable</span>[Path], <a title="sbt.Path" id="29699">outputPath</a>: <a href="Path.scala.html#10152" title="sbt.Path">Path</a>, <a title="Option[java.util.jar.Manifest]" id="29700">manifest</a>: <span title="Option[java.util.jar.Manifest]">Option</span>[Manifest], <a title="Boolean" id="29701">recursive</a>: <span title="Boolean">Boolean</span>, <a title="sbt.Logger" id="29702">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>) =
	{
		<a href="#29702" title="sbt.Logger">log</a>.<a href="Logger.scala.html#19517" title="(=&gt; String)Unit">info</a>(<span title="java.lang.String(&quot;Packaging &quot;)" class="string">&quot;Packaging &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#29699" title="sbt.Path">outputPath</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; ...&quot;)" class="string">&quot; ...&quot;</span>)
		<span class="keyword">val</span> <a title="java.io.File" id="29704">outputFile</a> = <a href="#29699" title="sbt.Path">outputPath</a>.<a href="Path.scala.html#17865" title="=&gt; java.io.File">asFile</a>
		<span title="Option[String]" class="keyword">if</span>(<a href="#29704" title="java.io.File">outputFile</a>.<span title="()Boolean">isDirectory</span>)
			<span title="(java.lang.String)Some[java.lang.String]">Some</span>(<span title="java.lang.String(&quot;Specified output file &quot;)" class="string">&quot;Specified output file &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#29704" title="java.io.File">outputFile</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; is a directory.&quot;)" class="string">&quot; is a directory.&quot;</span>)
		<span class="keyword">else</span>
		{
			<span class="keyword">val</span> <a title="java.io.File" id="29712">outputDir</a> = <a href="#29704" title="java.io.File">outputFile</a>.<span title="()java.io.File">getParentFile</span>
			<span class="keyword">val</span> <a title="Option[String]" id="29713">result</a> = <a href="#15246" title="(java.io.File,sbt.Logger)Option[String]">createDirectory</a>(<a href="#29712" title="java.io.File">outputDir</a>, <a href="#29702" title="sbt.Logger">log</a>) <span title="(=&gt; Option[String])Option[String]">orElse</span>
				<a href="#15228" title="(java.io.File,Option[java.util.jar.Manifest],sbt.Logger)((java.util.zip.ZipOutputStream) =&gt; Option[String])Option[String]">withZipOutput</a>(<a href="#29704" title="java.io.File">outputFile</a>, <a href="#29700" title="Option[java.util.jar.Manifest]">manifest</a>, <a href="#29702" title="sbt.Logger">log</a>)
				{ <a title="java.util.zip.ZipOutputStream" id="29734">output</a> =&gt;
					<span class="keyword">val</span> <a title="(String) =&gt; java.util.zip.ZipEntry" id="29735">createEntry</a>: (String =&gt; ZipEntry) = <span title="(String) =&gt; java.util.zip.ZipEntry" class="keyword">if</span>(<a href="#29700" title="Option[java.util.jar.Manifest]">manifest</a>.<a title="=&gt; Boolean" id="19011">isDefined</a>) <span title="java.util.jar.JarEntry" class="keyword">new</span> <a title="java.util.jar.JarEntry" id="21640">JarEntry</a>(<a href="#29774" title="String">_</a>) <span class="keyword">else</span> <span title="java.util.zip.ZipEntry" class="keyword">new</span> <span title="java.util.zip.ZipEntry">ZipEntry</span>(<a href="#29826" title="String">_</a>)
					<a href="#15227" title="(Iterable[sbt.Path],java.util.zip.ZipOutputStream,Boolean,sbt.Logger)((String) =&gt; java.util.zip.ZipEntry)object None">writeZip</a>(<a href="#29698" title="Iterable[sbt.Path]">sources</a>, <a href="#29734" title="java.util.zip.ZipOutputStream">output</a>, <a href="#29701" title="Boolean">recursive</a>, <a href="#29702" title="sbt.Logger">log</a>)(<a href="#29735" title="(String) =&gt; java.util.zip.ZipEntry">createEntry</a>)
				}
			<span title="Unit" class="keyword">if</span>(<a href="#29713" title="Option[String]">result</a>.<span title="=&gt; Boolean">isEmpty</span>)
				<a href="#29702" title="sbt.Logger">log</a>.<a href="Logger.scala.html#19517" title="(=&gt; String)Unit">info</a>(<span title="java.lang.String(&quot;Packaging complete.&quot;)" class="string">&quot;Packaging complete.&quot;</span>)
			<a href="#29713" title="Option[String]">result</a>
		}
	}

	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(Iterable[sbt.Path],java.util.zip.ZipOutputStream,Boolean,sbt.Logger)((String) =&gt; java.util.zip.ZipEntry)object None" id="15227">writeZip</a>(<a title="Iterable[sbt.Path]" id="29829">sources</a>: <span title="Iterable[sbt.Path]">Iterable</span>[Path], <a title="java.util.zip.ZipOutputStream" id="29830">output</a>: <span title="java.util.zip.ZipOutputStream">ZipOutputStream</span>, <a title="Boolean" id="29831">recursive</a>: <span title="Boolean">Boolean</span>, <a title="sbt.Logger" id="29832">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>)(<a title="(String) =&gt; java.util.zip.ZipEntry" id="29833">createEntry</a>: String =&gt; ZipEntry) =
	{
		<span class="keyword">def</span> <a title="(sbt.Path)Unit" id="29835">add</a>(<a title="sbt.Path" id="29836">source</a>: <a href="Path.scala.html#10152" title="sbt.Path">Path</a>)
		{
			<span class="keyword">val</span> <a title="java.io.File" id="29837">sourceFile</a> = <a href="#29836" title="sbt.Path">source</a>.<a href="Path.scala.html#17865" title="=&gt; java.io.File">asFile</a>
			<span title="Unit" class="keyword">if</span>(<a href="#29837" title="java.io.File">sourceFile</a>.<span title="()Boolean">isDirectory</span>)
			{
				<span title="Unit" class="keyword">if</span>(<a href="#29831" title="Boolean">recursive</a>)
					<a href="#15322" title="(Array[java.io.File])Array[java.io.File]">wrapNull</a>(<a href="#29837" title="java.io.File">sourceFile</a>.<span title="()Array[java.io.File]">listFiles</span>).<span title="((java.io.File) =&gt; Unit)Unit">foreach</span>(<a title="java.io.File" id="29842">file</a> =&gt; <a href="#29835" title="(sbt.Path)Unit">add</a>(<a href="#29836" title="sbt.Path">source</a> <a href="Path.scala.html#17859" title="(String)sbt.Path">/</a> <a href="#29842" title="java.io.File">file</a>.<span title="()java.lang.String">getName</span>))
			}
			<span class="keyword">else</span> <span title="Unit" class="keyword">if</span>(<a href="#29837" title="java.io.File">sourceFile</a>.<span title="()Boolean">exists</span>)
			{
				<span class="keyword">val</span> <a title="String" id="29843">relativePath</a> = <a href="#29836" title="sbt.Path">source</a>.<a href="Path.scala.html#17869" title="(String)String">relativePathString</a>(<span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span>)
				<a href="#29832" title="sbt.Logger">log</a>.<a href="Logger.scala.html#19516" title="(=&gt; String)Unit">debug</a>(<span title="java.lang.String(&quot;\011Adding &quot;)" class="string">&quot;\tAdding &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#29836" title="sbt.Path">source</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; as &quot;)" class="string">&quot; as &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#29843" title="String">relativePath</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; ...&quot;)" class="string">&quot; ...&quot;</span>)
				<span class="keyword">val</span> <a title="java.util.zip.ZipEntry" id="29844">nextEntry</a> = <a href="#29833" title="(String)java.util.zip.ZipEntry">createEntry</a>(<a href="#29843" title="String">relativePath</a>)
				<a href="#29844" title="java.util.zip.ZipEntry">nextEntry</a>.<a title="(Long)Unit" id="29754">setTime</a>(<a href="#29837" title="java.io.File">sourceFile</a>.<span title="()Long">lastModified</span>)
				<a href="#29830" title="java.util.zip.ZipOutputStream">output</a>.<a title="(java.util.zip.ZipEntry)Unit" id="29727">putNextEntry</a>(<a href="#29844" title="java.util.zip.ZipEntry">nextEntry</a>)
				<a href="#15240" title="(java.io.InputStream,java.io.OutputStream,sbt.Logger)Option[String]">transferAndClose</a>(<span title="(java.io.File)java.io.FileInputStream" class="keyword">new</span> <span title="java.io.FileInputStream">FileInputStream</span>(<a href="#29837" title="java.io.File">sourceFile</a>), <a href="#29830" title="java.util.zip.ZipOutputStream">output</a>, <a href="#29832" title="sbt.Logger">log</a>)
				<a href="#29830" title="java.util.zip.ZipOutputStream">output</a>.<a title="()Unit" id="29728">closeEntry</a>()
			}
			<span class="keyword">else</span>
				<a href="#29832" title="sbt.Logger">log</a>.<a href="Logger.scala.html#19518" title="(=&gt; String)Unit">warn</a>(<span title="java.lang.String(&quot;\011Source &quot;)" class="string">&quot;\tSource &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#29836" title="sbt.Path">source</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; does not exist.&quot;)" class="string">&quot; does not exist.&quot;</span>)
		}
		<a href="#29829" title="Iterable[sbt.Path]">sources</a>.<span title="((sbt.Path) =&gt; Unit)Unit">foreach</span>(<a href="#29835" title="(sbt.Path)Unit">add</a>)
		<span title="object None">None</span>
	}

	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(java.io.File,Option[java.util.jar.Manifest],sbt.Logger)((java.util.zip.ZipOutputStream) =&gt; Option[String])Option[String]" id="15228">withZipOutput</a>(<a title="java.io.File" id="29717">file</a>: <span title="java.io.File">File</span>, <a title="Option[java.util.jar.Manifest]" id="29718">manifest</a>: <span title="Option[java.util.jar.Manifest]">Option</span>[Manifest], <a title="sbt.Logger" id="29719">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>)(<a title="(java.util.zip.ZipOutputStream) =&gt; Option[String]" id="29720">f</a>: ZipOutputStream =&gt; Option[String]): <span title="Option[String]">Option</span>[String] =
	{
		<a href="#15307" title="(java.io.File,sbt.Logger)((java.io.OutputStream) =&gt; Option[String])Option[String]">writeStream</a>(<a href="#29717" title="java.io.File">file</a>, <a href="#29719" title="sbt.Logger">log</a>)
		{
			<a title="java.io.OutputStream" id="88014">fileOut</a> =&gt;
			{
				<span class="keyword">val</span> <a href="#88016" title="(java.util.zip.ZipOutputStream, java.lang.String)">(</a><a href="#88015" title="java.util.zip.ZipOutputStream" id="88016">zipOut</a>, <a href="#88015" title="java.lang.String" id="88017">ext</a>) =
					<a href="#29718" title="Option[java.util.jar.Manifest]">manifest</a> <span title="(java.util.zip.ZipOutputStream, java.lang.String)" class="keyword">match</span>
					{
						<span title="(java.util.jar.JarOutputStream, java.lang.String)" class="keyword">case</span> Some(<a title="java.util.jar.Manifest" id="88018">mf</a>) =&gt;
						{
							<span class="keyword">import</span> Attributes.Name.MANIFEST_VERSION
							<span class="keyword">val</span> <a title="java.util.jar.Attributes" id="88020">main</a> = <a href="#88018" title="java.util.jar.Manifest">mf</a>.<a title="()java.util.jar.Attributes" id="26222">getMainAttributes</a>
							<span title="Unit" class="keyword">if</span>(<span title="=&gt; Boolean">!</span><a href="#88020" title="java.util.jar.Attributes">main</a>.<a title="(Any)Boolean" id="26302">containsKey</a>(<span title="java.util.jar.Attributes.Name">MANIFEST_VERSION</span>))
								<a href="#88020" title="java.util.jar.Attributes">main</a>.<a title="(Any,Any)java.lang.Object" id="26298">put</a>(<span title="java.util.jar.Attributes.Name">MANIFEST_VERSION</span>, <span title="java.lang.String(&quot;1.0&quot;)" class="string">&quot;1.0&quot;</span>)
							<span title="(java.util.jar.JarOutputStream,java.lang.String)(java.util.jar.JarOutputStream, java.lang.String)">(</span><span title="java.util.jar.JarOutputStream" class="keyword">new</span> <span title="java.util.jar.JarOutputStream">JarOutputStream</span>(<a href="#88014" title="java.io.OutputStream">fileOut</a>, <a href="#88018" title="java.util.jar.Manifest">mf</a>), <span title="java.lang.String(&quot;jar&quot;)" class="string">&quot;jar&quot;</span>)
						}
						<span title="(java.util.zip.ZipOutputStream, java.lang.String)" class="keyword">case</span> <span title="object None">None</span> =&gt; <span title="(java.util.zip.ZipOutputStream,java.lang.String)(java.util.zip.ZipOutputStream, java.lang.String)">(</span><span title="java.util.zip.ZipOutputStream" class="keyword">new</span> <span title="java.util.zip.ZipOutputStream">ZipOutputStream</span>(<a href="#88014" title="java.io.OutputStream">fileOut</a>), <span title="java.lang.String(&quot;zip&quot;)" class="string">&quot;zip&quot;</span>)
					}
				<a href="Control.scala.html#11797" title="object sbt.Control">Control</a>.<a href="Control.scala.html#25435" title="(=&gt; String,sbt.Logger)(=&gt; Option[String])(=&gt; Unit)Option[String]">trapUnitAndFinally</a>(<span title="java.lang.String(&quot;Error writing &quot;)" class="string">&quot;Error writing &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#88017" title="java.lang.String">ext</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span>, <a href="#29719" title="sbt.Logger">log</a>)
					{ <a href="#29720" title="(java.util.zip.ZipOutputStream)Option[String]">f</a>(<a href="#88016" title="java.util.zip.ZipOutputStream">zipOut</a>) } { <a href="#88016" title="java.util.zip.ZipOutputStream">zipOut</a>.<a title="()Unit" id="29731">close</a> }
			}
		}
	}
	<span class="keyword">import</span> scala.collection.Set
	<span class="comment">/** Unzips the contents of the zip file &lt;code&gt;from&lt;/code&gt; to the &lt;code&gt;toDirectory&lt;/code&gt; directory.*/</span>
	<span class="keyword">def</span> <a title="(sbt.Path,sbt.Path,sbt.Logger)Either[String,scala.collection.Set[sbt.Path]]" id="15230">unzip</a>(<a title="sbt.Path" id="35077">from</a>: <a href="Path.scala.html#10152" title="sbt.Path">Path</a>, <a title="sbt.Path" id="35078">toDirectory</a>: <a href="Path.scala.html#10152" title="sbt.Path">Path</a>, <a title="sbt.Logger" id="35079">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Either[String,scala.collection.Set[sbt.Path]]">Either</span>[String, Set[Path]] =
		<a href="#15234" title="(sbt.Path,sbt.Path,sbt.NameFilter,sbt.Logger)Either[String,scala.collection.Set[sbt.Path]]">unzip</a>(<a href="#35077" title="sbt.Path">from</a>, <a href="#35078" title="sbt.Path">toDirectory</a>, <a href="NameFilter.scala.html#8908" title="object sbt.AllPassFilter">AllPassFilter</a>, <a href="#35079" title="sbt.Logger">log</a>)
	<span class="comment">/** Unzips the contents of the zip file &lt;code&gt;from&lt;/code&gt; to the &lt;code&gt;toDirectory&lt;/code&gt; directory.*/</span>
	<span class="keyword">def</span> <a title="(java.io.File,sbt.Path,sbt.Logger)Either[String,scala.collection.Set[sbt.Path]]" id="15231">unzip</a>(<a title="java.io.File" id="35074">from</a>: <span title="java.io.File">File</span>, <a title="sbt.Path" id="35075">toDirectory</a>: <a href="Path.scala.html#10152" title="sbt.Path">Path</a>, <a title="sbt.Logger" id="35076">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Either[String,scala.collection.Set[sbt.Path]]">Either</span>[String, Set[Path]] =
		<a href="#15235" title="(java.io.File,sbt.Path,sbt.NameFilter,sbt.Logger)Either[String,scala.collection.Set[sbt.Path]]">unzip</a>(<a href="#35074" title="java.io.File">from</a>, <a href="#35075" title="sbt.Path">toDirectory</a>, <a href="NameFilter.scala.html#8908" title="object sbt.AllPassFilter">AllPassFilter</a>, <a href="#35076" title="sbt.Logger">log</a>)
	<span class="comment">/** Unzips the contents of the zip file &lt;code&gt;from&lt;/code&gt; to the &lt;code&gt;toDirectory&lt;/code&gt; directory.*/</span>
	<span class="keyword">def</span> <a title="(java.io.InputStream,sbt.Path,sbt.Logger)Either[String,scala.collection.Set[sbt.Path]]" id="15232">unzip</a>(<a title="java.io.InputStream" id="35071">from</a>: <span title="java.io.InputStream">InputStream</span>, <a title="sbt.Path" id="35072">toDirectory</a>: <a href="Path.scala.html#10152" title="sbt.Path">Path</a>, <a title="sbt.Logger" id="35073">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Either[String,scala.collection.Set[sbt.Path]]">Either</span>[String, Set[Path]] =
		<a href="#15237" title="(java.io.InputStream,sbt.Path,sbt.NameFilter,sbt.Logger)Either[String,scala.collection.Set[sbt.Path]]">unzip</a>(<a href="#35071" title="java.io.InputStream">from</a>, <a href="#35072" title="sbt.Path">toDirectory</a>, <a href="NameFilter.scala.html#8908" title="object sbt.AllPassFilter">AllPassFilter</a>, <a href="#35073" title="sbt.Logger">log</a>)
	<span class="comment">/** Unzips the contents of the zip file &lt;code&gt;from&lt;/code&gt; to the &lt;code&gt;toDirectory&lt;/code&gt; directory.*/</span>
	<span class="keyword">def</span> <a title="(java.net.URL,sbt.Path,sbt.Logger)Either[String,scala.collection.Set[sbt.Path]]" id="15233">unzip</a>(<a title="java.net.URL" id="35068">from</a>: <span title="java.net.URL">URL</span>, <a title="sbt.Path" id="35069">toDirectory</a>: <a href="Path.scala.html#10152" title="sbt.Path">Path</a>, <a title="sbt.Logger" id="35070">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Either[String,scala.collection.Set[sbt.Path]]">Either</span>[String, Set[Path]] =
		<a href="#15236" title="(java.net.URL,sbt.Path,sbt.NameFilter,sbt.Logger)Either[String,scala.collection.Set[sbt.Path]]">unzip</a>(<a href="#35068" title="java.net.URL">from</a>, <a href="#35069" title="sbt.Path">toDirectory</a>, <a href="NameFilter.scala.html#8908" title="object sbt.AllPassFilter">AllPassFilter</a>, <a href="#35070" title="sbt.Logger">log</a>)

	<span class="comment">/** Unzips the contents of the zip file &lt;code&gt;from&lt;/code&gt; to the &lt;code&gt;toDirectory&lt;/code&gt; directory.
	* Only the entries that match the given filter are extracted. */</span>
	<span class="keyword">def</span> <a title="(sbt.Path,sbt.Path,sbt.NameFilter,sbt.Logger)Either[String,scala.collection.Set[sbt.Path]]" id="15234">unzip</a>(<a title="sbt.Path" id="35064">from</a>: <a href="Path.scala.html#10152" title="sbt.Path">Path</a>, <a title="sbt.Path" id="35065">toDirectory</a>: <a href="Path.scala.html#10152" title="sbt.Path">Path</a>, <a title="sbt.NameFilter" id="35066">filter</a>: <a href="NameFilter.scala.html#8274" title="sbt.NameFilter">NameFilter</a>, <a title="sbt.Logger" id="35067">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Either[String,scala.collection.Set[sbt.Path]]">Either</span>[String, Set[Path]] =
		<a href="#15235" title="(java.io.File,sbt.Path,sbt.NameFilter,sbt.Logger)Either[String,scala.collection.Set[sbt.Path]]">unzip</a>(<a href="#35064" title="sbt.Path">from</a>.<a href="Path.scala.html#17865" title="=&gt; java.io.File">asFile</a>, <a href="#35065" title="sbt.Path">toDirectory</a>, <a href="#35066" title="sbt.NameFilter">filter</a>, <a href="#35067" title="sbt.Logger">log</a>)
	<span class="comment">/** Unzips the contents of the zip file &lt;code&gt;from&lt;/code&gt; to the &lt;code&gt;toDirectory&lt;/code&gt; directory.
	* Only the entries that match the given filter are extracted. */</span>
	<span class="keyword">def</span> <a title="(java.io.File,sbt.Path,sbt.NameFilter,sbt.Logger)Either[String,scala.collection.Set[sbt.Path]]" id="15235">unzip</a>(<a title="java.io.File" id="35060">from</a>: <span title="java.io.File">File</span>, <a title="sbt.Path" id="35061">toDirectory</a>: <a href="Path.scala.html#10152" title="sbt.Path">Path</a>, <a title="sbt.NameFilter" id="35062">filter</a>: <a href="NameFilter.scala.html#8274" title="sbt.NameFilter">NameFilter</a>, <a title="sbt.Logger" id="35063">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Either[String,scala.collection.Set[sbt.Path]]">Either</span>[String, Set[Path]] =
		<a href="#15310" title="(java.io.File,sbt.Logger)((java.io.InputStream) =&gt; Either[String,scala.collection.Set[sbt.Path]])Either[String,scala.collection.Set[sbt.Path]]">readStreamValue</a>(<a href="#35060" title="java.io.File">from</a>, <a href="#35063" title="sbt.Logger">log</a>)(<a title="java.io.InputStream" id="88051">in</a> =&gt; <a href="#15237" title="(java.io.InputStream,sbt.Path,sbt.NameFilter,sbt.Logger)Either[String,scala.collection.Set[sbt.Path]]">unzip</a>(<a href="#88051" title="java.io.InputStream">in</a>, <a href="#35061" title="sbt.Path">toDirectory</a>, <a href="#35062" title="sbt.NameFilter">filter</a>, <a href="#35063" title="sbt.Logger">log</a>))
	<span class="comment">/** Unzips the contents of the zip file &lt;code&gt;from&lt;/code&gt; to the &lt;code&gt;toDirectory&lt;/code&gt; directory.
	* Only the entries that match the given filter are extracted. */</span>
	<span class="keyword">def</span> <a title="(java.net.URL,sbt.Path,sbt.NameFilter,sbt.Logger)Either[String,scala.collection.Set[sbt.Path]]" id="15236">unzip</a>(<a title="java.net.URL" id="35056">from</a>: <span title="java.net.URL">URL</span>, <a title="sbt.Path" id="35057">toDirectory</a>: <a href="Path.scala.html#10152" title="sbt.Path">Path</a>, <a title="sbt.NameFilter" id="35058">filter</a>: <a href="NameFilter.scala.html#8274" title="sbt.NameFilter">NameFilter</a>, <a title="sbt.Logger" id="35059">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Either[String,scala.collection.Set[sbt.Path]]">Either</span>[String, Set[Path]] =
		<a href="#15314" title="(java.net.URL,sbt.Logger)((java.io.InputStream) =&gt; Either[String,scala.collection.Set[sbt.Path]])Either[String,scala.collection.Set[sbt.Path]]">readStreamValue</a>(<a href="#35056" title="java.net.URL">from</a>, <a href="#35059" title="sbt.Logger">log</a>) { <a title="java.io.InputStream" id="88061">stream</a> =&gt; <a href="#15237" title="(java.io.InputStream,sbt.Path,sbt.NameFilter,sbt.Logger)Either[String,scala.collection.Set[sbt.Path]]">unzip</a>(<a href="#88061" title="java.io.InputStream">stream</a>, <a href="#35057" title="sbt.Path">toDirectory</a>, <a href="#35058" title="sbt.NameFilter">filter</a>, <a href="#35059" title="sbt.Logger">log</a>) }
	<span class="comment">/** Unzips the contents of the zip file &lt;code&gt;from&lt;/code&gt; to the &lt;code&gt;toDirectory&lt;/code&gt; directory.
	* Only the entries that match the given filter are extracted. */</span>
	<span class="keyword">def</span> <a title="(java.io.InputStream,sbt.Path,sbt.NameFilter,sbt.Logger)Either[String,scala.collection.Set[sbt.Path]]" id="15237">unzip</a>(<a title="java.io.InputStream" id="35052">from</a>: <span title="java.io.InputStream">InputStream</span>, <a title="sbt.Path" id="35053">toDirectory</a>: <a href="Path.scala.html#10152" title="sbt.Path">Path</a>, <a title="sbt.NameFilter" id="35054">filter</a>: <a href="NameFilter.scala.html#8274" title="sbt.NameFilter">NameFilter</a>, <a title="sbt.Logger" id="35055">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Either[String,scala.collection.Set[sbt.Path]]">Either</span>[String, Set[Path]] =
	{
		<a href="#15245" title="(sbt.Path,sbt.Logger)Option[String]">createDirectory</a>(<a href="#35053" title="sbt.Path">toDirectory</a>, <a href="#35055" title="sbt.Logger">log</a>) <span title="Either[String,scala.collection.Set[sbt.Path]]" class="keyword">match</span>
		{
			<span title="Left[String,Nothing]" class="keyword">case</span> Some(<a title="String" id="88065">err</a>) =&gt; <span title="(String)Left[String,Nothing]">Left</span>(<a href="#88065" title="String">err</a>)
			<span title="Either[String,scala.collection.Set[sbt.Path]]" class="keyword">case</span> <span title="object None">None</span> =&gt; <a href="#21132" title="=&gt; sbt.WrapOpenResource[java.io.InputStream,java.util.zip.ZipInputStream]">zipInputStream</a>.<a href="#87906" title="(java.io.InputStream,String,sbt.Logger)((java.util.zip.ZipInputStream) =&gt; Either[String,scala.collection.Set[sbt.Path]])Either[String,scala.collection.Set[sbt.Path]]">io</a>(<a href="#35052" title="java.io.InputStream">from</a>, <span title="java.lang.String(&quot;unzipping&quot;)" class="string">&quot;unzipping&quot;</span>, <a href="#35055" title="sbt.Logger">log</a>) { <a title="java.util.zip.ZipInputStream" id="88087">zipInput</a> =&gt; <a href="#15238" title="(java.util.zip.ZipInputStream,sbt.Path,sbt.NameFilter,sbt.Logger)Either[String,scala.collection.Set[sbt.Path]] with Product">extract</a>(<a href="#88087" title="java.util.zip.ZipInputStream">zipInput</a>, <a href="#35053" title="sbt.Path">toDirectory</a>, <a href="#35054" title="sbt.NameFilter">filter</a>, <a href="#35055" title="sbt.Logger">log</a>) }
		}
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(java.util.zip.ZipInputStream,sbt.Path,sbt.NameFilter,sbt.Logger)Either[String,scala.collection.Set[sbt.Path]] with Product" id="15238">extract</a>(<a title="java.util.zip.ZipInputStream" id="88088">from</a>: <span title="java.util.zip.ZipInputStream">ZipInputStream</span>, <a title="sbt.Path" id="88089">toDirectory</a>: <a href="Path.scala.html#10152" title="sbt.Path">Path</a>, <a title="sbt.NameFilter" id="88090">filter</a>: <a href="NameFilter.scala.html#8274" title="sbt.NameFilter">NameFilter</a>, <a title="sbt.Logger" id="88091">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>) =
	{
		<span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[sbt.Path]" id="88093">set</a> = <span title="scala.collection.mutable.HashSet[sbt.Path]" class="keyword">new</span> scala.collection.mutable.<span title="scala.collection.mutable.HashSet[sbt.Path]">HashSet</span>[Path]
		<span class="comment">// don't touch dirs as we unzip because we don't know order of zip entires (any child will</span>
		<span class="comment">// update the dir's time)</span>
		<span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[sbt.Path,Long]" id="88094">dirTimes</a> = <span title="scala.collection.mutable.HashMap[sbt.Path,Long]" class="keyword">new</span> scala.collection.mutable.<span title="scala.collection.mutable.HashMap[sbt.Path,Long]">HashMap</span>[Path, Long]
		<span class="keyword">def</span> <a title="()Option[String]" id="88095">next</a>(): <span title="Option[String]">Option</span>[String] =
		{
			<span class="keyword">val</span> <a title="java.util.zip.ZipEntry" id="88097">entry</a> = <a href="#88088" title="java.util.zip.ZipInputStream">from</a>.<a title="()java.util.zip.ZipEntry" id="36836">getNextEntry</a>
			<span title="Option[String]" class="keyword">if</span>(<a href="#88097" title="java.util.zip.ZipEntry">entry</a> <span title="(AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span>)
				<span title="object None">None</span>
			<span class="keyword">else</span>
			{
				<span class="keyword">val</span> <a title="java.lang.String" id="88099">name</a> = <a href="#88097" title="java.util.zip.ZipEntry">entry</a>.<span title="()java.lang.String">getName</span>
				<span class="keyword">val</span> <a title="Option[String]" id="88100">entryErr</a> =
					<span title="Option[String]" class="keyword">if</span>(<a href="#88090" title="sbt.NameFilter">filter</a>.<a href="NameFilter.scala.html#18160" title="(String)Boolean">accept</a>(<a href="#88099" title="java.lang.String">name</a>))
					{
						<span class="keyword">val</span> <a title="sbt.Path" id="88102">target</a> = <a href="Path.scala.html#10153" title="object sbt.Path">Path</a>.<a href="Path.scala.html#15364" title="(sbt.Path,String)sbt.Path">fromString</a>(<a href="#88089" title="sbt.Path">toDirectory</a>, <a href="#88099" title="java.lang.String">name</a>)
						<a href="#88091" title="sbt.Logger">log</a>.<a href="Logger.scala.html#19516" title="(=&gt; String)Unit">debug</a>(<span title="java.lang.String(&quot;Extracting zip entry '&quot;)" class="string">&quot;Extracting zip entry '&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#88099" title="java.lang.String">name</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;' to '&quot;)" class="string">&quot;' to '&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#88102" title="sbt.Path">target</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;'&quot;)" class="string">&quot;'&quot;</span>)
						<span title="Option[String]" class="keyword">if</span>(<a href="#88097" title="java.util.zip.ZipEntry">entry</a>.<a title="()Boolean" id="29768">isDirectory</a>)
						{
							<a href="#88094" title="scala.collection.mutable.HashMap[sbt.Path,Long]">dirTimes</a> <a title="((sbt.Path, Long))Unit" id="24174">+=</a> <a href="#88102" title="(sbt.Path)ArrowAssoc[sbt.Path]" id="6139">target</a> <a title="(Long)(sbt.Path, Long)" id="6135">-&gt;</a> <a href="#88097" title="java.util.zip.ZipEntry">entry</a>.<span title="()Long">getTime</span>
							<a href="#15245" title="(sbt.Path,sbt.Logger)Option[String]">createDirectory</a>(<a href="#88102" title="sbt.Path">target</a>, <a href="#88091" title="sbt.Logger">log</a>)
						}
						<span class="keyword">else</span>
							<a href="#15307" title="(java.io.File,sbt.Logger)((java.io.OutputStream) =&gt; Option[String])Option[String]">writeStream</a>(<a href="#88102" title="sbt.Path">target</a>.<a href="Path.scala.html#17865" title="=&gt; java.io.File">asFile</a>, <a href="#88091" title="sbt.Logger">log</a>) { <a title="java.io.OutputStream" id="88120">out</a> =&gt; <a href="#9046" title="object sbt.FileUtilities">FileUtilities</a>.<a href="#15239" title="(java.io.InputStream,java.io.OutputStream,sbt.Logger)Option[String]">transfer</a>(<a href="#88088" title="java.util.zip.ZipInputStream">from</a>, <a href="#88120" title="java.io.OutputStream">out</a>, <a href="#88091" title="sbt.Logger">log</a>) } <span title="(=&gt; Option[String])Option[String]">orElse</span>
							{
								<a href="#88093" title="scala.collection.mutable.HashSet[sbt.Path]">set</a> <span title="(sbt.Path)Unit">+=</span> <a href="#88102" title="sbt.Path">target</a>
								<a href="#15244" title="(java.io.File,Long,sbt.Logger)Option[String]">touchExisting</a>(<a href="#88102" title="sbt.Path">target</a>.<a href="Path.scala.html#17865" title="=&gt; java.io.File">asFile</a>, <a href="#88097" title="java.util.zip.ZipEntry">entry</a>.<span title="()Long">getTime</span>, <a href="#88091" title="sbt.Logger">log</a>)
								<span title="object None">None</span>
							}
					}
					<span class="keyword">else</span>
					{
						<a href="#88091" title="sbt.Logger">log</a>.<a href="Logger.scala.html#19516" title="(=&gt; String)Unit">debug</a>(<span title="java.lang.String(&quot;Ignoring zip entry '&quot;)" class="string">&quot;Ignoring zip entry '&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#88099" title="java.lang.String">name</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;'&quot;)" class="string">&quot;'&quot;</span>)
						<span title="object None">None</span>
					}
				<a href="#88088" title="java.util.zip.ZipInputStream">from</a>.<a title="()Unit" id="36837">closeEntry</a>()
				<a href="#88100" title="Option[String]">entryErr</a> <span title="(=&gt; Option[String])Option[String]">orElse</span> <a href="#88095" title="()Option[String]">next</a>()
			}
		}
		<span class="keyword">val</span> <a title="Option[String]" id="88096">result</a> = <a href="#88095" title="()Option[String]">next</a>()
		<span class="keyword">for</span> (<a href="#88131" title="(((sbt.Path, Long)) =&gt; Unit)Unit" id="16064">(</a><a title="sbt.Path" id="88136">dir</a>, <a title="Long" id="88137">time</a>) &lt;- <a href="#88094" title="scala.collection.mutable.HashMap[sbt.Path,Long]">dirTimes</a>) <a href="#15244" title="(java.io.File,Long,sbt.Logger)Option[String]">touchExisting</a>(<a href="#88136" title="sbt.Path">dir</a>.<a href="Path.scala.html#17865" title="=&gt; java.io.File">asFile</a>, <a href="#88137" title="Long">time</a>, <a href="#88091" title="sbt.Logger">log</a>)
		<a href="#88096" title="Option[String]">result</a>.<span title="(=&gt; scala.collection.Set[sbt.Path])Either[String,scala.collection.Set[sbt.Path]] with Product">toLeft</span>(<a href="wrap/Wrappers.scala.html#18051" title="(scala.collection.mutable.Set[sbt.Path])scala.collection.Set[sbt.Path]">readOnly</a>(<a href="#88093" title="scala.collection.mutable.HashSet[sbt.Path]">set</a>))
	}

	<span class="comment">/** Copies all bytes from the given input stream to the given output stream.
	* Neither stream is closed.*/</span>
	<span class="keyword">def</span> <a title="(java.io.InputStream,java.io.OutputStream,sbt.Logger)Option[String]" id="15239">transfer</a>(<a title="java.io.InputStream" id="87963">in</a>: <span title="java.io.InputStream">InputStream</span>, <a title="java.io.OutputStream" id="87964">out</a>: <span title="java.io.OutputStream">OutputStream</span>, <a title="sbt.Logger" id="87965">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Option[String]">Option</span>[String] =
		<a href="#15241" title="(java.io.InputStream,java.io.OutputStream,Boolean,sbt.Logger)Option[String]">transferImpl</a>(<a href="#87963" title="java.io.InputStream">in</a>, <a href="#87964" title="java.io.OutputStream">out</a>, <span title="Boolean(false)" class="keyword">false</span>, <a href="#87965" title="sbt.Logger">log</a>)
	<span class="comment">/** Copies all bytes from the given input stream to the given output stream.  The
	* input stream is closed after the method completes.*/</span>
	<span class="keyword">def</span> <a title="(java.io.InputStream,java.io.OutputStream,sbt.Logger)Option[String]" id="15240">transferAndClose</a>(<a title="java.io.InputStream" id="29872">in</a>: <span title="java.io.InputStream">InputStream</span>, <a title="java.io.OutputStream" id="29873">out</a>: <span title="java.io.OutputStream">OutputStream</span>, <a title="sbt.Logger" id="29874">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Option[String]">Option</span>[String] =
		<a href="#15241" title="(java.io.InputStream,java.io.OutputStream,Boolean,sbt.Logger)Option[String]">transferImpl</a>(<a href="#29872" title="java.io.InputStream">in</a>, <a href="#29873" title="java.io.OutputStream">out</a>, <span title="Boolean(true)" class="keyword">true</span>, <a href="#29874" title="sbt.Logger">log</a>)
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(java.io.InputStream,java.io.OutputStream,Boolean,sbt.Logger)Option[String]" id="15241">transferImpl</a>(<a title="java.io.InputStream" id="88154">in</a>: <span title="java.io.InputStream">InputStream</span>, <a title="java.io.OutputStream" id="88155">out</a>: <span title="java.io.OutputStream">OutputStream</span>, <a title="Boolean" id="88156">close</a>: <span title="Boolean">Boolean</span>, <a title="sbt.Logger" id="88157">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Option[String]">Option</span>[String] =
	{
		<a href="Control.scala.html#11797" title="object sbt.Control">Control</a>.<a href="Control.scala.html#25435" title="(=&gt; String,sbt.Logger)(=&gt; Option[String])(=&gt; Unit)Option[String]">trapUnitAndFinally</a>(<span title="java.lang.String(&quot;Error during transfer: &quot;)" class="string">&quot;Error during transfer: &quot;</span>, <a href="#88157" title="sbt.Logger">log</a>)
		{
			<span class="keyword">val</span> <a title="Array[Byte]" id="88158">buffer</a> = <span title="Array[Byte]" class="keyword">new</span> <span title="Array[Byte]">Array</span>[Byte](<a href="#15211" title="=&gt; Int">BufferSize</a>)
			<span class="keyword">def</span> <a title="=&gt; None.type" id="88159">read</a>: None.<span class="keyword">type</span> =
			{
				<span class="keyword">val</span> <a title="Int" id="88161">byteCount</a> = <a href="#88154" title="java.io.InputStream">in</a>.<span title="(Array[Byte])Int">read</span>(<a href="#88158" title="Array[Byte]">buffer</a>)
				<span title="None.type" class="keyword">if</span>(<a href="#88161" title="Int">byteCount</a> <span title="(Int)Boolean">&gt;=</span> <span title="Int(0)" class="int">0</span>)
				{
					<a href="#88155" title="java.io.OutputStream">out</a>.<a title="(Array[Byte],Int,Int)Unit" id="29868">write</a>(<a href="#88158" title="Array[Byte]">buffer</a>, <span title="Int(0)" class="int">0</span>, <a href="#88161" title="Int">byteCount</a>)
					<a href="#88159" title="=&gt; None.type">read</a>
				}
				<span class="keyword">else</span>
					<span title="object None">None</span>
			}
			<a href="#88159" title="=&gt; None.type">read</a>
		}
		{ <span title="Unit" class="keyword">if</span>(<a href="#88156" title="Boolean">close</a>) <a href="#88154" title="java.io.InputStream">in</a>.<span title="()Unit">close</span> }
	}

	<span class="comment">/** Creates a file at the given location.*/</span>
	<span class="keyword">def</span> <a title="(sbt.Path,sbt.Logger)Option[String]" id="15242">touch</a>(<a title="sbt.Path" id="88185">path</a>: <a href="Path.scala.html#10152" title="sbt.Path">Path</a>, <a title="sbt.Logger" id="88186">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Option[String]">Option</span>[String] = <a href="#15243" title="(java.io.File,sbt.Logger)Option[String]">touch</a>(<a href="#88185" title="sbt.Path">path</a>.<a href="Path.scala.html#17865" title="=&gt; java.io.File">asFile</a>, <a href="#88186" title="sbt.Logger">log</a>)
	<span class="comment">/** Creates a file at the given location.*/</span>
	<span class="keyword">def</span> <a title="(java.io.File,sbt.Logger)Option[String]" id="15243">touch</a>(<a title="java.io.File" id="88188">file</a>: <span title="java.io.File">File</span>, <a title="sbt.Logger" id="88189">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Option[String]">Option</span>[String] =
	{
		<a href="Control.scala.html#11797" title="object sbt.Control">Control</a>.<a href="Control.scala.html#25434" title="(=&gt; String,sbt.Logger)(=&gt; Option[String])Option[String]">trapUnit</a>(<span title="java.lang.String(&quot;Could not create file &quot;)" class="string">&quot;Could not create file &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#88188" title="java.io.File">file</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span>, <a href="#88189" title="sbt.Logger">log</a>)
		{
			<span title="Option[String]" class="keyword">if</span>(<a href="#88188" title="java.io.File">file</a>.<span title="()Boolean">exists</span>)
				<a href="#15244" title="(java.io.File,Long,sbt.Logger)Option[String]">touchExisting</a>(<a href="#88188" title="java.io.File">file</a>, <span title="object java.lang.System">System</span>.<a title="()Long" id="34091">currentTimeMillis</a>, <a href="#88189" title="sbt.Logger">log</a>)
			<span class="keyword">else</span>
				<a href="#15246" title="(java.io.File,sbt.Logger)Option[String]">createDirectory</a>(<a href="#88188" title="java.io.File">file</a>.<span title="()java.io.File">getParentFile</span>, <a href="#88189" title="sbt.Logger">log</a>) <span title="(=&gt; Option[String])Option[String]">orElse</span> { <a href="#88188" title="java.io.File">file</a>.<a title="()Boolean" id="16027">createNewFile</a>(); <span title="object None">None</span> }
		}
	}
	<span class="comment">/** Sets the last mod time on the given {@code file}, which must already exist */</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(java.io.File,Long,sbt.Logger)Option[String]" id="15244">touchExisting</a>(<a title="java.io.File" id="88124">file</a>: <span title="java.io.File">File</span>, <a title="Long" id="88125">time</a>: <a title="Long" id="2356">Long</a>, <a title="sbt.Logger" id="88126">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Option[String]">Option</span>[String] =
	{
		<span class="keyword">def</span> <a title="=&gt; java.lang.String" id="88193">updateFailBase</a> = <span title="java.lang.String(&quot;Could not update last modified for file &quot;)" class="string">&quot;Could not update last modified for file &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#88124" title="java.io.File">file</a>
		<a href="Control.scala.html#11797" title="object sbt.Control">Control</a>.<a href="Control.scala.html#25434" title="(=&gt; String,sbt.Logger)(=&gt; Option[String])Option[String]">trapUnit</a>(<a href="#88193" title="=&gt; java.lang.String">updateFailBase</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span>, <a href="#88126" title="sbt.Logger">log</a>)
			{ <span title="Option[String]" class="keyword">if</span>(<a href="#88124" title="java.io.File">file</a>.<a title="(Long)Boolean" id="16038">setLastModified</a>(<a href="#88125" title="Long">time</a>)) <span title="object None">None</span> <span class="keyword">else</span> <span title="(java.lang.String)Some[java.lang.String]">Some</span>(<a href="#88193" title="=&gt; java.lang.String">updateFailBase</a>) }
	}
	<span class="comment">/** Creates a directory at the given location.*/</span>
	<span class="keyword">def</span> <a title="(sbt.Path,sbt.Logger)Option[String]" id="15245">createDirectory</a>(<a title="sbt.Path" id="29300">dir</a>: <a href="Path.scala.html#10152" title="sbt.Path">Path</a>, <a title="sbt.Logger" id="29301">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Option[String]">Option</span>[String] = <a href="#15246" title="(java.io.File,sbt.Logger)Option[String]">createDirectory</a>(<a href="#29300" title="sbt.Path">dir</a>.<a href="Path.scala.html#17865" title="=&gt; java.io.File">asFile</a>, <a href="#29301" title="sbt.Logger">log</a>)
	<span class="comment">/** Creates a directory at the given location.*/</span>
	<span class="keyword">def</span> <a title="(java.io.File,sbt.Logger)Option[String]" id="15246">createDirectory</a>(<a title="java.io.File" id="29298">dir</a>: <span title="java.io.File">File</span>, <a title="sbt.Logger" id="29299">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Option[String]">Option</span>[String] =
	{
		<a href="Control.scala.html#11797" title="object sbt.Control">Control</a>.<a href="Control.scala.html#25434" title="(=&gt; String,sbt.Logger)(=&gt; Option[String])Option[String]">trapUnit</a>(<span title="java.lang.String(&quot;Could not create directory &quot;)" class="string">&quot;Could not create directory &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#29298" title="java.io.File">dir</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span>, <a href="#29299" title="sbt.Logger">log</a>)
		{
			<span title="Option[String]" class="keyword">if</span>(<a href="#29298" title="java.io.File">dir</a>.<span title="()Boolean">exists</span>)
			{
				<span title="Option[String]" class="keyword">if</span>(<a href="#29298" title="java.io.File">dir</a>.<span title="()Boolean">isDirectory</span>)
					<span title="object None">None</span>
				<span class="keyword">else</span>
					<span title="(java.lang.String)Some[java.lang.String]">Some</span>(<a href="#29298" title="implicit scala.Predef.any2stringadd : (Any)scala.runtime.StringAdd" id="6226">dir</a> <a title="(String)java.lang.String" id="17629">+</a> <span title="java.lang.String(&quot; exists and is not a directory.&quot;)" class="string">&quot; exists and is not a directory.&quot;</span>)
			}
			<span class="keyword">else</span>
			{
				<a href="#29298" title="java.io.File">dir</a>.<a title="()Boolean" id="16036">mkdirs</a>()
				<a href="#29299" title="sbt.Logger">log</a>.<a href="Logger.scala.html#19516" title="(=&gt; String)Unit">debug</a>(<span title="java.lang.String(&quot;Created directory &quot;)" class="string">&quot;Created directory &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#29298" title="java.io.File">dir</a>)
				<span title="object None">None</span>
			}
		}
	}
	<span class="comment">/** Creates directories at the given locations.*/</span>
	<span class="keyword">def</span> <a title="(Iterable[sbt.Path],sbt.Logger)Option[String]" id="15247">createDirectories</a>(<a title="Iterable[sbt.Path]" id="61898">d</a>: <span title="Iterable[sbt.Path]">Iterable</span>[Path], <a title="sbt.Logger" id="61899">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Option[String]">Option</span>[String] = <a href="#15248" title="(List[java.io.File],sbt.Logger)Option[String]">createDirectories</a>(<a href="Path.scala.html#10153" title="object sbt.Path">Path</a>.<a href="Path.scala.html#15378" title="(Iterable[sbt.Path])scala.collection.immutable.Set[java.io.File]">getFiles</a>(<a href="#61898" title="Iterable[sbt.Path]">d</a>).<span title="=&gt; List[java.io.File]">toList</span>, <a href="#61899" title="sbt.Logger">log</a>)
	<span class="comment">/** Creates directories at the given locations.*/</span>
	<span class="keyword">def</span> <a title="(List[java.io.File],sbt.Logger)Option[String]" id="15248">createDirectories</a>(<a title="List[java.io.File]" id="61896">d</a>: <span title="List[java.io.File]">List</span>[File], <a title="sbt.Logger" id="61897">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Option[String]">Option</span>[String] =
		<a href="#61896" title="List[java.io.File]">d</a> <span title="Option[String]" class="keyword">match</span>
		{
			<span title="None.type" class="keyword">case</span> <span title="object Nil">Nil</span> =&gt; <span title="object None">None</span>
			<span title="Option[String]" class="keyword">case</span> <a title="java.io.File" id="88203">head</a> :: <a title="List[java.io.File]" id="88204">tail</a> =&gt; <a href="#15246" title="(java.io.File,sbt.Logger)Option[String]">createDirectory</a>(<a href="#88203" title="java.io.File">head</a>, <a href="#61897" title="sbt.Logger">log</a>) <span title="(=&gt; Option[String])Option[String]">orElse</span> <a href="#15248" title="(List[java.io.File],sbt.Logger)Option[String]">createDirectories</a>(<a href="#88204" title="List[java.io.File]">tail</a>, <a href="#61897" title="sbt.Logger">log</a>)
		}
	<span class="comment">/** The maximum number of times a unique temporary filename is attempted to be created.*/</span>
	<span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="15249">MaximumTries</a> = <span title="Int(10)" class="int">10</span>
	<span class="comment">/** Creates a temporary directory and returns it.*/</span>
	<span class="keyword">def</span> <a title="(sbt.Logger)Either[String,java.io.File]" id="15251">createTemporaryDirectory</a>(<a title="sbt.Logger" id="87811">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Either[String,java.io.File]">Either</span>[String, File] =
	{
		<span class="keyword">def</span> <a title="(Int)Either[String,java.io.File]" id="88209">create</a>(<a title="Int" id="88210">tries</a>: <a title="Int" id="2351">Int</a>): <span title="Either[String,java.io.File]">Either</span>[String, File] =
		{
			<span title="Either[String,java.io.File]" class="keyword">if</span>(<a href="#88210" title="Int">tries</a> <a title="(Int)Boolean" id="3093">&gt;</a> <a href="#15249" title="=&gt; Int">MaximumTries</a>)
				<span title="(java.lang.String)Left[java.lang.String,Nothing]">Left</span>(<span title="java.lang.String(&quot;Could not create temporary directory.&quot;)" class="string">&quot;Could not create temporary directory.&quot;</span>)
			<span class="keyword">else</span>
			{
				<span class="keyword">val</span> <a title="java.lang.String" id="88214">randomName</a> = <span title="java.lang.String(&quot;sbt_&quot;)" class="string">&quot;sbt_&quot;</span> <span title="(Any)java.lang.String">+</span> java.lang.<a title="object java.lang.Integer" id="1729">Integer</a>.<a title="(Int)java.lang.String" id="18225">toHexString</a>(<a href="#15340" title="=&gt; java.util.Random">random</a>.<a title="()Int" id="36598">nextInt</a>)
				<span class="keyword">val</span> <a title="java.io.File" id="88215">f</a> = <span title="(java.io.File,java.lang.String)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span>(<a href="#15325" title="=&gt; java.io.File">temporaryDirectory</a>, <a href="#88214" title="java.lang.String">randomName</a>)

				<span title="Either[String,java.io.File]" class="keyword">if</span>(<a href="#15246" title="(java.io.File,sbt.Logger)Option[String]">createDirectory</a>(<a href="#88215" title="java.io.File">f</a>, <a href="#87811" title="sbt.Logger">log</a>).<span title="=&gt; Boolean">isEmpty</span>)
					<span title="(java.io.File)Right[Nothing,java.io.File]">Right</span>(<a href="#88215" title="java.io.File">f</a>)
				<span class="keyword">else</span>
					<a href="#88209" title="(Int)Either[String,java.io.File]">create</a>(<a href="#88210" title="Int">tries</a> <a title="(Int)Int" id="3095">+</a> <span title="Int(1)" class="int">1</span>)
			}
		}
		<a href="#88209" title="(Int)Either[String,java.io.File]">create</a>(<span title="Int(0)" class="int">0</span>)
	}

	<span class="keyword">def</span> <a title="(sbt.Logger)((java.io.File) =&gt; Option[String])Option[String]" id="15252">withTemporaryDirectory</a>(<a title="sbt.Logger" id="88252">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>)(<a title="(java.io.File) =&gt; Option[String]" id="88253">action</a>: File =&gt; Option[String]): <span title="Option[String]">Option</span>[String] =
		 <a href="#15253" title="(sbt.Logger)((java.io.File) =&gt; Either[String,Unit])Either[String,Unit]">doInTemporaryDirectory</a>(<a href="#88252" title="sbt.Logger">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>)(<a title="java.io.File" id="88256">file</a> =&gt; <a href="#88253" title="(java.io.File)Option[String]">action</a>(<a href="#88256" title="java.io.File">file</a>).<span title="(=&gt; Unit)Either[String,Unit] with Product">toLeft</span>(<span title="Unit">(</span>))).<span title="=&gt; Either.LeftProjection[String,Unit]">left</span>.<span title="=&gt; Option[String]">toOption</span>
	<span class="comment">/** Creates a temporary directory and provides its location to the given function.  The directory
	* is deleted after the function returns.*/</span>
	<span class="keyword">def</span> <a title="[T](sbt.Logger)((java.io.File) =&gt; Either[String,T])Either[String,T]" id="15253">doInTemporaryDirectory</a>[<a title="&gt;: Nothing &lt;: Any" id="15255">T</a>](<a title="sbt.Logger" id="73713">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>)(<a title="(java.io.File) =&gt; Either[String,T]" id="73714">action</a>: File =&gt; Either[String, T]): <span title="Either[String,T]">Either</span>[String, T] =
	{
		<span class="keyword">def</span> <a title="(java.io.File)Either[String,T]" id="88263">doInDirectory</a>(<a title="java.io.File" id="88264">dir</a>: <span title="java.io.File">File</span>): <span title="Either[String,T]">Either</span>[String, T] =
		{
			<a href="Control.scala.html#11797" title="object sbt.Control">Control</a>.<a href="Control.scala.html#25431" title="(=&gt; String,sbt.Logger)(=&gt; Either[String,T])(=&gt; Unit)Either[String,T]">trapAndFinally</a>(<span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <a href="#73713" title="sbt.Logger">log</a>)
				{ <a href="#73714" title="(java.io.File)Either[String,T]">action</a>(<a href="#88264" title="java.io.File">dir</a>) }
				{ <a href="#15277" title="(java.io.File,Boolean,sbt.Logger)Option[String]">delete</a>(<a href="#88264" title="java.io.File">dir</a>, <span title="Boolean(true)" class="keyword">true</span>, <a href="#73713" title="sbt.Logger">log</a>) }
		}
		<a href="#15251" title="(sbt.Logger)Either[String,java.io.File]">createTemporaryDirectory</a>(<a href="#73713" title="sbt.Logger">log</a>).<span title="=&gt; Either.RightProjection[String,java.io.File]">right</span>.<span title="((java.io.File) =&gt; Either[String,T])Either[String,T]">flatMap</span>(<a href="#88263" title="(java.io.File)Either[String,T]">doInDirectory</a>)
	}
	<span class="keyword">def</span> <a title="[T](sbt.Logger,String,String)((java.io.File) =&gt; Either[String,T])Either[String,T]" id="15256">withTemporaryFile</a>[<a title="&gt;: Nothing &lt;: Any" id="15258">T</a>](<a title="sbt.Logger" id="88275">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>, <a title="String" id="88276">prefix</a>: <span title="String">String</span>, <a title="String" id="88277">postfix</a>: <span title="String">String</span>)(<a title="(java.io.File) =&gt; Either[String,T]" id="88278">action</a>: File =&gt; Either[String, T]): <span title="Either[String,T]">Either</span>[String, T] =
	{
		<a href="Control.scala.html#11797" title="object sbt.Control">Control</a>.<a href="Control.scala.html#25428" title="(=&gt; String,sbt.Logger)(=&gt; Either[String,T])Either[String,T]">trap</a>(<span title="java.lang.String(&quot;Error creating temporary file: &quot;)" class="string">&quot;Error creating temporary file: &quot;</span>, <a href="#88275" title="sbt.Logger">log</a>)
		{
			<span class="keyword">val</span> <a title="java.io.File" id="88286">file</a> = <span title="object java.io.File">File</span>.<a title="(java.lang.String,java.lang.String)java.io.File" id="16042">createTempFile</a>(<a href="#88276" title="String">prefix</a>, <a href="#88277" title="String">postfix</a>)
			<a href="Control.scala.html#11797" title="object sbt.Control">Control</a>.<a href="Control.scala.html#25431" title="(=&gt; String,sbt.Logger)(=&gt; Either[String,T])(=&gt; Unit)Either[String,T]">trapAndFinally</a>(<span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <a href="#88275" title="sbt.Logger">log</a>)
				{ <a href="#88278" title="(java.io.File)Either[String,T]">action</a>(<a href="#88286" title="java.io.File">file</a>) }
				{ <a href="#88286" title="java.io.File">file</a>.<span title="()Boolean">delete</span>() }
		}
	}

	<span class="comment">/** Copies the files declared in &lt;code&gt;sources&lt;/code&gt; to the &lt;code&gt;destinationDirectory&lt;/code&gt;
	* directory.  The source directory hierarchy is flattened so that all copies are immediate
	* children of &lt;code&gt;destinationDirectory&lt;/code&gt;.  Directories are not recursively entered.*/</span>
	<span class="keyword">def</span> <a title="(Iterable[sbt.Path],sbt.Path,sbt.Logger)Either[String,scala.collection.Set[sbt.Path]] with Product" id="15259">copyFlat</a>(<a title="Iterable[sbt.Path]" id="30194">sources</a>: <span title="Iterable[sbt.Path]">Iterable</span>[Path], <a title="sbt.Path" id="30195">destinationDirectory</a>: <a href="Path.scala.html#10152" title="sbt.Path">Path</a>, <a title="sbt.Logger" id="30196">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>) =
	{
		<span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[sbt.Path]" id="30198">targetSet</a> = <span title="scala.collection.mutable.HashSet[sbt.Path]" class="keyword">new</span> scala.collection.mutable.<span title="scala.collection.mutable.HashSet[sbt.Path]">HashSet</span>[Path]
		<a href="#15260" title="(Iterable[sbt.Path],sbt.Path,sbt.Logger)((sbt.Path) =&gt; Option[String])Option[String]">copyImpl</a>(<a href="#30194" title="Iterable[sbt.Path]">sources</a>, <a href="#30195" title="sbt.Path">destinationDirectory</a>, <a href="#30196" title="sbt.Logger">log</a>)
		{
			<a title="sbt.Path" id="30204">source</a> =&gt;
			{
				<span class="keyword">val</span> <a title="java.io.File" id="30205">from</a> = <a href="#30204" title="sbt.Path">source</a>.<a href="Path.scala.html#17865" title="=&gt; java.io.File">asFile</a>
				<span class="keyword">val</span> <a title="sbt.Path" id="30206">toPath</a> = <a href="#30195" title="sbt.Path">destinationDirectory</a> <a href="Path.scala.html#17859" title="(String)sbt.Path">/</a> <a href="#30205" title="java.io.File">from</a>.<span title="()java.lang.String">getName</span>
				<a href="#30198" title="scala.collection.mutable.HashSet[sbt.Path]">targetSet</a> <span title="(sbt.Path)Unit">+=</span> <a href="#30206" title="sbt.Path">toPath</a>
				<span class="keyword">val</span> <a title="java.io.File" id="30207">to</a> = <a href="#30206" title="sbt.Path">toPath</a>.<a href="Path.scala.html#17865" title="=&gt; java.io.File">asFile</a>
				<span title="Option[String]" class="keyword">if</span>(<span title="=&gt; Boolean">!</span><a href="#30207" title="java.io.File">to</a>.<span title="()Boolean">exists</span> <span title="(Boolean)Boolean">||</span> <a href="#30205" title="java.io.File">from</a>.<span title="()Long">lastModified</span> <span title="(Long)Boolean">&gt;</span> <a href="#30207" title="java.io.File">to</a>.<span title="()Long">lastModified</span> <span title="(Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#30205" title="java.io.File">from</a>.<span title="()Boolean">isDirectory</span>)
				{
					<a href="#30196" title="sbt.Logger">log</a>.<a href="Logger.scala.html#19516" title="(=&gt; String)Unit">debug</a>(<span title="java.lang.String(&quot;Copying &quot;)" class="string">&quot;Copying &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#30204" title="sbt.Path">source</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; to &quot;)" class="string">&quot; to &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#30206" title="sbt.Path">toPath</a>)
					<a href="#15267" title="(java.io.File,java.io.File,sbt.Logger)Option[String]">copyFile</a>(<a href="#30205" title="java.io.File">from</a>, <a href="#30207" title="java.io.File">to</a>, <a href="#30196" title="sbt.Logger">log</a>)
				}
				<span class="keyword">else</span>
					<span title="object None">None</span>
			}
		}.<span title="(=&gt; scala.collection.Set[sbt.Path])Either[String,scala.collection.Set[sbt.Path]] with Product">toLeft</span>(<a href="wrap/Wrappers.scala.html#18051" title="(scala.collection.mutable.Set[sbt.Path])scala.collection.Set[sbt.Path]">readOnly</a>(<a href="#30198" title="scala.collection.mutable.HashSet[sbt.Path]">targetSet</a>))
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(Iterable[sbt.Path],sbt.Path,sbt.Logger)((sbt.Path) =&gt; Option[String])Option[String]" id="15260">copyImpl</a>(<a title="Iterable[sbt.Path]" id="30199">sources</a>: <span title="Iterable[sbt.Path]">Iterable</span>[Path], <a title="sbt.Path" id="30200">destinationDirectory</a>: <a href="Path.scala.html#10152" title="sbt.Path">Path</a>, <a title="sbt.Logger" id="30201">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>)
		(<a title="(sbt.Path) =&gt; Option[String]" id="30202">doCopy</a>: Path =&gt; Option[String]): <span title="Option[String]">Option</span>[String] =
	{
		<span class="keyword">val</span> <a title="java.io.File" id="88289">target</a> = <a href="#30200" title="sbt.Path">destinationDirectory</a>.<a href="Path.scala.html#17865" title="=&gt; java.io.File">asFile</a>
		<span class="keyword">val</span> <a title="Option[String]" id="88290">creationError</a> =
			<span title="Option[String]" class="keyword">if</span>(<a href="#88289" title="java.io.File">target</a>.<span title="()Boolean">isDirectory</span>)
				<span title="object None">None</span>
			<span class="keyword">else</span>
				<a href="#15246" title="(java.io.File,sbt.Logger)Option[String]">createDirectory</a>(<a href="#88289" title="java.io.File">target</a>, <a href="#30201" title="sbt.Logger">log</a>)
		<span class="keyword">def</span> <a title="(List[sbt.Path])Option[String]" id="88291">copy</a>(<a title="List[sbt.Path]" id="88293">sources</a>: <span title="List[sbt.Path]">List</span>[Path]): <span title="Option[String]">Option</span>[String] =
		{
			<a href="#88293" title="List[sbt.Path]">sources</a> <span title="Option[String]" class="keyword">match</span>
			{
				<span title="Option[String]" class="keyword">case</span> <a title="sbt.Path" id="88294">src</a> :: <a title="List[sbt.Path]" id="88295">remaining</a> =&gt;
				{
					<a href="#30202" title="(sbt.Path)Option[String]">doCopy</a>(<a href="#88294" title="sbt.Path">src</a>) <span title="Option[String]" class="keyword">match</span>
					{
						<span title="Option[String]" class="keyword">case</span> <span title="object None">None</span> =&gt; <a href="#88291" title="(List[sbt.Path])Option[String]">copy</a>(<a href="#88295" title="List[sbt.Path]">remaining</a>)
						<span title="Option[String]" class="keyword">case</span> <a title="Option[String]" id="88296">error</a> =&gt; <a href="#88296" title="Option[String]">error</a>
					}
				}
				<span title="None.type" class="keyword">case</span> <span title="object Nil">Nil</span> =&gt; <span title="object None">None</span>
			}
		}
		<a href="#88290" title="Option[String]">creationError</a> <span title="(=&gt; Option[String])Option[String]">orElse</span> ( <a href="Control.scala.html#11797" title="object sbt.Control">Control</a>.<a href="Control.scala.html#25434" title="(=&gt; String,sbt.Logger)(=&gt; Option[String])Option[String]">trapUnit</a>(<span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <a href="#30201" title="sbt.Logger">log</a>) { <a href="#88291" title="(List[sbt.Path])Option[String]">copy</a>(<a href="#30199" title="Iterable[sbt.Path]">sources</a>.<span title="=&gt; List[sbt.Path]">toList</span>) } )
	}
	<span class="comment">/** Retrieves the content of the given URL and writes it to the given File. */</span>
	<span class="keyword">def</span> <a title="(java.net.URL,java.io.File,sbt.Logger)Option[String]" id="15261">download</a>(<a title="java.net.URL" id="88299">url</a>: <span title="java.net.URL">URL</span>, <a title="java.io.File" id="88300">to</a>: <span title="java.io.File">File</span>, <a title="sbt.Logger" id="88301">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>) =
	{
		<a href="#15313" title="(java.net.URL,sbt.Logger)((java.io.InputStream) =&gt; Option[String])Option[String]">readStream</a>(<a href="#88299" title="java.net.URL">url</a>, <a href="#88301" title="sbt.Logger">log</a>) { <a title="java.io.InputStream" id="88305">inputStream</a> =&gt;
			<a href="#15307" title="(java.io.File,sbt.Logger)((java.io.OutputStream) =&gt; Option[String])Option[String]">writeStream</a>(<a href="#88300" title="java.io.File">to</a>, <a href="#88301" title="sbt.Logger">log</a>) { <a title="java.io.OutputStream" id="88308">outputStream</a> =&gt;
				<a href="#15239" title="(java.io.InputStream,java.io.OutputStream,sbt.Logger)Option[String]">transfer</a>(<a href="#88305" title="java.io.InputStream">inputStream</a>, <a href="#88308" title="java.io.OutputStream">outputStream</a>, <a href="#88301" title="sbt.Logger">log</a>)
			}
		}
	}

	<span class="comment">/**
	* Equivalent to {@code copy(sources, destinationDirectory, false, log)}.
	*/</span>
	<span class="keyword">def</span> <a title="(Iterable[sbt.Path],sbt.Path,sbt.Logger)Either[String,scala.collection.Set[sbt.Path]]" id="15262">copy</a>(<a title="Iterable[sbt.Path]" id="28413">sources</a>: <span title="Iterable[sbt.Path]">Iterable</span>[Path], <a title="sbt.Path" id="28414">destinationDirectory</a>: <a href="Path.scala.html#10152" title="sbt.Path">Path</a>, <a title="sbt.Logger" id="28415">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Either[String,scala.collection.Set[sbt.Path]]">Either</span>[String, Set[Path]] =
	<a href="#15263" title="(Iterable[sbt.Path],sbt.Path,Boolean,sbt.Logger)Either[String,scala.collection.Set[sbt.Path]]">copy</a>(<a href="#28413" title="Iterable[sbt.Path]">sources</a>, <a href="#28414" title="sbt.Path">destinationDirectory</a>, <span title="Boolean(false)" class="keyword">false</span>, <a href="#28415" title="sbt.Logger">log</a>)

	<span class="comment">/**
	* Equivalent to {@code copy(sources, destinationDirectory, overwrite, false, log)}.
	*/</span>
	<span class="keyword">def</span> <a title="(Iterable[sbt.Path],sbt.Path,Boolean,sbt.Logger)Either[String,scala.collection.Set[sbt.Path]]" id="15263">copy</a>(<a title="Iterable[sbt.Path]" id="28409">sources</a>: <span title="Iterable[sbt.Path]">Iterable</span>[Path], <a title="sbt.Path" id="28410">destinationDirectory</a>: <a href="Path.scala.html#10152" title="sbt.Path">Path</a>, <a title="Boolean" id="28411">overwrite</a>: <span title="Boolean">Boolean</span>, <a title="sbt.Logger" id="28412">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Either[String,scala.collection.Set[sbt.Path]]">Either</span>[String, Set[Path]] =
	<a href="#15264" title="(Iterable[sbt.Path],sbt.Path,Boolean,Boolean,sbt.Logger)Either[String,scala.collection.Set[sbt.Path]]">copy</a>(<a href="#28409" title="Iterable[sbt.Path]">sources</a>, <a href="#28410" title="sbt.Path">destinationDirectory</a>, <a href="#28411" title="Boolean">overwrite</a>, <span title="Boolean(false)" class="keyword">false</span>, <a href="#28412" title="sbt.Logger">log</a>)

	<span class="comment">/** Copies the files declared in &lt;code&gt;sources&lt;/code&gt; to the &lt;code&gt;destinationDirectory&lt;/code&gt;
	* directory.  Directories are not recursively entered.  The destination hierarchy matches the
	* source paths relative to any base directories.  For example:
	*
	* A source &lt;code&gt;(basePath ##) / x / y&lt;/code&gt; is copied to &lt;code&gt;destinationDirectory / x / y&lt;/code&gt;.
	*
	* @param overwrite if true, existing destination files are always overwritten
	* @param preserveLastModified if true, the last modified time of copied files will be set equal to
	* their corresponding source files.
	*/</span>
	<span class="keyword">def</span> <a title="(Iterable[sbt.Path],sbt.Path,Boolean,Boolean,sbt.Logger)Either[String,scala.collection.Set[sbt.Path]]" id="15264">copy</a>(<a title="Iterable[sbt.Path]" id="28404">sources</a>: <span title="Iterable[sbt.Path]">Iterable</span>[Path], <a title="sbt.Path" id="28405">destinationDirectory</a>: <a href="Path.scala.html#10152" title="sbt.Path">Path</a>,
		<a title="Boolean" id="28406">overwrite</a>: <span title="Boolean">Boolean</span>, <a title="Boolean" id="28407">preserveLastModified</a>: <span title="Boolean">Boolean</span>, <a title="sbt.Logger" id="28408">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Either[String,scala.collection.Set[sbt.Path]]">Either</span>[String, Set[Path]] =
	{
		<span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[sbt.Path]" id="88311">targetSet</a> = <span title="scala.collection.mutable.HashSet[sbt.Path]" class="keyword">new</span> scala.collection.mutable.<span title="scala.collection.mutable.HashSet[sbt.Path]">HashSet</span>[Path]
		<a href="#15260" title="(Iterable[sbt.Path],sbt.Path,sbt.Logger)((sbt.Path) =&gt; Option[String])Option[String]">copyImpl</a>(<a href="#28404" title="Iterable[sbt.Path]">sources</a>, <a href="#28405" title="sbt.Path">destinationDirectory</a>, <a href="#28408" title="sbt.Logger">log</a>)
		{
			<a title="sbt.Path" id="88313">source</a> =&gt;
			{
				<span class="keyword">val</span> <a title="java.io.File" id="88314">from</a> = <a href="#88313" title="sbt.Path">source</a>.<a href="Path.scala.html#17865" title="=&gt; java.io.File">asFile</a>
				<span class="keyword">val</span> <a title="sbt.Path" id="88315">toPath</a> = <a href="Path.scala.html#10153" title="object sbt.Path">Path</a>.<a href="Path.scala.html#15364" title="(sbt.Path,String)sbt.Path">fromString</a>(<a href="#28405" title="sbt.Path">destinationDirectory</a>, <a href="#88313" title="sbt.Path">source</a>.<a href="Path.scala.html#17867" title="=&gt; String">relativePath</a>)
				<a href="#88311" title="scala.collection.mutable.HashSet[sbt.Path]">targetSet</a> <span title="(sbt.Path)Unit">+=</span> <a href="#88315" title="sbt.Path">toPath</a>
				<span class="keyword">val</span> <a title="java.io.File" id="88316">to</a> = <a href="#88315" title="sbt.Path">toPath</a>.<a href="Path.scala.html#17865" title="=&gt; java.io.File">asFile</a>
				<span title="Option[String]" class="keyword">if</span>(<span title="=&gt; Boolean">!</span><a href="#88316" title="java.io.File">to</a>.<span title="()Boolean">exists</span> <span title="(Boolean)Boolean">||</span> <a href="#28406" title="Boolean">overwrite</a> <span title="(Boolean)Boolean">||</span> <a href="#88314" title="java.io.File">from</a>.<span title="()Long">lastModified</span> <span title="(Long)Boolean">&gt;</span> <a href="#88316" title="java.io.File">to</a>.<span title="()Long">lastModified</span>)
				{
					<span class="keyword">val</span> <a title="Option[String]" id="88319">result</a> =
						<span title="Option[String]" class="keyword">if</span>(<a href="#88314" title="java.io.File">from</a>.<span title="()Boolean">isDirectory</span>)
							<a href="#15246" title="(java.io.File,sbt.Logger)Option[String]">createDirectory</a>(<a href="#88316" title="java.io.File">to</a>, <a href="#28408" title="sbt.Logger">log</a>)
						<span class="keyword">else</span>
						{
							<a href="#28408" title="sbt.Logger">log</a>.<a href="Logger.scala.html#19516" title="(=&gt; String)Unit">debug</a>(<span title="java.lang.String(&quot;Copying &quot;)" class="string">&quot;Copying &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#88313" title="sbt.Path">source</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; to &quot;)" class="string">&quot; to &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#88315" title="sbt.Path">toPath</a>)
							<a href="#15267" title="(java.io.File,java.io.File,sbt.Logger)Option[String]">copyFile</a>(<a href="#88314" title="java.io.File">from</a>, <a href="#88316" title="java.io.File">to</a>, <a href="#28408" title="sbt.Logger">log</a>)
						}
					<span title="Option[String]" class="keyword">if</span> (<a href="#88319" title="Option[String]">result</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(Boolean)Boolean">&amp;&amp;</span> <a href="#28407" title="Boolean">preserveLastModified</a>)
						<a href="#15244" title="(java.io.File,Long,sbt.Logger)Option[String]">touchExisting</a>(<a href="#88316" title="java.io.File">to</a>, <a href="#88314" title="java.io.File">from</a>.<span title="()Long">lastModified</span>, <a href="#28408" title="sbt.Logger">log</a>)
					<span class="keyword">else</span>
						<a href="#88319" title="Option[String]">result</a>
				}
				<span class="keyword">else</span>
					<span title="object None">None</span>
			}
		}.<span title="(=&gt; scala.collection.Set[sbt.Path])Either[String,scala.collection.Set[sbt.Path]] with Product">toLeft</span>(<a href="wrap/Wrappers.scala.html#18051" title="(scala.collection.mutable.Set[sbt.Path])scala.collection.Set[sbt.Path]">readOnly</a>(<a href="#88311" title="scala.collection.mutable.HashSet[sbt.Path]">targetSet</a>))
	}

	<span class="comment">/** Copies the files declared in &lt;code&gt;sources&lt;/code&gt; to the &lt;code&gt;targetDirectory&lt;/code&gt;
	* directory.  The source directory hierarchy is flattened so that all copies are immediate
	* children of &lt;code&gt;targetDirectory&lt;/code&gt;.  Directories are not recursively entered.*/</span>
	<span class="keyword">def</span> <a title="(Iterable[java.io.File],sbt.Path,sbt.Logger)Either[String,scala.collection.Set[sbt.Path]]" id="15265">copyFilesFlat</a>(<a title="Iterable[java.io.File]" id="30238">sources</a>: <span title="Iterable[java.io.File]">Iterable</span>[File], <a title="sbt.Path" id="30239">targetDirectory</a>: <a href="Path.scala.html#10152" title="sbt.Path">Path</a>, <a title="sbt.Logger" id="30240">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>) =
	{
		<span title="(Boolean,Any)Unit">require</span>(<a href="#30239" title="sbt.Path">targetDirectory</a>.<a href="Path.scala.html#17865" title="=&gt; java.io.File">asFile</a>.<span title="()Boolean">isDirectory</span>, <span title="java.lang.String(&quot;Target '&quot;)" class="string">&quot;Target '&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#30239" title="sbt.Path">targetDirectory</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;' is not a directory.&quot;)" class="string">&quot;' is not a directory.&quot;</span>)
		<span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[String,java.io.File]" id="30242">byName</a> = <span title="scala.collection.mutable.HashMap[String,java.io.File]" class="keyword">new</span> scala.collection.mutable.<span title="scala.collection.mutable.HashMap[String,java.io.File]">HashMap</span>[String, File]
		<span class="keyword">for</span>(<a title="((java.io.File) =&gt; Unit)Unit" id="30257">source</a> &lt;- <a href="#30238" title="Iterable[java.io.File]">sources</a>) <a href="#30242" title="scala.collection.mutable.HashMap[String,java.io.File]">byName</a>.<a title="(String,java.io.File)Option[java.io.File]" id="24188">put</a>(<a href="#30257" title="java.io.File">source</a>.<span title="()java.lang.String">getName</span>, <a href="#30257" title="java.io.File">source</a>)
		<span class="keyword">val</span> <a title="Iterator[java.io.File]" id="30243">uniquelyNamedSources</a> = <a href="#30242" title="scala.collection.mutable.HashMap[String,java.io.File]">byName</a>.<a title="=&gt; Iterator[java.io.File]" id="24236">values</a>
		<span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[sbt.Path]" id="30244">targetSet</a> = <span title="scala.collection.mutable.HashSet[sbt.Path]" class="keyword">new</span> scala.collection.mutable.<span title="scala.collection.mutable.HashSet[sbt.Path]">HashSet</span>[Path]
		<span class="keyword">def</span> <a title="(java.io.File)Option[String]" id="30245">copy</a>(<a title="java.io.File" id="30258">source</a>: <span title="java.io.File">File</span>): <span title="Option[String]">Option</span>[String] =
		{
			<span title="Option[String]" class="keyword">if</span>(<a href="#30258" title="java.io.File">source</a>.<span title="()Boolean">isDirectory</span>)
				<a href="#30246" title="(List[java.io.File])Option[String]">copyAll</a>(<a href="#30258" title="java.io.File">source</a>.<span title="()Array[java.io.File]">listFiles</span>.<span title="=&gt; List[java.io.File]">toList</span>)
			<span class="keyword">else</span> <span title="Option[String]" class="keyword">if</span>(<a href="#30258" title="java.io.File">source</a>.<span title="()Boolean">exists</span>)
			{
				<span class="keyword">val</span> <a title="sbt.Path" id="30261">targetPath</a> = <a href="#30239" title="sbt.Path">targetDirectory</a> <a href="Path.scala.html#17859" title="(String)sbt.Path">/</a> <a href="#30258" title="java.io.File">source</a>.<span title="()java.lang.String">getName</span>
				<a href="#30244" title="scala.collection.mutable.HashSet[sbt.Path]">targetSet</a> <span title="(sbt.Path)Unit">+=</span> <a href="#30261" title="sbt.Path">targetPath</a>
				<span title="Option[String]" class="keyword">if</span>(<span title="=&gt; Boolean">!</span><a href="#30261" title="sbt.Path">targetPath</a>.<a href="Path.scala.html#17860" title="=&gt; Boolean">exists</a> <span title="(Boolean)Boolean">||</span> <a href="#30258" title="java.io.File">source</a>.<span title="()Long">lastModified</span> <span title="(Long)Boolean">&gt;</span> <a href="#30261" title="sbt.Path">targetPath</a>.<a href="Path.scala.html#17862" title="=&gt; Long">lastModified</a>)
				{
					<a href="#30240" title="sbt.Logger">log</a>.<a href="Logger.scala.html#19516" title="(=&gt; String)Unit">debug</a>(<span title="java.lang.String(&quot;Copying &quot;)" class="string">&quot;Copying &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#30258" title="java.io.File">source</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; to &quot;)" class="string">&quot; to &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#30261" title="sbt.Path">targetPath</a>)
					<a href="#15267" title="(java.io.File,java.io.File,sbt.Logger)Option[String]">copyFile</a>(<a href="#30258" title="java.io.File">source</a>, <a href="#30261" title="sbt.Path">targetPath</a>.<a href="Path.scala.html#17865" title="=&gt; java.io.File">asFile</a>, <a href="#30240" title="sbt.Logger">log</a>)
				}
				<span class="keyword">else</span>
					<span title="object None">None</span>
			}
			<span class="keyword">else</span>
				<span title="object None">None</span>
		}
		<span class="keyword">def</span> <a title="(List[java.io.File])Option[String]" id="30246">copyAll</a>(<a title="List[java.io.File]" id="30259">sources</a>: <span title="List[java.io.File]">List</span>[File]): <span title="Option[String]">Option</span>[String] =
			<a href="#30259" title="List[java.io.File]">sources</a> <span title="Option[String]" class="keyword">match</span>
			{
				<span title="Option[String]" class="keyword">case</span> <a title="java.io.File" id="30296">head</a> :: <a title="List[java.io.File]" id="30297">tail</a> =&gt;
					<a href="#30245" title="(java.io.File)Option[String]">copy</a>(<a href="#30296" title="java.io.File">head</a>) <span title="Option[String]" class="keyword">match</span>
					{
						<span title="Option[String]" class="keyword">case</span> <span title="object None">None</span> =&gt; <a href="#30246" title="(List[java.io.File])Option[String]">copyAll</a>(<a href="#30297" title="List[java.io.File]">tail</a>)
						<span title="Option[String]" class="keyword">case</span> <a title="Option[String]" id="30298">x</a> =&gt; <a href="#30298" title="Option[String]">x</a>
					}
				<span title="None.type" class="keyword">case</span> <span title="object Nil">Nil</span> =&gt; <span title="object None">None</span>
			}

		<a href="Control.scala.html#11797" title="object sbt.Control">Control</a>.<a href="Control.scala.html#25428" title="(=&gt; String,sbt.Logger)(=&gt; Either[String,scala.collection.Set[sbt.Path]])Either[String,scala.collection.Set[sbt.Path]]">trap</a>(<span title="java.lang.String(&quot;Error copying files: &quot;)" class="string">&quot;Error copying files: &quot;</span>, <a href="#30240" title="sbt.Logger">log</a>) { <a href="#30246" title="(List[java.io.File])Option[String]">copyAll</a>(<a href="#30243" title="Iterator[java.io.File]">uniquelyNamedSources</a>.<a title="=&gt; List[java.io.File]" id="23026">toList</a>).<span title="(=&gt; scala.collection.Set[sbt.Path])Either[String,scala.collection.Set[sbt.Path]] with Product">toLeft</span>(<a href="wrap/Wrappers.scala.html#18051" title="(scala.collection.mutable.Set[sbt.Path])scala.collection.Set[sbt.Path]">readOnly</a>(<a href="#30244" title="scala.collection.mutable.HashSet[sbt.Path]">targetSet</a>)) }
	}
	<span class="comment">/** Copies &lt;code&gt;sourceFile&lt;/code&gt; to &lt;code&gt;targetFile&lt;/code&gt;.  If &lt;code&gt;targetFile&lt;/code&gt;
	* exists, it is overwritten.  Note that unlike higher level copies in FileUtilities, this
	* method always performs the copy, even if sourceFile is older than targetFile.*/</span>
	<span class="keyword">def</span> <a title="(sbt.Path,sbt.Path,sbt.Logger)Option[String]" id="15266">copyFile</a>(<a title="sbt.Path" id="25610">sourceFile</a>: <a href="Path.scala.html#10152" title="sbt.Path">Path</a>, <a title="sbt.Path" id="25611">targetFile</a>: <a href="Path.scala.html#10152" title="sbt.Path">Path</a>, <a title="sbt.Logger" id="25612">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Option[String]">Option</span>[String] =
		<a href="#15267" title="(java.io.File,java.io.File,sbt.Logger)Option[String]">copyFile</a>(<a href="#25610" title="sbt.Path">sourceFile</a>.<a href="Path.scala.html#17865" title="=&gt; java.io.File">asFile</a>, <a href="#25611" title="sbt.Path">targetFile</a>.<a href="Path.scala.html#17865" title="=&gt; java.io.File">asFile</a>, <a href="#25612" title="sbt.Logger">log</a>)
	<span class="comment">/** Copies &lt;code&gt;sourceFile&lt;/code&gt; to &lt;code&gt;targetFile&lt;/code&gt;.  If &lt;code&gt;targetFile&lt;/code&gt;
	* exists, it is overwritten.  Note that unlike higher level copies in FileUtilities, this
	* method always performs the copy, even if sourceFile is older than targetFile.*/</span>
	<span class="keyword">def</span> <a title="(java.io.File,java.io.File,sbt.Logger)Option[String]" id="15267">copyFile</a>(<a title="java.io.File" id="25607">sourceFile</a>: <span title="java.io.File">File</span>, <a title="java.io.File" id="25608">targetFile</a>: <span title="java.io.File">File</span>, <a title="sbt.Logger" id="25609">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Option[String]">Option</span>[String] =
	{
		<span title="(Boolean,Any)Unit">require</span>(<a href="#25607" title="java.io.File">sourceFile</a>.<span title="()Boolean">exists</span>, <span title="java.lang.String(&quot;Source file '&quot;)" class="string">&quot;Source file '&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#25607" title="java.io.File">sourceFile</a>.<span title="()java.lang.String">getAbsolutePath</span> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;' does not exist.&quot;)" class="string">&quot;' does not exist.&quot;</span>)
		<span title="(Boolean,Any)Unit">require</span>(<span title="=&gt; Boolean">!</span><a href="#25607" title="java.io.File">sourceFile</a>.<span title="()Boolean">isDirectory</span>, <span title="java.lang.String(&quot;Source file '&quot;)" class="string">&quot;Source file '&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#25607" title="java.io.File">sourceFile</a>.<span title="()java.lang.String">getAbsolutePath</span> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;' is a directory.&quot;)" class="string">&quot;' is a directory.&quot;</span>)
		<a href="#15318" title="(java.io.File,sbt.Logger)((java.nio.channels.FileChannel) =&gt; Option[String])Option[String]">readChannel</a>(<a href="#25607" title="java.io.File">sourceFile</a>, <a href="#25609" title="sbt.Logger">log</a>)(
			<a title="java.nio.channels.FileChannel" id="88386">in</a> =&gt; <a href="#15317" title="(java.io.File,sbt.Logger)((java.nio.channels.FileChannel) =&gt; Option[String])Option[String]">writeChannel</a>(<a href="#25608" title="java.io.File">targetFile</a>, <a href="#25609" title="sbt.Logger">log</a>) {
				<a title="java.nio.channels.FileChannel" id="88391">out</a> =&gt; {
					<span class="keyword">val</span> <a title="Long" id="88392">copied</a> = <a href="#88391" title="java.nio.channels.FileChannel">out</a>.<a title="(java.nio.channels.ReadableByteChannel,Long,Long)Long" id="37436">transferFrom</a>(<a href="#88386" title="java.nio.channels.FileChannel">in</a>, <span title="Long(0L)" class="int">0</span>, <a href="#88386" title="java.nio.channels.FileChannel">in</a>.<span title="()Long">size</span>)
					<span title="Option[String]" class="keyword">if</span>(<a href="#88392" title="Long">copied</a> <a title="(Long)Boolean" id="3212">==</a> <a href="#88386" title="java.nio.channels.FileChannel">in</a>.<span title="()Long">size</span>)
						<span title="object None">None</span>
					<span class="keyword">else</span>
						<span title="(java.lang.String)Some[java.lang.String]">Some</span>(<span title="java.lang.String(&quot;Could not copy '&quot;)" class="string">&quot;Could not copy '&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#25607" title="java.io.File">sourceFile</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;' to '&quot;)" class="string">&quot;' to '&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#25608" title="java.io.File">targetFile</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;' (&quot;)" class="string">&quot;' (&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#88392" title="Long">copied</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#88386" title="java.nio.channels.FileChannel">in</a>.<span title="()Long">size</span> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; bytes copied)&quot;)" class="string">&quot; bytes copied)&quot;</span>)
				}
			}
		)
	}

	<span class="comment">/** Synchronizes the contents of the &lt;code&gt;sourceDirectory&lt;/code&gt; directory to the
	* &lt;code&gt;targetDirectory&lt;/code&gt; directory.*/</span>
	<span class="keyword">def</span> <a title="(sbt.Path,sbt.Path,sbt.Logger)Option[String]" id="15268">sync</a>(<a title="sbt.Path" id="28383">sourceDirectory</a>: <a href="Path.scala.html#10152" title="sbt.Path">Path</a>, <a title="sbt.Path" id="28384">targetDirectory</a>: <a href="Path.scala.html#10152" title="sbt.Path">Path</a>, <a title="sbt.Logger" id="28385">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Option[String]">Option</span>[String] =
		<a href="#15269" title="(sbt.PathFinder,sbt.Path,sbt.Logger)Option[String]">syncPaths</a>((<a href="#28383" title="sbt.Path">sourceDirectory</a> <a href="Path.scala.html#17857" title="=&gt; sbt.Path">##</a>) <a href="Path.scala.html#15971" title="(sbt.FileFilter)sbt.PathFinder">**</a> <a href="NameFilter.scala.html#8908" title="object sbt.AllPassFilter">AllPassFilter</a>, <a href="#28384" title="sbt.Path">targetDirectory</a>, <a href="#28385" title="sbt.Logger">log</a>)
	<span class="keyword">def</span> <a title="(sbt.PathFinder,sbt.Path,sbt.Logger)Option[String]" id="15269">syncPaths</a>(<a title="sbt.PathFinder" id="28363">sources</a>: <a href="Path.scala.html#8754" title="sbt.PathFinder">PathFinder</a>, <a title="sbt.Path" id="28364">targetDirectory</a>: <a href="Path.scala.html#10152" title="sbt.Path">Path</a>, <a title="sbt.Logger" id="28365">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Option[String]">Option</span>[String] =
	{
		<a href="#15262" title="(Iterable[sbt.Path],sbt.Path,sbt.Logger)Either[String,scala.collection.Set[sbt.Path]]">copy</a>(<a href="#28363" title="sbt.PathFinder">sources</a>.<a href="Path.scala.html#15978" title="=&gt; scala.collection.Set[sbt.Path]">get</a>, <a href="#28364" title="sbt.Path">targetDirectory</a>, <a href="#28365" title="sbt.Logger">log</a>).<span title="=&gt; Either.RightProjection[String,scala.collection.Set[sbt.Path]]">right</span>.<span title="((scala.collection.Set[sbt.Path]) =&gt; Either[String,Unit])Either[String,Unit]">flatMap</span>
			{ <a title="scala.collection.Set[sbt.Path]" id="88401">copiedTo</a> =&gt; <a href="#15270" title="(sbt.Path,Iterable[sbt.Path],sbt.Logger)Option[String]">prune</a>(<a href="#28364" title="sbt.Path">targetDirectory</a>, <a href="#88401" title="scala.collection.Set[sbt.Path]">copiedTo</a>, <a href="#28365" title="sbt.Logger">log</a>).<span title="(=&gt; Unit)Either[String,Unit] with Product">toLeft</span>(<span title="Unit">(</span>)) }.<span title="=&gt; Either.LeftProjection[String,Unit]">left</span>.<span title="=&gt; Option[String]">toOption</span>
	}
	<span class="keyword">def</span> <a title="(sbt.Path,Iterable[sbt.Path],sbt.Logger)Option[String]" id="15270">prune</a>(<a title="sbt.Path" id="62286">directory</a>: <a href="Path.scala.html#10152" title="sbt.Path">Path</a>, <a title="Iterable[sbt.Path]" id="62287">keepOnly</a>: <span title="Iterable[sbt.Path]">Iterable</span>[Path], <a title="sbt.Logger" id="62288">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Option[String]">Option</span>[String] =
	{
		<span class="keyword">val</span> <a title="scala.collection.Set[sbt.Path]" id="88408">existing</a> = ((<a href="#62286" title="sbt.Path">directory</a> <a href="Path.scala.html#17857" title="=&gt; sbt.Path">##</a>) <a href="Path.scala.html#15971" title="(sbt.FileFilter)sbt.PathFinder">**</a> <a href="NameFilter.scala.html#8908" title="object sbt.AllPassFilter">AllPassFilter</a>).<a href="Path.scala.html#15978" title="=&gt; scala.collection.Set[sbt.Path]">get</a>
		<span class="keyword">val</span> <a title="scala.collection.mutable.Set[sbt.Path]" id="88409">toRemove</a> = scala.collection.mutable.<a title="(sbt.Path*)scala.collection.mutable.Set[sbt.Path]" id="15534">HashSet</a>(<a href="#88408" title="scala.collection.Set[sbt.Path]">existing</a>.<a title="=&gt; Seq[sbt.Path]" id="16094">toSeq</a>: _*)
		<a href="#88409" title="scala.collection.mutable.Set[sbt.Path]">toRemove</a> <a title="(Iterable[sbt.Path])Unit" id="17921">--=</a> <a href="#62287" title="Iterable[sbt.Path]">keepOnly</a>
		<span title="Unit" class="keyword">if</span>(<a href="#62288" title="sbt.Logger">log</a>.<a href="Logger.scala.html#19513" title="(sbt.Level.Value)Boolean">atLevel</a>(<a href="Logger.scala.html#8242" title="object sbt.Level">Level</a>.<a href="Logger.scala.html#28477" title="=&gt; sbt.Level.Value">Debug</a>))
			<a href="#88409" title="scala.collection.mutable.Set[sbt.Path]">toRemove</a>.<span title="((sbt.Path) =&gt; Unit)Unit">foreach</span>(<a title="sbt.Path" id="88413">r</a> =&gt; <a href="#62288" title="sbt.Logger">log</a>.<a href="Logger.scala.html#19516" title="(=&gt; String)Unit">debug</a>(<span title="java.lang.String(&quot;Pruning &quot;)" class="string">&quot;Pruning &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#88413" title="sbt.Path">r</a>))
		<a href="#15275" title="(Iterable[sbt.Path],Boolean,sbt.Logger)Option[String]">clean</a>(<a href="#88409" title="scala.collection.mutable.Set[sbt.Path]">toRemove</a>, <span title="Boolean(true)" class="keyword">true</span>, <a href="#62288" title="sbt.Logger">log</a>)
	}

	<span class="comment">/** Copies the contents of the &lt;code&gt;source&lt;/code&gt; directory to the &lt;code&gt;target&lt;/code&gt; directory .*/</span>
	<span class="keyword">def</span> <a title="(sbt.Path,sbt.Path,sbt.Logger)Option[String]" id="15271">copyDirectory</a>(<a title="sbt.Path" id="73698">source</a>: <a href="Path.scala.html#10152" title="sbt.Path">Path</a>, <a title="sbt.Path" id="73699">target</a>: <a href="Path.scala.html#10152" title="sbt.Path">Path</a>, <a title="sbt.Logger" id="73700">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Option[String]">Option</span>[String] =
		<a href="#15272" title="(java.io.File,java.io.File,sbt.Logger)Option[String]">copyDirectory</a>(<a href="#73698" title="sbt.Path">source</a>.<a href="Path.scala.html#17865" title="=&gt; java.io.File">asFile</a>, <a href="#73699" title="sbt.Path">target</a>.<a href="Path.scala.html#17865" title="=&gt; java.io.File">asFile</a>, <a href="#73700" title="sbt.Logger">log</a>)
	<span class="comment">/** Copies the contents of the &lt;code&gt;source&lt;/code&gt; directory to the &lt;code&gt;target&lt;/code&gt; directory .*/</span>
	<span class="keyword">def</span> <a title="(java.io.File,java.io.File,sbt.Logger)Option[String]" id="15272">copyDirectory</a>(<a title="java.io.File" id="73695">source</a>: <span title="java.io.File">File</span>, <a title="java.io.File" id="73696">target</a>: <span title="java.io.File">File</span>, <a title="sbt.Logger" id="73697">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Option[String]">Option</span>[String] =
	{
		<span title="(Boolean,Any)Unit">require</span>(<a href="#73695" title="java.io.File">source</a>.<span title="()Boolean">isDirectory</span>, <span title="java.lang.String(&quot;Source '&quot;)" class="string">&quot;Source '&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#73695" title="java.io.File">source</a>.<span title="()java.lang.String">getAbsolutePath</span> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;' is not a directory.&quot;)" class="string">&quot;' is not a directory.&quot;</span>)
		<span title="(Boolean,Any)Unit">require</span>(<span title="=&gt; Boolean">!</span><a href="#73696" title="java.io.File">target</a>.<span title="()Boolean">exists</span>, <span title="java.lang.String(&quot;Target '&quot;)" class="string">&quot;Target '&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#73696" title="java.io.File">target</a>.<span title="()java.lang.String">getAbsolutePath</span> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;' already exists.&quot;)" class="string">&quot;' already exists.&quot;</span>)
		<span class="keyword">def</span> <a title="(java.io.File,java.io.File)Option[String]" id="88417">copyDirectory</a>(<a title="java.io.File" id="88433">sourceDir</a>: <span title="java.io.File">File</span>, <a title="java.io.File" id="88434">targetDir</a>: <span title="java.io.File">File</span>): <span title="Option[String]">Option</span>[String] =
			<a href="#15246" title="(java.io.File,sbt.Logger)Option[String]">createDirectory</a>(<a href="#88434" title="java.io.File">targetDir</a>, <a href="#73697" title="sbt.Logger">log</a>) <span title="(=&gt; Option[String])Option[String]">orElse</span> <a href="#88418" title="(java.io.File,java.io.File)Option[String]">copyContents</a>(<a href="#88433" title="java.io.File">sourceDir</a>, <a href="#88434" title="java.io.File">targetDir</a>)
		<span class="keyword">def</span> <a title="(java.io.File,java.io.File)Option[String]" id="88418">copyContents</a>(<a title="java.io.File" id="88438">sourceDir</a>: <span title="java.io.File">File</span>, <a title="java.io.File" id="88439">targetDir</a>: <span title="java.io.File">File</span>): <span title="Option[String]">Option</span>[String] =
			<a href="#88438" title="java.io.File">sourceDir</a>.<span title="()Array[java.io.File]">listFiles</span>.<a title="(Option[String])((Option[String], java.io.File) =&gt; Option[String])Option[String]" id="16077">foldLeft</a>(<span title="object None">None</span>: <span title="Option[String]">Option</span>[String])
			{
				(<a title="Option[String]" id="88443">result</a>, <a title="java.io.File" id="88444">file</a>) =&gt;
					<a href="#88443" title="Option[String]">result</a> <span title="(=&gt; Option[String])Option[String]">orElse</span>
					{
						<span class="keyword">val</span> <a title="java.io.File" id="88447">targetFile</a> = <span title="(java.io.File,java.lang.String)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span>(<a href="#88439" title="java.io.File">targetDir</a>, <a href="#88444" title="java.io.File">file</a>.<span title="()java.lang.String">getName</span>)
						<span title="Option[String]" class="keyword">if</span>(<a href="#88444" title="java.io.File">file</a>.<span title="()Boolean">isDirectory</span>)
							<a href="#88417" title="(java.io.File,java.io.File)Option[String]">copyDirectory</a>(<a href="#88444" title="java.io.File">file</a>, <a href="#88447" title="java.io.File">targetFile</a>)
						<span class="keyword">else</span>
							<a href="#15267" title="(java.io.File,java.io.File,sbt.Logger)Option[String]">copyFile</a>(<a href="#88444" title="java.io.File">file</a>, <a href="#88447" title="java.io.File">targetFile</a>, <a href="#73697" title="sbt.Logger">log</a>)
					}
			}
		<a href="#88417" title="(java.io.File,java.io.File)Option[String]">copyDirectory</a>(<a href="#73695" title="java.io.File">source</a>, <a href="#73696" title="java.io.File">target</a>)
	}


	<span class="comment">/** Deletes the given file recursively.*/</span>
	<span class="keyword">def</span> <a title="(sbt.Path,sbt.Logger)Option[String]" id="15273">clean</a>(<a title="sbt.Path" id="21693">file</a>: <a href="Path.scala.html#10152" title="sbt.Path">Path</a>, <a title="sbt.Logger" id="21694">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Option[String]">Option</span>[String] = <a href="#15274" title="(Iterable[sbt.Path],sbt.Logger)Option[String]">clean</a>(<a href="#21693" title="sbt.Path">file</a> <a href="#88465" title="(sbt.Path)List[sbt.Path]">::</a> <span title="object Nil">Nil</span>, <a href="#21694" title="sbt.Logger">log</a>)
	<span class="comment">/** Deletes the given files recursively.*/</span>
	<span class="keyword">def</span> <a title="(Iterable[sbt.Path],sbt.Logger)Option[String]" id="15274">clean</a>(<a title="Iterable[sbt.Path]" id="21691">files</a>: <span title="Iterable[sbt.Path]">Iterable</span>[Path], <a title="sbt.Logger" id="21692">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Option[String]">Option</span>[String] = <a href="#15275" title="(Iterable[sbt.Path],Boolean,sbt.Logger)Option[String]">clean</a>(<a href="#21691" title="Iterable[sbt.Path]">files</a>, <span title="Boolean(false)" class="keyword">false</span>, <a href="#21692" title="sbt.Logger">log</a>)
	<span class="comment">/** Deletes the given files recursively.  &lt;code&gt;quiet&lt;/code&gt; determines the logging level.
	* If it is true, each file in &lt;code&gt;files&lt;/code&gt; is logged at the &lt;code&gt;info&lt;/code&gt; level.
	* If it is false, the &lt;code&gt;debug&lt;/code&gt; level is used.*/</span>
	<span class="keyword">def</span> <a title="(Iterable[sbt.Path],Boolean,sbt.Logger)Option[String]" id="15275">clean</a>(<a title="Iterable[sbt.Path]" id="21111">files</a>: <span title="Iterable[sbt.Path]">Iterable</span>[Path], <a title="Boolean" id="21112">quiet</a>: <span title="Boolean">Boolean</span>, <a title="sbt.Logger" id="21113">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Option[String]">Option</span>[String] =
		<a href="#15276" title="(Iterable[java.io.File],Boolean,sbt.Logger)Option[String]">deleteFiles</a>(<a href="Path.scala.html#10153" title="object sbt.Path">Path</a>.<a href="Path.scala.html#15378" title="(Iterable[sbt.Path])scala.collection.immutable.Set[java.io.File]">getFiles</a>(<a href="#21111" title="Iterable[sbt.Path]">files</a>), <a href="#21112" title="Boolean">quiet</a>, <a href="#21113" title="sbt.Logger">log</a>)
			
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(Iterable[java.io.File],Boolean,sbt.Logger)Option[String]" id="15276">deleteFiles</a>(<a title="Iterable[java.io.File]" id="88469">files</a>: <span title="Iterable[java.io.File]">Iterable</span>[File], <a title="Boolean" id="88470">quiet</a>: <span title="Boolean">Boolean</span>, <a title="sbt.Logger" id="88471">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Option[String]">Option</span>[String] =
		((<span title="object None">None</span>: <span title="Option[String]">Option</span>[String]) <a href="#88472" title="(Option[String])((Option[String], java.io.File) =&gt; Option[String])Option[String]" id="16081">/:</a> <a href="#88469" title="Iterable[java.io.File]">files</a>)( (<a title="Option[String]" id="88475">result</a>, <a title="java.io.File" id="88476">file</a>) =&gt; <a href="#88475" title="Option[String]">result</a> <span title="(=&gt; Option[String])Option[String]">orElse</span> <a href="#15277" title="(java.io.File,Boolean,sbt.Logger)Option[String]">delete</a>(<a href="#88476" title="java.io.File">file</a>, <a href="#88470" title="Boolean">quiet</a>, <a href="#88471" title="sbt.Logger">log</a>))
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(java.io.File,Boolean,sbt.Logger)Option[String]" id="15277">delete</a>(<a title="java.io.File" id="88266">file</a>: <span title="java.io.File">File</span>, <a title="Boolean" id="88267">quiet</a>: <span title="Boolean">Boolean</span>, <a title="sbt.Logger" id="88268">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Option[String]">Option</span>[String] =
	{
		<span class="keyword">def</span> <a title="(=&gt; String)Unit" id="88479">logMessage</a>(<a title="=&gt; String" id="88480">message</a>: =&gt; String)
		{
			<a href="#88268" title="sbt.Logger">log</a>.<a href="Logger.scala.html#19521" title="(sbt.Level.Value,=&gt; String)Unit">log</a>(<span title="sbt.Level.Value" class="keyword">if</span>(<a href="#88267" title="Boolean">quiet</a>) <a href="Logger.scala.html#8242" title="object sbt.Level">Level</a>.<a href="Logger.scala.html#28477" title="=&gt; sbt.Level.Value">Debug</a> <span class="keyword">else</span> <a href="Logger.scala.html#8242" title="object sbt.Level">Level</a>.<a href="Logger.scala.html#28479" title="=&gt; sbt.Level.Value">Info</a>, <a href="#88480" title="=&gt; String">message</a>)
		}
		<a href="Control.scala.html#11797" title="object sbt.Control">Control</a>.<a href="Control.scala.html#25434" title="(=&gt; String,sbt.Logger)(=&gt; Option[String])Option[String]">trapUnit</a>(<span title="java.lang.String(&quot;Error deleting file &quot;)" class="string">&quot;Error deleting file &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#88266" title="java.io.File">file</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span>, <a href="#88268" title="sbt.Logger">log</a>)
		{
			<span title="AnyVal with NotNull" class="keyword">if</span>(<a href="#88266" title="java.io.File">file</a>.<span title="()Boolean">isDirectory</span>)
			{
				<a href="#88479" title="(=&gt; String)Unit">logMessage</a>(<span title="java.lang.String(&quot;Deleting directory &quot;)" class="string">&quot;Deleting directory &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#88266" title="java.io.File">file</a>)
				<a href="#15276" title="(Iterable[java.io.File],Boolean,sbt.Logger)Option[String]">deleteFiles</a>(<a href="#15322" title="(Array[java.io.File])Array[java.io.File]">wrapNull</a>(<a href="#88266" title="java.io.File">file</a>.<span title="()Array[java.io.File]">listFiles</span>), <span title="Boolean(true)" class="keyword">true</span>, <a href="#88268" title="sbt.Logger">log</a>)
				<a href="#88266" title="java.io.File">file</a>.<span title="()Boolean">delete</span>
			}
			<span class="keyword">else</span> <span title="Unit" class="keyword">if</span>(<a href="#88266" title="java.io.File">file</a>.<span title="()Boolean">exists</span>)
			{
				<a href="#88479" title="(=&gt; String)Unit">logMessage</a>(<span title="java.lang.String(&quot;Deleting file &quot;)" class="string">&quot;Deleting file &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#88266" title="java.io.File">file</a>)
				<a href="#88266" title="java.io.File">file</a>.<span title="()Boolean">delete</span>
			}
			<span title="object None">None</span>
		}
	}

	<span class="comment">/** Appends the given &lt;code&gt;String content&lt;/code&gt; to the provided &lt;code&gt;file&lt;/code&gt; using the default encoding.
	* A new file is created if it does not exist.*/</span>
	<span class="keyword">def</span> <a title="(java.io.File,String,sbt.Logger)Option[String]" id="15278">append</a>(<a title="java.io.File" id="88494">file</a>: <span title="java.io.File">File</span>, <a title="String" id="88495">content</a>: <span title="String">String</span>, <a title="sbt.Logger" id="88496">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Option[String]">Option</span>[String] = <a href="#15279" title="(java.io.File,String,java.nio.charset.Charset,sbt.Logger)Option[String]">append</a>(<a href="#88494" title="java.io.File">file</a>, <a href="#88495" title="String">content</a>, <span title="object java.nio.charset.Charset">Charset</span>.<span title="()java.nio.charset.Charset">defaultCharset</span>, <a href="#88496" title="sbt.Logger">log</a>)
	<span class="comment">/** Appends the given &lt;code&gt;String content&lt;/code&gt; to the provided &lt;code&gt;file&lt;/code&gt; using the given encoding.
	* A new file is created if it does not exist.*/</span>
	<span class="keyword">def</span> <a title="(java.io.File,String,java.nio.charset.Charset,sbt.Logger)Option[String]" id="15279">append</a>(<a title="java.io.File" id="88501">file</a>: <span title="java.io.File">File</span>, <a title="String" id="88502">content</a>: <span title="String">String</span>, <a title="java.nio.charset.Charset" id="88503">charset</a>: <span title="java.nio.charset.Charset">Charset</span>, <a title="sbt.Logger" id="88504">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Option[String]">Option</span>[String] =
		<a href="#15282" title="(java.io.File,String,java.nio.charset.Charset,Boolean,sbt.Logger)Option[String]">write</a>(<a href="#88501" title="java.io.File">file</a>, <a href="#88502" title="String">content</a>, <a href="#88503" title="java.nio.charset.Charset">charset</a>, <span title="Boolean(true)" class="keyword">true</span>, <a href="#88504" title="sbt.Logger">log</a>)

	<span class="comment">/** Writes the given &lt;code&gt;String content&lt;/code&gt; to the provided &lt;code&gt;file&lt;/code&gt; using the default encoding.
	* If the file exists, it is overwritten.*/</span>
	<span class="keyword">def</span> <a title="(java.io.File,String,sbt.Logger)Option[String]" id="15280">write</a>(<a title="java.io.File" id="29246">file</a>: <span title="java.io.File">File</span>, <a title="String" id="29247">content</a>: <span title="String">String</span>, <a title="sbt.Logger" id="29248">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Option[String]">Option</span>[String] = <a href="#15281" title="(java.io.File,String,java.nio.charset.Charset,sbt.Logger)Option[String]">write</a>(<a href="#29246" title="java.io.File">file</a>, <a href="#29247" title="String">content</a>, <span title="object java.nio.charset.Charset">Charset</span>.<span title="()java.nio.charset.Charset">defaultCharset</span>, <a href="#29248" title="sbt.Logger">log</a>)
	<span class="comment">/** Writes the given &lt;code&gt;String content&lt;/code&gt; to the provided &lt;code&gt;file&lt;/code&gt; using the given encoding.
	* If the file already exists, it is overwritten.*/</span>
	<span class="keyword">def</span> <a title="(java.io.File,String,java.nio.charset.Charset,sbt.Logger)Option[String]" id="15281">write</a>(<a title="java.io.File" id="29242">file</a>: <span title="java.io.File">File</span>, <a title="String" id="29243">content</a>: <span title="String">String</span>, <a title="java.nio.charset.Charset" id="29244">charset</a>: <span title="java.nio.charset.Charset">Charset</span>, <a title="sbt.Logger" id="29245">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Option[String]">Option</span>[String] =
		<a href="#15282" title="(java.io.File,String,java.nio.charset.Charset,Boolean,sbt.Logger)Option[String]">write</a>(<a href="#29242" title="java.io.File">file</a>, <a href="#29243" title="String">content</a>, <a href="#29244" title="java.nio.charset.Charset">charset</a>, <span title="Boolean(false)" class="keyword">false</span>, <a href="#29245" title="sbt.Logger">log</a>)
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(java.io.File,String,java.nio.charset.Charset,Boolean,sbt.Logger)Option[String]" id="15282">write</a>(<a title="java.io.File" id="88511">file</a>: <span title="java.io.File">File</span>, <a title="String" id="88512">content</a>: <span title="String">String</span>, <a title="java.nio.charset.Charset" id="88513">charset</a>: <span title="java.nio.charset.Charset">Charset</span>, <a title="Boolean" id="88514">append</a>: <span title="Boolean">Boolean</span>, <a title="sbt.Logger" id="88515">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Option[String]">Option</span>[String] =
	{
		<span title="Option[String]" class="keyword">if</span>(<a href="#88513" title="java.nio.charset.Charset">charset</a>.<a title="()java.nio.charset.CharsetEncoder" id="29217">newEncoder</a>.<a title="(java.lang.CharSequence)Boolean" id="37510">canEncode</a>(<a href="#88512" title="String">content</a>))
			<a href="#15285" title="(java.io.File,java.nio.charset.Charset,Boolean,sbt.Logger)((java.io.Writer) =&gt; Option[String])Option[String]">write</a>(<a href="#88511" title="java.io.File">file</a>, <a href="#88513" title="java.nio.charset.Charset">charset</a>, <a href="#88514" title="Boolean">append</a>, <a href="#88515" title="sbt.Logger">log</a>) { <a title="java.io.Writer" id="88522">w</a> =&gt;  <a href="#88522" title="java.io.Writer">w</a>.<span title="(java.lang.String)Unit">write</span>(<a href="#88512" title="String">content</a>); <span title="object None">None</span> }
		<span class="keyword">else</span>
			<span title="(java.lang.String)Some[java.lang.String]">Some</span>(<span title="java.lang.String(&quot;String cannot be encoded by charset &quot;)" class="string">&quot;String cannot be encoded by charset &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#88513" title="java.nio.charset.Charset">charset</a>.<a title="()java.lang.String" id="29209">name</a>)
	}

	<span class="comment">/** Opens a &lt;code&gt;Writer&lt;/code&gt; on the given file using the default encoding,
	* passes it to the provided function, and closes the &lt;code&gt;Writer&lt;/code&gt;.*/</span>
	<span class="keyword">def</span> <a title="(java.io.File,sbt.Logger)((java.io.Writer) =&gt; Option[String])Option[String]" id="15283">write</a>(<a title="java.io.File" id="29239">file</a>: <span title="java.io.File">File</span>, <a title="sbt.Logger" id="29240">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>)(<a title="(java.io.Writer) =&gt; Option[String]" id="29241">f</a>: Writer =&gt; Option[String]): <span title="Option[String]">Option</span>[String] =
		<a href="#15284" title="(java.io.File,java.nio.charset.Charset,sbt.Logger)((java.io.Writer) =&gt; Option[String])Option[String]">write</a>(<a href="#29239" title="java.io.File">file</a>, <span title="object java.nio.charset.Charset">Charset</span>.<span title="()java.nio.charset.Charset">defaultCharset</span>, <a href="#29240" title="sbt.Logger">log</a>)(<a href="#29241" title="(java.io.Writer) =&gt; Option[String]">f</a>)
	<span class="comment">/** Opens a &lt;code&gt;Writer&lt;/code&gt; on the given file using the given encoding,
	* passes it to the provided function, and closes the &lt;code&gt;Writer&lt;/code&gt;.*/</span>
	<span class="keyword">def</span> <a title="(java.io.File,java.nio.charset.Charset,sbt.Logger)((java.io.Writer) =&gt; Option[String])Option[String]" id="15284">write</a>(<a title="java.io.File" id="29183">file</a>: <span title="java.io.File">File</span>, <a title="java.nio.charset.Charset" id="29184">charset</a>: <span title="java.nio.charset.Charset">Charset</span>, <a title="sbt.Logger" id="29185">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>)(<a title="(java.io.Writer) =&gt; Option[String]" id="29186">f</a>: Writer =&gt; Option[String]): <span title="Option[String]">Option</span>[String] =
		<a href="#15285" title="(java.io.File,java.nio.charset.Charset,Boolean,sbt.Logger)((java.io.Writer) =&gt; Option[String])Option[String]">write</a>(<a href="#29183" title="java.io.File">file</a>, <a href="#29184" title="java.nio.charset.Charset">charset</a>, <span title="Boolean(false)" class="keyword">false</span>, <a href="#29185" title="sbt.Logger">log</a>)(<a href="#29186" title="(java.io.Writer) =&gt; Option[String]">f</a>)
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(java.io.File,java.nio.charset.Charset,Boolean,sbt.Logger)((java.io.Writer) =&gt; Option[String])Option[String]" id="15285">write</a>(<a title="java.io.File" id="88506">file</a>: <span title="java.io.File">File</span>, <a title="java.nio.charset.Charset" id="88507">charset</a>: <span title="java.nio.charset.Charset">Charset</span>, <a title="Boolean" id="88508">append</a>: <span title="Boolean">Boolean</span>, <a title="sbt.Logger" id="88509">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>)(<a title="(java.io.Writer) =&gt; Option[String]" id="88510">f</a>: Writer =&gt; Option[String]): <span title="Option[String]">Option</span>[String] =
		<a href="#21126" title="(java.nio.charset.Charset,Boolean)sbt.CloseableOpenFile[java.io.Writer]">fileWriter</a>(<a href="#88507" title="java.nio.charset.Charset">charset</a>, <a href="#88508" title="Boolean">append</a>).<a href="#87905" title="(java.io.File,String,sbt.Logger)((java.io.Writer) =&gt; Option[String])Option[String]">ioOption</a>(<a href="#88506" title="java.io.File">file</a>, <a href="#15344" title="=&gt; java.lang.String">Writing</a>, <a href="#88509" title="sbt.Logger">log</a>)(<a href="#88510" title="(java.io.Writer) =&gt; Option[String]">f</a>)

	<span class="comment">/** Opens a &lt;code&gt;Reader&lt;/code&gt; on the given file using the default encoding,
	* passes it to the provided function, and closes the &lt;code&gt;Reader&lt;/code&gt;.*/</span>
	<span class="keyword">def</span> <a title="(java.io.File,sbt.Logger)((java.io.Reader) =&gt; Option[String])Option[String]" id="15286">read</a>(<a title="java.io.File" id="88577">file</a>: <span title="java.io.File">File</span>, <a title="sbt.Logger" id="88578">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>)(<a title="(java.io.Reader) =&gt; Option[String]" id="88579">f</a>: Reader =&gt; Option[String]): <span title="Option[String]">Option</span>[String] =
		<a href="#15287" title="(java.io.File,java.nio.charset.Charset,sbt.Logger)((java.io.Reader) =&gt; Option[String])Option[String]">read</a>(<a href="#88577" title="java.io.File">file</a>, <span title="object java.nio.charset.Charset">Charset</span>.<span title="()java.nio.charset.Charset">defaultCharset</span>, <a href="#88578" title="sbt.Logger">log</a>)(<a href="#88579" title="(java.io.Reader) =&gt; Option[String]">f</a>)
	<span class="comment">/** Opens a &lt;code&gt;Reader&lt;/code&gt; on the given file using the default encoding,
	* passes it to the provided function, and closes the &lt;code&gt;Reader&lt;/code&gt;.*/</span>
	<span class="keyword">def</span> <a title="(java.io.File,java.nio.charset.Charset,sbt.Logger)((java.io.Reader) =&gt; Option[String])Option[String]" id="15287">read</a>(<a title="java.io.File" id="88581">file</a>: <span title="java.io.File">File</span>, <a title="java.nio.charset.Charset" id="88582">charset</a>: <span title="java.nio.charset.Charset">Charset</span>, <a title="sbt.Logger" id="88583">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>)(<a title="(java.io.Reader) =&gt; Option[String]" id="88584">f</a>: Reader =&gt; Option[String]): <span title="Option[String]">Option</span>[String] =
		<a href="#21127" title="(java.nio.charset.Charset)sbt.CloseableOpenFile[java.io.Reader]">fileReader</a>(<a href="#88582" title="java.nio.charset.Charset">charset</a>).<a href="#87905" title="(java.io.File,String,sbt.Logger)((java.io.Reader) =&gt; Option[String])Option[String]">ioOption</a>(<a href="#88581" title="java.io.File">file</a>, <a href="#15342" title="=&gt; java.lang.String">Reading</a>, <a href="#88583" title="sbt.Logger">log</a>)(<a href="#88584" title="(java.io.Reader) =&gt; Option[String]">f</a>)
	<span class="comment">/** Opens a &lt;code&gt;Reader&lt;/code&gt; on the given file using the default encoding,
	* passes it to the provided function, and closes the &lt;code&gt;Reader&lt;/code&gt;.*/</span>
	<span class="keyword">def</span> <a title="[R](java.io.File,sbt.Logger)((java.io.Reader) =&gt; Either[String,R])Either[String,R]" id="15288">readValue</a>[<a title="&gt;: Nothing &lt;: Any" id="15290">R</a>](<a title="java.io.File" id="88605">file</a>: <span title="java.io.File">File</span>, <a title="sbt.Logger" id="88606">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>)(<a title="(java.io.Reader) =&gt; Either[String,R]" id="88607">f</a>: Reader =&gt; Either[String, R]): <span title="Either[String,R]">Either</span>[String, R] =
		<a href="#15291" title="(java.io.File,java.nio.charset.Charset,sbt.Logger)((java.io.Reader) =&gt; Either[String,R])Either[String,R]">readValue</a>(<a href="#88605" title="java.io.File">file</a>, <span title="object java.nio.charset.Charset">Charset</span>.<span title="()java.nio.charset.Charset">defaultCharset</span>, <a href="#88606" title="sbt.Logger">log</a>)(<a href="#88607" title="(java.io.Reader) =&gt; Either[String,R]">f</a>)
	<span class="comment">/** Opens a &lt;code&gt;Reader&lt;/code&gt; on the given file using the given encoding,
	* passes it to the provided function, and closes the &lt;code&gt;Reader&lt;/code&gt;.*/</span>
	<span class="keyword">def</span> <a title="[R](java.io.File,java.nio.charset.Charset,sbt.Logger)((java.io.Reader) =&gt; Either[String,R])Either[String,R]" id="15291">readValue</a>[<a title="&gt;: Nothing &lt;: Any" id="15293">R</a>](<a title="java.io.File" id="88609">file</a>: <span title="java.io.File">File</span>, <a title="java.nio.charset.Charset" id="88610">charset</a>: <span title="java.nio.charset.Charset">Charset</span>, <a title="sbt.Logger" id="88611">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>)(<a title="(java.io.Reader) =&gt; Either[String,R]" id="88612">f</a>: Reader =&gt; Either[String, R]): <span title="Either[String,R]">Either</span>[String, R] =
		<a href="#21127" title="(java.nio.charset.Charset)sbt.CloseableOpenFile[java.io.Reader]">fileReader</a>(<a href="#88610" title="java.nio.charset.Charset">charset</a>).<a href="#87906" title="(java.io.File,String,sbt.Logger)((java.io.Reader) =&gt; Either[String,R])Either[String,R]">io</a>(<a href="#88609" title="java.io.File">file</a>, <a href="#15342" title="=&gt; java.lang.String">Reading</a>, <a href="#88611" title="sbt.Logger">log</a>)(<a href="#88612" title="(java.io.Reader) =&gt; Either[String,R]">f</a>)

	<span class="comment">/** Reads the contents of the given file into a &lt;code&gt;String&lt;/code&gt; using the default encoding.
	*  The resulting &lt;code&gt;String&lt;/code&gt; is wrapped in &lt;code&gt;Right&lt;/code&gt;.*/</span>
	<span class="keyword">def</span> <a title="(java.io.File,sbt.Logger)Either[String,String]" id="15294">readString</a>(<a title="java.io.File" id="88617">file</a>: <span title="java.io.File">File</span>, <a title="sbt.Logger" id="88618">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Either[String,String]">Either</span>[String, String] = <a href="#15295" title="(java.io.File,java.nio.charset.Charset,sbt.Logger)Either[String,String]">readString</a>(<a href="#88617" title="java.io.File">file</a>, <span title="object java.nio.charset.Charset">Charset</span>.<span title="()java.nio.charset.Charset">defaultCharset</span>, <a href="#88618" title="sbt.Logger">log</a>)
	<span class="comment">/** Reads the contents of the given file into a &lt;code&gt;String&lt;/code&gt; using the given encoding.
	*  The resulting &lt;code&gt;String&lt;/code&gt; is wrapped in &lt;code&gt;Right&lt;/code&gt;.*/</span>
	<span class="keyword">def</span> <a title="(java.io.File,java.nio.charset.Charset,sbt.Logger)Either[String,String]" id="15295">readString</a>(<a title="java.io.File" id="88632">file</a>: <span title="java.io.File">File</span>, <a title="java.nio.charset.Charset" id="88633">charset</a>: <span title="java.nio.charset.Charset">Charset</span>, <a title="sbt.Logger" id="88634">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Either[String,String]">Either</span>[String, String] = <a href="#15291" title="(java.io.File,java.nio.charset.Charset,sbt.Logger)((java.io.Reader) =&gt; Either[String,String])Either[String,String]">readValue</a>(<a href="#88632" title="java.io.File">file</a>, <a href="#88633" title="java.nio.charset.Charset">charset</a>, <a href="#88634" title="sbt.Logger">log</a>)(<a href="#15299" title="(java.io.Reader)Either[String,String]">readString</a>)

	<span class="keyword">def</span> <a title="(java.io.InputStream,sbt.Logger)Either[String,String]" id="15296">readString</a>(<a title="java.io.InputStream" id="88630">in</a>: <span title="java.io.InputStream">InputStream</span>, <a title="sbt.Logger" id="88631">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Either[String,String]">Either</span>[String, String] = <a href="#15297" title="(java.io.InputStream,java.nio.charset.Charset,sbt.Logger)Either[String,String]">readString</a>(<a href="#88630" title="java.io.InputStream">in</a>, <span title="object java.nio.charset.Charset">Charset</span>.<span title="()java.nio.charset.Charset">defaultCharset</span>, <a href="#88631" title="sbt.Logger">log</a>)
	<span class="keyword">def</span> <a title="(java.io.InputStream,java.nio.charset.Charset,sbt.Logger)Either[String,String]" id="15297">readString</a>(<a title="java.io.InputStream" id="88627">in</a>: <span title="java.io.InputStream">InputStream</span>, <a title="java.nio.charset.Charset" id="88628">charset</a>: <span title="java.nio.charset.Charset">Charset</span>, <a title="sbt.Logger" id="88629">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Either[String,String]">Either</span>[String, String] =
		<a href="#21130" title="=&gt; sbt.WrapOpenResource[(java.io.InputStream, java.nio.charset.Charset),java.io.Reader]">streamReader</a>.<a href="#87906" title="((java.io.InputStream, java.nio.charset.Charset),String,sbt.Logger)((java.io.Reader) =&gt; Either[String,String])Either[String,String]">io</a>(<span title="(java.io.InputStream,java.nio.charset.Charset)(java.io.InputStream, java.nio.charset.Charset)">(</span><a href="#88627" title="java.io.InputStream">in</a>, <a href="#88628" title="java.nio.charset.Charset">charset</a>), <a href="#15342" title="=&gt; java.lang.String">Reading</a>, <a href="#88629" title="sbt.Logger">log</a>)(<a href="#15299" title="(java.io.Reader)Either[String,String]">readString</a>)
	<span class="keyword">def</span> <a title="(java.io.Reader,sbt.Logger)Either[String,String]" id="15298">readString</a>(<a title="java.io.Reader" id="88625">in</a>: <span title="java.io.Reader">Reader</span>, <a title="sbt.Logger" id="88626">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Either[String,String]">Either</span>[String, String] =
		<a href="Control.scala.html#11797" title="object sbt.Control">Control</a>.<a href="Control.scala.html#25431" title="(=&gt; String,sbt.Logger)(=&gt; Either[String,String])(=&gt; Unit)Either[String,String]">trapAndFinally</a>(<span title="java.lang.String(&quot;Error reading bytes from reader: &quot;)" class="string">&quot;Error reading bytes from reader: &quot;</span>, <a href="#88626" title="sbt.Logger">log</a>)
			{ <a href="#15299" title="(java.io.Reader)Either[String,String]">readString</a>(<a href="#88625" title="java.io.Reader">in</a>) }
			{ <a href="#88625" title="java.io.Reader">in</a>.<a title="()Unit" id="37686">close</a>() }
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(java.io.Reader)Either[String,String]" id="15299">readString</a>(<a title="java.io.Reader" id="88620">in</a>: <span title="java.io.Reader">Reader</span>): <span title="Either[String,String]">Either</span>[String, String] =
	{
		<span class="keyword">val</span> <a title="StringBuilder" id="88689">builder</a> = <a title="()StringBuilder" id="17641" class="keyword">new</a> <a title="StringBuilder" id="1383">StringBuilder</a>
		<span class="keyword">val</span> <a title="Array[Char]" id="88690">buffer</a> = <span title="Array[Char]" class="keyword">new</span> <span title="Array[Char]">Array</span>[Char](<a href="#15211" title="=&gt; Int">BufferSize</a>)
		<span class="keyword">def</span> <a title="()Unit" id="88691">readNext</a>()
		{
			<span class="keyword">val</span> <a title="Int" id="88696">read</a> = <a href="#88620" title="java.io.Reader">in</a>.<a title="(Array[Char],Int,Int)Int" id="37680">read</a>(<a href="#88690" title="Array[Char]">buffer</a>, <span title="Int(0)" class="int">0</span>, <a href="#88690" title="Array[Char]">buffer</a>.<a title="=&gt; Int" id="17100">length</a>)
			<span title="Unit" class="keyword">if</span>(<a href="#88696" title="Int">read</a> <span title="(Int)Boolean">&gt;=</span> <span title="Int(0)" class="int">0</span>)
			{
				<a href="#88689" title="StringBuilder">builder</a>.<a title="(Array[Char],Int,Int)StringBuilder" id="17664">append</a>(<a href="#88690" title="Array[Char]">buffer</a>, <span title="Int(0)" class="int">0</span>, <a href="#88696" title="Int">read</a>)
				<a href="#88691" title="()Unit">readNext</a>()
			}
			<span class="keyword">else</span>
				<span title="object None">None</span>
		}
		<a href="#88691" title="()Unit">readNext</a>()
		<span title="(String)Right[Nothing,String]">Right</span>(<a href="#88689" title="StringBuilder">builder</a>.<a title="()String" id="17693">toString</a>)
	}
	<span class="comment">/** Appends the given bytes to the given file. */</span>
	<span class="keyword">def</span> <a title="(java.io.File,Array[Byte],sbt.Logger)Option[String]" id="15300">append</a>(<a title="java.io.File" id="88498">file</a>: <span title="java.io.File">File</span>, <a title="Array[Byte]" id="88499">bytes</a>: <span title="Array[Byte]">Array</span>[Byte], <a title="sbt.Logger" id="88500">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Option[String]">Option</span>[String] =
		<a href="#15302" title="(java.io.File,Array[Byte],Boolean,sbt.Logger)Option[String]">writeBytes</a>(<a href="#88498" title="java.io.File">file</a>, <a href="#88499" title="Array[Byte]">bytes</a>, <span title="Boolean(true)" class="keyword">true</span>, <a href="#88500" title="sbt.Logger">log</a>)
	<span class="comment">/** Writes the given bytes to the given file. If the file already exists, it is overwritten.*/</span>
	<span class="keyword">def</span> <a title="(java.io.File,Array[Byte],sbt.Logger)Option[String]" id="15301">write</a>(<a title="java.io.File" id="29180">file</a>: <span title="java.io.File">File</span>, <a title="Array[Byte]" id="29181">bytes</a>: <span title="Array[Byte]">Array</span>[Byte], <a title="sbt.Logger" id="29182">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Option[String]">Option</span>[String] =
		<a href="#15302" title="(java.io.File,Array[Byte],Boolean,sbt.Logger)Option[String]">writeBytes</a>(<a href="#29180" title="java.io.File">file</a>, <a href="#29181" title="Array[Byte]">bytes</a>, <span title="Boolean(false)" class="keyword">false</span>, <a href="#29182" title="sbt.Logger">log</a>)
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(java.io.File,Array[Byte],Boolean,sbt.Logger)Option[String]" id="15302">writeBytes</a>(<a title="java.io.File" id="88874">file</a>: <span title="java.io.File">File</span>, <a title="Array[Byte]" id="88875">bytes</a>: <span title="Array[Byte]">Array</span>[Byte], <a title="Boolean" id="88876">append</a>: <span title="Boolean">Boolean</span>, <a title="sbt.Logger" id="88877">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Option[String]">Option</span>[String] =
		<a href="#15308" title="(java.io.File,Boolean,sbt.Logger)((java.io.OutputStream) =&gt; Option[String])Option[String]">writeStream</a>(<a href="#88874" title="java.io.File">file</a>, <a href="#88876" title="Boolean">append</a>, <a href="#88877" title="sbt.Logger">log</a>) { <a title="java.io.OutputStream" id="88880">out</a> =&gt; <a href="#88880" title="java.io.OutputStream">out</a>.<a title="(Array[Byte])Unit" id="29867">write</a>(<a href="#88875" title="Array[Byte]">bytes</a>); <span title="object None">None</span> }

	<span class="comment">/** Reads the entire file into a byte array. */</span>
	<span class="keyword">def</span> <a title="(java.io.File,sbt.Logger)Either[String,Array[Byte]]" id="15303">readBytes</a>(<a title="java.io.File" id="88883">file</a>: <span title="java.io.File">File</span>, <a title="sbt.Logger" id="88884">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Either[String,Array[Byte]]">Either</span>[String, Array[Byte]] = <a href="#15310" title="(java.io.File,sbt.Logger)((java.io.InputStream) =&gt; Either[String,Array[Byte]])Either[String,Array[Byte]]">readStreamValue</a>(<a href="#88883" title="java.io.File">file</a>, <a href="#88884" title="sbt.Logger">log</a>)(<a href="#15305" title="(java.io.InputStream)Either[String,Array[Byte]]">readBytes</a>)
	<span class="keyword">def</span> <a title="(java.io.InputStream,sbt.Logger)Either[String,Array[Byte]]" id="15304">readBytes</a>(<a title="java.io.InputStream" id="88893">in</a>: <span title="java.io.InputStream">InputStream</span>, <a title="sbt.Logger" id="88894">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Either[String,Array[Byte]]">Either</span>[String, Array[Byte]] =
		<a href="Control.scala.html#11797" title="object sbt.Control">Control</a>.<a href="Control.scala.html#25431" title="(=&gt; String,sbt.Logger)(=&gt; Either[String,Array[Byte]])(=&gt; Unit)Either[String,Array[Byte]]">trapAndFinally</a>(<span title="java.lang.String(&quot;Error reading bytes from input stream: &quot;)" class="string">&quot;Error reading bytes from input stream: &quot;</span>, <a href="#88894" title="sbt.Logger">log</a>)
			{ <a href="#15305" title="(java.io.InputStream)Either[String,Array[Byte]]">readBytes</a>(<a href="#88893" title="java.io.InputStream">in</a>) }
			{ <a href="#88893" title="java.io.InputStream">in</a>.<span title="()Unit">close</span>() }
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(java.io.InputStream)Either[String,Array[Byte]]" id="15305">readBytes</a>(<a title="java.io.InputStream" id="88892">in</a>: <span title="java.io.InputStream">InputStream</span>): <span title="Either[String,Array[Byte]]">Either</span>[String, Array[Byte]] =
	{
		<span class="keyword">val</span> <a title="java.io.ByteArrayOutputStream" id="88900">out</a> = <span title="java.io.ByteArrayOutputStream" class="keyword">new</span> <a title="java.io.ByteArrayOutputStream" id="3602">ByteArrayOutputStream</a>
		<span class="keyword">val</span> <a title="Array[Byte]" id="88901">buffer</a> = <span title="Array[Byte]" class="keyword">new</span> <span title="Array[Byte]">Array</span>[Byte](<a href="#15211" title="=&gt; Int">BufferSize</a>)
		<span class="keyword">def</span> <a title="()Unit" id="88902">readNext</a>()
		{
			<span class="keyword">val</span> <a title="Int" id="88907">read</a> = <a href="#88892" title="java.io.InputStream">in</a>.<span title="(Array[Byte])Int">read</span>(<a href="#88901" title="Array[Byte]">buffer</a>)
			<span title="Unit" class="keyword">if</span>(<a href="#88907" title="Int">read</a> <span title="(Int)Boolean">&gt;=</span> <span title="Int(0)" class="int">0</span>)
			{
				<a href="#88900" title="java.io.ByteArrayOutputStream">out</a>.<a title="(Array[Byte],Int,Int)Unit" id="37602">write</a>(<a href="#88901" title="Array[Byte]">buffer</a>, <span title="Int(0)" class="int">0</span>, <a href="#88907" title="Int">read</a>)
				<a href="#88902" title="()Unit">readNext</a>()
			}
		}
		<a href="#88902" title="()Unit">readNext</a>()
		<span title="(Array[Byte])Right[Nothing,Array[Byte]]">Right</span>(<a href="#88900" title="java.io.ByteArrayOutputStream">out</a>.<a title="()Array[Byte]" id="37605">toByteArray</a>)
	}

	<span class="comment">/** Opens an &lt;code&gt;OutputStream&lt;/code&gt; on the given file with append=true and passes the stream
	* to the provided function.  The stream is closed before this function returns.*/</span>
	<span class="keyword">def</span> <a title="(java.io.File,sbt.Logger)((java.io.OutputStream) =&gt; Option[String])Option[String]" id="15306">appendStream</a>(<a title="java.io.File" id="88933">file</a>: <span title="java.io.File">File</span>, <a title="sbt.Logger" id="88934">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>)(<a title="(java.io.OutputStream) =&gt; Option[String]" id="88935">f</a>: OutputStream =&gt; Option[String]): <span title="Option[String]">Option</span>[String] =
		<a href="#21121" title="(Boolean)sbt.CloseableOpenFile[java.io.FileOutputStream]">fileOutputStream</a>(<span title="Boolean(true)" class="keyword">true</span>).<a href="#87905" title="(java.io.File,String,sbt.Logger)((java.io.FileOutputStream) =&gt; Option[String])Option[String]">ioOption</a>(<a href="#88933" title="java.io.File">file</a>, <a href="#15346" title="=&gt; java.lang.String">Appending</a>, <a href="#88934" title="sbt.Logger">log</a>)(<a href="#88935" title="(java.io.OutputStream) =&gt; Option[String]">f</a>)
	<span class="comment">/** Opens an &lt;code&gt;OutputStream&lt;/code&gt; on the given file and passes the stream
	* to the provided function.  The stream is closed before this function returns.*/</span>
	<span class="keyword">def</span> <a title="(java.io.File,sbt.Logger)((java.io.OutputStream) =&gt; Option[String])Option[String]" id="15307">writeStream</a>(<a title="java.io.File" id="56321">file</a>: <span title="java.io.File">File</span>, <a title="sbt.Logger" id="56322">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>)(<a title="(java.io.OutputStream) =&gt; Option[String]" id="56323">f</a>: OutputStream =&gt; Option[String]): <span title="Option[String]">Option</span>[String] =
		<a href="#21121" title="(Boolean)sbt.CloseableOpenFile[java.io.FileOutputStream]">fileOutputStream</a>(<span title="Boolean(false)" class="keyword">false</span>).<a href="#87905" title="(java.io.File,String,sbt.Logger)((java.io.FileOutputStream) =&gt; Option[String])Option[String]">ioOption</a>(<a href="#56321" title="java.io.File">file</a>, <a href="#15344" title="=&gt; java.lang.String">Writing</a>, <a href="#56322" title="sbt.Logger">log</a>)(<a href="#56323" title="(java.io.OutputStream) =&gt; Option[String]">f</a>)
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(java.io.File,Boolean,sbt.Logger)((java.io.OutputStream) =&gt; Option[String])Option[String]" id="15308">writeStream</a>(<a title="java.io.File" id="87892">file</a>: <span title="java.io.File">File</span>, <a title="Boolean" id="87893">append</a>: <span title="Boolean">Boolean</span>, <a title="sbt.Logger" id="87894">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>)(<a title="(java.io.OutputStream) =&gt; Option[String]" id="87895">f</a>: OutputStream =&gt; Option[String]): <span title="Option[String]">Option</span>[String] =
		<span title="Option[String]" class="keyword">if</span>(<a href="#87893" title="Boolean">append</a>) <a href="#15306" title="(java.io.File,sbt.Logger)((java.io.OutputStream) =&gt; Option[String])Option[String]">appendStream</a>(<a href="#87892" title="java.io.File">file</a>, <a href="#87894" title="sbt.Logger">log</a>)(<a href="#87895" title="(java.io.OutputStream) =&gt; Option[String]">f</a>) <span class="keyword">else</span> <a href="#15307" title="(java.io.File,sbt.Logger)((java.io.OutputStream) =&gt; Option[String])Option[String]">writeStream</a>(<a href="#87892" title="java.io.File">file</a>, <a href="#87894" title="sbt.Logger">log</a>)(<a href="#87895" title="(java.io.OutputStream) =&gt; Option[String]">f</a>)
	<span class="comment">/** Opens an &lt;code&gt;InputStream&lt;/code&gt; on the given file and passes the stream
	* to the provided function.  The stream is closed before this function returns.*/</span>
	<span class="keyword">def</span> <a title="(java.io.File,sbt.Logger)((java.io.InputStream) =&gt; Option[String])Option[String]" id="15309">readStream</a>(<a title="java.io.File" id="58305">file</a>: <span title="java.io.File">File</span>, <a title="sbt.Logger" id="58306">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>)(<a title="(java.io.InputStream) =&gt; Option[String]" id="58307">f</a>: InputStream =&gt; Option[String]): <span title="Option[String]">Option</span>[String] =
		<a href="#21122" title="=&gt; sbt.CloseableOpenFile[java.io.FileInputStream]">fileInputStream</a>.<a href="#87905" title="(java.io.File,String,sbt.Logger)((java.io.FileInputStream) =&gt; Option[String])Option[String]">ioOption</a>(<a href="#58305" title="java.io.File">file</a>, <a href="#15342" title="=&gt; java.lang.String">Reading</a>, <a href="#58306" title="sbt.Logger">log</a>)(<a href="#58307" title="(java.io.InputStream) =&gt; Option[String]">f</a>)
	<span class="comment">/** Opens an &lt;code&gt;InputStream&lt;/code&gt; on the given file and passes the stream
	* to the provided function.  The stream is closed before this function returns.*/</span>
	<span class="keyword">def</span> <a title="[R](java.io.File,sbt.Logger)((java.io.InputStream) =&gt; Either[String,R])Either[String,R]" id="15310">readStreamValue</a>[<a title="&gt;: Nothing &lt;: Any" id="15312">R</a>](<a title="java.io.File" id="38444">file</a>: <span title="java.io.File">File</span>, <a title="sbt.Logger" id="38445">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>)(<a title="(java.io.InputStream) =&gt; Either[String,R]" id="38446">f</a>: InputStream =&gt; Either[String, R]): <span title="Either[String,R]">Either</span>[String, R] =
		<a href="#21122" title="=&gt; sbt.CloseableOpenFile[java.io.FileInputStream]">fileInputStream</a>.<a href="#87906" title="(java.io.File,String,sbt.Logger)((java.io.FileInputStream) =&gt; Either[String,R])Either[String,R]">io</a>(<a href="#38444" title="java.io.File">file</a>, <a href="#15342" title="=&gt; java.lang.String">Reading</a>, <a href="#38445" title="sbt.Logger">log</a>)(<a href="#38446" title="(java.io.InputStream) =&gt; Either[String,R]">f</a>)
	<span class="comment">/** Opens an &lt;code&gt;InputStream&lt;/code&gt; on the given &lt;code&gt;URL&lt;/code&gt; and passes the stream
	* to the provided function.  The stream is closed before this function returns.*/</span>
	<span class="keyword">def</span> <a title="(java.net.URL,sbt.Logger)((java.io.InputStream) =&gt; Option[String])Option[String]" id="15313">readStream</a>(<a title="java.net.URL" id="58302">url</a>: <span title="java.net.URL">URL</span>, <a title="sbt.Logger" id="58303">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>)(<a title="(java.io.InputStream) =&gt; Option[String]" id="58304">f</a>: InputStream =&gt; Option[String]): <span title="Option[String]">Option</span>[String] =
		<a href="#21123" title="=&gt; &lt;refinement&gt; extends sbt.OpenResource[java.net.URL,java.io.InputStream] with sbt.CloseableOpenResource[java.net.URL,java.io.InputStream]">urlInputStream</a>.<a href="#87905" title="(java.net.URL,String,sbt.Logger)((java.io.InputStream) =&gt; Option[String])Option[String]">ioOption</a>(<a href="#58302" title="java.net.URL">url</a>, <a href="#15342" title="=&gt; java.lang.String">Reading</a>, <a href="#58303" title="sbt.Logger">log</a>)(<a href="#58304" title="(java.io.InputStream) =&gt; Option[String]">f</a>)
	<span class="comment">/** Opens an &lt;code&gt;InputStream&lt;/code&gt; on the given &lt;code&gt;URL&lt;/code&gt; and passes the stream
	* to the provided function.  The stream is closed before this function returns.*/</span>
	<span class="keyword">def</span> <a title="[R](java.net.URL,sbt.Logger)((java.io.InputStream) =&gt; Either[String,R])Either[String,R]" id="15314">readStreamValue</a>[<a title="&gt;: Nothing &lt;: Any" id="15316">R</a>](<a title="java.net.URL" id="38440">url</a>: <span title="java.net.URL">URL</span>, <a title="sbt.Logger" id="38441">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>)(<a title="(java.io.InputStream) =&gt; Either[String,R]" id="38442">f</a>: InputStream =&gt; Either[String, R]): <span title="Either[String,R]">Either</span>[String, R] =
		<a href="#21123" title="=&gt; &lt;refinement&gt; extends sbt.OpenResource[java.net.URL,java.io.InputStream] with sbt.CloseableOpenResource[java.net.URL,java.io.InputStream]">urlInputStream</a>.<a href="#87906" title="(java.net.URL,String,sbt.Logger)((java.io.InputStream) =&gt; Either[String,R])Either[String,R]">io</a>(<a href="#38440" title="java.net.URL">url</a>, <a href="#15342" title="=&gt; java.lang.String">Reading</a>, <a href="#38441" title="sbt.Logger">log</a>)(<a href="#38442" title="(java.io.InputStream) =&gt; Either[String,R]">f</a>)

	<span class="comment">/** Opens a &lt;code&gt;FileChannel&lt;/code&gt; on the given file for writing and passes the channel
	* to the given function.  The channel is closed before this function returns.*/</span>
	<span class="keyword">def</span> <a title="(java.io.File,sbt.Logger)((java.nio.channels.FileChannel) =&gt; Option[String])Option[String]" id="15317">writeChannel</a>(<a title="java.io.File" id="88387">file</a>: <span title="java.io.File">File</span>, <a title="sbt.Logger" id="88388">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>)(<a title="(java.nio.channels.FileChannel) =&gt; Option[String]" id="88389">f</a>: FileChannel =&gt; Option[String]): <span title="Option[String]">Option</span>[String] =
		<a href="#21124" title="=&gt; sbt.CloseableOpenFile[java.nio.channels.FileChannel]">fileOutputChannel</a>.<a href="#87905" title="(java.io.File,String,sbt.Logger)((java.nio.channels.FileChannel) =&gt; Option[String])Option[String]">ioOption</a>(<a href="#88387" title="java.io.File">file</a>, <a href="#15344" title="=&gt; java.lang.String">Writing</a>, <a href="#88388" title="sbt.Logger">log</a>)(<a href="#88389" title="(java.nio.channels.FileChannel) =&gt; Option[String]">f</a>)
	<span class="comment">/** Opens a &lt;code&gt;FileChannel&lt;/code&gt; on the given file for reading and passes the channel
	* to the given function.  The channel is closed before this function returns.*/</span>
	<span class="keyword">def</span> <a title="(java.io.File,sbt.Logger)((java.nio.channels.FileChannel) =&gt; Option[String])Option[String]" id="15318">readChannel</a>(<a title="java.io.File" id="88382">file</a>: <span title="java.io.File">File</span>, <a title="sbt.Logger" id="88383">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>)(<a title="(java.nio.channels.FileChannel) =&gt; Option[String]" id="88384">f</a>: FileChannel =&gt; Option[String]): <span title="Option[String]">Option</span>[String] =
		<a href="#21125" title="=&gt; sbt.CloseableOpenFile[java.nio.channels.FileChannel]">fileInputChannel</a>.<a href="#87905" title="(java.io.File,String,sbt.Logger)((java.nio.channels.FileChannel) =&gt; Option[String])Option[String]">ioOption</a>(<a href="#88382" title="java.io.File">file</a>, <a href="#15342" title="=&gt; java.lang.String">Reading</a>, <a href="#88383" title="sbt.Logger">log</a>)(<a href="#88384" title="(java.nio.channels.FileChannel) =&gt; Option[String]">f</a>)
	<span class="comment">/** Opens a &lt;code&gt;FileChannel&lt;/code&gt; on the given file for reading and passes the channel
	* to the given function.  The channel is closed before this function returns.*/</span>
	<span class="keyword">def</span> <a title="[R](java.io.File,sbt.Logger)((java.nio.channels.FileChannel) =&gt; Either[String,R])Either[String,R]" id="15319">readChannelValue</a>[<a title="&gt;: Nothing &lt;: Any" id="15321">R</a>](<a title="java.io.File" id="89033">file</a>: <span title="java.io.File">File</span>, <a title="sbt.Logger" id="89034">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>)(<a title="(java.nio.channels.FileChannel) =&gt; Either[String,R]" id="89035">f</a>: FileChannel =&gt; Either[String, R]): <span title="Either[String,R]">Either</span>[String, R] =
		<a href="#21125" title="=&gt; sbt.CloseableOpenFile[java.nio.channels.FileChannel]">fileInputChannel</a>.<a href="#87906" title="(java.io.File,String,sbt.Logger)((java.nio.channels.FileChannel) =&gt; Either[String,R])Either[String,R]">io</a>(<a href="#89033" title="java.io.File">file</a>, <a href="#15342" title="=&gt; java.lang.String">Reading</a>, <a href="#89034" title="sbt.Logger">log</a>)(<a href="#89035" title="(java.nio.channels.FileChannel) =&gt; Either[String,R]">f</a>)

	<span class="keyword">private</span>[sbt] <span class="keyword">def</span> <a title="(Array[java.io.File])Array[java.io.File]" id="15322">wrapNull</a>(<a title="Array[java.io.File]" id="29838">a</a>: <span title="Array[java.io.File]">Array</span>[File]): <span title="Array[java.io.File]">Array</span>[File] =
		<span title="Array[java.io.File]" class="keyword">if</span>(<a href="#29838" title="Array[java.io.File]">a</a> <span title="(AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span>)
			<span title="Array[java.io.File]" class="keyword">new</span> <span title="Array[java.io.File]">Array</span>[File](<span title="Int(0)" class="int">0</span>)
		<span class="keyword">else</span>
			<a href="#29838" title="Array[java.io.File]">a</a>

	<span class="comment">/** Writes the given string to the writer followed by a newline.*/</span>
	<span class="keyword">private</span>[sbt] <span class="keyword">def</span> <a title="(java.io.Writer,String)Unit" id="15323">writeLine</a>(<a title="java.io.Writer" id="29268">writer</a>: <a title="java.io.Writer" id="3755">Writer</a>, <a title="String" id="29269">line</a>: <span title="String">String</span>)
	{
		<a href="#29268" title="java.io.Writer">writer</a>.<span title="(java.lang.String)Unit">write</span>(<a href="#29269" title="String">line</a>)
		<a href="#29268" title="java.io.Writer">writer</a>.<span title="(java.lang.String)Unit">write</span>(<a href="#15213" title="=&gt; java.lang.String">Newline</a>)
	}

	<span class="keyword">def</span> <a title="(java.net.URL)java.io.File" id="15324">toFile</a>(<a title="java.net.URL" id="39901">url</a>: <span title="java.net.URL">URL</span>) =
		<span class="keyword">try</span> { <a title="(java.net.URI)java.io.File" id="16007" class="keyword">new</a> <span title="java.io.File">File</span>(<a href="#39901" title="java.net.URL">url</a>.<a title="()java.net.URI" id="25111">toURI</a>) }
		<span class="keyword">catch</span> { <span title="java.io.File" class="keyword">case</span> _: <a title="java.net.URISyntaxException" id="4351">URISyntaxException</a> =&gt; <span title="java.io.File" class="keyword">new</span> <span title="java.io.File">File</span>(<a href="#39901" title="java.net.URL">url</a>.<a title="()java.lang.String" id="25097">getPath</a>) }

	<span class="comment">/** The directory in which temporary files are placed.*/</span>
	<span class="keyword">val</span> <a title="java.io.File" id="15325">temporaryDirectory</a> = <span title="java.io.File" class="keyword">new</span> <span title="java.io.File">File</span>(<span title="object java.lang.System">System</span>.<span title="(java.lang.String)java.lang.String">getProperty</span>(<span title="java.lang.String(&quot;java.io.tmpdir&quot;)" class="string">&quot;java.io.tmpdir&quot;</span>))
	<span class="keyword">def</span> <a title="(Class[_])java.net.URL" id="15327">classLocation</a>(<a title="Class[_]" id="89043">cl</a>: <span title="Class[_]">Class</span>[_]): <span title="java.net.URL">URL</span> =
	{
		<span class="keyword">val</span> <a title="java.security.CodeSource" id="89047">codeSource</a> = <a href="#89043" title="Class[_]">cl</a>.<a title="()java.security.ProtectionDomain" id="4942">getProtectionDomain</a>.<a title="()java.security.CodeSource" id="36620">getCodeSource</a>
		<span title="java.net.URL" class="keyword">if</span>(<a href="#89047" title="java.security.CodeSource">codeSource</a> <span title="(AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span>) <a title="(String)Nothing" id="6085">error</a>(<span title="java.lang.String(&quot;No class location for &quot;)" class="string">&quot;No class location for &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#89043" title="Class[_]">cl</a>)
		<span class="keyword">else</span> <a href="#89047" title="java.security.CodeSource">codeSource</a>.<a title="()java.net.URL" id="36631">getLocation</a>
	}
	<span class="keyword">def</span> <a title="(Class[_])java.io.File" id="15328">classLocationFile</a>(<a title="Class[_]" id="39274">cl</a>: <span title="Class[_]">Class</span>[_]): <span title="java.io.File">File</span> = <a href="#15324" title="(java.net.URL)java.io.File">toFile</a>(<a href="#15327" title="(Class[_])java.net.URL">classLocation</a>(<a href="#39274" title="Class[_]">cl</a>))
	<span class="keyword">def</span> <a title="[T](implicit scala.reflect.Manifest[T])java.net.URL" id="15329">classLocation</a>[<a title="&gt;: Nothing &lt;: Any" id="15331">T</a>](<span class="keyword">implicit</span> <a title="scala.reflect.Manifest[T]" id="61673">mf</a>: scala.reflect.<span title="scala.reflect.Manifest[T]">Manifest</span>[T]): <span title="java.net.URL">URL</span> = <a href="#15327" title="(Class[_])java.net.URL">classLocation</a>(<a href="#61673" title="scala.reflect.Manifest[T]">mf</a>.<span title="=&gt; Class[_]">erasure</span>)
	<span class="keyword">def</span> <a title="[T](implicit scala.reflect.Manifest[T])java.io.File" id="15332">classLocationFile</a>[<a title="&gt;: Nothing &lt;: Any" id="15334">T</a>](<span class="keyword">implicit</span> <a title="scala.reflect.Manifest[T]" id="39272">mf</a>: scala.reflect.<span title="scala.reflect.Manifest[T]">Manifest</span>[T]): <span title="java.io.File">File</span> = <a href="#15328" title="(Class[_])java.io.File">classLocationFile</a>(<a href="#39272" title="scala.reflect.Manifest[T]">mf</a>.<span title="=&gt; Class[_]">erasure</span>)

	<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="java.io.File" id="15336">scalaLibraryJar</a>: <span title="java.io.File">File</span> = <a href="#15332" title="(implicit scala.reflect.Manifest[ScalaObject])java.io.File">classLocationFile</a>[scala.<a title="ScalaObject" id="1110">ScalaObject</a>]
	<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="java.io.File" id="15338">scalaCompilerJar</a>: <span title="java.io.File">File</span> = <a href="#15332" title="(implicit scala.reflect.Manifest[scala.tools.nsc.Settings])java.io.File">classLocationFile</a>[scala.tools.nsc.<a title="scala.tools.nsc.Settings" id="27858">Settings</a>]
	<span class="keyword">def</span> <a title="=&gt; Iterable[java.io.File]" id="15339">scalaJars</a>: <span title="Iterable[java.io.File]">Iterable</span>[File] = <a title="(java.io.File*)List[java.io.File]" id="496">List</a>(<a href="#15335" title="=&gt; java.io.File">scalaLibraryJar</a>, <a href="#15337" title="=&gt; java.io.File">scalaCompilerJar</a>)

	<span class="comment">/** The producer of randomness for unique name generation.*/</span>
	<span class="keyword">private</span> <span class="keyword">val</span> <a title="java.util.Random" id="15340">random</a> = <span title="java.util.Random" class="keyword">new</span> java.util.<a title="java.util.Random" id="5664">Random</a>

	<span class="keyword">private</span> <span class="keyword">val</span> <a title="java.lang.String" id="15342">Reading</a> = <span title="java.lang.String(&quot;reading&quot;)" class="string">&quot;reading&quot;</span>
	<span class="keyword">private</span> <span class="keyword">val</span> <a title="java.lang.String" id="15344">Writing</a> = <span title="java.lang.String(&quot;writing&quot;)" class="string">&quot;writing&quot;</span>
	<span class="keyword">private</span> <span class="keyword">val</span> <a title="java.lang.String" id="15346">Appending</a> = <span title="java.lang.String(&quot;appending&quot;)" class="string">&quot;appending&quot;</span>
}

<span class="keyword">private</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class OpenResource[Source, T] extends java.lang.Object with NotNull with ScalaObject" id="10317">OpenResource</a>[<a title="&gt;: Nothing &lt;: Any" id="14243">Source</a>, <a title="&gt;: Nothing &lt;: Any" id="14244">T</a>] <span class="keyword">extends</span> <span title="NotNull">NotNull</span>
{
	<span class="keyword">import</span> OpenResource.{unwrapEither, wrapEither}
	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="(Source,sbt.Logger)Either[String,T]" id="87904">open</a>(<a title="Source" id="87935">src</a>: <a href="#14243" title="Source">Source</a>, <a title="sbt.Logger" id="87936">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Either[String,T]">Either</span>[String, T]
	<span class="keyword">def</span> <a title="(Source,String,sbt.Logger)((T) =&gt; Option[String])Option[String]" id="87905">ioOption</a>(<a title="Source" id="87948">src</a>: <a href="#14243" title="Source">Source</a>, <a title="String" id="87949">op</a>: <span title="String">String</span>, <a title="sbt.Logger" id="87950">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>)(<a title="(T) =&gt; Option[String]" id="87951">f</a>: T =&gt; Option[String]) =
		<a href="#21120" title="(Either[String,Unit])Option[String]">unwrapEither</a>( <a href="#87906" title="(Source,String,sbt.Logger)((T) =&gt; Either[String,Unit])Either[String,Unit]">io</a>(<a href="#87948" title="Source">src</a>, <a href="#87949" title="String">op</a>, <a href="#87950" title="sbt.Logger">log</a>)(<a href="#21117" title="((T) =&gt; Option[String])(T) =&gt; Either[String,Unit]">wrapEither</a>(<a href="#87951" title="(T) =&gt; Option[String]">f</a>)) )
	<span class="keyword">def</span> <a title="[R](Source,String,sbt.Logger)((T) =&gt; Either[String,R])Either[String,R]" id="87906">io</a>[<a title="&gt;: Nothing &lt;: Any" id="87908">R</a>](<a title="Source" id="87954">src</a>: <a href="#14243" title="Source">Source</a>, <a title="String" id="87955">op</a>: <span title="String">String</span>, <a title="sbt.Logger" id="87956">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>)(<a title="(T) =&gt; Either[String,R]" id="87957">f</a>: T =&gt; Either[String,R]): <span title="Either[String,R]">Either</span>[String, R] =
		<a href="#87904" title="(Source,sbt.Logger)Either[String,T]">open</a>(<a href="#87954" title="Source">src</a>, <a href="#87956" title="sbt.Logger">log</a>).<span title="=&gt; Either.RightProjection[String,T]">right</span> <span title="((T) =&gt; Either[String,R])Either[String,R]">flatMap</span>
		{
			<a title="T" id="89077">resource</a> =&gt; <a href="Control.scala.html#11797" title="object sbt.Control">Control</a>.<a href="Control.scala.html#25431" title="(=&gt; String,sbt.Logger)(=&gt; Either[String,R])(=&gt; Unit)Either[String,R]">trapAndFinally</a>(<span title="java.lang.String(&quot;Error &quot;)" class="string">&quot;Error &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#87955" title="String">op</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(Any)java.lang.String">+</span> <a href="#87954" title="Source">src</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span>, <a href="#87956" title="sbt.Logger">log</a>)
				{ <a href="#87957" title="(T)Either[String,R]">f</a>(<a href="#89077" title="T">resource</a>) }
				{ <a href="#87909" title="(T)Unit">close</a>(<a href="#89077" title="T">resource</a>) }
		}
	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="(T)Unit" id="87909">close</a>(<a title="T" id="87944">out</a>: <a href="#14244" title="T">T</a>): <span title="Unit">Unit</span>
}
<span class="keyword">private</span> <span class="keyword">trait</span> <a title="trait CloseableOpenResource[Source, T &lt;: java.io.Closeable] extends sbt.OpenResource[Source,T] with ScalaObject" id="6876">CloseableOpenResource</a>[<a title="&gt;: Nothing &lt;: Any" id="14245">Source</a>, <a title="&gt;: Nothing &lt;: java.io.Closeable" id="14246">T</a> &lt;: Closeable] <span class="keyword">extends</span> <a href="#10317" title="sbt.OpenResource[Source,T]">OpenResource</a>[Source, T]
{
	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="(T)Unit" id="87911">close</a>(<a title="T" id="87943">out</a>: <a href="#14246" title="T">T</a>): <span title="Unit">Unit</span> = <a href="#87943" title="T">out</a>.<a title="()Unit" id="29601">close</a>()
}
<span class="keyword">import</span> scala.reflect.{Manifest =&gt; SManifest}
<span class="keyword">private</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class WrapOpenResource[Source, T &lt;: java.io.Closeable] extends sbt.OpenResource[Source,T] with sbt.CloseableOpenResource[Source,T] with ScalaObject" id="7650">WrapOpenResource</a>[<a title="&gt;: Nothing &lt;: Any" id="14248">Source</a>, <a title="&gt;: Nothing &lt;: java.io.Closeable" id="14249">T</a> &lt;: Closeable](<span class="keyword">implicit</span> <a title="scala.reflect.Manifest[Source]" id="87926">srcMf</a>: <span title="scala.reflect.Manifest[Source]">SManifest</span>[Source], <a title="scala.reflect.Manifest[T]" id="87927">targetMf</a>: <span title="scala.reflect.Manifest[T]">SManifest</span>[T]) <span class="keyword">extends</span> <a href="#6876" title="sbt.CloseableOpenResource[Source,T]">CloseableOpenResource</a>[Source, T]
{
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="[S](scala.reflect.Manifest[S])java.lang.String" id="87917">label</a>[<a title="&gt;: Nothing &lt;: Any" id="87919">S</a>](<a title="scala.reflect.Manifest[S]" id="89084">m</a>: <span title="scala.reflect.Manifest[S]">SManifest</span>[S]) = <a href="#89084" title="scala.reflect.Manifest[S]">m</a>.<span title="=&gt; Class[_]">erasure</span>.<a title="()java.lang.String" id="4280">getSimpleName</a>
	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="(Source)T" id="87920">open</a>(<a title="Source" id="87934">source</a>: <a href="#14248" title="Source">Source</a>): <a href="#14249" title="T">T</a>
	<span class="keyword">protected</span> <span class="keyword">final</span> <span class="keyword">def</span> <a title="(Source,sbt.Logger)Either[String,T]" id="87921">open</a>(<a title="Source" id="87937">source</a>: <a href="#14248" title="Source">Source</a>, <a title="sbt.Logger" id="87938">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Either[String,T]">Either</span>[String, T] =
		<a href="Control.scala.html#11797" title="object sbt.Control">Control</a>.<a href="Control.scala.html#25428" title="(=&gt; String,sbt.Logger)(=&gt; Either[String,T])Either[String,T]">trap</a>(<span title="java.lang.String(&quot;Error wrapping &quot;)" class="string">&quot;Error wrapping &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#87917" title="(scala.reflect.Manifest[Source])java.lang.String">label</a>(<a href="#87926" title="scala.reflect.Manifest[Source]">srcMf</a>) <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; in &quot;)" class="string">&quot; in &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#87917" title="(scala.reflect.Manifest[T])java.lang.String">label</a>(<a href="#87927" title="scala.reflect.Manifest[T]">targetMf</a>) <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span>, <a href="#87938" title="sbt.Logger">log</a>) { <span title="(T)Right[Nothing,T]">Right</span>(<a href="#87920" title="(Source)T">open</a>(<a href="#87937" title="Source">source</a>)) }
}
<span class="keyword">private</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class OpenFile[T] extends sbt.OpenResource[java.io.File,T] with ScalaObject" id="8244">OpenFile</a>[<a title="&gt;: Nothing &lt;: Any" id="14250">T</a>] <span class="keyword">extends</span> <a href="#10317" title="sbt.OpenResource[java.io.File,T]">OpenResource</a>[File, T]
{
	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="(java.io.File)T" id="88535">open</a>(<a title="java.io.File" id="88543">file</a>: <span title="java.io.File">File</span>): <a href="#14250" title="T">T</a>
	<span class="keyword">protected</span> <span class="keyword">final</span> <span class="keyword">def</span> <a title="(java.io.File,sbt.Logger)Either[String,T]" id="88536">open</a>(<a title="java.io.File" id="88544">file</a>: <span title="java.io.File">File</span>, <a title="sbt.Logger" id="88545">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>): <span title="Either[String,T]">Either</span>[String, T] =
	{
		<span class="keyword">val</span> <a title="java.io.File" id="89101">parent</a> = <a href="#88544" title="java.io.File">file</a>.<span title="()java.io.File">getParentFile</span>
		<span title="Unit" class="keyword">if</span>(<a href="#89101" title="java.io.File">parent</a> <span title="(AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span>)
			<a href="#9046" title="object sbt.FileUtilities">FileUtilities</a>.<a href="#15246" title="(java.io.File,sbt.Logger)Option[String]">createDirectory</a>(<a href="#89101" title="java.io.File">parent</a>, <a href="#88545" title="sbt.Logger">log</a>)
		<a href="Control.scala.html#11797" title="object sbt.Control">Control</a>.<a href="Control.scala.html#25428" title="(=&gt; String,sbt.Logger)(=&gt; Either[String,T])Either[String,T]">trap</a>(<span title="java.lang.String(&quot;Error opening &quot;)" class="string">&quot;Error opening &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#88544" title="java.io.File">file</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span>, <a href="#88545" title="sbt.Logger">log</a>) { <span title="(T)Right[Nothing,T]">Right</span>(<a href="#88535" title="(java.io.File)T">open</a>(<a href="#88544" title="java.io.File">file</a>)) }
	}
}
<span class="keyword">private</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class CloseableOpenFile[T &lt;: java.io.Closeable] extends sbt.OpenFile[T] with sbt.CloseableOpenResource[java.io.File,T] with ScalaObject" id="8205">CloseableOpenFile</a>[<a title="&gt;: Nothing &lt;: java.io.Closeable" id="14251">T</a> &lt;: Closeable] <span class="keyword">extends</span> <a href="#8244" title="sbt.OpenFile[T]">OpenFile</a>[T] <span class="keyword">with</span> <a href="#6876" title="sbt.CloseableOpenResource[java.io.File,T]">CloseableOpenResource</a>[File, T]
<span class="keyword">private</span> <span class="keyword">object</span> <a title="object sbt.OpenResource" id="10318">OpenResource</a>
{
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="[R]((R) =&gt; Option[String])(R) =&gt; Either[String,Unit]" id="21117">wrapEither</a>[<a title="&gt;: Nothing &lt;: Any" id="21119">R</a>](<a title="(R) =&gt; Option[String]" id="87959">f</a>: R =&gt; Option[String]): (R =&gt; Either[String, Unit]) = (<a title="R" id="89117">r</a>: <a href="#21119" title="R">R</a>) =&gt; <a href="#87959" title="(R)Option[String]">f</a>(<a href="#89117" title="R">r</a>).<span title="(=&gt; Unit)Either[String,Unit] with Product">toLeft</span>(<span title="Unit">(</span>))
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(Either[String,Unit])Option[String]" id="21120">unwrapEither</a>(<a title="Either[String,Unit]" id="87953">e</a>: <span title="Either[String,Unit]">Either</span>[String, Unit]): <span title="Option[String]">Option</span>[String] = <a href="#87953" title="Either[String,Unit]">e</a>.<span title="=&gt; Either.LeftProjection[String,Unit]">left</span>.<span title="=&gt; Option[String]">toOption</span>

	<span class="keyword">def</span> <a title="(Boolean)sbt.CloseableOpenFile[java.io.FileOutputStream]" id="21121">fileOutputStream</a>(<a title="Boolean" id="88936">append</a>: <span title="Boolean">Boolean</span>) =
		<a title="template $anon extends sbt.CloseableOpenFile[java.io.FileOutputStream]" id="88938" class="keyword">new</a> <a href="#8205" title="sbt.CloseableOpenFile[java.io.FileOutputStream]">CloseableOpenFile</a>[FileOutputStream] { <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(java.io.File)java.io.FileOutputStream" id="88940">open</a>(<a title="java.io.File" id="88942">file</a>: <span title="java.io.File">File</span>) = <span title="(java.io.File,Boolean)java.io.FileOutputStream" class="keyword">new</span> <span title="java.io.FileOutputStream">FileOutputStream</span>(<a href="#88942" title="java.io.File">file</a>, <a href="#88936" title="Boolean">append</a>) }
	<span class="keyword">def</span> <a title="=&gt; sbt.CloseableOpenFile[java.io.FileInputStream]" id="21122">fileInputStream</a> = <a title="template $anon extends sbt.CloseableOpenFile[java.io.FileInputStream]" id="88971" class="keyword">new</a> <a href="#8205" title="sbt.CloseableOpenFile[java.io.FileInputStream]">CloseableOpenFile</a>[FileInputStream]
		{ <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(java.io.File)java.io.FileInputStream" id="88973">open</a>(<a title="java.io.File" id="88975">file</a>: <span title="java.io.File">File</span>) = <span title="(java.io.File)java.io.FileInputStream" class="keyword">new</span> <span title="java.io.FileInputStream">FileInputStream</span>(<a href="#88975" title="java.io.File">file</a>) }
	<span class="keyword">def</span> <a title="=&gt; &lt;refinement&gt; extends sbt.OpenResource[java.net.URL,java.io.InputStream] with sbt.CloseableOpenResource[java.net.URL,java.io.InputStream]" id="21123">urlInputStream</a> = <a title="template $anon extends sbt.OpenResource[java.net.URL,java.io.InputStream] with sbt.CloseableOpenResource[java.net.URL,java.io.InputStream]" id="88985" class="keyword">new</a> <a href="#6876" title="sbt.CloseableOpenResource[java.net.URL,java.io.InputStream]">CloseableOpenResource</a>[URL, InputStream]
		{ <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(java.net.URL,sbt.Logger)Either[String,java.io.InputStream]" id="88987">open</a>(<a title="java.net.URL" id="88990">url</a>: <span title="java.net.URL">URL</span>, <a title="sbt.Logger" id="88991">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>) = <a href="Control.scala.html#11797" title="object sbt.Control">Control</a>.<a href="Control.scala.html#25428" title="(=&gt; String,sbt.Logger)(=&gt; Either[String,java.io.InputStream])Either[String,java.io.InputStream]">trap</a>(<span title="java.lang.String(&quot;Error opening &quot;)" class="string">&quot;Error opening &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#88990" title="java.net.URL">url</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span>, <a href="#88991" title="sbt.Logger">log</a>) { <span title="(java.io.InputStream)Right[Nothing,java.io.InputStream]">Right</span>(<a href="#88990" title="java.net.URL">url</a>.<a title="()java.io.InputStream" id="25114">openStream</a>) } }
	<span class="keyword">def</span> <a title="=&gt; sbt.CloseableOpenFile[java.nio.channels.FileChannel]" id="21124">fileOutputChannel</a> = <a title="template $anon extends sbt.CloseableOpenFile[java.nio.channels.FileChannel]" id="89008" class="keyword">new</a> <a href="#8205" title="sbt.CloseableOpenFile[java.nio.channels.FileChannel]">CloseableOpenFile</a>[FileChannel]
		{ <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(java.io.File)java.nio.channels.FileChannel" id="89010">open</a>(<a title="java.io.File" id="89012">f</a>: <span title="java.io.File">File</span>) = (<a title="(java.io.File)java.io.FileOutputStream" id="36918" class="keyword">new</a> <span title="java.io.FileOutputStream">FileOutputStream</span>(<a href="#89012" title="java.io.File">f</a>)).<a title="()java.nio.channels.FileChannel" id="36926">getChannel</a> }
	<span class="keyword">def</span> <a title="=&gt; sbt.CloseableOpenFile[java.nio.channels.FileChannel]" id="21125">fileInputChannel</a> = <a title="template $anon extends sbt.CloseableOpenFile[java.nio.channels.FileChannel]" id="89022" class="keyword">new</a> <a href="#8205" title="sbt.CloseableOpenFile[java.nio.channels.FileChannel]">CloseableOpenFile</a>[FileChannel]
		{ <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(java.io.File)java.nio.channels.FileChannel" id="89024">open</a>(<a title="java.io.File" id="89026">f</a>: <span title="java.io.File">File</span>) = (<span title="(java.io.File)java.io.FileInputStream" class="keyword">new</span> <span title="java.io.FileInputStream">FileInputStream</span>(<a href="#89026" title="java.io.File">f</a>)).<a title="()java.nio.channels.FileChannel" id="29885">getChannel</a> }
	<span class="keyword">def</span> <a title="(java.nio.charset.Charset,Boolean)sbt.CloseableOpenFile[java.io.Writer]" id="21126">fileWriter</a>(<a title="java.nio.charset.Charset" id="88530">charset</a>: <span title="java.nio.charset.Charset">Charset</span>, <a title="Boolean" id="88531">append</a>: <span title="Boolean">Boolean</span>) = <a title="template $anon extends sbt.CloseableOpenFile[java.io.Writer]" id="88533" class="keyword">new</a> <a href="#8205" title="sbt.CloseableOpenFile[java.io.Writer]">CloseableOpenFile</a>[Writer]
		{ <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(java.io.File)java.io.BufferedWriter" id="88539">open</a>(<a title="java.io.File" id="88541">f</a>: <span title="java.io.File">File</span>) = <span title="java.io.BufferedWriter" class="keyword">new</span> <a title="java.io.BufferedWriter" id="3758">BufferedWriter</a>(<a title="(java.io.OutputStream,java.nio.charset.Charset)java.io.OutputStreamWriter" id="37538" class="keyword">new</a> <a title="java.io.OutputStreamWriter" id="3797">OutputStreamWriter</a>(<span title="(java.io.File,Boolean)java.io.FileOutputStream" class="keyword">new</span> <span title="java.io.FileOutputStream">FileOutputStream</span>(<a href="#88541" title="java.io.File">f</a>, <a href="#88531" title="Boolean">append</a>), <a href="#88530" title="java.nio.charset.Charset">charset</a>)) }
	<span class="keyword">def</span> <a title="(java.nio.charset.Charset)sbt.CloseableOpenFile[java.io.Reader]" id="21127">fileReader</a>(<a title="java.nio.charset.Charset" id="88585">charset</a>: <span title="java.nio.charset.Charset">Charset</span>) = <a title="template $anon extends sbt.CloseableOpenFile[java.io.Reader]" id="88587" class="keyword">new</a> <a href="#8205" title="sbt.CloseableOpenFile[java.io.Reader]">CloseableOpenFile</a>[Reader]
		{ <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(java.io.File)java.io.BufferedReader" id="88589">open</a>(<a title="java.io.File" id="88591">f</a>: <span title="java.io.File">File</span>) = <a title="(java.io.Reader)java.io.BufferedReader" id="37662" class="keyword">new</a> <a title="java.io.BufferedReader" id="3497">BufferedReader</a>(<span title="(java.io.InputStream,java.nio.charset.Charset)java.io.InputStreamReader" class="keyword">new</span> <span title="java.io.InputStreamReader">InputStreamReader</span>(<span title="(java.io.File)java.io.FileInputStream" class="keyword">new</span> <span title="java.io.FileInputStream">FileInputStream</span>(<a href="#88591" title="java.io.File">f</a>), <a href="#88585" title="java.nio.charset.Charset">charset</a>)) }
	<span class="keyword">def</span> <a title="(Boolean)sbt.OpenFile[java.util.jar.JarFile]" id="21128">jarFile</a>(<a title="Boolean" id="89124">verify</a>: <span title="Boolean">Boolean</span>) = <a title="template $anon extends sbt.OpenFile[java.util.jar.JarFile]" id="89126" class="keyword">new</a> <a href="#8244" title="sbt.OpenFile[java.util.jar.JarFile]">OpenFile</a>[JarFile]
		{ <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(java.io.File)java.util.jar.JarFile" id="89128">open</a>(<a title="java.io.File" id="89131">f</a>: <span title="java.io.File">File</span>) = <a title="(java.io.File,Boolean)java.util.jar.JarFile" id="85385" class="keyword">new</a> <span title="java.util.jar.JarFile">JarFile</span>(<a href="#89131" title="java.io.File">f</a>, <a href="#89124" title="Boolean">verify</a>)
		   <span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(java.util.jar.JarFile)Unit" id="89129">close</a>(<a title="java.util.jar.JarFile" id="89148">j</a>: <span title="java.util.jar.JarFile">JarFile</span>) = <a href="#89148" title="java.util.jar.JarFile">j</a>.<span title="()Unit">close</span>() }
	<span class="keyword">def</span> <a title="=&gt; sbt.OpenFile[java.util.zip.ZipFile]" id="21129">zipFile</a> = <a title="template $anon extends sbt.OpenFile[java.util.zip.ZipFile]" id="89154" class="keyword">new</a> <a href="#8244" title="sbt.OpenFile[java.util.zip.ZipFile]">OpenFile</a>[ZipFile]
		{ <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(java.io.File)java.util.zip.ZipFile" id="89156">open</a>(<a title="java.io.File" id="89159">f</a>: <span title="java.io.File">File</span>) = <a title="(java.io.File)java.util.zip.ZipFile" id="70015" class="keyword">new</a> <span title="java.util.zip.ZipFile">ZipFile</span>(<a href="#89159" title="java.io.File">f</a>)
		   <span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(java.util.zip.ZipFile)Unit" id="89157">close</a>(<a title="java.util.zip.ZipFile" id="89164">z</a>: <span title="java.util.zip.ZipFile">ZipFile</span>) = <a href="#89164" title="java.util.zip.ZipFile">z</a>.<span title="()Unit">close</span>() }
	<span class="keyword">def</span> <a title="=&gt; sbt.WrapOpenResource[(java.io.InputStream, java.nio.charset.Charset),java.io.Reader]" id="21130">streamReader</a> = <a title="template $anon extends sbt.WrapOpenResource[(java.io.InputStream, java.nio.charset.Charset),java.io.Reader]" id="88652" class="keyword">new</a> <a href="#7650" title="sbt.WrapOpenResource[(java.io.InputStream, java.nio.charset.Charset),java.io.Reader]" id="18884">WrapOpenResource</a>[(InputStream, Charset), Reader]
		{ <span class="keyword">protected</span> <span class="keyword">def</span> <a title="((java.io.InputStream, java.nio.charset.Charset))java.io.InputStreamReader" id="88654">open</a>(<a title="(java.io.InputStream, java.nio.charset.Charset)" id="88668">streamCharset</a>: <a title="(java.io.InputStream, java.nio.charset.Charset)" id="1326">(</a>InputStream, Charset)) = <span title="(java.io.InputStream,java.nio.charset.Charset)java.io.InputStreamReader" class="keyword">new</span> <span title="java.io.InputStreamReader">InputStreamReader</span>(<a href="#88668" title="(java.io.InputStream, java.nio.charset.Charset)">streamCharset</a>.<span title="=&gt; java.io.InputStream">_1</span>, <a href="#88668" title="(java.io.InputStream, java.nio.charset.Charset)">streamCharset</a>.<span title="=&gt; java.nio.charset.Charset">_2</span>) }
	<span class="keyword">def</span> <a title="=&gt; sbt.WrapOpenResource[java.io.InputStream,java.util.zip.GZIPInputStream]" id="21131">gzipInputStream</a> = <a title="template $anon extends sbt.WrapOpenResource[java.io.InputStream,java.util.zip.GZIPInputStream]" id="87971" class="keyword">new</a> <a href="#7650" title="sbt.WrapOpenResource[java.io.InputStream,java.util.zip.GZIPInputStream]">WrapOpenResource</a>[InputStream, GZIPInputStream]
		{ <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(java.io.InputStream)java.util.zip.GZIPInputStream" id="87973">open</a>(<a title="java.io.InputStream" id="87979">in</a>: <span title="java.io.InputStream">InputStream</span>) = <a title="(java.io.InputStream)java.util.zip.GZIPInputStream" id="85477" class="keyword">new</a> <a title="java.util.zip.GZIPInputStream" id="21149">GZIPInputStream</a>(<a href="#87979" title="java.io.InputStream">in</a>) }
	<span class="keyword">def</span> <a title="=&gt; sbt.WrapOpenResource[java.io.InputStream,java.util.zip.ZipInputStream]" id="21132">zipInputStream</a> = <a title="template $anon extends sbt.WrapOpenResource[java.io.InputStream,java.util.zip.ZipInputStream]" id="88070" class="keyword">new</a> <a href="#7650" title="sbt.WrapOpenResource[java.io.InputStream,java.util.zip.ZipInputStream]">WrapOpenResource</a>[InputStream, ZipInputStream]
		{ <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(java.io.InputStream)java.util.zip.ZipInputStream" id="88072">open</a>(<a title="java.io.InputStream" id="88079">in</a>: <span title="java.io.InputStream">InputStream</span>) = <span title="java.util.zip.ZipInputStream" class="keyword">new</span> <span title="java.util.zip.ZipInputStream">ZipInputStream</span>(<a href="#88079" title="java.io.InputStream">in</a>) }
	<span class="keyword">def</span> <a title="=&gt; sbt.WrapOpenResource[java.io.OutputStream,java.util.zip.GZIPOutputStream]" id="21133">gzipOutputStream</a> = <a title="template $anon extends sbt.WrapOpenResource[java.io.OutputStream,java.util.zip.GZIPOutputStream]" id="87901" class="keyword">new</a> <a href="#7650" title="sbt.WrapOpenResource[java.io.OutputStream,java.util.zip.GZIPOutputStream]">WrapOpenResource</a>[OutputStream, GZIPOutputStream]
		{ <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(java.io.OutputStream)java.util.zip.GZIPOutputStream" id="87923">open</a>(<a title="java.io.OutputStream" id="87932">out</a>: <span title="java.io.OutputStream">OutputStream</span>) = <a title="(java.io.OutputStream)java.util.zip.GZIPOutputStream" id="85502" class="keyword">new</a> <span title="java.util.zip.GZIPOutputStream">GZIPOutputStream</span>(<a href="#87932" title="java.io.OutputStream">out</a>)
		   <span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(java.util.zip.GZIPOutputStream)Unit" id="87924">close</a>(<a title="java.util.zip.GZIPOutputStream" id="87941">out</a>: <span title="java.util.zip.GZIPOutputStream">GZIPOutputStream</span>) = <a href="#87941" title="java.util.zip.GZIPOutputStream">out</a>.<a title="()Unit" id="85504">finish</a>() }
	<span class="keyword">def</span> <a title="=&gt; sbt.WrapOpenResource[java.io.OutputStream,java.util.jar.JarOutputStream]" id="21134">jarOutputStream</a> = <a title="template $anon extends sbt.WrapOpenResource[java.io.OutputStream,java.util.jar.JarOutputStream]" id="89170" class="keyword">new</a> <a href="#7650" title="sbt.WrapOpenResource[java.io.OutputStream,java.util.jar.JarOutputStream]">WrapOpenResource</a>[OutputStream, JarOutputStream]
		{ <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(java.io.OutputStream)java.util.jar.JarOutputStream" id="89172">open</a>(<a title="java.io.OutputStream" id="89180">out</a>: <span title="java.io.OutputStream">OutputStream</span>) = <a title="(java.io.OutputStream)java.util.jar.JarOutputStream" id="37228" class="keyword">new</a> <span title="java.util.jar.JarOutputStream">JarOutputStream</span>(<a href="#89180" title="java.io.OutputStream">out</a>) }
	<span class="keyword">def</span> <a title="=&gt; sbt.WrapOpenResource[java.io.InputStream,java.util.jar.JarInputStream]" id="21135">jarInputStream</a> = <a title="template $anon extends sbt.WrapOpenResource[java.io.InputStream,java.util.jar.JarInputStream]" id="89189" class="keyword">new</a> <a href="#7650" title="sbt.WrapOpenResource[java.io.InputStream,java.util.jar.JarInputStream]">WrapOpenResource</a>[InputStream, JarInputStream]
		{ <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(java.io.InputStream)java.util.jar.JarInputStream" id="89191">open</a>(<a title="java.io.InputStream" id="89198">in</a>: <span title="java.io.InputStream">InputStream</span>) = <span title="java.util.jar.JarInputStream" class="keyword">new</span> <a title="java.util.jar.JarInputStream" id="21667">JarInputStream</a>(<a href="#89198" title="java.io.InputStream">in</a>) }
	<span class="keyword">def</span> <a title="(java.util.zip.ZipFile)sbt.OpenResource[java.util.zip.ZipEntry,java.io.InputStream] with sbt.CloseableOpenResource[java.util.zip.ZipEntry,java.io.InputStream]" id="21136">zipEntry</a>(<a title="java.util.zip.ZipFile" id="89205">zip</a>: <span title="java.util.zip.ZipFile">ZipFile</span>) = <a title="template $anon extends sbt.OpenResource[java.util.zip.ZipEntry,java.io.InputStream] with sbt.CloseableOpenResource[java.util.zip.ZipEntry,java.io.InputStream]" id="89207" class="keyword">new</a> <a href="#6876" title="sbt.CloseableOpenResource[java.util.zip.ZipEntry,java.io.InputStream]">CloseableOpenResource</a>[ZipEntry, InputStream] {
		<span class="keyword">protected</span> <span class="keyword">def</span> <a title="(java.util.zip.ZipEntry,sbt.Logger)Either[String,java.io.InputStream]" id="89209">open</a>(<a title="java.util.zip.ZipEntry" id="89212">entry</a>: <span title="java.util.zip.ZipEntry">ZipEntry</span>, <a title="sbt.Logger" id="89213">log</a>: <a href="Logger.scala.html#11784" title="sbt.Logger">Logger</a>) =
			<a href="Control.scala.html#11797" title="object sbt.Control">Control</a>.<a href="Control.scala.html#25428" title="(=&gt; String,sbt.Logger)(=&gt; Either[String,java.io.InputStream])Either[String,java.io.InputStream]">trap</a>(<span title="java.lang.String(&quot;Error opening &quot;)" class="string">&quot;Error opening &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#89212" title="java.util.zip.ZipEntry">entry</a>.<span title="()java.lang.String">getName</span> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot; in &quot;)" class="string">&quot; in &quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#89205" title="java.util.zip.ZipFile">zip</a> <span title="(Any)java.lang.String">+</span> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span>, <a href="#89213" title="sbt.Logger">log</a>) { <span title="(java.io.InputStream)Right[Nothing,java.io.InputStream]">Right</span>(<a href="#89205" title="java.util.zip.ZipFile">zip</a>.<a title="(java.util.zip.ZipEntry)java.io.InputStream" id="70017">getInputStream</a>(<a href="#89212" title="java.util.zip.ZipEntry">entry</a>)) }
	}
}
        </pre>
    </body>
</html>