<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>sbt/IntegrationTesting.scala</title>
        <script type="text/javascript" src="../jquery-all.js"></script>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* sbt -- Simple Build Tool
 * Copyright 2009  Steven Blundy, Mark Harrah, Josh Cough
 */</span>
<span class="keyword">package</span> sbt

<span class="keyword">import</span> ScalaProject.{optionsAsString, javaOptionsAsString}

<span class="keyword">trait</span> <a title="trait IntegrationTesting extends java.lang.Object with NotNull with ScalaObject" id="7626">IntegrationTesting</a> <span class="keyword">extends</span> <a title="NotNull" id="189">NotNull</a>
{
	<span class="comment">/** Override to provide pre-test setup. */</span>
	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; Option[String]" id="47945">pretests</a>: <span title="Option[String]">Option</span>[String] = <span title="object None">None</span>
	<span class="comment">/** Override to provide post-test cleanup. */</span>
	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; Option[String]" id="47946">posttests</a>: <span title="Option[String]">Option</span>[String] = <span title="object None">None</span>
}
<span class="keyword">trait</span> <a title="trait ScalaIntegrationTesting extends java.lang.Object with sbt.IntegrationTesting with ScalaObject" id="7947">ScalaIntegrationTesting</a> <span class="keyword">extends</span> <a href="#7626" title="sbt.IntegrationTesting">IntegrationTesting</a>
{ self: ScalaProject =&gt;

	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="(Seq[sbt.TestFramework],sbt.PathFinder,sbt.CompileAnalysis,=&gt; Seq[ScalaIntegrationTesting.this.TestOption])ScalaIntegrationTesting.this.Task" id="47953">integrationTestTask</a>(<a title="Seq[sbt.TestFramework]" id="47957">frameworks</a>: <span title="Seq[sbt.TestFramework]">Seq</span>[TestFramework], <a title="sbt.PathFinder" id="47958">classpath</a>: <a href="Path.scala.html#8754" title="sbt.PathFinder">PathFinder</a>, <a title="sbt.CompileAnalysis" id="47959">analysis</a>: <a href="Analysis.scala.html#6996" title="sbt.CompileAnalysis">CompileAnalysis</a>, <a title="=&gt; Seq[ScalaIntegrationTesting.this.TestOption]" id="47960">options</a>: =&gt; Seq[TestOption]) =
		<a href="ScalaProject.scala.html#25866" title="(Seq[sbt.TestFramework],sbt.PathFinder,sbt.CompileAnalysis,=&gt; Seq[ScalaIntegrationTesting.this.TestOption])ScalaIntegrationTesting.this.Task">testTask</a>(<a href="#47957" title="Seq[sbt.TestFramework]">frameworks</a>, <a href="#47958" title="sbt.PathFinder">classpath</a>, <a href="#47959" title="sbt.CompileAnalysis">analysis</a>, <a href="#47960" title="=&gt; Seq[ScalaIntegrationTesting.this.TestOption]">options</a>)
}

<span class="keyword">trait</span> <a title="trait BasicScalaIntegrationTesting extends java.lang.Object with sbt.BasicIntegrationTesting with sbt.MavenStyleIntegrationTestPaths" id="10788">BasicScalaIntegrationTesting</a> <span class="keyword">extends</span> <a href="#7530" title="sbt.BasicIntegrationTesting">BasicIntegrationTesting</a> <span class="keyword">with</span> <a href="ProjectPaths.scala.html#11778" title="sbt.MavenStyleIntegrationTestPaths">MavenStyleIntegrationTestPaths</a>
{ self: BasicScalaProject =&gt; }
<span class="comment">/** A fully featured integration testing that may be mixed in with any subclass of &lt;code&gt;BasicScalaProject&lt;/code&gt;.
 * Pre-suite setup and post-suite cleanup are provide by overriding &lt;code&gt;pretests&lt;/code&gt; and &lt;code&gt;posttests&lt;/code&gt; respectively.*/</span>
<span class="keyword">trait</span> <a title="trait BasicIntegrationTesting extends java.lang.Object with sbt.ScalaIntegrationTesting with sbt.IntegrationTestPaths with sbt.BasicDependencyProject with ScalaObject" id="7530">BasicIntegrationTesting</a> <span class="keyword">extends</span> <a href="#7947" title="sbt.ScalaIntegrationTesting">ScalaIntegrationTesting</a> <span class="keyword">with</span> <a href="ProjectPaths.scala.html#8925" title="sbt.IntegrationTestPaths">IntegrationTestPaths</a> <span class="keyword">with</span> <a href="BasicProjectTypes.scala.html#11070" title="sbt.BasicDependencyProject">BasicDependencyProject</a>
{
	self: BasicScalaProject =&gt;

	<span class="keyword">import</span> BasicScalaIntegrationTesting._

	<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="BasicIntegrationTesting.this.Task" id="47967">integrationTestCompile</a> = <a href="#47973" title="=&gt; BasicIntegrationTesting.this.Task">integrationTestCompileAction</a>
	<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="BasicIntegrationTesting.this.Task" id="47969">integrationTest</a> = <a href="#47972" title="=&gt; BasicIntegrationTesting.this.Task">integrationTestAction</a>

	<span class="keyword">val</span> <a title="sbt.CompileConditional" id="47970">integrationTestCompileConditional</a> = <span title="sbt.CompileConditional" class="keyword">new</span> <a href="Conditional.scala.html#8037" title="sbt.CompileConditional">CompileConditional</a>(<a href="#47981" title="=&gt; BasicIntegrationTesting.this.IntegrationTestCompileConfig">integrationTestCompileConfiguration</a>, <a href="Project.scala.html#14695" title="=&gt; xsbt.AnalyzingCompiler">buildCompiler</a>)

	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; BasicIntegrationTesting.this.Task" id="47972">integrationTestAction</a> = <a href="#47953" title="(Seq[sbt.TestFramework],sbt.PathFinder,sbt.CompileAnalysis,=&gt; Seq[BasicIntegrationTesting.this.TestOption])BasicIntegrationTesting.this.Task">integrationTestTask</a>(<a href="#47983" title="=&gt; Seq[sbt.TestFramework]">integrationTestFrameworks</a>, <a href="#47979" title="=&gt; sbt.PathFinder">integrationTestClasspath</a>, <a href="#47970" title="=&gt; sbt.CompileConditional">integrationTestCompileConditional</a>.<a href="Conditional.scala.html#26700" title="=&gt; BasicIntegrationTesting.this.integrationTestCompileConditional.AnalysisType">analysis</a>, <a href="#47975" title="=&gt; Seq[BasicIntegrationTesting.this.TestOption]">integrationTestOptions</a>) <a href="TaskManager.scala.html#19072" title="(BasicIntegrationTesting.this.ManagedTask*)BasicIntegrationTesting.this.Task">dependsOn</a> <a href="#47966" title="=&gt; BasicIntegrationTesting.this.Task">integrationTestCompile</a> <a href="TaskManager.scala.html#19074" title="(String)BasicIntegrationTesting.this.Task">describedAs</a> <a href="#47994" title="=&gt; java.lang.String">IntegrationTestCompileDescription</a>
	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; BasicIntegrationTesting.this.Task" id="47973">integrationTestCompileAction</a> = <a href="#47974" title="()BasicIntegrationTesting.this.Task">integrationTestCompileTask</a>() <a href="TaskManager.scala.html#19072" title="(BasicIntegrationTesting.this.ManagedTask*)BasicIntegrationTesting.this.Task">dependsOn</a> <a href="DefaultProject.scala.html#35299" title="=&gt; BasicIntegrationTesting.this.Task">compile</a> <a href="TaskManager.scala.html#19074" title="(String)BasicIntegrationTesting.this.Task">describedAs</a> <a href="#47996" title="=&gt; java.lang.String">IntegrationTestDescription</a>

	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="()BasicIntegrationTesting.this.Task" id="47974">integrationTestCompileTask</a>() = <a href="TaskManager.scala.html#14599" title="(=&gt; Option[String])BasicIntegrationTesting.this.Task">task</a>{ <a href="#47970" title="=&gt; sbt.CompileConditional">integrationTestCompileConditional</a>.<a href="Conditional.scala.html#26717" title="=&gt; Option[String]">run</a> }

	<span class="keyword">def</span> <a title="=&gt; Seq[BasicIntegrationTesting.this.TestOption]" id="47975">integrationTestOptions</a>: <span title="Seq[BasicIntegrationTesting.this.TestOption]">Seq</span>[TestOption] =
		<a href="ScalaProject.scala.html#26015" title="(() =&gt; Option[String])BasicIntegrationTesting.this.TestSetup">TestSetup</a>(() =&gt; <a href="#47945" title="=&gt; Option[String]">pretests</a>) <a href="#48034" title="(BasicIntegrationTesting.this.TestOption)List[BasicIntegrationTesting.this.TestOption]">::</a>
		<a href="ScalaProject.scala.html#26040" title="(() =&gt; Option[String])BasicIntegrationTesting.this.TestCleanup">TestCleanup</a>(() =&gt; <a href="#47946" title="=&gt; Option[String]">posttests</a>) <a href="#48036" title="(BasicIntegrationTesting.this.TestOption)List[BasicIntegrationTesting.this.TestOption]">::</a>
		<a href="DefaultProject.scala.html#35226" title="=&gt; Seq[BasicIntegrationTesting.this.TestOption]">testOptions</a>.<a title="=&gt; List[BasicIntegrationTesting.this.TestOption]" id="16093">toList</a>
	<span class="keyword">def</span> <a title="=&gt; Seq[BasicIntegrationTesting.this.CompileOption]" id="47976">integrationTestCompileOptions</a> = <a href="DefaultProject.scala.html#35222" title="=&gt; Seq[BasicIntegrationTesting.this.CompileOption]">testCompileOptions</a>
	<span class="keyword">def</span> <a title="=&gt; Seq[BasicIntegrationTesting.this.JavaCompileOption]" id="47977">javaIntegrationTestCompileOptions</a>: <span title="Seq[BasicIntegrationTesting.this.JavaCompileOption]">Seq</span>[JavaCompileOption] = <a href="DefaultProject.scala.html#35223" title="=&gt; Seq[BasicIntegrationTesting.this.JavaCompileOption]">testJavaCompileOptions</a>

	<span class="keyword">def</span> <a title="=&gt; sbt.Configuration" id="47978">integrationTestConfiguration</a> = <span title="sbt.Configuration" class="keyword">if</span>(<a href="#47984" title="=&gt; Boolean">useIntegrationTestConfiguration</a>) <a href="../IvyInterface.scala.html#9307" title="object sbt.Configurations">Configurations</a>.<a href="../IvyInterface.scala.html#18795" title="=&gt; sbt.Configuration">IntegrationTest</a> <span class="keyword">else</span> <a href="../IvyInterface.scala.html#9307" title="object sbt.Configurations">Configurations</a>.<a href="../IvyInterface.scala.html#18803" title="=&gt; sbt.Configuration">Test</a>
	<span class="keyword">def</span> <a title="=&gt; sbt.PathFinder" id="47979">integrationTestClasspath</a> = <a href="BasicProjectTypes.scala.html#14713" title="(sbt.Configuration)sbt.PathFinder">fullClasspath</a>(<a href="#47978" title="=&gt; sbt.Configuration">integrationTestConfiguration</a>) <a href="Path.scala.html#15969" title="(sbt.PathFinder)sbt.PathFinder">+++</a> <a href="DefaultProject.scala.html#35241" title="=&gt; sbt.PathFinder">optionalClasspath</a>

	<span class="keyword">def</span> <a title="=&gt; java.lang.String" id="47980">integrationTestLabel</a> = <span title="java.lang.String(&quot;integration-test&quot;)" class="string">&quot;integration-test&quot;</span>
	<span class="keyword">def</span> <a title="=&gt; BasicIntegrationTesting.this.IntegrationTestCompileConfig" id="47981">integrationTestCompileConfiguration</a> = <span title="BasicIntegrationTesting.this.IntegrationTestCompileConfig" class="keyword">new</span> <a href="#47987" title="BasicIntegrationTesting.this.IntegrationTestCompileConfig">IntegrationTestCompileConfig</a>

	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; sbt.LibraryDependencies" id="47982">integrationTestDependencies</a> = <span title="sbt.LibraryDependencies" class="keyword">new</span> <a href="DefaultProject.scala.html#10713" title="sbt.LibraryDependencies">LibraryDependencies</a>(<a href="#7530" title="&lt;refinement&gt; extends sbt.BasicIntegrationTesting with sbt.BasicScalaProject" class="keyword">this</a>, <a href="#47970" title="=&gt; sbt.CompileConditional">integrationTestCompileConditional</a>)

	<span class="keyword">def</span> <a title="=&gt; Seq[sbt.TestFramework]" id="47983">integrationTestFrameworks</a> = <a href="DefaultProject.scala.html#35251" title="=&gt; Seq[sbt.TestFramework]">testFrameworks</a>
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="47984">useIntegrationTestConfiguration</a> = <span title="Boolean(false)" class="keyword">false</span>
	<span class="keyword">abstract</span> <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[sbt.Configuration]" id="47985">extraDefaultConfigurations</a> =
	{
		<span class="keyword">val</span> <a title="List[sbt.Configuration]" id="48069">superConfigurations</a> = <span class="keyword">super</span>.<a href="BasicProjectTypes.scala.html#18661" title="=&gt; List[sbt.Configuration]">extraDefaultConfigurations</a>
		<span title="List[sbt.Configuration]" class="keyword">if</span>(<a href="#47984" title="=&gt; Boolean">useIntegrationTestConfiguration</a>)
			<a href="#47978" title="=&gt; sbt.Configuration">integrationTestConfiguration</a> <a href="#48071" title="(sbt.Configuration)List[sbt.Configuration]">::</a> <a href="#48069" title="List[sbt.Configuration]">superConfigurations</a>
		<span class="keyword">else</span>
			<a href="#48069" title="List[sbt.Configuration]">superConfigurations</a>
	}
	<span class="keyword">abstract</span> <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sbt.Configuration)sbt.PathFinder" id="47986">fullUnmanagedClasspath</a>(<a title="sbt.Configuration" id="48074">config</a>: <a href="../IvyInterface.scala.html#11583" title="sbt.Configuration">Configuration</a>) =
	{
		<span class="keyword">val</span> <a title="sbt.PathFinder" id="48076">superClasspath</a> = <span class="keyword">super</span>.<a href="BasicProjectTypes.scala.html#18765" title="(sbt.Configuration)sbt.PathFinder">fullUnmanagedClasspath</a>(<a href="#48074" title="sbt.Configuration">config</a>)
		<span title="sbt.PathFinder" class="keyword">if</span>(<a href="#48074" title="sbt.Configuration">config</a> <a title="(AnyRef)Boolean" id="3457">==</a> <a href="#47978" title="=&gt; sbt.Configuration">integrationTestConfiguration</a>)
			<a href="ProjectPaths.scala.html#38278" title="=&gt; sbt.Path">integrationTestCompilePath</a> <a href="Path.scala.html#15969" title="(sbt.PathFinder)sbt.PathFinder">+++</a> <a href="ProjectPaths.scala.html#38277" title="=&gt; sbt.Path">integrationTestResourcesPath</a> <a href="Path.scala.html#15969" title="(sbt.PathFinder)sbt.PathFinder">+++</a> <a href="#48076" title="sbt.PathFinder">superClasspath</a>
		<span class="keyword">else</span>
			<a href="#48076" title="sbt.PathFinder">superClasspath</a>
	}

	<span class="keyword">class</span> <a title="class IntegrationTestCompileConfig extends BasicIntegrationTesting.this.BaseCompileConfig with ScalaObject" id="47987">IntegrationTestCompileConfig</a> <span class="keyword">extends</span> <a href="DefaultProject.scala.html#35257" title="BasicIntegrationTesting.this.BaseCompileConfig">BaseCompileConfig</a>
	{
		<span class="keyword">def</span> <a title="=&gt; java.lang.String" id="48009">label</a> = <a href="#47980" title="=&gt; java.lang.String">integrationTestLabel</a>
		<span class="keyword">def</span> <a title="=&gt; sbt.PathFinder" id="48010">sourceRoots</a> = <a href="ProjectPaths.scala.html#38276" title="=&gt; sbt.PathFinder">integrationTestScalaSourceRoots</a>
		<span class="keyword">def</span> <a title="=&gt; sbt.PathFinder" id="48011">sources</a> = <a href="ProjectPaths.scala.html#38275" title="=&gt; sbt.PathFinder">integrationTestSources</a>
		<span class="keyword">def</span> <a title="=&gt; sbt.Path" id="48012">outputDirectory</a> = <a href="ProjectPaths.scala.html#38278" title="=&gt; sbt.Path">integrationTestCompilePath</a>
		<span class="keyword">def</span> <a title="=&gt; sbt.PathFinder" id="48013">classpath</a> = <a href="#47979" title="=&gt; sbt.PathFinder">integrationTestClasspath</a>
		<span class="keyword">def</span> <a title="=&gt; sbt.Path" id="48014">analysisPath</a> = <a href="ProjectPaths.scala.html#38279" title="=&gt; sbt.Path">integrationTestAnalysisPath</a>
		<span class="keyword">def</span> <a title="=&gt; Seq[BasicIntegrationTesting.this.CompileOption]" id="48015">baseCompileOptions</a> = <a href="#47976" title="=&gt; Seq[BasicIntegrationTesting.this.CompileOption]">integrationTestCompileOptions</a>
		<span class="keyword">def</span> <a title="=&gt; Seq[String]" id="48016">javaOptions</a> = <a href="ScalaProject.scala.html#25913" title="(Seq[sbt.ScalaProject#JavaCompileOption])Seq[String]">javaOptionsAsString</a>(<a href="DefaultProject.scala.html#35221" title="=&gt; Seq[BasicIntegrationTesting.this.JavaCompileOption]">javaCompileOptions</a>)
		<span class="keyword">def</span> <a title="=&gt; sbt.Fingerprints" id="48017">fingerprints</a> = <a href="DefaultProject.scala.html#48007" title="(Seq[sbt.TestFramework])sbt.Fingerprints">getFingerprints</a>(<a href="#47983" title="=&gt; Seq[sbt.TestFramework]">integrationTestFrameworks</a>)
	}
}

<span class="keyword">object</span> <a title="object sbt.BasicScalaIntegrationTesting" id="10789">BasicScalaIntegrationTesting</a>
{
	<span class="keyword">val</span> <a title="java.lang.String" id="47994">IntegrationTestCompileDescription</a> = <span title="java.lang.String(&quot;Compiles integration test sources.&quot;)" class="string">&quot;Compiles integration test sources.&quot;</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="47996">IntegrationTestDescription</a> = <span title="java.lang.String(&quot;Runs all integration tests detected during compilation.&quot;)" class="string">&quot;Runs all integration tests detected during compilation.&quot;</span>
}

        </pre>
    </body>
</html>