<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>Ivy.scala</title>
        <script type="text/javascript" src="jquery-all.js"></script>
        <script type="text/javascript" src="linked.js"></script>
        <link rel="stylesheet" type="text/css" href="style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* sbt -- Simple Build Tool
 * Copyright 2008, 2009, 2010 Mark Harrah
 */</span>
<span class="keyword">package</span> sbt

<span class="keyword">import</span> Artifact.{defaultExtension, defaultType}

<span class="keyword">import</span> java.io.File
<span class="keyword">import</span> java.util.concurrent.Callable

<span class="keyword">import</span> org.apache.ivy.{core, plugins, util, Ivy}
<span class="keyword">import</span> core.IvyPatternHelper
<span class="keyword">import</span> core.cache.DefaultRepositoryCacheManager
<span class="keyword">import</span> core.module.descriptor.{DefaultArtifact, DefaultDependencyArtifactDescriptor, MDArtifact}
<span class="keyword">import</span> core.module.descriptor.{DefaultDependencyDescriptor, DefaultModuleDescriptor,  ModuleDescriptor}
<span class="keyword">import</span> core.module.id.{ArtifactId,ModuleId, ModuleRevisionId}
<span class="keyword">import</span> core.settings.IvySettings
<span class="keyword">import</span> plugins.matcher.PatternMatcher
<span class="keyword">import</span> plugins.parser.m2.PomModuleDescriptorParser
<span class="keyword">import</span> plugins.resolver.ChainResolver
<span class="keyword">import</span> util.Message

<span class="keyword">import</span> scala.xml.NodeSeq

<span class="keyword">final</span> <span class="keyword">class</span> <a title="class IvySbt extends java.lang.Object with ScalaObject" id="7749">IvySbt</a>(<a title="sbt.IvyConfiguration" id="24143">configuration</a>: <a href="IvyConfigurations.scala.html#11073" title="sbt.IvyConfiguration">IvyConfiguration</a>)
{
	<span class="keyword">import</span> configuration.{log, baseDirectory}
	<span class="comment">/** ========== Configuration/Setup ============
	* This part configures the Ivy instance by first creating the logger interface to ivy, then IvySettings, and then the Ivy instance.
	* These are lazy so that they are loaded within the right context.  This is important so that no Ivy XML configuration needs to be loaded,
	* saving some time.  This is necessary because Ivy has global state (IvyContext, Message, DocumentBuilder, ...).
	*/</span>
	<span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="sbt.IvyLoggerInterface" id="19616">logger</a> = <span title="sbt.IvyLoggerInterface" class="keyword">new</span> <a href="IvyLogger.scala.html#11700" title="sbt.IvyLoggerInterface">IvyLoggerInterface</a>(<a href="IvyConfigurations.scala.html#19758" title="=&gt; sbt.IvyLogger">log</a>)
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="[T](=&gt; T)T" id="19617">withDefaultLogger</a>[<a title="&gt;: Nothing &lt;: Any" id="19619">T</a>](<a title="=&gt; T" id="77221">f</a>: =&gt; T): <a href="#19619" title="T">T</a> =
	{
		<span class="keyword">def</span> <a title="()T" id="77222">action</a>() =
			<a href="#7750" title="object sbt.IvySbt">IvySbt</a>.<a title="(T)T" id="5741">synchronized</a> 
			{
				<span class="keyword">val</span> <a title="org.apache.ivy.util.MessageLogger" id="77224">originalLogger</a> = <span title="object org.apache.ivy.util.Message">Message</span>.<a title="()org.apache.ivy.util.MessageLogger" id="33542">getDefaultLogger</a>
				<span title="object org.apache.ivy.util.Message">Message</span>.<span title="(org.apache.ivy.util.MessageLogger)Unit">setDefaultLogger</span>(<a href="#19615" title="=&gt; sbt.IvyLoggerInterface">logger</a>)
				<span class="keyword">try</span> { <a href="#77221" title="=&gt; T">f</a> }
				<span class="keyword">finally</span> { <span title="object org.apache.ivy.util.Message">Message</span>.<span title="(org.apache.ivy.util.MessageLogger)Unit">setDefaultLogger</span>(<a href="#77224" title="org.apache.ivy.util.MessageLogger">originalLogger</a>) }
			}
		<span class="comment">// Ivy is not thread-safe nor can the cache be used concurrently.</span>
		<span class="comment">// If provided a GlobalLock, we can use that to ensure safe access to the cache.</span>
		<span class="comment">// Otherwise, we can at least synchronize within the JVM.</span>
		<span class="comment">//   For thread-safety In particular, Ivy uses a static DocumentBuilder, which is not thread-safe.</span>
		<a href="#24143" title="sbt.IvyConfiguration">configuration</a>.<a href="IvyConfigurations.scala.html#19756" title="=&gt; Option[xsbti.GlobalLock]">lock</a> <span title="T" class="keyword">match</span>
		{
			<span title="T" class="keyword">case</span> Some(<a title="xsbti.GlobalLock" id="77225">lock</a>) =&gt; <a href="xsbti/GlobalLock.java.html#22809" title="(java.io.File,java.util.concurrent.Callable[T])T">lock</a>(<a href="#19624" title="=&gt; java.io.File">ivyLockFile</a>, <a title="template $anon extends java.lang.Object with java.util.concurrent.Callable[T]" id="77258" class="keyword">new</a> <a title="java.util.concurrent.Callable[T]" id="19860">Callable</a>[T] { <span class="keyword">def</span> <a title="()T" id="77260">call</a> = <a href="#77222" title="()T">action</a>() })
			<span title="T" class="keyword">case</span> <span title="object None">None</span> =&gt; <a href="#77222" title="()T">action</a>()
		}
	}
	<span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="org.apache.ivy.core.settings.IvySettings" id="19621">settings</a> =
	{
		<span class="keyword">val</span> <a title="org.apache.ivy.core.settings.IvySettings" id="77241">is</a> = <span title="org.apache.ivy.core.settings.IvySettings" class="keyword">new</span> <span title="org.apache.ivy.core.settings.IvySettings">IvySettings</span>
		<a href="#77241" title="org.apache.ivy.core.settings.IvySettings">is</a>.<a title="(java.io.File)Unit" id="20625">setBaseDir</a>(<a href="IvyConfigurations.scala.html#19757" title="=&gt; java.io.File">baseDirectory</a>)
		<a href="#24143" title="sbt.IvyConfiguration">configuration</a> <span title="Unit" class="keyword">match</span>
		{
			<span title="Unit" class="keyword">case</span> <a title="sbt.ExternalIvyConfiguration" id="77247">e</a>: <a href="IvyConfigurations.scala.html#8316" title="sbt.ExternalIvyConfiguration">ExternalIvyConfiguration</a> =&gt; <a href="#77241" title="org.apache.ivy.core.settings.IvySettings">is</a>.<a title="(java.io.File)Unit" id="20577">load</a>(<a href="#77247" title="sbt.ExternalIvyConfiguration">e</a>.<a href="IvyConfigurations.scala.html#22861" title="=&gt; java.io.File">file</a>)
			<span title="Unit" class="keyword">case</span> <a title="sbt.InlineIvyConfiguration" id="77249">i</a>: <a href="IvyConfigurations.scala.html#11217" title="sbt.InlineIvyConfiguration">InlineIvyConfiguration</a> =&gt; 
				<a href="#7750" title="object sbt.IvySbt">IvySbt</a>.<a href="#23941" title="(org.apache.ivy.core.settings.IvySettings,Option[java.io.File])Unit">configureCache</a>(<a href="#77241" title="org.apache.ivy.core.settings.IvySettings">is</a>, <a href="#77249" title="sbt.InlineIvyConfiguration">i</a>.<a href="IvyConfigurations.scala.html#22783" title="=&gt; sbt.IvyPaths">paths</a>.<a href="IvyConfigurations.scala.html#22766" title="=&gt; Option[java.io.File]">cacheDirectory</a>)
				<a href="#7750" title="object sbt.IvySbt">IvySbt</a>.<a href="#23938" title="(org.apache.ivy.core.settings.IvySettings,Seq[sbt.Resolver],Seq[sbt.Resolver],sbt.IvyLogger)Unit">setResolvers</a>(<a href="#77241" title="org.apache.ivy.core.settings.IvySettings">is</a>, <a href="#77249" title="sbt.InlineIvyConfiguration">i</a>.<a href="IvyConfigurations.scala.html#22785" title="=&gt; Seq[sbt.Resolver]">resolvers</a>, <a href="#77249" title="sbt.InlineIvyConfiguration">i</a>.<a href="IvyConfigurations.scala.html#22787" title="=&gt; Seq[sbt.Resolver]">otherResolvers</a>, <a href="IvyConfigurations.scala.html#19758" title="=&gt; sbt.IvyLogger">log</a>)
				<a href="#7750" title="object sbt.IvySbt">IvySbt</a>.<a href="#23940" title="(org.apache.ivy.core.settings.IvySettings,Seq[sbt.ModuleConfiguration])Unit">setModuleConfigurations</a>(<a href="#77241" title="org.apache.ivy.core.settings.IvySettings">is</a>, <a href="#77249" title="sbt.InlineIvyConfiguration">i</a>.<a href="IvyConfigurations.scala.html#22789" title="=&gt; Seq[sbt.ModuleConfiguration]">moduleConfigurations</a>)
		}
		<a href="#77241" title="org.apache.ivy.core.settings.IvySettings">is</a>
	}
	<span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="&lt;refinement&gt; extends org.apache.ivy.Ivy" id="19623">ivy</a> =
	{
		<span class="keyword">val</span> <a title="&lt;refinement&gt; extends org.apache.ivy.Ivy" id="77265">i</a> = <a title="template $anon extends org.apache.ivy.Ivy" id="77266" class="keyword">new</a> <a title="org.apache.ivy.Ivy" id="14887">Ivy</a>() { <span class="keyword">private</span> <span class="keyword">val</span> <a title="sbt.SbtMessageLoggerEngine" id="77268">loggerEngine</a> = <span title="sbt.SbtMessageLoggerEngine" class="keyword">new</span> <a href="IvyLogger.scala.html#11799" title="sbt.SbtMessageLoggerEngine">SbtMessageLoggerEngine</a>; <span class="keyword">override</span> <span class="keyword">def</span> <a title="()sbt.SbtMessageLoggerEngine" id="77270">getLoggerEngine</a> = <a href="#77268" title="=&gt; sbt.SbtMessageLoggerEngine">loggerEngine</a> }
		<a href="#77265" title="&lt;refinement&gt; extends org.apache.ivy.Ivy">i</a>.<a title="(org.apache.ivy.core.settings.IvySettings)Unit" id="20553">setSettings</a>(<a href="#19620" title="=&gt; org.apache.ivy.core.settings.IvySettings">settings</a>)
		<a href="#77265" title="&lt;refinement&gt; extends org.apache.ivy.Ivy">i</a>.<a title="()Unit" id="20378">bind</a>()
		<a href="#77265" title="&lt;refinement&gt; extends org.apache.ivy.Ivy">i</a>.<a href="#77275" title="()sbt.SbtMessageLoggerEngine">getLoggerEngine</a>.<a title="(org.apache.ivy.util.MessageLogger)Unit" id="34021">pushLogger</a>(<a href="#19615" title="=&gt; sbt.IvyLoggerInterface">logger</a>)
		<a href="#77265" title="&lt;refinement&gt; extends org.apache.ivy.Ivy">i</a>
	}
	<span class="comment">// Must be the same file as is used in Update in the launcher</span>
	<span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="java.io.File" id="19625">ivyLockFile</a> = <span title="(java.io.File,java.lang.String)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span>(<a href="#19620" title="=&gt; org.apache.ivy.core.settings.IvySettings">settings</a>.<a title="()java.io.File" id="20627">getDefaultIvyUserDir</a>, <span title="java.lang.String(&quot;.sbt.ivy.lock&quot;)" class="string">&quot;.sbt.ivy.lock&quot;</span>)
	<span class="comment">/** ========== End Configuration/Setup ============*/</span>

	<span class="comment">/** Uses the configured Ivy instance within a safe context.*/</span>
	<span class="keyword">def</span> <a title="[T]((org.apache.ivy.Ivy) =&gt; T)T" id="19626">withIvy</a>[<a title="&gt;: Nothing &lt;: Any" id="19628">T</a>](<a title="(org.apache.ivy.Ivy) =&gt; T" id="20200">f</a>: Ivy =&gt; T): <a href="#19628" title="T">T</a> =
		<a href="#19617" title="(=&gt; T)T">withDefaultLogger</a>
		{
			<a href="#19622" title="=&gt; &lt;refinement&gt; extends org.apache.ivy.Ivy">ivy</a>.<a title="()Unit" id="20380">pushContext</a>()
			<span class="keyword">try</span> { <a href="#20200" title="(org.apache.ivy.Ivy)T" id="16333">f</a>(<a href="#19622" title="=&gt; &lt;refinement&gt; extends org.apache.ivy.Ivy">ivy</a>) }
			<span class="keyword">finally</span> { <a href="#19622" title="=&gt; &lt;refinement&gt; extends org.apache.ivy.Ivy">ivy</a>.<a title="()Unit" id="20381">popContext</a>() }
		}

	<span class="keyword">final</span> <span class="keyword">class</span> <a title="class Module extends java.lang.Object with NotNull with ScalaObject" id="19629">Module</a>(<span class="keyword">val</span> <a title="sbt.ModuleSettings" id="24159">moduleSettings</a>: <a href="IvyConfigurations.scala.html#7809" title="sbt.ModuleSettings">ModuleSettings</a>) <span class="keyword">extends</span> <a title="NotNull" id="189">NotNull</a>
	{
		<span class="keyword">def</span> <a title="=&gt; sbt.IvyLogger" id="20180">logger</a> = <a href="#24143" title="sbt.IvyConfiguration">configuration</a>.<a href="IvyConfigurations.scala.html#19758" title="=&gt; sbt.IvyLogger">log</a>
		<span class="keyword">def</span> <a title="[T]((org.apache.ivy.Ivy, org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String) =&gt; T)T" id="20181">withModule</a>[<a title="&gt;: Nothing &lt;: Any" id="20183">T</a>](<a title="(org.apache.ivy.Ivy, org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String) =&gt; T" id="76327">f</a>: (Ivy,DefaultModuleDescriptor,String) =&gt; T): <a href="#20183" title="T">T</a> =
			<a href="#19626" title="((org.apache.ivy.Ivy) =&gt; T)T">withIvy</a>[<a href="#20183" title="T">T</a>] { <a title="org.apache.ivy.Ivy" id="77281">ivy</a> =&gt; <a href="#76327" title="(org.apache.ivy.Ivy,org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,String)T" id="37176">f</a>(<a href="#77281" title="org.apache.ivy.Ivy">ivy</a>, <a href="#20186" title="=&gt; org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleDescriptor</a>, <a href="#20188" title="=&gt; String">defaultConfig</a>) }

		<span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a href="#20187" title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, java.lang.String)" id="20185">(</a><a href="#20184" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="20187">moduleDescriptor</a>: <span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">DefaultModuleDescriptor</span>, <a href="#20184" title="java.lang.String" id="20189">defaultConfig</a>: <span title="String">String</span>) =
		{
			<span class="keyword">val</span> <a href="#77283" title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String)">(</a><a href="#77282" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="77283">baseModule</a>, <a href="#77282" title="String" id="77284">baseConfiguration</a>) =
				<a href="#24159" title="=&gt; sbt.ModuleSettings">moduleSettings</a> <span title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String)" class="keyword">match</span>
				{
					<span title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String)" class="keyword">case</span> <a title="sbt.InlineConfiguration" id="77285">ic</a>: <a href="IvyConfigurations.scala.html#8892" title="sbt.InlineConfiguration">InlineConfiguration</a> =&gt; <a href="#20190" title="(sbt.InlineConfiguration)(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String)">configureInline</a>(<a href="#77285" title="sbt.InlineConfiguration">ic</a>)
					<span title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, java.lang.String)" class="keyword">case</span> <a title="sbt.EmptyConfiguration" id="78121">ec</a>: <a href="IvyConfigurations.scala.html#7212" title="sbt.EmptyConfiguration">EmptyConfiguration</a> =&gt; <a href="#20195" title="(sbt.ModuleID)(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, java.lang.String)">configureEmpty</a>(<a href="#78121" title="sbt.EmptyConfiguration">ec</a>.<a href="IvyConfigurations.scala.html#24072" title="=&gt; sbt.ModuleID">module</a>)
					<span title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, java.lang.String)" class="keyword">case</span> <a title="sbt.PomConfiguration" id="78129">pc</a>: <a href="IvyConfigurations.scala.html#6384" title="sbt.PomConfiguration">PomConfiguration</a> =&gt; <a href="#20192" title="(java.io.File,Boolean)(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, java.lang.String)">readPom</a>(<a href="#78129" title="sbt.PomConfiguration">pc</a>.<a href="IvyConfigurations.scala.html#22901" title="=&gt; java.io.File">file</a>, <a href="#78129" title="sbt.PomConfiguration">pc</a>.<a href="IvyConfigurations.scala.html#22905" title="=&gt; Boolean">validate</a>)
					<span title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String)" class="keyword">case</span> <a title="sbt.IvyFileConfiguration" id="78152">ifc</a>: <a href="IvyConfigurations.scala.html#11220" title="sbt.IvyFileConfiguration">IvyFileConfiguration</a> =&gt; <a href="#20193" title="(java.io.File,Boolean)(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String)">readIvyFile</a>(<a href="#78152" title="sbt.IvyFileConfiguration">ifc</a>.<a href="IvyConfigurations.scala.html#22886" title="=&gt; java.io.File">file</a>, <a href="#78152" title="sbt.IvyFileConfiguration">ifc</a>.<a href="IvyConfigurations.scala.html#22890" title="=&gt; Boolean">validate</a>)
				}
			<a href="#24159" title="=&gt; sbt.ModuleSettings">moduleSettings</a>.<a href="IvyConfigurations.scala.html#22879" title="=&gt; Option[sbt.IvyScala]">ivyScala</a>.<span title="((sbt.IvyScala) =&gt; Unit)Unit">foreach</span>(<a href="IvyScala.scala.html#7279" title="object sbt.IvyScala">IvyScala</a>.<a href="IvyScala.scala.html#74195" title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,String)(sbt.IvyScala)Unit">checkModule</a>(<a href="#77283" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">baseModule</a>, <a href="#77284" title="String">baseConfiguration</a>))
			<a href="#77283" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">baseModule</a>.<a title="()java.util.Map[_, _]" id="74280">getExtraAttributesNamespaces</a>.<a title="java.util.Map[String,String]" id="3451">asInstanceOf</a>[java.util.<span title="java.util.Map[String,String]">Map</span>[String,String]].<a title="(String,String)String" id="18082">put</a>(<span title="java.lang.String(&quot;e&quot;)" class="string">&quot;e&quot;</span>, <span title="java.lang.String(&quot;http://ant.apache.org/ivy/extra&quot;)" class="string">&quot;http://ant.apache.org/ivy/extra&quot;</span>)
			<span title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,String)(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String)">(</span><a href="#77283" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">baseModule</a>, <a href="#77284" title="String">baseConfiguration</a>)
		}
		<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.InlineConfiguration)(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String)" id="20190">configureInline</a>(<a title="sbt.InlineConfiguration" id="77286">ic</a>: <a href="IvyConfigurations.scala.html#8892" title="sbt.InlineConfiguration">InlineConfiguration</a>) =
		{
			<span class="keyword">import</span> ic._
			<span class="keyword">val</span> <a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="77289">moduleID</a> = <a href="#20191" title="(sbt.ModuleID,Iterable[sbt.Configuration])org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">newConfiguredModuleID</a>(<a href="IvyConfigurations.scala.html#22921" title="=&gt; sbt.ModuleID">module</a>, <a href="IvyConfigurations.scala.html#22927" title="=&gt; Iterable[sbt.Configuration]">configurations</a>)
			<span class="keyword">val</span> <a title="sbt.Configuration" id="77290">defaultConf</a> = <a href="IvyConfigurations.scala.html#22929" title="=&gt; Option[sbt.Configuration]">defaultConfiguration</a> <span title="(=&gt; sbt.Configuration)sbt.Configuration">getOrElse</span> <a href="IvyInterface.scala.html#9307" title="object sbt.Configurations">Configurations</a>.<a href="IvyInterface.scala.html#18789" title="(String)sbt.Configuration">config</a>(ModuleDescriptor.<span title="java.lang.String(&quot;default&quot;)">DEFAULT_CONFIGURATION</span>)
			<a href="IvyConfigurations.scala.html#19758" title="=&gt; sbt.IvyLogger">log</a>.<a href="IvyLogger.scala.html#19533" title="(=&gt; String)Unit">debug</a>(<span title="java.lang.String(&quot;Using inline dependencies specified in Scala&quot;)" class="string">&quot;Using inline dependencies specified in Scala&quot;</span> <span title="(Any)java.lang.String">+</span> (<span title="Any" class="keyword">if</span>(<a href="IvyConfigurations.scala.html#22925" title="=&gt; scala.xml.NodeSeq">ivyXML</a>.<span title="=&gt; Boolean">isEmpty</span>) <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot; and XML.&quot;)" class="string">&quot; and XML.&quot;</span>))

			<span class="keyword">val</span> <a title="sbt.CustomXmlParser.CustomParser" id="77291">parser</a> = <a href="#7750" title="object sbt.IvySbt">IvySbt</a>.<a href="#23952" title="(org.apache.ivy.core.settings.IvySettings,scala.xml.NodeSeq,org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,String,Boolean)sbt.CustomXmlParser.CustomParser">parseIvyXML</a>(<a href="#19622" title="=&gt; &lt;refinement&gt; extends org.apache.ivy.Ivy">ivy</a>.<a title="()org.apache.ivy.core.settings.IvySettings" id="20488">getSettings</a>, <a href="#7750" title="object sbt.IvySbt">IvySbt</a>.<a href="#23950" title="(sbt.ModuleID,scala.xml.NodeSeq)scala.xml.Elem">wrapped</a>(<a href="IvyConfigurations.scala.html#22921" title="=&gt; sbt.ModuleID">module</a>, <a href="IvyConfigurations.scala.html#22925" title="=&gt; scala.xml.NodeSeq">ivyXML</a>), <a href="#77289" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>, <a href="#77290" title="sbt.Configuration">defaultConf</a>.<a href="IvyInterface.scala.html#15191" title="=&gt; String">name</a>, <a href="IvyConfigurations.scala.html#22933" title="=&gt; Boolean">validate</a>)

			<a href="#7750" title="object sbt.IvySbt">IvySbt</a>.<a href="#23954" title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,Iterable[sbt.ModuleID],sbt.CustomXmlParser.CustomParser)Unit">addDependencies</a>(<a href="#77289" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>, <a href="IvyConfigurations.scala.html#22923" title="=&gt; Iterable[sbt.ModuleID]">dependencies</a>, <a href="#77291" title="sbt.CustomXmlParser.CustomParser">parser</a>)
			<a href="#7750" title="object sbt.IvySbt">IvySbt</a>.<a href="#23943" title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor)Unit">addMainArtifact</a>(<a href="#77289" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>)
			<span title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,String)(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String)">(</span><a href="#77289" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>, <a href="#77291" title="sbt.CustomXmlParser.CustomParser">parser</a>.<a href="CustomXmlParser.scala.html#76602" title="()String">getDefaultConf</a>)
		}
		<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.ModuleID,Iterable[sbt.Configuration])org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="20191">newConfiguredModuleID</a>(<a title="sbt.ModuleID" id="77292">module</a>: <a href="IvyInterface.scala.html#11292" title="sbt.ModuleID">ModuleID</a>, <a title="Iterable[sbt.Configuration]" id="77293">configurations</a>: <span title="Iterable[sbt.Configuration]">Iterable</span>[Configuration]) =
		{
			<span class="keyword">val</span> <a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="77295">mod</a> = <span title="(org.apache.ivy.core.module.id.ModuleRevisionId,java.lang.String,java.util.Date,Boolean)org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" class="keyword">new</span> <span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">DefaultModuleDescriptor</span>(<a href="#7750" title="object sbt.IvySbt">IvySbt</a>.<a href="#23944" title="(sbt.ModuleID)org.apache.ivy.core.module.id.ModuleRevisionId">toID</a>(<a href="#77292" title="sbt.ModuleID">module</a>), <span title="java.lang.String(&quot;release&quot;)" class="string">&quot;release&quot;</span>, <span title="Null(null)" class="keyword">null</span>, <span title="Boolean(false)" class="keyword">false</span>)
			<a href="#77295" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">mod</a>.<span title="(Long)Unit">setLastModified</span>(<span title="object java.lang.System">System</span>.<span title="()Long">currentTimeMillis</span>)
			<a href="#77293" title="Iterable[sbt.Configuration]">configurations</a>.<span title="((sbt.Configuration) =&gt; Unit)Unit">foreach</span>(<a title="sbt.Configuration" id="78032">config</a> =&gt; <a href="#77295" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">mod</a>.<span title="(org.apache.ivy.core.module.descriptor.Configuration)Unit">addConfiguration</span>(<a href="#7750" title="object sbt.IvySbt">IvySbt</a>.<a href="#23942" title="(sbt.Configuration)org.apache.ivy.core.module.descriptor.Configuration">toIvyConfiguration</a>(<a href="#78032" title="sbt.Configuration">config</a>)))
			<a href="#7750" title="object sbt.IvySbt">IvySbt</a>.<a href="#23955" title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,Iterable[sbt.Artifact])Unit">addArtifacts</a>(<a href="#77295" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">mod</a>, <a href="#77292" title="sbt.ModuleID">module</a>.<a href="IvyInterface.scala.html#21905" title="=&gt; Seq[sbt.Artifact]">explicitArtifacts</a>)
			<a href="#77295" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">mod</a>
		}

		<span class="comment">/** Parses the given Maven pom 'pomFile'.*/</span>
		<span class="keyword">private</span> <span class="keyword">def</span> <a title="(java.io.File,Boolean)(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, java.lang.String)" id="20192">readPom</a>(<a title="java.io.File" id="78130">pomFile</a>: <span title="java.io.File">File</span>, <a title="Boolean" id="78131">validate</a>: <span title="Boolean">Boolean</span>) =
		{
			<span class="keyword">val</span> <a title="org.apache.ivy.core.module.descriptor.ModuleDescriptor" id="78133">md</a> = <a title="object org.apache.ivy.plugins.parser.m2.PomModuleDescriptorParser" id="19476">PomModuleDescriptorParser</a>.<a title="()org.apache.ivy.plugins.parser.m2.PomModuleDescriptorParser" id="78134">getInstance</a>.<a title="(org.apache.ivy.plugins.parser.ParserSettings,java.net.URL,Boolean)org.apache.ivy.core.module.descriptor.ModuleDescriptor" id="78140">parseDescriptor</a>(<a href="#19620" title="=&gt; org.apache.ivy.core.settings.IvySettings">settings</a>, <a href="#20194" title="(java.io.File)java.net.URL">toURL</a>(<a href="#78130" title="java.io.File">pomFile</a>), <a href="#78131" title="Boolean">validate</a>)
			<span title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,java.lang.String)(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, java.lang.String)">(</span><a href="#7750" title="object sbt.IvySbt">IvySbt</a>.<a href="#23956" title="(org.apache.ivy.core.module.descriptor.ModuleDescriptor)org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">toDefaultModuleDescriptor</a>(<a href="#78133" title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">md</a>), <span title="java.lang.String(&quot;compile&quot;)" class="string">&quot;compile&quot;</span>)
		}
		<span class="comment">/** Parses the given Ivy file 'ivyFile'.*/</span>
		<span class="keyword">private</span> <span class="keyword">def</span> <a title="(java.io.File,Boolean)(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String)" id="20193">readIvyFile</a>(<a title="java.io.File" id="78153">ivyFile</a>: <span title="java.io.File">File</span>, <a title="Boolean" id="78154">validate</a>: <span title="Boolean">Boolean</span>) =
		{
			<span class="keyword">val</span> <a title="java.net.URL" id="78156">url</a> = <a href="#20194" title="(java.io.File)java.net.URL">toURL</a>(<a href="#78153" title="java.io.File">ivyFile</a>)
			<span class="keyword">val</span> <a title="sbt.CustomXmlParser.CustomParser" id="78157">parser</a> = <span title="sbt.CustomXmlParser.CustomParser" class="keyword">new</span> <a href="CustomXmlParser.scala.html#11689" title="object sbt.CustomXmlParser">CustomXmlParser</a>.<a href="CustomXmlParser.scala.html#76462" title="sbt.CustomXmlParser.CustomParser">CustomParser</a>(<a href="#19620" title="=&gt; org.apache.ivy.core.settings.IvySettings">settings</a>, <span title="object None">None</span>)
			<a href="#78157" title="sbt.CustomXmlParser.CustomParser">parser</a>.<span title="(Boolean)Unit">setValidate</span>(<a href="#78154" title="Boolean">validate</a>)
			<a href="#78157" title="sbt.CustomXmlParser.CustomParser">parser</a>.<a href="CustomXmlParser.scala.html#76597" title="(java.net.URL)Unit">setSource</a>(<a href="#78156" title="java.net.URL">url</a>)
			<a href="#78157" title="sbt.CustomXmlParser.CustomParser">parser</a>.<span title="()Unit">parse</span>()
			<span class="keyword">val</span> <a title="org.apache.ivy.core.module.descriptor.ModuleDescriptor" id="78158">md</a> = <a href="#78157" title="sbt.CustomXmlParser.CustomParser">parser</a>.<a title="()org.apache.ivy.core.module.descriptor.ModuleDescriptor" id="76664">getModuleDescriptor</a>()
			<span title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,String)(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, String)">(</span><a href="#7750" title="object sbt.IvySbt">IvySbt</a>.<a href="#23956" title="(org.apache.ivy.core.module.descriptor.ModuleDescriptor)org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">toDefaultModuleDescriptor</a>(<a href="#78158" title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">md</a>), <a href="#78157" title="sbt.CustomXmlParser.CustomParser">parser</a>.<a href="CustomXmlParser.scala.html#76602" title="()String">getDefaultConf</a>)
		}
		<span class="keyword">private</span> <span class="keyword">def</span> <a title="(java.io.File)java.net.URL" id="20194">toURL</a>(<a title="java.io.File" id="78145">file</a>: <span title="java.io.File">File</span>) = <a href="#78145" title="java.io.File">file</a>.<a title="()java.net.URI" id="16018">toURI</a>.<a title="()java.net.URL" id="23977">toURL</a>
		<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.ModuleID)(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, java.lang.String)" id="20195">configureEmpty</a>(<a title="sbt.ModuleID" id="78122">module</a>: <a href="IvyInterface.scala.html#11292" title="sbt.ModuleID">ModuleID</a>) =
		{
			<span class="keyword">val</span> <a title="java.lang.String" id="78124">defaultConf</a> = ModuleDescriptor.<span title="java.lang.String(&quot;default&quot;)">DEFAULT_CONFIGURATION</span>
			<span class="keyword">val</span> <a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="78125">moduleID</a> = <span title="(org.apache.ivy.core.module.id.ModuleRevisionId,java.lang.String,java.util.Date,Boolean)org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" class="keyword">new</span> <span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">DefaultModuleDescriptor</span>(<a href="#7750" title="object sbt.IvySbt">IvySbt</a>.<a href="#23944" title="(sbt.ModuleID)org.apache.ivy.core.module.id.ModuleRevisionId">toID</a>(<a href="#78122" title="sbt.ModuleID">module</a>), <span title="java.lang.String(&quot;release&quot;)" class="string">&quot;release&quot;</span>, <span title="Null(null)" class="keyword">null</span>, <span title="Boolean(false)" class="keyword">false</span>)
			<a href="#78125" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>.<span title="(Long)Unit">setLastModified</span>(<span title="object java.lang.System">System</span>.<span title="()Long">currentTimeMillis</span>)
			<a href="#78125" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>.<span title="(org.apache.ivy.core.module.descriptor.Configuration)Unit">addConfiguration</span>(<a href="#7750" title="object sbt.IvySbt">IvySbt</a>.<a href="#23942" title="(sbt.Configuration)org.apache.ivy.core.module.descriptor.Configuration">toIvyConfiguration</a>(<a href="IvyInterface.scala.html#9307" title="object sbt.Configurations">Configurations</a>.<a href="IvyInterface.scala.html#18791" title="=&gt; sbt.Configuration">Default</a>))
			<a href="#7750" title="object sbt.IvySbt">IvySbt</a>.<a href="#23955" title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,Iterable[sbt.Artifact])Unit">addArtifacts</a>(<a href="#78125" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>, <a href="#78122" title="sbt.ModuleID">module</a>.<a href="IvyInterface.scala.html#21905" title="=&gt; Seq[sbt.Artifact]">explicitArtifacts</a>)
			<a href="#7750" title="object sbt.IvySbt">IvySbt</a>.<a href="#23943" title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor)Unit">addMainArtifact</a>(<a href="#78125" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>)
			<span title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,java.lang.String)(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, java.lang.String)">(</span><a href="#78125" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>, <a href="#78124" title="java.lang.String">defaultConf</a>)
		}
	}
}

<span class="keyword">private</span> <span class="keyword">object</span> <a title="object sbt.IvySbt" id="7750">IvySbt</a>
{
	<span class="keyword">val</span> <a title="java.lang.String" id="23929">DefaultIvyConfigFilename</a> = <span title="java.lang.String(&quot;ivysettings.xml&quot;)" class="string">&quot;ivysettings.xml&quot;</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="23931">DefaultIvyFilename</a> = <span title="java.lang.String(&quot;ivy.xml&quot;)" class="string">&quot;ivy.xml&quot;</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="23933">DefaultMavenFilename</a> = <span title="java.lang.String(&quot;pom.xml&quot;)" class="string">&quot;pom.xml&quot;</span>

	<span class="keyword">def</span> <a title="(java.io.File)java.io.File" id="23935">defaultIvyFile</a>(<a title="java.io.File" id="24052">project</a>: <span title="java.io.File">File</span>) = <span title="(java.io.File,java.lang.String)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span>(<a href="#24052" title="java.io.File">project</a>, <a href="#23931" title="=&gt; java.lang.String">DefaultIvyFilename</a>)
	<span class="keyword">def</span> <a title="(java.io.File)java.io.File" id="23936">defaultIvyConfiguration</a>(<a title="java.io.File" id="47294">project</a>: <span title="java.io.File">File</span>) = <span title="(java.io.File,java.lang.String)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span>(<a href="#47294" title="java.io.File">project</a>, <a href="#23929" title="=&gt; java.lang.String">DefaultIvyConfigFilename</a>)
	<span class="keyword">def</span> <a title="(java.io.File)java.io.File" id="23937">defaultPOM</a>(<a title="java.io.File" id="23958">project</a>: <span title="java.io.File">File</span>) = <span title="(java.io.File,java.lang.String)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span>(<a href="#23958" title="java.io.File">project</a>, <a href="#23933" title="=&gt; java.lang.String">DefaultMavenFilename</a>)

	<span class="comment">/** Sets the resolvers for 'settings' to 'resolvers'.  This is done by creating a new chain and making it the default.
	* 'other' is for resolvers that should be in a different chain.  These are typically used for publishing or other actions. */</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(org.apache.ivy.core.settings.IvySettings,Seq[sbt.Resolver],Seq[sbt.Resolver],sbt.IvyLogger)Unit" id="23938">setResolvers</a>(<a title="org.apache.ivy.core.settings.IvySettings" id="77252">settings</a>: <span title="org.apache.ivy.core.settings.IvySettings">IvySettings</span>, <a title="Seq[sbt.Resolver]" id="77253">resolvers</a>: <span title="Seq[sbt.Resolver]">Seq</span>[Resolver], <a title="Seq[sbt.Resolver]" id="77254">other</a>: <span title="Seq[sbt.Resolver]">Seq</span>[Resolver], <a title="sbt.IvyLogger" id="77255">log</a>: <a href="IvyLogger.scala.html#9870" title="sbt.IvyLogger">IvyLogger</a>)
	{
		<span class="keyword">val</span> <a title="org.apache.ivy.plugins.resolver.ChainResolver" id="78191">otherChain</a> = <a href="#23939" title="(String,Seq[sbt.Resolver])org.apache.ivy.plugins.resolver.ChainResolver">resolverChain</a>(<span title="java.lang.String(&quot;sbt-other&quot;)" class="string">&quot;sbt-other&quot;</span>, <a href="#77254" title="Seq[sbt.Resolver]">other</a>)
		<a href="#77252" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<span title="(org.apache.ivy.plugins.resolver.DependencyResolver)Unit">addResolver</span>(<a href="#78191" title="org.apache.ivy.plugins.resolver.ChainResolver">otherChain</a>)
		<span class="keyword">val</span> <a title="org.apache.ivy.plugins.resolver.ChainResolver" id="78192">newDefault</a> = <a href="#23939" title="(String,Seq[sbt.Resolver])org.apache.ivy.plugins.resolver.ChainResolver">resolverChain</a>(<span title="java.lang.String(&quot;sbt-chain&quot;)" class="string">&quot;sbt-chain&quot;</span>, <a href="#77253" title="Seq[sbt.Resolver]">resolvers</a>)
		<a href="#77252" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<span title="(org.apache.ivy.plugins.resolver.DependencyResolver)Unit">addResolver</span>(<a href="#78192" title="org.apache.ivy.plugins.resolver.ChainResolver">newDefault</a>)
		<a href="#77252" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<a title="(java.lang.String)Unit" id="20620">setDefaultResolver</a>(<a href="#78192" title="org.apache.ivy.plugins.resolver.ChainResolver">newDefault</a>.<a title="()java.lang.String" id="31007">getName</a>)
		<a href="#77255" title="sbt.IvyLogger">log</a>.<a href="IvyLogger.scala.html#19533" title="(=&gt; String)Unit">debug</a>(<span title="java.lang.String(&quot;Using repositories:\012&quot;)" class="string">&quot;Using repositories:\n&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#77253" title="Seq[sbt.Resolver]">resolvers</a>.<span title="(String)String">mkString</span>(<span title="java.lang.String(&quot;\012\011&quot;)" class="string">&quot;\n\t&quot;</span>))
		<a href="#77255" title="sbt.IvyLogger">log</a>.<a href="IvyLogger.scala.html#19533" title="(=&gt; String)Unit">debug</a>(<span title="java.lang.String(&quot;Using other repositories:\012&quot;)" class="string">&quot;Using other repositories:\n&quot;</span> <span title="(Any)java.lang.String">+</span> <a href="#77254" title="Seq[sbt.Resolver]">other</a>.<span title="(String)String">mkString</span>(<span title="java.lang.String(&quot;\012\011&quot;)" class="string">&quot;\n\t&quot;</span>))
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(String,Seq[sbt.Resolver])org.apache.ivy.plugins.resolver.ChainResolver" id="23939">resolverChain</a>(<a title="String" id="78193">name</a>: <span title="String">String</span>, <a title="Seq[sbt.Resolver]" id="78194">resolvers</a>: <span title="Seq[sbt.Resolver]">Seq</span>[Resolver]): <span title="org.apache.ivy.plugins.resolver.ChainResolver">ChainResolver</span> =
	{
		<span class="keyword">val</span> <a title="org.apache.ivy.plugins.resolver.ChainResolver" id="78197">newDefault</a> = <span title="org.apache.ivy.plugins.resolver.ChainResolver" class="keyword">new</span> <span title="org.apache.ivy.plugins.resolver.ChainResolver">ChainResolver</span>
		<a href="#78197" title="org.apache.ivy.plugins.resolver.ChainResolver">newDefault</a>.<a title="(java.lang.String)Unit" id="31008">setName</a>(<a href="#78193" title="String">name</a>)
		<a href="#78197" title="org.apache.ivy.plugins.resolver.ChainResolver">newDefault</a>.<a title="(Boolean)Unit" id="57824">setReturnFirst</a>(<span title="Boolean(true)" class="keyword">true</span>)
		<a href="#78197" title="org.apache.ivy.plugins.resolver.ChainResolver">newDefault</a>.<a title="(Boolean)Unit" id="57806">setCheckmodified</a>(<span title="Boolean(true)" class="keyword">true</span>)
		<a href="#78194" title="Seq[sbt.Resolver]">resolvers</a>.<span title="((sbt.Resolver) =&gt; Unit)Unit">foreach</span>(<a title="sbt.Resolver" id="78199">r</a> =&gt; <a href="#78197" title="org.apache.ivy.plugins.resolver.ChainResolver">newDefault</a>.<a title="(org.apache.ivy.plugins.resolver.DependencyResolver)Unit" id="57804">add</a>(<a href="ConvertResolver.scala.html#30819" title="(sbt.Resolver)org.apache.ivy.plugins.resolver.RepositoryResolver">ConvertResolver</a>(<a href="#78199" title="sbt.Resolver">r</a>)))
		<a href="#78197" title="org.apache.ivy.plugins.resolver.ChainResolver">newDefault</a>
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(org.apache.ivy.core.settings.IvySettings,Seq[sbt.ModuleConfiguration])Unit" id="23940">setModuleConfigurations</a>(<a title="org.apache.ivy.core.settings.IvySettings" id="77256">settings</a>: <span title="org.apache.ivy.core.settings.IvySettings">IvySettings</span>, <a title="Seq[sbt.ModuleConfiguration]" id="77257">moduleConfigurations</a>: <span title="Seq[sbt.ModuleConfiguration]">Seq</span>[ModuleConfiguration])
	{
		<span class="keyword">val</span> <a title="java.util.Collection[_]" id="78200">existing</a> = <a href="#77256" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<a title="()java.util.Collection[_]" id="20945">getResolverNames</a>
		<span class="keyword">for</span>(<a title="((sbt.ModuleConfiguration) =&gt; Unit)Unit" id="78204">moduleConf</a> &lt;- <a href="#77257" title="Seq[sbt.ModuleConfiguration]">moduleConfigurations</a>)
		{
			<span class="keyword">import</span> moduleConf._
			<span class="keyword">import</span> IvyPatternHelper._
			<span class="keyword">import</span> PatternMatcher._
			<span title="Unit" class="keyword">if</span>(<span title="=&gt; Boolean">!</span><a href="#78200" title="java.util.Collection[_]">existing</a>.<a title="(Any)Boolean" id="16169">contains</a>(<a href="IvyInterface.scala.html#25201" title="=&gt; sbt.Resolver">resolver</a>.<a href="IvyInterface.scala.html#19751" title="=&gt; String">name</a>))
				<a href="#77256" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<span title="(org.apache.ivy.plugins.resolver.DependencyResolver)Unit">addResolver</span>(<a href="ConvertResolver.scala.html#30819" title="(sbt.Resolver)org.apache.ivy.plugins.resolver.RepositoryResolver">ConvertResolver</a>(<a href="IvyInterface.scala.html#25201" title="=&gt; sbt.Resolver">resolver</a>))
			<span class="keyword">val</span> <a title="java.util.Map[String,String]" id="78208">attributes</a> = <a href="#23947" title="(Map[String,String])java.util.Map[String,String]">javaMap</a>(<a title="((java.lang.String, String)*)scala.collection.immutable.Map[java.lang.String,String]" id="6081">Map</a>(<span title="(java.lang.String)ArrowAssoc[java.lang.String]">MODULE_KEY</span> <span title="(String)(java.lang.String, String)">-&gt;</span> <a href="IvyInterface.scala.html#25197" title="=&gt; String">name</a>, <span title="(java.lang.String)ArrowAssoc[java.lang.String]">ORGANISATION_KEY</span> <span title="(String)(java.lang.String, String)">-&gt;</span> <a href="IvyInterface.scala.html#25195" title="=&gt; String">organization</a>, <span title="(java.lang.String)ArrowAssoc[java.lang.String]">REVISION_KEY</span> <span title="(String)(java.lang.String, String)">-&gt;</span> <a href="IvyInterface.scala.html#25199" title="=&gt; String">revision</a>))
			<a href="#77256" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<a title="(java.util.Map[_, _],org.apache.ivy.plugins.matcher.PatternMatcher,java.lang.String,java.lang.String,java.lang.String,java.lang.String)Unit" id="20623">addModuleConfiguration</a>(<a href="#78208" title="java.util.Map[String,String]">attributes</a>, <a href="#77256" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<a title="(java.lang.String)org.apache.ivy.plugins.matcher.PatternMatcher" id="20786">getMatcher</a>(<span title="java.lang.String(&quot;exactOrRegexp&quot;)">EXACT_OR_REGEXP</span>), <a href="IvyInterface.scala.html#25201" title="=&gt; sbt.Resolver">resolver</a>.<a href="IvyInterface.scala.html#19751" title="=&gt; String">name</a>, <span title="Null(null)" class="keyword">null</span>, <span title="Null(null)" class="keyword">null</span>, <span title="Null(null)" class="keyword">null</span>)
		}
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(org.apache.ivy.core.settings.IvySettings,Option[java.io.File])Unit" id="23941">configureCache</a>(<a title="org.apache.ivy.core.settings.IvySettings" id="77250">settings</a>: <span title="org.apache.ivy.core.settings.IvySettings">IvySettings</span>, <a title="Option[java.io.File]" id="77251">dir</a>: <span title="Option[java.io.File]">Option</span>[File])
	{
		<span class="keyword">val</span> <a title="java.io.File" id="78300">cacheDir</a> = <a href="#77251" title="Option[java.io.File]">dir</a>.<span title="(=&gt; java.io.File)java.io.File">getOrElse</span>(<a href="#77250" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<a title="()java.io.File" id="20632">getDefaultRepositoryCacheBasedir</a>())
		<span class="keyword">val</span> <a title="org.apache.ivy.core.cache.DefaultRepositoryCacheManager" id="78301">manager</a> = <a title="(java.lang.String,org.apache.ivy.core.settings.IvySettings,java.io.File)org.apache.ivy.core.cache.DefaultRepositoryCacheManager" id="78311" class="keyword">new</a> <a title="org.apache.ivy.core.cache.DefaultRepositoryCacheManager" id="19156">DefaultRepositoryCacheManager</a>(<span title="java.lang.String(&quot;default-cache&quot;)" class="string">&quot;default-cache&quot;</span>, <a href="#77250" title="org.apache.ivy.core.settings.IvySettings">settings</a>, <a href="#78300" title="java.io.File">cacheDir</a>)
		<a href="#78301" title="org.apache.ivy.core.cache.DefaultRepositoryCacheManager">manager</a>.<a title="(Boolean)Unit" id="78343">setUseOrigin</a>(<span title="Boolean(true)" class="keyword">true</span>)
		<a href="#78301" title="org.apache.ivy.core.cache.DefaultRepositoryCacheManager">manager</a>.<a title="(java.lang.String)Unit" id="78329">setChangingMatcher</a>(PatternMatcher.<span title="java.lang.String(&quot;regexp&quot;)">REGEXP</span>);
		<a href="#78301" title="org.apache.ivy.core.cache.DefaultRepositoryCacheManager">manager</a>.<a title="(java.lang.String)Unit" id="78331">setChangingPattern</a>(<span title="java.lang.String(&quot;.*-SNAPSHOT&quot;)" class="string">&quot;.*-SNAPSHOT&quot;</span>);
		<a href="#77250" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<a title="(org.apache.ivy.core.cache.RepositoryCacheManager)Unit" id="20790">addRepositoryCacheManager</a>(<a href="#78301" title="org.apache.ivy.core.cache.DefaultRepositoryCacheManager">manager</a>)
		<a href="#77250" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<a title="(org.apache.ivy.core.cache.RepositoryCacheManager)Unit" id="20916">setDefaultRepositoryCacheManager</a>(<a href="#78301" title="org.apache.ivy.core.cache.DefaultRepositoryCacheManager">manager</a>)
		<a href="#77251" title="Option[java.io.File]">dir</a>.<span title="((java.io.File) =&gt; Unit)Unit">foreach</span>(<a title="java.io.File" id="78369">dir</a> =&gt; <a href="#77250" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<a title="(java.lang.String)Unit" id="20631">setDefaultResolutionCacheBasedir</a>(<a href="#78369" title="java.io.File">dir</a>.<a title="()java.lang.String" id="16013">getAbsolutePath</a>))
	}
	<span class="keyword">def</span> <a title="(sbt.Configuration)org.apache.ivy.core.module.descriptor.Configuration" id="23942">toIvyConfiguration</a>(<a title="sbt.Configuration" id="78050">configuration</a>: <a href="IvyInterface.scala.html#11583" title="sbt.Configuration">Configuration</a>) =
	{
		<span class="keyword">import</span> org.apache.ivy.core.module.descriptor.{Configuration =&gt; IvyConfig}
		<span class="keyword">import</span> IvyConfig.Visibility._
		<span class="keyword">import</span> configuration._
		<a title="(java.lang.String,org.apache.ivy.core.module.descriptor.Configuration.Visibility,java.lang.String,Array[java.lang.String],Boolean,java.lang.String)org.apache.ivy.core.module.descriptor.Configuration" id="78039" class="keyword">new</a> <a title="org.apache.ivy.core.module.descriptor.Configuration" id="19273">IvyConfig</a>(<a href="IvyInterface.scala.html#15191" title="=&gt; String">name</a>, <span title="org.apache.ivy.core.module.descriptor.Configuration.Visibility" class="keyword">if</span>(<a href="IvyInterface.scala.html#15195" title="=&gt; Boolean">isPublic</a>) <a title="org.apache.ivy.core.module.descriptor.Configuration.Visibility" id="78055">PUBLIC</a> <span class="keyword">else</span> <a title="org.apache.ivy.core.module.descriptor.Configuration.Visibility" id="78056">PRIVATE</a>, <a href="IvyInterface.scala.html#15193" title="=&gt; String">description</a>, <a href="IvyInterface.scala.html#15197" title="=&gt; List[sbt.Configuration]">extendsConfigs</a>.<a title="((sbt.Configuration) =&gt; String)List[String]" id="17752">map</a>(<a href="#78076" title="sbt.Configuration">_</a>.<a href="IvyInterface.scala.html#15191" title="=&gt; String">name</a>).<span title="Array[String]">toArray</span>, <a href="IvyInterface.scala.html#15199" title="=&gt; Boolean">transitive</a>, <span title="Null(null)" class="keyword">null</span>)
	}
	<span class="comment">/** Adds the ivy.xml main artifact. */</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor)Unit" id="23943">addMainArtifact</a>(<a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="78113">moduleID</a>: <span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">DefaultModuleDescriptor</span>)
	{
		<span class="keyword">val</span> <a title="org.apache.ivy.core.module.descriptor.Artifact" id="78370">artifact</a> = <a title="object org.apache.ivy.core.module.descriptor.DefaultArtifact" id="19259">DefaultArtifact</a>.<a title="(org.apache.ivy.core.module.id.ModuleRevisionId,java.util.Date)org.apache.ivy.core.module.descriptor.Artifact" id="78371">newIvyArtifact</a>(<a href="#78113" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>.<a title="()org.apache.ivy.core.module.id.ModuleRevisionId" id="74228">getResolvedModuleRevisionId</a>, <a href="#78113" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>.<a title="()java.util.Date" id="74217">getPublicationDate</a>)
		<a href="#78113" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>.<a title="(org.apache.ivy.core.module.descriptor.Artifact)Unit" id="74214">setModuleArtifact</a>(<a href="#78370" title="org.apache.ivy.core.module.descriptor.Artifact">artifact</a>)
		<a href="#78113" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>.<a title="()Unit" id="74257">check</a>()
	}
	<span class="comment">/** Converts the given sbt module id into an Ivy ModuleRevisionId.*/</span>
	<span class="keyword">def</span> <a title="(sbt.ModuleID)org.apache.ivy.core.module.id.ModuleRevisionId" id="23944">toID</a>(<a title="sbt.ModuleID" id="77340">m</a>: <a href="IvyInterface.scala.html#11292" title="sbt.ModuleID">ModuleID</a>) =
	{
		<span class="keyword">import</span> m._
		<a title="object org.apache.ivy.core.module.id.ModuleRevisionId" id="19313">ModuleRevisionId</a>.<a title="(java.lang.String,java.lang.String,java.lang.String,java.util.Map[_, _])org.apache.ivy.core.module.id.ModuleRevisionId" id="31134">newInstance</a>(<a href="IvyInterface.scala.html#21893" title="=&gt; String">organization</a>, <a href="IvyInterface.scala.html#21895" title="=&gt; String">name</a>, <a href="IvyInterface.scala.html#21897" title="=&gt; String">revision</a>, <a href="#23947" title="(Map[String,String])java.util.Map[String,String]">javaMap</a>(<a href="IvyInterface.scala.html#21907" title="=&gt; Map[String,String]">extraAttributes</a>))
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(org.apache.ivy.core.module.descriptor.ModuleDescriptor,sbt.Artifact,Iterable[String])org.apache.ivy.core.module.descriptor.MDArtifact" id="23945">toIvyArtifact</a>(<a title="org.apache.ivy.core.module.descriptor.ModuleDescriptor" id="78396">moduleID</a>: <span title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">ModuleDescriptor</span>, <a title="sbt.Artifact" id="78397">a</a>: <a href="IvyInterface.scala.html#7446" title="sbt.Artifact">Artifact</a>, <a title="Iterable[String]" id="78398">configurations</a>: <span title="Iterable[String]">Iterable</span>[String]): <span title="org.apache.ivy.core.module.descriptor.MDArtifact">MDArtifact</span> =
	{
		<span class="keyword">val</span> <a title="org.apache.ivy.core.module.descriptor.MDArtifact" id="78415">artifact</a> = <a title="(org.apache.ivy.core.module.descriptor.ModuleDescriptor,java.lang.String,java.lang.String,java.lang.String,java.net.URL,java.util.Map[_, _])org.apache.ivy.core.module.descriptor.MDArtifact" id="78404" class="keyword">new</a> <span title="org.apache.ivy.core.module.descriptor.MDArtifact">MDArtifact</span>(<a href="#78396" title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">moduleID</a>, <a href="#78397" title="sbt.Artifact">a</a>.<a href="IvyInterface.scala.html#19783" title="=&gt; String">name</a>, <a href="#78397" title="sbt.Artifact">a</a>.<a href="IvyInterface.scala.html#19785" title="=&gt; String">`type`</a>, <a href="#78397" title="sbt.Artifact">a</a>.<a href="IvyInterface.scala.html#19787" title="=&gt; String">extension</a>, <span title="Null(null)" class="keyword">null</span>, <a href="#23946" title="(sbt.Artifact)java.util.Map[String,String]">extra</a>(<a href="#78397" title="sbt.Artifact">a</a>))
		<a href="#78398" title="Iterable[String]">configurations</a>.<span title="((String) =&gt; Unit)Unit">foreach</span>(<a href="#78415" title="org.apache.ivy.core.module.descriptor.MDArtifact">artifact</a>.<a href="#78490" title="(java.lang.String)Unit" id="78412">addConfiguration</a>)
		<a href="#78415" title="org.apache.ivy.core.module.descriptor.MDArtifact">artifact</a>
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Artifact)java.util.Map[String,String]" id="23946">extra</a>(<a title="sbt.Artifact" id="78432">artifact</a>: <a href="IvyInterface.scala.html#7446" title="sbt.Artifact">Artifact</a>) =
	{
		<span class="keyword">val</span> <a title="sbt.Artifact" id="78434">ea</a> = <a href="#78432" title="sbt.Artifact">artifact</a>.<a href="IvyInterface.scala.html#19789" title="=&gt; Option[String]">classifier</a> <span title="sbt.Artifact" class="keyword">match</span> { <span title="sbt.Artifact" class="keyword">case</span> Some(<a title="String" id="78435">c</a>) =&gt; <a href="#78432" title="sbt.Artifact">artifact</a>.<a href="IvyInterface.scala.html#19798" title="((String, String)*)sbt.Artifact">extra</a>(<span title="(java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;e:classifier&quot;</span> <span title="(String)(java.lang.String, String)">-&gt;</span> <a href="#78435" title="String">c</a>); <span title="sbt.Artifact" class="keyword">case</span> <span title="object None">None</span> =&gt; <a href="#78432" title="sbt.Artifact">artifact</a> }
		<a href="#23947" title="(Map[String,String])java.util.Map[String,String]">javaMap</a>(<a href="#78434" title="sbt.Artifact">ea</a>.<a href="IvyInterface.scala.html#19795" title="=&gt; Map[String,String]">extraAttributes</a>)
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(Map[String,String])java.util.Map[String,String]" id="23947">javaMap</a>(<a title="Map[String,String]" id="77356">map</a>: <a title="Map[String,String]" id="21987">Map</a>[String,String]) =
		<span title="java.util.Map[String,String]" class="keyword">if</span>(<a href="#77356" title="Map[String,String]">map</a>.<a title="=&gt; Boolean" id="24230">isEmpty</a>) <span title="Null(null)" class="keyword">null</span>
		<span class="keyword">else</span>
		{
			<span class="keyword">val</span> <a title="&lt;refinement&gt; extends java.lang.Object with scala.collection.jcl.MapWrapper[String,String]" id="77358">wrap</a> = scala.collection.jcl.<a title="(java.util.Map[String,String])java.lang.Object with scala.collection.jcl.MapWrapper[String,String]" id="77396">Map</a>(<span title="()java.util.HashMap[String,String]" class="keyword">new</span> java.util.<span title="java.util.HashMap[String,String]">HashMap</span>[String,String])
			<a href="#77358" title="&lt;refinement&gt; extends java.lang.Object with scala.collection.jcl.MapWrapper[String,String]">wrap</a> <a title="(Iterable[(String, String)])Unit" id="77860">++=</a> <a href="#77356" title="Map[String,String]">map</a>
			<a href="#77358" title="&lt;refinement&gt; extends java.lang.Object with scala.collection.jcl.MapWrapper[String,String]">wrap</a>.<a title="=&gt; java.util.Map[String,String]" id="77854">underlying</a>
		}

	<span class="keyword">private</span> <span class="keyword">object</span> <a title="object sbt.IvySbt.javaMap" id="23948">javaMap</a>
	{
		<span class="keyword">import</span> java.util.{HashMap, Map}
		<span class="keyword">def</span> <a title="[K, V]((K, V)*)java.util.Map[K,V]" id="77348">apply</a>[<a title="&gt;: Nothing &lt;: Any" id="77351">K</a>,<a title="&gt;: Nothing &lt;: Any" id="77352">V</a>](<a title="(K, V)*" id="77353">pairs</a>: <a title="(K, V)*" id="2689">(</a>K,V)*): <span title="java.util.Map[K,V]">Map</span>[K,V] =
		{
			<span class="keyword">val</span> <a title="java.util.HashMap[K,V]" id="78492">map</a> = <span title="()java.util.HashMap[K,V]" class="keyword">new</span> <span title="java.util.HashMap[K,V]">HashMap</span>[K,V]
			<a href="#77353" title="(K, V)*">pairs</a>.<span title="(((K, V)) =&gt; Unit)Unit">foreach</span> <a href="#78499" title="Unit">{</a> <span title="Unit" class="keyword">case</span> (<a title="K" id="78500">key</a>, <a title="V" id="78501">value</a>) =&gt; <a href="#78492" title="java.util.HashMap[K,V]">map</a>.<a title="(K,V)V" id="77949">put</a>(<a href="#78500" title="K">key</a>, <a href="#78501" title="V">value</a>) }
			<a href="#78492" title="java.util.HashMap[K,V]">map</a>
		}
	}
	<span class="comment">/** Creates a full ivy file for 'module' using the 'dependencies' XML as the part after the &amp;lt;info&amp;gt;...&amp;lt;/info&amp;gt; section. */</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.ModuleID,scala.xml.NodeSeq)scala.xml.Elem" id="23950">wrapped</a>(<a title="sbt.ModuleID" id="78097">module</a>: <a href="IvyInterface.scala.html#11292" title="sbt.ModuleID">ModuleID</a>, <a title="scala.xml.NodeSeq" id="78098">dependencies</a>: <span title="scala.xml.NodeSeq">NodeSeq</span>) =
	{
		<span class="keyword">import</span> module._
		&lt;ivy-module version=<a title="scala.xml.Text" id="14311" class="string">&quot;2.0&quot;</a>&gt;
			{ <span title="Any" class="keyword">if</span>(<a href="#23951" title="(scala.xml.NodeSeq)Boolean">hasInfo</a>(<a href="#78098" title="scala.xml.NodeSeq">dependencies</a>))
				<span title="object scala.xml.NodeSeq">NodeSeq</span>.<span title="=&gt; &lt;refinement&gt; extends scala.xml.NodeSeq">Empty</span>
			<span class="keyword">else</span>
				&lt;info organisation={<a href="IvyInterface.scala.html#21893" title="=&gt; String">organization</a>} module={<a href="IvyInterface.scala.html#21895" title="=&gt; String">name</a>} revision={<a href="IvyInterface.scala.html#21897" title="=&gt; String">revision</a>}/&gt;
			}
			{<a href="#78098" title="scala.xml.NodeSeq">dependencies</a>}
			{
				<span class="comment">// this is because Ivy adds a default artifact if none are specified.</span>
				<span title="Any" class="keyword">if</span>(<a href="#78098" title="scala.xml.NodeSeq">dependencies</a> <a title="(String)scala.xml.NodeSeq" id="19728">\\</a> <span title="java.lang.String(&quot;publications&quot;)" class="string">&quot;publications&quot;</span> <span title="=&gt; Boolean">isEmpty</span>) &lt;publications/&gt; <span class="keyword">else</span> <span title="object scala.xml.NodeSeq">NodeSeq</span>.<span title="=&gt; &lt;refinement&gt; extends scala.xml.NodeSeq">Empty</span>
			}
		&lt;/ivy-module&gt;
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(scala.xml.NodeSeq)Boolean" id="23951">hasInfo</a>(<a title="scala.xml.NodeSeq" id="78104">x</a>: scala.xml.<span title="scala.xml.NodeSeq">NodeSeq</span>) = <span title="=&gt; Boolean">!</span>(&lt;g&gt;{<a href="#78104" title="scala.xml.NodeSeq">x</a>}&lt;/g&gt; <a title="(String)scala.xml.NodeSeq" id="19727">\</a> <span title="java.lang.String(&quot;info&quot;)" class="string">&quot;info&quot;</span>).<span title="=&gt; Boolean">isEmpty</span>
	<span class="comment">/** Parses the given in-memory Ivy file 'xml', using the existing 'moduleID' and specifying the given 'defaultConfiguration'. */</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(org.apache.ivy.core.settings.IvySettings,scala.xml.NodeSeq,org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,String,Boolean)sbt.CustomXmlParser.CustomParser" id="23952">parseIvyXML</a>(<a title="org.apache.ivy.core.settings.IvySettings" id="78092">settings</a>: <span title="org.apache.ivy.core.settings.IvySettings">IvySettings</span>, <a title="scala.xml.NodeSeq" id="78093">xml</a>: scala.xml.<span title="scala.xml.NodeSeq">NodeSeq</span>, <a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="78094">moduleID</a>: <span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">DefaultModuleDescriptor</span>, <a title="String" id="78095">defaultConfiguration</a>: <span title="String">String</span>, <a title="Boolean" id="78096">validate</a>: <span title="Boolean">Boolean</span>): CustomXmlParser.<a href="CustomXmlParser.scala.html#76462" title="sbt.CustomXmlParser.CustomParser">CustomParser</a> =
		<a href="#23953" title="(org.apache.ivy.core.settings.IvySettings,String,org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,String,Boolean)sbt.CustomXmlParser.CustomParser">parseIvyXML</a>(<a href="#78092" title="org.apache.ivy.core.settings.IvySettings">settings</a>,  <a href="#78093" title="scala.xml.NodeSeq">xml</a>.<a title="()String" id="19729">toString</a>, <a href="#78094" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>, <a href="#78095" title="String">defaultConfiguration</a>, <a href="#78096" title="Boolean">validate</a>)
	<span class="comment">/** Parses the given in-memory Ivy file 'xml', using the existing 'moduleID' and specifying the given 'defaultConfiguration'. */</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(org.apache.ivy.core.settings.IvySettings,String,org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,String,Boolean)sbt.CustomXmlParser.CustomParser" id="23953">parseIvyXML</a>(<a title="org.apache.ivy.core.settings.IvySettings" id="78087">settings</a>: <span title="org.apache.ivy.core.settings.IvySettings">IvySettings</span>, <a title="String" id="78088">xml</a>: <span title="String">String</span>, <a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="78089">moduleID</a>: <span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">DefaultModuleDescriptor</span>, <a title="String" id="78090">defaultConfiguration</a>: <span title="String">String</span>, <a title="Boolean" id="78091">validate</a>: <span title="Boolean">Boolean</span>): CustomXmlParser.<a href="CustomXmlParser.scala.html#76462" title="sbt.CustomXmlParser.CustomParser">CustomParser</a> =
	{
		<span class="keyword">val</span> <a title="sbt.CustomXmlParser.CustomParser" id="78503">parser</a> = <span title="sbt.CustomXmlParser.CustomParser" class="keyword">new</span> <a href="CustomXmlParser.scala.html#11689" title="object sbt.CustomXmlParser">CustomXmlParser</a>.<a href="CustomXmlParser.scala.html#76462" title="sbt.CustomXmlParser.CustomParser">CustomParser</a>(<a href="#78087" title="org.apache.ivy.core.settings.IvySettings">settings</a>, <a title="(String)Some[String]" id="286">Some</a>(<a href="#78090" title="String">defaultConfiguration</a>))
		<a href="#78503" title="sbt.CustomXmlParser.CustomParser">parser</a>.<a href="CustomXmlParser.scala.html#76600" title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor)Unit">setMd</a>(<a href="#78089" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>)
		<a href="#78503" title="sbt.CustomXmlParser.CustomParser">parser</a>.<span title="(Boolean)Unit">setValidate</span>(<a href="#78091" title="Boolean">validate</a>)
		<a href="#78503" title="sbt.CustomXmlParser.CustomParser">parser</a>.<a href="CustomXmlParser.scala.html#76598" title="(Array[Byte])Unit">setInput</a>(<a href="#78088" title="String">xml</a>.<a title="()Array[Byte]" id="5776">getBytes</a>)
		<a href="#78503" title="sbt.CustomXmlParser.CustomParser">parser</a>.<span title="()Unit">parse</span>()
		<a href="#78503" title="sbt.CustomXmlParser.CustomParser">parser</a>
	}

	<span class="comment">/** This method is used to add inline dependencies to the provided module. */</span>
	<span class="keyword">def</span> <a title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,Iterable[sbt.ModuleID],sbt.CustomXmlParser.CustomParser)Unit" id="23954">addDependencies</a>(<a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="76709">moduleID</a>: <span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">DefaultModuleDescriptor</span>, <a title="Iterable[sbt.ModuleID]" id="76710">dependencies</a>: <span title="Iterable[sbt.ModuleID]">Iterable</span>[ModuleID], <a title="sbt.CustomXmlParser.CustomParser" id="76711">parser</a>: CustomXmlParser.<a href="CustomXmlParser.scala.html#76462" title="sbt.CustomXmlParser.CustomParser">CustomParser</a>)
	{
		<span class="keyword">for</span>(<a title="((sbt.ModuleID) =&gt; Unit)Unit" id="78509">dependency</a> &lt;- <a href="#76710" title="Iterable[sbt.ModuleID]">dependencies</a>)
		{
			<span class="keyword">val</span> <a title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor" id="78510">dependencyDescriptor</a> = <span title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor" class="keyword">new</span> <a title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor" id="19237">DefaultDependencyDescriptor</a>(<a href="#76709" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>, <a href="#23944" title="(sbt.ModuleID)org.apache.ivy.core.module.id.ModuleRevisionId">toID</a>(<a href="#78509" title="sbt.ModuleID">dependency</a>), <span title="Boolean(false)" class="keyword">false</span>, <a href="#78509" title="sbt.ModuleID">dependency</a>.<a href="IvyInterface.scala.html#21901" title="=&gt; Boolean">isChanging</a>, <a href="#78509" title="sbt.ModuleID">dependency</a>.<a href="IvyInterface.scala.html#21903" title="=&gt; Boolean">isTransitive</a>)
			<a href="#78509" title="sbt.ModuleID">dependency</a>.<a href="IvyInterface.scala.html#21899" title="=&gt; Option[String]">configurations</a> <span title="Unit" class="keyword">match</span>
			{
				<span title="Unit" class="keyword">case</span> <span title="object None">None</span> =&gt; <span class="comment">// The configuration for this dependency was not explicitly specified, so use the default</span>
					<a href="#76711" title="sbt.CustomXmlParser.CustomParser">parser</a>.<a href="CustomXmlParser.scala.html#76601" title="(String,org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor)Unit">parseDepsConfs</a>(<a href="#76711" title="sbt.CustomXmlParser.CustomParser">parser</a>.<a href="CustomXmlParser.scala.html#76602" title="()String">getDefaultConf</a>, <a href="#78510" title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor">dependencyDescriptor</a>)
				<span title="Unit" class="keyword">case</span> Some(<a title="String" id="78570">confs</a>) =&gt; <span class="comment">// The configuration mapping (looks like: test-&gt;default) was specified for this dependency</span>
					<a href="#76711" title="sbt.CustomXmlParser.CustomParser">parser</a>.<a href="CustomXmlParser.scala.html#76601" title="(String,org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor)Unit">parseDepsConfs</a>(<a href="#78570" title="String">confs</a>, <a href="#78510" title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor">dependencyDescriptor</a>)
			}
			<span class="keyword">for</span>(<a title="((sbt.Artifact) =&gt; Unit)Unit" id="78573">artifact</a> &lt;- <a href="#78509" title="sbt.ModuleID">dependency</a>.<a href="IvyInterface.scala.html#21905" title="=&gt; Seq[sbt.Artifact]">explicitArtifacts</a>)
			{
				<span class="keyword">import</span> artifact.{name, classifier, `type`, extension, url}
				<span class="keyword">val</span> <a title="java.util.Map[String,String]" id="78575">extraMap</a> = <a href="#23946" title="(sbt.Artifact)java.util.Map[String,String]">extra</a>(<a href="#78573" title="sbt.Artifact">artifact</a>)
				<span class="keyword">val</span> <a title="org.apache.ivy.core.module.descriptor.DefaultDependencyArtifactDescriptor" id="78576">ivyArtifact</a> = <span title="org.apache.ivy.core.module.descriptor.DefaultDependencyArtifactDescriptor" class="keyword">new</span> <a title="org.apache.ivy.core.module.descriptor.DefaultDependencyArtifactDescriptor" id="19294">DefaultDependencyArtifactDescriptor</a>(<a href="#78510" title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor">dependencyDescriptor</a>, <a href="IvyInterface.scala.html#19783" title="=&gt; String">name</a>, <a href="IvyInterface.scala.html#19785" title="=&gt; String">`type`</a>, <a href="IvyInterface.scala.html#19787" title="=&gt; String">extension</a>, <a href="IvyInterface.scala.html#19793" title="=&gt; Option[java.net.URL]">url</a>.<span title="(=&gt; java.net.URL)java.net.URL">getOrElse</span>(<span title="Null(null)" class="keyword">null</span>), <a href="#78575" title="java.util.Map[String,String]">extraMap</a>)
				<span class="keyword">for</span>(<a title="((java.lang.String) =&gt; Unit)Unit" id="78599">conf</a> &lt;- <a href="#78510" title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor">dependencyDescriptor</a>.<a title="()Array[java.lang.String]" id="78520">getModuleConfigurations</a>)
					<a href="#78510" title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor">dependencyDescriptor</a>.<a title="(java.lang.String,org.apache.ivy.core.module.descriptor.DependencyArtifactDescriptor)Unit" id="78537">addDependencyArtifact</a>(<a href="#78599" title="java.lang.String">conf</a>, <a href="#78576" title="org.apache.ivy.core.module.descriptor.DefaultDependencyArtifactDescriptor">ivyArtifact</a>)
			}
			<a href="#76709" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>.<a title="(org.apache.ivy.core.module.descriptor.DependencyDescriptor)Unit" id="74224">addDependency</a>(<a href="#78510" title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor">dependencyDescriptor</a>)
		}
	}
	<span class="comment">/** This method is used to add inline artifacts to the provided module. */</span>
	<span class="keyword">def</span> <a title="(org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor,Iterable[sbt.Artifact])Unit" id="23955">addArtifacts</a>(<a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="78082">moduleID</a>: <span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">DefaultModuleDescriptor</span>, <a title="Iterable[sbt.Artifact]" id="78083">artifacts</a>: <span title="Iterable[sbt.Artifact]">Iterable</span>[Artifact])
	{
		<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Array[java.lang.String]" id="78601">allConfigurations</a> = <a href="#78082" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>.<a title="()Array[java.lang.String]" id="74232">getPublicConfigurationsNames</a>
		<span class="keyword">for</span>(<a title="((sbt.Artifact) =&gt; Unit)Unit" id="78603">artifact</a> &lt;- <a href="#78083" title="Iterable[sbt.Artifact]">artifacts</a>)
		{
			<span class="keyword">val</span> <a title="Iterable[String]" id="78604">configurationStrings</a> =
			{
				<span class="keyword">val</span> <a title="Iterable[sbt.Configuration]" id="78606">artifactConfigurations</a> = <a href="#78603" title="sbt.Artifact">artifact</a>.<a href="IvyInterface.scala.html#19791" title="=&gt; Iterable[sbt.Configuration]">configurations</a>
				<span title="Iterable[String]" class="keyword">if</span>(<a href="#78606" title="Iterable[sbt.Configuration]">artifactConfigurations</a>.<a title="=&gt; Boolean" id="16104">isEmpty</a>)
					<a href="#78600" title="=&gt; Array[java.lang.String]">allConfigurations</a>
				<span class="keyword">else</span>
					<a href="#78606" title="Iterable[sbt.Configuration]">artifactConfigurations</a>.<span title="((sbt.Configuration) =&gt; String)Iterable[String]">map</span>(<a href="#78609" title="sbt.Configuration">_</a>.<a href="IvyInterface.scala.html#15191" title="=&gt; String">name</a>)
			}
			<span class="keyword">val</span> <a title="org.apache.ivy.core.module.descriptor.MDArtifact" id="78605">ivyArtifact</a> = <a href="#23945" title="(org.apache.ivy.core.module.descriptor.ModuleDescriptor,sbt.Artifact,Iterable[String])org.apache.ivy.core.module.descriptor.MDArtifact">toIvyArtifact</a>(<a href="#78082" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>, <a href="#78603" title="sbt.Artifact">artifact</a>, <a href="#78604" title="Iterable[String]">configurationStrings</a>)
			<a href="#78604" title="Iterable[String]">configurationStrings</a>.<span title="((String) =&gt; Unit)Unit">foreach</span>(<a title="String" id="78611">configuration</a> =&gt; <a href="#78082" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>.<a title="(java.lang.String,org.apache.ivy.core.module.descriptor.Artifact)Unit" id="74226">addArtifact</a>(<a href="#78611" title="String">configuration</a>, <a href="#78605" title="org.apache.ivy.core.module.descriptor.MDArtifact">ivyArtifact</a>))
		}
	}
	<span class="comment">/** This code converts the given ModuleDescriptor to a DefaultModuleDescriptor by casting or generating an error.
	* Ivy 2.0.0 always produces a DefaultModuleDescriptor. */</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(org.apache.ivy.core.module.descriptor.ModuleDescriptor)org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="23956">toDefaultModuleDescriptor</a>(<a title="org.apache.ivy.core.module.descriptor.ModuleDescriptor" id="78149">md</a>: <span title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">ModuleDescriptor</span>) =
		<a href="#78149" title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">md</a> <span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" class="keyword">match</span>
		{
			<span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" class="keyword">case</span> <a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="78151">dmd</a>: <span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">DefaultModuleDescriptor</span> =&gt; <a href="#78151" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">dmd</a>
			<span title="Nothing" class="keyword">case</span> _ =&gt; <a title="(String)Nothing" id="6085">error</a>(<span title="java.lang.String(&quot;Unknown ModuleDescriptor type.&quot;)" class="string">&quot;Unknown ModuleDescriptor type.&quot;</span>)
		}
	<span class="keyword">def</span> <a title="(org.apache.ivy.core.module.descriptor.ModuleDescriptor,Option[Iterable[sbt.Configuration]])Array[String]" id="23957">getConfigurations</a>(<a title="org.apache.ivy.core.module.descriptor.ModuleDescriptor" id="57880">module</a>: <span title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">ModuleDescriptor</span>, <a title="Option[Iterable[sbt.Configuration]]" id="57881">configurations</a>: <span title="Option[Iterable[sbt.Configuration]]">Option</span>[Iterable[Configuration]]) =
		<a href="#57881" title="Option[Iterable[sbt.Configuration]]">configurations</a> <span title="Array[String]" class="keyword">match</span>
		{
			<span title="Array[String]" class="keyword">case</span> Some(<a title="Iterable[sbt.Configuration]" id="57883">confs</a>) =&gt; <a href="#57883" title="Iterable[sbt.Configuration]">confs</a>.<span title="((sbt.Configuration) =&gt; String)Iterable[String]">map</span>(<a href="#57886" title="sbt.Configuration">_</a>.<a href="IvyInterface.scala.html#15191" title="=&gt; String">name</a>).<a title="=&gt; List[String]" id="16093">toList</a>.<span title="Array[String]">toArray</span>
			<span title="Array[java.lang.String]" class="keyword">case</span> <span title="object None">None</span> =&gt; <a href="#57880" title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">module</a>.<a title="()Array[java.lang.String]" id="56888">getPublicConfigurationsNames</a>
		}
}

        </pre>
    </body>
</html>